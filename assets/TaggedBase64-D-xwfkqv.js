var l=Object.defineProperty;var T=(r,e,s)=>e in r?l(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s;var n=(r,e,s)=>T(r,typeof e!="symbol"?e+"":e,s);import{B,T as d,a as f,b as v,c as w,s as h,r as C,e as S,I as u}from"./string-BI8AIx1I.js";import{r as o}from"./base64-r9vyOGQT.js";const t="InvalidTaggedBase64EncodingError";class c extends B{constructor(e="invalid tagged base64 encoding"){super(e),Object.freeze(this)}toJSON(){return g.encode(this)}get code(){return t}}class I{convert(e){return v(e,"code","message"),w(e,t),new c(h.decode(e.message))}}class m extends f{}class x extends d{constructor(){super(...arguments);n(this,"encoder",new m);n(this,"decoder",new I)}}const g=new x;C(t,g);class a{constructor(e,s){n(this,"tag");n(this,"data");this.tag=e,this.data=s}static fromString(e){const s=e.indexOf("~");if(s<0)throw new c;const i=e.substring(0,s),E=o.decodeString(e.substring(s+1));return new a(i,E)}static inflate(e){return k.decode(e)}toString(){return`${this.tag}~${o.encodeToString(this.data)}`}valueOf(){return this.toString()}toJSON(){return this.toString()}}class O{convert(e){if(typeof e!="string")throw new u(typeof e,"string");return a.fromString(e)}}class b{convert(e){return S(e,a),e.toString()}}class y extends d{constructor(){super(...arguments);n(this,"encoder",new b);n(this,"decoder",new O)}}const k=new y;export{a as T,k as t};
