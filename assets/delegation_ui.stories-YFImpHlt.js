import{R as a,j as n,r as Xa}from"./iframe-Bhigqh8S.js";import{P as Za}from"./NowProvider-CMOF9EXi.js";import{E as eo,b as to}from"./environment_banner-BMJpZ0gy.js";import{j as no,i as ro,k as ao,l as oo,m as so,n as co,o as io}from"./controls-CHN_nkKw.js";import{E as Ct,b as Zr,c as Ve,L as vt,M as lo,d as po,D as _r,U as We,C as yr,a as uo}from"./storybook-DzrI9HLW.js";import{t as ea,W as ho,o as mo,N as qr,A as xo,P as fo}from"./CappuccinoHotShotQueryServiceAPIContext-z3CRU5sO.js";import{B as _o}from"./explorer-1XIwhAax.js";import{U as C}from"./UnimplementedError-CdIPpzwU.js";import{g as yo}from"./blocks-B5Evp4fz.js";import{c as go,n as ta,P as Co}from"./nodes-D4QSeByf.js";import{T as p,b as m,A as G,j as V,k as ne,I as P,q as E,s as ge,w as Hr,x as zr,n as na}from"./string-IJEBdhwx.js";import{s as u,h as f}from"./array_buffer-DztdsvYf.js";import{b as x}from"./url-Bph6d-ow.js";import"./MissingElementError-CbV3pOXz.js";import{n as U}from"./base64-KHURY7_E.js";import{m as K,z as vo,p as Vt,k as ra,o as W,q as gr,n as aa,s as Cr,e as oa}from"./functional-BycAVInn.js";import{w as So,D as Y,n as xe,F as vr}from"./LoadingProvider-B-tzpZix.js";import"./validator-BwV33gzp.js";import{t as sa,T as ca}from"./TaggedBase64-S1MhFE0d.js";import{b as St,d as No}from"./assert-BI051aL8.js";import{I as jo,M as _}from"./monetary_value-B0ntaWrJ.js";import{A as Sr}from"./AsyncIterableResolver-Drp_8Lne.js";import{a as g,A as z,b,P as Bt}from"./ProvideAsyncStates-rGLaA633.js";import"./PromiseBuilder-DBhvwdix.js";import{P as X}from"./PromiseResolver-BA9nuFbk.js";import"./DataTable-D-EAj6Hm.js";import{E as ia}from"./espresso-D9EvGB06.js";import{an as wo,aB as ko,ao as bo,aC as Ao,aD as Io,aE as Do,aq as q,as as Nr}from"./en_US-RFN65H63-szNA4Hk0.js";import{C as Po}from"./DateTimeFormattersProvider-hijkch1q.js";import"./LocaleProvider-XFyG3k3y.js";import"./PagePathProvider-sdmImp7U.js";import"./NumberFormattersProvider-DqfQyzSW.js";import"./PathResolverProvider-R7WzYCMy.js";import{E as Oo}from"./EspressoLogoAndTitle-oMmK3Tt6.js";import{T as c}from"./Text-BU7JBOLk.js";import{W as Nt}from"./WalletAddressText-Bel6Rs4n.js";import{a as k}from"./higher_order-DB2rAW4M.js";import{S as jt}from"./SVGIconBase-Y-9iG5mL.js";import{W as wt}from"./wallet_address-DEP7Q9_r.js";import{M as w}from"./MoneyText-CReqHNNB.js";import{P as A}from"./VariableByteSizeText-CKibkEjN.js";import{N as la}from"./NumberText-CTdlrJn9.js";import{s as jr}from"./sleep-CW-vxfof.js";import{M as Ro}from"./Close-BcFolq0b.js";import{E as da}from"./esp_input-BTQwiuSW.js";import"./ByteSizeText-RiDAp87x.js";import"./CopyHex-gsm-pOSF.js";import"./DateTimeText-CRkEG6_p.js";import"./FullHexText-DTOMpgFU.js";import"./HexText-CPnBrQZF.js";import"./RelativeTimeSinceDateText-DDGcNfVF.js";import"./TaggedBase64Text-mzxNz82B.js";import"./TimeText-Dk0sBoae.js";import"./preload-helper-PPVm8Dsz.js";import"./typography-B0Jwoebx.js";import"./FetchError-DX6me_FL.js";import"./NotFoundError-DPKbBn2w.js";import"./data-Cpeha0UW.js";import"./CircularProgressIndicator-CC8Z4tQL.js";import"./ErrorDisplay-D0J7WMhm.js";import"./ChevronUp-DWcYHkre.js";import"./index-6rOjFIl9.js";import"./index-DRqb6u-H.js";/* empty css               */import"./CopyButton-DjWzfThD.js";import"./CheckCircleFilled-DhX0c1R4.js";import"./Copy-DO7KMn7a.js";import"./text-CpPVhMHK.js";function Eo(e,t={}){return{async queryFn({queryKey:r}){const o=t.abi;if(!o)throw new Error("abi is required");const{functionName:s,scopeKey:l,...i}=r[1],d=(()=>{const y=r[1];if(y.address)return{address:y.address};if(y.code)return{code:y.code};throw new Error("address or code is required")})();if(!s)throw new Error("functionName is required");return wo(e,{abi:o,functionName:s,args:i.args,...d,...i})},queryKey:Bo(t)}}function Bo(e={}){const{abi:t,...r}=e;return["readContract",ko(r)]}function To(e={}){const{abi:t,address:r,functionName:o,query:s={}}=e,l=e.code,i=bo(e),d=Ao({config:i}),y=Eo(i,{...e,chainId:e.chainId??d}),D=!!((r||l)&&t&&o&&(s.enabled??!0));return Io({...s,...y,enabled:D,structuralSharing:s.structuralSharing??Do})}class pa{constructor(t,r,o){this.number=t,this.hash=r,this.parent=o,Object.freeze(this)}toJSON(){return Wt.encode(this)}}class Vo{convert(t){return m(t,"number","hash","parent"),new pa(x.decode(t.number),u.decode(t.hash),u.decode(t.parent))}}class Wo{convert(t){return{number:x.encode(t.number),hash:u.encode(t.hash),parent:u.encode(t.parent)}}}class Jo extends p{encoder=new Wo;decoder=new Vo}const Wt=new Jo,Mo=1000000000n,Lo=12n;class Fo{async getBlockForHeight(t){const r=new ArrayBuffer(32);new DataView(r).setBigUint64(24,BigInt(t),!1);const s=new ArrayBuffer(32);return new DataView(s).setBigUint64(24,t-1n,!1),new pa(BigInt(t),r,s)}async getLatestBlock(){const t=BigInt(Math.floor(go()/1e3)),o=(BigInt(Math.floor(Date.now()/1e3))-t)/Lo,s=Mo+o;return this.getBlockForHeight(s)}}class oe{constructor(t){this.ratio=t,Object.freeze(this)}valueOf(){return this.ratio}toString(){return this.ratio.toString()}toJSON(){return J.encode(this)}}class Uo{convert(t){return U.encode(t.ratio)}}class qo{convert(t){return new oe(U.decode(t))}}class Ho extends p{encoder=new Uo;decoder=new qo}const J=new Ho;class ua{constructor(t,r,o){this.address=t,this.voterParticipation=r,this.leaderParticipation=o,Object.freeze(this)}toJSON(){return Jt.encode(this)}}class zo{convert(t){return m(t,"address","voter_participation","leader_participation"),new ua(u.decode(t.address),J.decode(t.voter_participation),J.decode(t.leader_participation))}}class Ko{convert(t){return{address:u.encode(t.address),voter_participation:J.encode(t.voterParticipation),leader_participation:J.encode(t.leaderParticipation)}}}class $o extends p{encoder=new Ko;decoder=new zo}const Jt=new $o,kt=new G(new V(Jt),new ne(Jt));class wr{constructor(t,r,o){this.epoch=t,this.block=r,this.timestamp=o,Object.freeze(this)}toJSON(){return re.encode(this)}}class Qo{convert(t){return m(t,"epoch","block","timestamp"),new wr(x.decode(t.epoch),x.decode(t.block),new Date(U.decode(t.timestamp)))}}class Go{convert(t){return{epoch:x.encode(t.epoch),block:x.encode(t.block),timestamp:U.encode(t.timestamp.getTime())}}}class Yo extends p{encoder=new Go;decoder=new Qo}const re=new Yo;class ha{constructor(t,r){this.espressoBlock=t,this.nodes=r,Object.freeze(this)}toJSON(){return ma.encode(this)}}class Xo{convert(t){return m(t,"espresso_block","nodes"),new ha(re.decode(t.espresso_block),kt.decode(t.nodes))}}class Zo{convert(t){return{espresso_block:re.encode(t.espressoBlock),nodes:kt.encode(t.nodes)}}}class es extends p{encoder=new Zo;decoder=new Xo}const ma=new es;class ts{async active(){const t=await So(yo()),r=ta.slice().sort((s,l)=>Number(l.stake-s.stake)).slice(0,100),o=new Co(t.genTime);return new ha(new wr(BigInt(Math.floor(t.height/100)),BigInt(t.height),new Date(t.time)),Array.from(K(r,s=>new ua(s.address,new oe(o.nextFloat()),new oe(o.nextFloat())))))}async updatesSince(){throw new C}}class Ce{constructor(t,r,o){this.number=t,this.hash=r,this.timestamp=o,Object.freeze(this)}toJSON(){return H.encode(this)}}class ns{convert(t){return m(t,"number","hash","timestamp"),new Ce(x.decode(t.number),u.decode(t.hash),new Date(U.decode(t.timestamp)))}}class rs{convert(t){return{number:x.encode(t.number),hash:u.encode(t.hash),timestamp:U.encode(t.timestamp.valueOf())}}}class as extends p{encoder=new rs;decoder=new ns}const H=new as;class bt{constructor(t,r,o,s){this.address=t,this.stakingKey=r,this.stake=o,this.commission=s,Object.freeze(this)}toJSON(){return ve.encode(this)}}class os{convert(t){return m(t,"address","staking_key","stake","commission"),new bt(u.decode(t.address),sa.decode(t.staking_key),x.decode(t.stake),J.decode(t.commission))}}class ss{convert(t){return{address:u.encode(t.address),staking_key:sa.encode(t.stakingKey),stake:x.encode(t.stake),commission:J.encode(t.commission)}}}class cs extends p{encoder=new ss;decoder=new os}const ve=new cs,xa=new G(new V(ve),new ne(ve));class At{constructor(t,r=[]){this.l1Block=t,this.nodes=r,Object.freeze(this)}toJSON(){return fa.encode(this)}}class is{convert(t){return m(t,"l1_block","nodes"),new At(H.decode(t.l1_block),xa.decode(t.nodes))}}class ls{convert(t){return{l1_block:H.encode(t.l1Block),nodes:xa.encode(t.nodes)}}}class ds extends p{encoder=new ls;decoder=new is}const fa=new ds;class ps{async snapshot(){return new At(new Ce(BigInt(1),new ArrayBuffer(32),new Date),Array.from(K(ta,t=>new bt(t.address,t.stateVerKey,t.stake,new oe(t.commission/1e4)))))}async updatesSince(){throw new C}}class rt{constructor(t,r,o,s){this.delegator=t,this.node=r,this.amount=o,this.effective=s,Object.freeze(this)}toJSON(){return Se.encode(this)}}class us{convert(t){return{delegator:u.encode(t.delegator),node:u.encode(t.node),amount:x.encode(t.amount),effective:re.encode(t.effective)}}}class hs{convert(t){return m(t,"delegator","node","amount","effective"),new rt(u.decode(t.delegator),u.decode(t.node),x.decode(t.amount),re.decode(t.effective))}}class ms extends p{encoder=new us;decoder=new hs}const Se=new ms,_a=new G(new V(Se),new V(Se));class at{constructor(t,r,o,s){this.delegator=t,this.node=r,this.amount=o,this.availableTime=s,Object.freeze(this)}toJSON(){return Z.encode(this)}}class xs{convert(t){return{delegator:u.encode(t.delegator),node:u.encode(t.node),amount:x.encode(t.amount),available_time:U.encode(t.availableTime.valueOf())}}}class fs{convert(t){return m(t,"delegator","node","amount","available_time"),new at(u.decode(t.delegator),u.decode(t.node),x.decode(t.amount),new Date(U.decode(t.available_time)))}}class _s extends p{encoder=new xs;decoder=new fs}const Z=new _s,ot=new G(new V(Z),new ne(Z));class It{constructor(t,r,o,s,l){this.nodes=t,this.pendingUndelegations=r,this.pendingExits=o,this.claimedRewards=s,this.l1Block=l,Object.freeze(this)}toJSON(){return ya.encode(this)}}class ys{convert(t){return m(t,"nodes","pending_undelegations","pending_exits","claimed_rewards","l1_block"),new It(_a.decode(t.nodes),ot.decode(t.pending_undelegations),ot.decode(t.pending_exits),x.decode(t.claimed_rewards),H.decode(t.l1_block))}}class gs{convert(t){return{nodes:_a.encode(t.nodes),pending_undelegations:ot.encode(t.pendingUndelegations),pending_exits:ot.encode(t.pendingExits),claimed_rewards:x.encode(t.claimedRewards),l1_block:H.encode(t.l1Block)}}}class Cs extends p{encoder=new gs;decoder=new ys}const ya=new Cs;class fe{}class ga extends fe{constructor(t){super(),this.claimedRewards=t,Object.freeze(this)}toJSON(){return kr.encode(this)}}class vs{convert(t){return new ga(x.decode(t))}}class Ss{convert(t){return x.encode(t.claimedRewards)}}class Ns extends p{encoder=new Ss;decoder=new vs}const Qe="ClaimedRewards",kr=new Ns;class Ca extends fe{constructor(t){super(),this.delegation=t,Object.freeze(this)}toJSON(){return br.encode(this)}}class js{convert(t){return new Ca(Se.decode(t))}}class ws{convert(t){return Se.encode(t.delegation)}}class ks extends p{encoder=new ws;decoder=new js}const Ge="DelegatedToNode",br=new ks;class bs{constructor(t,r,o){this.delegator=t,this.node=r,this.amount=o,Object.freeze(this)}toJSON(){return Je.encode(this)}}class As{convert(t){return{delegator:u.encode(t.delegator),node:u.encode(t.node),amount:x.encode(t.amount)}}}class Is{convert(t){return m(t,"delegator","node","amount"),new bs(u.decode(t.delegator),u.decode(t.node),x.decode(t.amount))}}class Ds extends p{encoder=new As;decoder=new Is}const Je=new Ds;class va extends fe{constructor(t){super(),this.withdrawal=t,Object.freeze(this)}toJSON(){return Ar.encode(this)}}class Ps{convert(t){return new va(Je.decode(t))}}class Os{convert(t){return Je.encode(t.withdrawal)}}class Rs extends p{encoder=new Os;decoder=new Ps}const Ye="NodeExitWithdrawal",Ar=new Rs;class Sa extends fe{constructor(t){super(),this.pendingWithdrawal=t,Object.freeze(this)}toJSON(){return Ir.encode(this)}}class Es{convert(t){return new Sa(Z.decode(t))}}class Bs{convert(t){return Z.encode(t.pendingWithdrawal)}}class Ts extends p{encoder=new Bs;decoder=new Es}const Xe="NodeExited",Ir=new Ts;class Na extends fe{constructor(t){super(),this.pendingWithdrawal=t,Object.freeze(this)}toJSON(){return Dr.encode(this)}}class Vs{convert(t){return new Na(Z.decode(t))}}class Ws{convert(t){return Z.encode(t.pendingWithdrawal)}}class Js extends p{encoder=new Ws;decoder=new Vs}const Ze="UndelegatedFromNode",Dr=new Js;class ja extends fe{constructor(t){super(),this.withdrawal=t,Object.freeze(this)}toJSON(){return Pr.encode(this)}}class Ms{convert(t){return new ja(Je.decode(t))}}class Ls{convert(t){return Je.encode(t.withdrawal)}}class Fs extends p{encoder=new Ls;decoder=new Ms}const et="UndelegationWithdrawal",Pr=new Fs;class Us{convert(t){if(m(t),E(t,Qe))return kr.decode(t[Qe]);if(E(t,Ge))return br.decode(t[Ge]);if(E(t,Ye))return Ar.decode(t[Ye]);if(E(t,Xe))return Ir.decode(t[Xe]);if(E(t,Ze))return Dr.decode(t[Ze]);if(E(t,et))return Pr.decode(t[et]);const r=Object.keys(t);if(r.length<=0)throw new P("Empty WalletDiff object","object");const[o]=r;throw new P(o,`${Qe} | ${Ge} | ${Ye} | ${Xe} | ${Ze} | ${et}`)}}class qs{convert(t){if(t instanceof ga)return{[Qe]:kr.encode(t)};if(t instanceof Ca)return{[Ge]:br.encode(t)};if(t instanceof va)return{[Ye]:Ar.encode(t)};if(t instanceof Sa)return{[Xe]:Ir.encode(t)};if(t instanceof Na)return{[Ze]:Dr.encode(t)};if(t instanceof ja)return{[et]:Pr.encode(t)};throw new P("Unrecognized EspressoMessage type","Valid EspressoMessage Type")}}class Hs extends p{encoder=new qs;decoder=new Us}const Kr=new Hs,wa=new G(new V(Kr),new ne(Kr));class ka{constructor(t,r){this.l1Block=t,this.diff=r,Object.freeze(this)}toJSON(){return ba.encode(this)}}class zs{convert(t){return m(t,"l1_block","diff"),new ka(H.decode(t.l1_block),wa.decode(t.diff))}}class Ks{convert(t){return{l1_block:H.encode(t.l1Block),diff:wa.encode(t.diff)}}}class $s extends p{encoder=new Ks;decoder=new zs}const ba=new $s;class Qs{async snapshot(){return new It([],[],[],0n,new Ce(0n,new ArrayBuffer(0),new Date(0)))}async updates(){return new ka(new Ce(0n,new ArrayBuffer(0),new Date(0)),[])}}class Gs{l1Block=new Fo;validatorsAll=new ps;validatorsActive=new ts;wallet=new Qs;async setURL(){throw new C}}class Ys{async getBlockForHeight(){throw new C}async getLatestBlock(){throw new C}}class Xs{async active(){throw new C}async updatesSince(){throw new C}}class Zs{async snapshot(){throw new C}async updatesSince(){throw new C}}class ec{async snapshot(){throw new C}async updates(){throw new C}}class tc{l1Block=new Ys;validatorsAll=new Zs;validatorsActive=new Xs;wallet=new ec;async setURL(){throw new C}}class nc{helper;constructor(t){this.helper=t}async sendRequest(t,r,...o){return this.helper.submitRequest(t,"l1Block",r,o)}async getBlockForHeight(t){return await this.sendRequest(Wt,"getBlockForHeight",x.encode(t))}async getLatestBlock(){return await this.sendRequest(Wt,"getLatestBlock")}}function rc(e){return new Worker(""+new URL("l1_validator_service_web_worker_api.js-26vCHAKF.js",import.meta.url).href,{name:e?.name})}class ac{constructor(t,r){this.address=t,this.ratio=r,Object.freeze(this)}toJSON(){return Mt.encode(this)}}class oc{convert(t){return m(t,"address","percentage"),new ac(u.decode(t.address),J.decode(t.percentage))}}class sc{convert(t){return{address:u.encode(t.address),percentage:J.encode(t.ratio)}}}class cc extends p{encoder=new sc;decoder=new oc}const Mt=new cc,Aa=new G(new V(Mt),new ne(Mt));class Ia{}class Da extends Ia{constructor(t,r){super(),this.leaders=t,this.voters=r,Object.freeze(this)}toJSON(){return Or.encode(this)}}class ic{convert(t){return m(t,"leaders","voters"),new Da(Aa.decode(t.leaders),ea.decode(t.voters))}}class lc{convert(t){return{leaders:Aa.encode(t.leaders),voters:ea.encode(t.voters)}}}class dc extends p{encoder=new lc;decoder=new ic}const tt="NewBlock",Or=new dc;class Pa extends Ia{constructor(t){super(),this.entries=t,Object.freeze(this)}toJSON(){return Rr.encode(this)}}class pc{convert(t){return new Pa(kt.decode(t))}}class uc{convert(t){return kt.encode(t.entries)}}class hc extends p{encoder=new uc;decoder=new pc}const nt="NewEpoch",Rr=new hc;class mc{convert(t){if(m(t),E(t,nt))return Rr.decode(t[nt]);if(E(t,tt))return Or.decode(t[tt]);const r=Object.keys(t);if(r.length<=0)throw new P("Empty EspressoMessage object","object");const[o]=r;throw new P(o,`${nt} | ${tt}`)}}class xc{convert(t){if(t instanceof Pa)return{[nt]:Rr.encode(t)};if(t instanceof Da)return{[tt]:Or.encode(t)};throw new P("Unrecognized EspressoMessage type","Valid EspressoMessage Type")}}class fc extends p{encoder=new xc;decoder=new mc}const $r=new fc,Oa=new G(new V($r),new ne($r));class _c{constructor(t,r){this.espressoBlock=t,this.diff=r,Object.freeze(this)}toJSON(){return Ra.encode(this)}}class yc{convert(t){return m(t,"espresso_block","diff"),new _c(re.decode(t.espresso_block),Oa.decode(t.diff))}}class gc{convert(t){return{espresso_block:re.encode(t.espressoBlock),diff:Oa.encode(t.diff)}}}class Cc extends p{encoder=new gc;decoder=new yc}const Ra=new Cc;class vc{helper;constructor(t){this.helper=t}async sendRequest(t,r,...o){return this.helper.submitRequest(t,"validatorsActive",r,o)}async active(){return await this.sendRequest(ma,"active")}async updatesSince(t){return await this.sendRequest(Ra,"updatesSince",x.encode(t))}}class Sc{constructor(t,r){this.address=t,this.exitTime=r,Object.freeze(this)}toJSON(){return Er.encode(this)}}class Nc{convert(t){return m(t,"address","exit_time"),new Sc(u.decode(t.address),new Date(t.exit_time))}}class jc{convert(t){return{address:u.encode(t.address),exit_time:t.exitTime.toISOString()}}}class wc extends p{encoder=new jc;decoder=new Nc}const Er=new wc;class Ea{}class Ba extends Ea{constructor(t){super(),this.validatorExit=t,Object.freeze(this)}toJSON(){return Br.encode(this)}}class kc{convert(t){return m(t,"validator_exit"),new Ba(Er.decode(t.validator_exit))}}class bc{convert(t){return{validator_exit:Er.encode(t.validatorExit)}}}class Ac extends p{encoder=new bc;decoder=new kc}const Lt="NodeExit",Br=new Ac;class Ta extends Ea{constructor(t){super(),this.validatorInformation=t,Object.freeze(this)}toJSON(){return Tr.encode(this)}}class Ic{convert(t){return new Ta(ve.decode(t))}}class Dc{convert(t){return ve.encode(t.validatorInformation)}}class Pc extends p{encoder=new Dc;decoder=new Ic}const Ft="NodeUpdate",Tr=new Pc;class Oc{convert(t){if(m(t),E(t,Ft))return Tr.decode(t[Ft]);if(E(t,Lt))return Br.decode(t[Lt]);throw Object.keys(t).length<=0?new P("Empty L1Message object","object"):new P("Unrecognized L1Message type","Valid L1 Type")}}class Rc{convert(t){if(t instanceof Ta)return{[Ft]:Tr.encode(t)};if(t instanceof Ba)return{[Lt]:Br.encode(t)};throw new P("Unrecognized L1Message type","Valid L1 Type")}}class Ec extends p{encoder=new Rc;decoder=new Oc}const Qr=new Ec,Va=new G(new V(Qr),new ne(Qr));class Bc{constructor(t,r=[]){this.l1Block=t,this.diff=r,Object.freeze(this)}toJSON(){return Wa.encode(this)}}class Tc{convert(t){return m(t,"l1_block","diff"),new Bc(H.decode(t.l1_block),Va.decode(t.diff))}}class Vc{convert(t){return{l1_block:H.encode(t.l1Block),diff:Va.encode(t.diff)}}}class Wc extends p{encoder=new Vc;decoder=new Tc}const Wa=new Wc;class Jc{helper;constructor(t){this.helper=t}async sendRequest(t,r,...o){return this.helper.submitRequest(t,"validatorsAll",r,o)}async snapshot(t){const r=f.encode(t);return await this.sendRequest(fa,"snapshot",r)}async updatesSince(t){return await this.sendRequest(Wa,"updatesSince",u.encode(t))}}class Mc{helper;constructor(t){this.helper=t}async sendRequest(t,r,...o){return this.helper.submitRequest(t,"wallet",r,o)}async snapshot(t,r){return await this.sendRequest(ya,"snapshot",f.encode(t),f.encode(r))}async updates(t,r){return await this.sendRequest(ba,"updates",f.encode(t),f.encode(r))}}const _e=U;class Vr{requestID;api;method;param;constructor(t,r,o,s){this.requestID=t,this.api=r,this.method=o,this.param=s}toJSON(){return{requestID:this.requestID,api:this.api,method:this.method,param:this.param}}}class Lc{convert(t){return m(t,"requestID","api","method","param"),new Vr(_e.decode(t.requestID),ge.decode(t.api),ge.decode(t.method),t.param)}}class Fc{convert(t){return St(t,Vr),{requestID:_e.encode(t.requestID),api:ge.encode(t.api),method:ge.encode(t.method),param:t.param}}}class Uc extends p{encoder=new Fc;decoder=new Lc}const qc=new Uc;class Wr{requestID;constructor(t){this.requestID=t}}class Jr extends Wr{response;constructor(t,r){super(t),this.response=r}toJSON(){return Ja.encode(this)}}class Hc{convert(t){return m(t,"requestID","response"),new Jr(_e.decode(t.requestID),t.response)}}class zc{convert(t){return St(t,Jr),{requestID:_e.encode(t.requestID),response:t.response}}}class Kc extends p{encoder=new zc;decoder=new Hc}const Ja=new Kc;class Mr extends Wr{error;constructor(t,r){super(t),this.error=r}toJSON(){return Ma.encode(this)}}class $c{convert(t){return m(t,"requestID","error"),new Mr(_e.decode(t.requestID),na.decode(t.error))}}class Qc{convert(t){return St(t,Mr),{requestID:_e.encode(t.requestID),error:na.encode(t.error)}}}class Gc extends p{encoder=new Qc;decoder=new $c}const Ma=new Gc;class Yc{convert(t){if(Hr(t,"response",zr))return Ja.decode(t);if(Hr(t,"error",zr))return Ma.decode(t);throw new jo}}class Xc{convert(t){return St(t,Wr),t.toJSON()}}class Zc extends p{encoder=new Xc;decoder=new Yc}const Gr=new Zc;class ei{worker;nextRequestID=0;requestCompleters=new Map;constructor(t){this.worker=t,t.addEventListener("message",this.handleMessage.bind(this)),t.addEventListener("messageerror",this.handleMessageError.bind(this)),t.addEventListener("error",this.handleError.bind(this))}async submitRequest(t,r,o,s){const[l,i]=this.nextRequest();try{return this.worker.postMessage(qc.encode(new Vr(l,r,o,s))),await i.promise.then(d=>{if(d instanceof Mr)throw new ho(d.error);if(d instanceof Jr){const{response:y}=d;return t.decode(y)}throw new P(typeof d,"WebWorkerResponse")})}finally{this.requestCompleters.delete(l)}}nextRequest(){const t=this.nextRequestID++,r=mo();return this.requestCompleters.set(t,r),[t,r]}handleMessage(t){const r=Gr.decode(t.data),o=this.requestCompleters.get(r.requestID);if(o===void 0)throw new qr(r.requestID);o.complete(r)}handleMessageError(t){const r=Gr.decode(t.data),o=this.requestCompleters.get(r.requestID);if(o===void 0)throw new qr(r.requestID);o.completeError(r)}handleError(t){debugger;console.error("encountered error setting up Web worker",t)}}let Tt=null;function ti(){return Tt||(Tt=new rc),Tt}class ni{l1Block;validatorsAll;validatorsActive;wallet;helper;constructor(){const t=ti(),r=new ei(t);this.helper=r,this.l1Block=new nc(r),this.validatorsAll=new Jc(r),this.validatorsActive=new vc(r),this.wallet=new Mc(r)}async sendRequest(t,r,...o){return this.helper.submitRequest(t,"proxy",r,o)}async setURL(t){return await this.sendRequest(xo,"set-url",ge.encode(t))}}const M=a.createContext(new tc);let Le=null;function ri(e){return Le===null&&(Le=new ni),e&&Le.setURL(e).then(t=>{t||console.warn("unable to set the url for the hotshot query service",e)},t=>{console.error("unable to set the url for the hotshot query service",e,t)}),Le}function ai(e){return typeof window<"u"&&"Worker"in window||typeof self<"u"&&"Worker"in self?ri(e):new Gs}const Ut=e=>{const r=a.useContext(_o)?.l1ValidatorServiceURL;return n.jsx(M.Provider,{value:ai(r),children:e.children})};try{M.displayName="L1ValidatorServiceContext",M.__docgenInfo={description:`L1ValidatorServiceContext provides a React Context
for the L1ValidatorService API.`,displayName:"L1ValidatorServiceContext",props:{}}}catch{}try{Ut.displayName="ProvideL1ValidatorServiceAPIContext",Ut.__docgenInfo={description:`ProvideL1ValidatorServiceAPIContext is a React Component that provides
the L1ValidatorService API context to its children.`,displayName:"ProvideL1ValidatorServiceAPIContext",props:{}}}catch{}const Ne=a.createContext(null),qt=({children:e})=>{const r=a.useContext(M).validatorsActive.active();return n.jsx(X,{promise:r,children:n.jsx(oi,{children:e})})},oi=({children:e})=>{const t=a.useContext(Y);return n.jsx(Ne.Provider,{value:t,children:e})};try{Ne.displayName="ActiveValidatorsContext",Ne.__docgenInfo={description:`ActiveValidatorsContext provides a React Context
for the current active validator set snapshot.`,displayName:"ActiveValidatorsContext",props:{}}}catch{}try{qt.displayName="RetrieveActiveValidators",qt.__docgenInfo={description:`RetrieveActiveValidators is a React Component that retrieves
the current active validator set and provides it
via the ActiveValidatorsContext to its children.`,displayName:"RetrieveActiveValidators",props:{}}}catch{}const je=a.createContext(null),Ht=({children:e})=>{const r=a.useContext(M).l1Block.getLatestBlock();return n.jsx(X,{promise:r,children:n.jsx(si,{children:e})})},si=({children:e})=>{const t=a.useContext(Y);return n.jsx(je.Provider,{value:t,children:e})};try{je.displayName="L1BlockIDContext",je.__docgenInfo={description:"L1BlockIDContext defines a React Context for the current L1 Block ID.",displayName:"L1BlockIDContext",props:{}}}catch{}try{Ht.displayName="RetrieveLatestL1BlockID",Ht.__docgenInfo={description:`RetrieveLatestL1BlockID is a React Component that retrieves
the latest L1 Block ID and provides it via the L1BlockIDContext
to its children.`,displayName:"RetrieveLatestL1BlockID",props:{}}}catch{}const I=a.createContext(null),zt=({children:e})=>{const t=a.useContext(M),r=a.useContext(je),o=r?t.validatorsAll.snapshot(r.hash):xe;return n.jsx(X,{promise:o,children:n.jsx(ci,{children:e})})},ci=({children:e})=>{const t=a.useContext(Y);return n.jsx(I.Provider,{value:t,children:e})};try{I.displayName="AllValidatorsContext",I.__docgenInfo={description:`AllValidatorsContext provides a React Context
for the current full validator set snapshot.`,displayName:"AllValidatorsContext",props:{}}}catch{}try{zt.displayName="RetrieveAllValidators",zt.__docgenInfo={description:`RetrieveAllValidators is a React Component that retrieves
the current full validator set and provides it
via the AllValidatorsContext to its children.`,displayName:"RetrieveAllValidators",props:{}}}catch{}const L=a.createContext(new Map),Kt=({children:e})=>{const t=a.useContext(Ne),r=new Map(K(t?.nodes??[],o=>[f.encode(o.address),o]));return n.jsx(L.Provider,{value:r,children:e})};try{L.displayName="ConsensusMapContext",L.__docgenInfo={description:`ConsensusMapContext provides a React Context
for the current set of active validator addresses in base64 format.`,displayName:"ConsensusMapContext",props:{}}}catch{}try{Kt.displayName="DeriveConsensusSet",Kt.__docgenInfo={description:`DeriveConsensusSet is a React Component that
derives the current consensus set from the active validators
and provides it via the ConsensusSetContext to its children.`,displayName:"DeriveConsensusSet",props:{}}}catch{}function st(e){const{children:t,...r}=e,o=To(r),s=o.isLoading?g.waiting:g.done;return o.isError?n.jsx(z.Provider,{value:b.withError(s,o.error),children:n.jsx(Bt,{children:t})}):typeof o.data>"u"||o.data===null?n.jsx(z.Provider,{value:b.withError(s,b.withError(s,new P(typeof o.data,"string | bigint | number | boolean"))),children:n.jsx(Bt,{children:t})}):n.jsx(z.Provider,{value:b.withData(s,o.data),children:n.jsx(Bt,{children:t})})}try{st.displayName="ReadContractToAsyncSnapshot",st.__docgenInfo={description:`ReadContractToAsyncSnapshot is a React component that
reads data from a smart contract using the wagmi useReadContract hook
and provides the result as an AsyncSnapshot via AsyncSnapshotContext.

It will automatically attempt to fetch the reactContract values based on
the provided abi, functionName, args, and config generic parameters, and
make that data available in the children via AsyncSnapshotContext, and the
derived Context states just like PromiseResolver.`,displayName:"ReadContractToAsyncSnapshot",props:{account:{defaultValue:null,description:"Account attached to the call (msg.sender).",name:"account",required:!1,type:{name:"`0x${string}` | Account"}},authorizationList:{defaultValue:null,description:"",name:"authorizationList",required:!1,type:{name:"AuthorizationList<number, boolean>"}},blockNumber:{defaultValue:null,description:"The balance of the account at a block number.",name:"blockNumber",required:!1,type:{name:"bigint"}},blockOverrides:{defaultValue:null,description:"Block overrides for the call.",name:"blockOverrides",required:!1,type:{name:"BlockOverrides<bigint, number>"}},blockTag:{defaultValue:{value:"'latest'"},description:"The balance of the account at a block tag.",name:"blockTag",required:!1,type:{name:"enum",value:[{value:'"latest"'},{value:'"earliest"'},{value:'"pending"'},{value:'"safe"'},{value:'"finalized"'}]}},factory:{defaultValue:null,description:"Contract deployment factory address (ie. Create2 factory, Smart Account factory, etc).",name:"factory",required:!1,type:{name:"`0x${string}`"}},factoryData:{defaultValue:null,description:"Calldata to execute on the factory to deploy the contract.",name:"factoryData",required:!1,type:{name:"`0x${string}`"}},stateOverride:{defaultValue:null,description:"State overrides for the call.",name:"stateOverride",required:!1,type:{name:"StateOverride"}},abi:{defaultValue:null,description:"",name:"abi",required:!1,type:{name:"Abi | readonly unknown[]"}},functionName:{defaultValue:null,description:"",name:"functionName",required:!1,type:{name:"string"}},args:{defaultValue:null,description:"",name:"args",required:!1,type:{name:"unknown"}},address:{defaultValue:null,description:"",name:"address",required:!1,type:{name:"`0x${string}`"}},chainId:{defaultValue:null,description:"",name:"chainId",required:!1,type:{name:"number"}},scopeKey:{defaultValue:null,description:"",name:"scopeKey",required:!1,type:{name:"string"}},config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"Config"}},query:{defaultValue:null,description:"",name:"query",required:!1,type:{name:'StrictOmit<{ meta?: Record<string, unknown>; select?: ((data: ContractFunctionReturnType<abi, "view" | "pure", functionName, args>) => selectData); ... 28 more ...; initialData?: ContractFunctionReturnType<...> | ... 1 more ... | undefined; }, "queryKey" | ... 3 more ... | "queryKeyHashFn"> |...'}},code:{defaultValue:null,description:"",name:"code",required:!1,type:{name:"`0x${string}`"}}}}}catch{}const $=a.createContext(new Date),se=a.createContext(()=>{}),$t=({children:e})=>{const[t,r]=a.useState(new Date);return n.jsx($.Provider,{value:t,children:n.jsx(se.Provider,{value:r,children:e})})};try{$.displayName="L1RefreshTimestampContext",$.__docgenInfo={description:`L1RefreshTimestampContext defines a React Context for the current
L1 refresh timestamp.

This context governs when data retrieved from the L1 and Smart Contracts
should be refreshed.`,displayName:"L1RefreshTimestampContext",props:{}}}catch{}try{se.displayName="SetL1RefreshTimestampContext",se.__docgenInfo={description:`SetL1RefreshTimestampContext defines a React Context for updating
the current L1 refresh timestamp.`,displayName:"SetL1RefreshTimestampContext",props:{}}}catch{}try{$t.displayName="ProvideL1RefreshTimestampContext",$t.__docgenInfo={description:`ProvideL1RefreshTimestampContext is a React Component that provides
the L1RefreshTimestampContext and SetL1RefreshTimestampContext to its
children.`,displayName:"ProvideL1RefreshTimestampContext",props:{}}}catch{}const N=a.createContext(0n),Qt=a.createContext(b.nothing()),Gt=({children:e})=>n.jsx(Yt,{children:e}),Yt=({children:e})=>{a.useContext($);const t=a.useContext(Ct),r=a.useContext(q),o=!r||!t?xe:t.balanceOf(r);return n.jsx(X,{promise:o,children:n.jsx(La,{children:e})})},Yr=({children:e})=>{const t=a.useContext(q);No(t);const r=a.useContext(ia),o=Zr,s=r?.espTokenContractAddress??void 0;return n.jsx(st,{abi:o,address:s,functionName:"balanceOf",args:[t],children:n.jsx(ii,{children:n.jsx(La,{children:e})})})},ii=({children:e})=>{const t=a.useContext(z);return n.jsx(Qt.Provider,{value:t,children:e})},La=({children:e})=>{const t=a.useContext(Y);return n.jsx(N.Provider,{value:t??0n,children:e})};try{N.displayName="ESPBalanceContext",N.__docgenInfo={description:"",displayName:"ESPBalanceContext",props:{}}}catch{}try{Qt.displayName="ESPBalanceAsyncSnapshotContext",Qt.__docgenInfo={description:"",displayName:"ESPBalanceAsyncSnapshotContext",props:{}}}catch{}try{Gt.displayName="ProvideESPBalance",Gt.__docgenInfo={description:`ProvideTotalSupply is a React component that fetches
the total supply of the ESP token from the blockchain
and provides it via TotalSupplyContext.`,displayName:"ProvideESPBalance",props:{}}}catch{}try{Yt.displayName="ProvideTotalSupplyFromContractCall",Yt.__docgenInfo={description:`ProvideTotalSupplyFromAPICall is a React component that fetches
the total supply of the ESP token from the local ESPTokenContract
and provides it via TotalSupplyContext.`,displayName:"ProvideTotalSupplyFromContractCall",props:{}}}catch{}try{Yr.displayName="ProvideESPBalanceFromContractRead",Yr.__docgenInfo={description:`ProvideTotalSupplyFromContractRead is a React component that fetches
the total supply of the ESP token from the blockchain
and provides it via TotalSupplyContext.`,displayName:"ProvideESPBalanceFromContractRead",props:{}}}catch{}const we=a.createContext(new Map);function li(e,t){return Number(e.stake)*(1-e.commission.valueOf())*(t?.leaderParticipation?.valueOf()??.5)*(t?.voterParticipation?.valueOf()??.5)}const Xt=({children:e})=>{const t=a.useContext(I),r=a.useContext(L),o=Array.from(vo(K(t?.nodes??Vt(),l=>u.encode(l.address)),K(t?.nodes??Vt(),l=>li(l,r.get(u.encode(l.address)))),(l,i)=>[l,i])).sort((l,i)=>i[1]-l[1]),s=new Map(o.map((l,i)=>[l[0],i+1]));return n.jsx(we.Provider,{value:s,children:e})};try{we.displayName="RankMapContext",we.__docgenInfo={description:`RankMapContext provides a React Context
for the current mapping of validator addresses to their ranks.`,displayName:"RankMapContext",props:{}}}catch{}try{Xt.displayName="DeriveRank",Xt.__docgenInfo={description:`DeriveRank is a React Component that
derives the current rank mapping from the all validators
and provides it via the RankMapContext to its children.`,displayName:"DeriveRank",props:{}}}catch{}const ke=a.createContext(0n),Zt=({children:e})=>n.jsx(di,{children:e}),di=({children:e})=>{const t=a.useContext(I),r=ra((o,s)=>o+s.stake,0n,t?.nodes??Vt());return n.jsx(ke.Provider,{value:r,children:e})};try{ke.displayName="TotalStakeContext",ke.__docgenInfo={description:`TotalStakeContext provides a React Context
for the total stake of all validators.`,displayName:"TotalStakeContext",props:{}}}catch{}try{Zt.displayName="DeriveTotalStake",Zt.__docgenInfo={description:`DeriveTotalStake is a component that Provides the TotalStakeContext
by calculating the total stake from the AllValidatorsContext.`,displayName:"DeriveTotalStake",props:{}}}catch{}const ct=a.createContext(null),en=a.createContext(b.nothing()),tn=({children:e})=>n.jsx(nn,{children:e}),nn=({children:e})=>{a.useContext($);const t=a.useContext(Ct),r=t?t.totalSupply():xe;return n.jsx(X,{promise:r,children:n.jsx(Fa,{children:e})})},Xr=({children:e})=>{const t=a.useContext(ia),r=Zr,o=t?.espTokenContractAddress??void 0;return n.jsx(st,{abi:r,address:o,functionName:"totalSupply",children:n.jsx(pi,{children:n.jsx(Fa,{children:e})})})},pi=({children:e})=>{const t=a.useContext(z);return n.jsx(en.Provider,{value:t,children:e})},Fa=({children:e})=>{const t=a.useContext(Y);return n.jsx(ct.Provider,{value:t,children:e})};try{ct.displayName="TotalSupplyContext",ct.__docgenInfo={description:`TotalSupplyContext provides a React Context
for the total supply of the ESP token.`,displayName:"TotalSupplyContext",props:{}}}catch{}try{en.displayName="TotalSupplyAsyncSnapshotContext",en.__docgenInfo={description:"",displayName:"TotalSupplyAsyncSnapshotContext",props:{}}}catch{}try{tn.displayName="ProvideTotalSupply",tn.__docgenInfo={description:`ProvideTotalSupply is a React component that fetches
the total supply of the ESP token from the blockchain
and provides it via TotalSupplyContext.`,displayName:"ProvideTotalSupply",props:{}}}catch{}try{nn.displayName="ProvideTotalSupplyFromContractCall",nn.__docgenInfo={description:`ProvideTotalSupplyFromAPICall is a React component that fetches
the total supply of the ESP token from the local ESPTokenContract
and provides it via TotalSupplyContext.`,displayName:"ProvideTotalSupplyFromContractCall",props:{}}}catch{}try{Xr.displayName="ProvideTotalSupplyFromContractRead",Xr.__docgenInfo={description:`ProvideTotalSupplyFromContractRead is a React component that fetches
the total supply of the ESP token from the blockchain
and provides it via TotalSupplyContext.`,displayName:"ProvideTotalSupplyFromContractRead",props:{}}}catch{}class Dt{}class ye extends Dt{constructor(){super(),Object.freeze(this)}}class Lr extends Dt{constructor(t){super(),this.validatorAddress=t,Object.freeze(this)}}class it extends Dt{constructor(t){super(),this.validatorAddress=t,Object.freeze(this)}}class Fr extends Dt{constructor(t){super(),this.validatorAddress=t,Object.freeze(this)}}const be=a.createContext(new ye),B=a.createContext(()=>{}),rn=({children:e})=>{const[t,r]=a.useState(new ye);return n.jsx(be.Provider,{value:t,children:n.jsx(B.Provider,{value:r,children:e})})};try{be.displayName="ValidatorSelectionContext",be.__docgenInfo={description:"",displayName:"ValidatorSelectionContext",props:{}}}catch{}try{B.displayName="SetValidatorSelectionContext",B.__docgenInfo={description:"",displayName:"SetValidatorSelectionContext",props:{}}}catch{}try{rn.displayName="ProvideValidatorSelection",rn.__docgenInfo={description:"",displayName:"ProvideValidatorSelection",props:{}}}catch{}const Ae=a.createContext(null),an=({children:e})=>{a.use($);const t=a.useContext(M),r=a.useContext(je),o=a.useContext(q),s=!r||!o?xe:t.wallet.snapshot(f.decode(o),r?.hash);return n.jsx(X,{promise:s,children:n.jsx(ui,{children:e})})},ui=({children:e})=>{const t=a.useContext(Y);return n.jsx(Ae.Provider,{value:t,children:e})};try{Ae.displayName="WalletSnapshotContext",Ae.__docgenInfo={description:`WalletSnapshotContext provides a React Context
for the current wallet snapshot.`,displayName:"WalletSnapshotContext",props:{}}}catch{}try{an.displayName="RetrieveWalletSnapshot",an.__docgenInfo={description:`RetrieveWalletSnapshot is a React Component that retrieves
a Wallet Snapshot from the L1 Validator API Service.`,displayName:"RetrieveWalletSnapshot",props:{}}}catch{}const hi=e=>a.createElement(jt,{...e,className:k(e.className,"stroked")},n.jsxs(n.Fragment,{children:[n.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),n.jsx("polyline",{points:"16 17 21 12 16 7"}),n.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}));try{logout.displayName="logout",logout.__docgenInfo={description:"LogOut represents a logout icon.",displayName:"logout",props:{}}}catch{}const on=e=>a.createElement(jt,{...e,className:k(e.className,"stroked")},n.jsxs("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-plus",children:[n.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),n.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}));try{plus.displayName="plus",plus.__docgenInfo={description:"Plus represents a plus sign.",displayName:"plus",props:{}}}catch{}const Ua=e=>n.jsx("button",{...e,className:k(e.className,"bbtn")});try{buttonbase.displayName="buttonbase",buttonbase.__docgenInfo={description:`ButtonBase is a simple wrapper around a normal button element that adds the
class 'btn' to the button in order to change it's styling.`,displayName:"buttonbase",props:{}}}catch{}const h=({className:e,...t})=>n.jsx(Ua,{className:k(e,"btn-large"),...t});try{buttonlarge.displayName="buttonlarge",buttonlarge.__docgenInfo={description:`ButtonLarge is a wrapper around ButtonBase that adds the 'btn-large' class
to the button in order to change its styling to a larger button.`,displayName:"buttonlarge",props:{}}}catch{}const sn=()=>{const e=a.useContext(Nr),t=a.useContext(q);return t?n.jsxs("span",{children:[n.jsx("span",{className:"wallet-address-preview",children:n.jsx(Nt,{value:new wt(f.decode(t))})})," ",n.jsxs(h,{className:"connect-wallet connected-wallet",onClick:e.openAccountModal,children:[n.jsx(c,{text:"Connect Wallet"}),n.jsx(hi,{})]})]}):n.jsxs(h,{className:"connect-wallet",onClick:e.openConnectModal,children:[n.jsx(on,{}),n.jsx(c,{text:"Connect Wallet"})]})};try{sn.displayName="ConnectWalletButton",sn.__docgenInfo={description:`ConnectWalletButton is a button that will open the RainbowKit Wallet Connect
Modal when pressed.`,displayName:"ConnectWalletButton",props:{}}}catch{}const cn=e=>n.jsxs("header",{className:"delegation",...e,children:[n.jsx(Oo,{}),n.jsx(sn,{})]});try{cn.displayName="DelegationHeader",cn.__docgenInfo={description:"DelegationHeader is the header component for the Delegation UI page.",displayName:"DelegationHeader",props:{}}}catch{}const F=a.createContext({ref:null,open:()=>{},close:()=>{},setOpenState:()=>{},isOpen:!1});function mi(){const e=a.useRef(null),[t,r]=a.useState(!1);return{ref:e,open:()=>{e.current&&!t&&(e.current.showModal(),r(!0))},close:()=>{e.current&&t&&(e.current.close(),r(!1))},setOpenState:i=>{r(i)},isOpen:t}}const ln=({children:e})=>{const t=mi();return n.jsx(F.Provider,{value:t,children:e})},dn=({children:e,...t})=>{const r=a.useContext(F);return n.jsx("dialog",{ref:r.ref,...t,onClose:()=>{r.setOpenState(!1)},children:e})};try{F.displayName="ModalContext",F.__docgenInfo={description:"",displayName:"ModalContext",props:{}}}catch{}try{ln.displayName="ProvideDialogModalControls",ln.__docgenInfo={description:"",displayName:"ProvideDialogModalControls",props:{}}}catch{}try{dn.displayName="DialogModal",dn.__docgenInfo={description:"",displayName:"DialogModal",props:{closedby:{defaultValue:null,description:"",name:"closedby",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"any"'},{value:'"closerequest"'}]}}}}}catch{}function xi(e){const[t,r]=a.useState(e);return[t,r]}const qa=a.createContext(null),Ha=a.createContext(()=>{}),za=a.createContext(null);function pn(e){const[t,r]=xi(e.selected);return n.jsx(za.Provider,{value:t,children:n.jsx(Ha.Provider,{value:o=>{r(o),e.onSelectionChange(o)},children:n.jsx("div",{className:k(e.className,"btn-segmented"),children:e.segments.map((o,s)=>n.jsx(qa.Provider,{value:o,children:n.jsx(fi,{})},s))})})})}const fi=()=>{const e=a.useContext(qa),t=a.useContext(za),r=a.useContext(Ha);return e?n.jsx(h,{className:"btn-segment","data-selected":e.value===t,onClick:()=>{r(e.value)},children:e.label}):null};try{pn.displayName="SegmentedButton",pn.__docgenInfo={description:"",displayName:"SegmentedButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"T"}},onSelectionChange:{defaultValue:null,description:"",name:"onSelectionChange",required:!0,type:{name:"(value: T) => void"}},segments:{defaultValue:null,description:"",name:"segments",required:!0,type:{name:"ButtonSegment<T>[]"}}}}}catch{}const ee=e=>n.jsx("div",{className:"value",children:e.children});try{ee.displayName="CardContentValue",ee.__docgenInfo={description:"CardContentValue is a container for the main value displayed in a card.",displayName:"CardContentValue",props:{}}}catch{}const un=e=>n.jsx("div",{className:k(e.className,"bcard"),children:e.children});try{un.displayName="Card",un.__docgenInfo={description:"Card component for displaying content in a card layout.",displayName:"Card",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const te=e=>n.jsx(un,{className:k(e.className,"card-value"),children:e.children});try{te.displayName="CardValue",te.__docgenInfo={description:"",displayName:"CardValue",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const hn=()=>{const e=a.useContext(N);return n.jsxs(te,{className:"estimated-apr-card",children:[n.jsx("h2",{children:n.jsx(c,{text:"Available Balance"})}),n.jsx(ee,{children:n.jsx(w,{money:_.ESP(e)})})]})};try{hn.displayName="AvailableBalanceCard",hn.__docgenInfo={description:`AvailableBalanceCard is a component that displays the Available Balance of
the active Wallet.`,displayName:"AvailableBalanceCard",props:{}}}catch{}const mn=()=>n.jsxs(te,{className:"estimated-apr-card",children:[n.jsx("h2",{children:n.jsx(c,{text:"Claimable Rewards"})}),n.jsx(h,{className:"action",onClick:()=>{},children:n.jsx(c,{text:"Claim All"})}),n.jsx(ee,{children:n.jsx(w,{money:_.ESP(0n)})})]});try{mn.displayName="ClaimableRewardsCard",mn.__docgenInfo={description:`ClaimableRewardsCard is a component that displays the Claimable Rewards
amount.

This is meant to represent the total amount of ESP that can be claimed as
rewards by the active wallet.`,displayName:"ClaimableRewardsCard",props:{}}}catch{}const xn=()=>{const e=a.useContext(N);return n.jsxs(te,{className:"estimated-apr-card",children:[n.jsx("h2",{children:n.jsx(c,{text:"Total Balance"})}),n.jsx(ee,{children:n.jsx(w,{money:_.ESP(e)})})]})};try{xn.displayName="TotalBalanceCard",xn.__docgenInfo={description:`TotalBalanceCard is a component that displays the Total Balance of the
active Wallet.

Total Balance is defined as the sum of the Available Balance and the
Staked Balance.

TODO: Should this include the pending Rewards as well?`,displayName:"TotalBalanceCard",props:{}}}catch{}const fn=()=>{const e=a.useContext(Ae);if(!e)return n.jsxs(te,{className:"estimated-apr-card",children:[n.jsx("h2",{children:n.jsx(c,{text:"Total Staked"})}),n.jsx(ee,{children:n.jsx(w,{money:_.ESP(0n)})})]});const t=ra((r,o)=>r+o.amount,0n,e.nodes);return n.jsxs(te,{className:"estimated-apr-card",children:[n.jsx("h2",{children:n.jsx(c,{text:"Total Staked"})}),n.jsx(ee,{children:n.jsx(w,{money:_.ESP(t)})})]})};try{fn.displayName="TotalStakedCard",fn.__docgenInfo={description:`TotalStakedCard is a component that displays the Total Staked amount.

This is meant to represent the total amount of ESP that has been staked by
the active wallet.`,displayName:"TotalStakedCard",props:{}}}catch{}const _n=()=>a.useContext(q)?n.jsxs("section",{className:"my-balance",children:[n.jsx("h2",{children:n.jsx(c,{text:"My Balance"})}),n.jsxs("div",{className:"my-balance-stats",children:[n.jsx(xn,{}),n.jsx(hn,{}),n.jsx(fn,{}),n.jsx(mn,{})]})]}):null;try{_n.displayName="MyBalance",_n.__docgenInfo={description:"",displayName:"MyBalance",props:{}}}catch{}const ce=({children:e})=>n.jsx("div",{className:"network-stat-value",children:e});try{ce.displayName="NetworkStatValue",ce.__docgenInfo={description:"",displayName:"NetworkStatValue",props:{}}}catch{}const yn=()=>{const e=a.useContext(ke),t=a.useContext(ct);return n.jsxs(ce,{children:[n.jsx("h2",{children:n.jsx(c,{text:"Currently Staked"})}),n.jsx(A,{percentage:Number(e)/Number(t)})]})};try{yn.displayName="CurrentlyStaked",yn.__docgenInfo={description:"",displayName:"CurrentlyStaked",props:{}}}catch{}function _i(e){return e!=null}function yi(e){const t=e<0?-1:1,r=Math.floor(e/1e3),o=Math.floor(r/60);return[Math.floor(o/60),o%60,r%60].map(l=>l*t)}const gn=e=>{const t=Xa.useContext(Po),[r,o,s]=yi(e.durationInMilliseconds),l=[t.hours.format(r),t.minutes.format(o),t.seconds.format(s)].filter(_i);return n.jsx(c,{text:l.join(" ")})};try{gn.displayName="TimeLeftText",gn.__docgenInfo={description:`TimeLeftText displays the duration specified in terms of the total number
of hours, minutes, and seconds that comprise the total milliseconds provided.`,displayName:"TimeLeftText",props:{durationInMilliseconds:{defaultValue:null,description:"",name:"durationInMilliseconds",required:!0,type:{name:"number"}}}}}catch{}const Cn=()=>{const e=a.useContext(Ne);if(e==null)return n.jsxs(ce,{children:[n.jsxs("h2",{children:[n.jsx(c,{text:"Epoch"})," ",n.jsx("span",{className:"accent",children:n.jsx(c,{text:"-"})})," ",n.jsx(c,{text:"ends in"})]}),n.jsx(c,{text:"-"})]});const t=e.espressoBlock.epoch,r=e.espressoBlock.block,o=r/t,s=r%o,l=o-s,i=Number(l)*6*1e3;return n.jsxs(ce,{children:[n.jsxs("h2",{children:[n.jsx(c,{text:"Epoch"})," ",n.jsx("span",{className:"accent",children:n.jsx(la,{number:e?.espressoBlock.epoch??0n})})," ",n.jsx(c,{text:"ends in"})]}),n.jsx(gn,{durationInMilliseconds:i})]})};try{Cn.displayName="EpochEndsIn",Cn.__docgenInfo={description:"",displayName:"EpochEndsIn",props:{}}}catch{}const vn=()=>n.jsxs(ce,{children:[n.jsx("h2",{children:n.jsx(c,{text:"Estimated APR"})}),n.jsx(A,{percentage:.035})]});try{vn.displayName="EstimatedAPR",vn.__docgenInfo={description:`EstimatedAPRCard displays the estimated annual percentage rate (APR).
The APR is currently hardcoded to 3.5%.`,displayName:"EstimatedAPR",props:{}}}catch{}const Sn=()=>n.jsxs("div",{className:"network-stats",children:[n.jsx("h1",{children:n.jsx(c,{text:"ESP Delegation"})}),n.jsxs("div",{className:"network-stats-grid",children:[n.jsx(yn,{}),n.jsx(vn,{}),n.jsx(Cn,{})]})]});try{Sn.displayName="NetworkStats",Sn.__docgenInfo={description:"NetworkStats component displays key statistics about the chain.",displayName:"NetworkStats",props:{}}}catch{}const Q=a.createContext(new ArrayBuffer(0));try{Q.displayName="ConfirmedValidatorContext",Q.__docgenInfo={description:"",displayName:"ConfirmedValidatorContext",props:{}}}catch{}const v=a.createContext(new bt(new ArrayBuffer(0),new ca("",new ArrayBuffer(0)),0n,new oe(0)));try{v.displayName="ValidatorNodeContext",v.__docgenInfo={description:`ValidatorNodeContext provides a React Context
for a single validator node entry.`,displayName:"ValidatorNodeContext",props:{}}}catch{}const ie=a.createContext(null),Nn=({children:e})=>{a.useContext($);const t=a.useContext(Ct),r=a.useContext(Ve),o=a.useContext(q),s=!t||!r||!o?xe:t.allowance(o,r.address);return n.jsx(X,{promise:s,children:n.jsx(gi,{children:e})})},gi=({children:e})=>{const t=a.useContext(Y);return n.jsx(ie.Provider,{value:t,children:e})};try{ie.displayName="CurrentAllowanceToStakeTableContext",ie.__docgenInfo={description:"",displayName:"CurrentAllowanceToStakeTableContext",props:{}}}catch{}try{Nn.displayName="ProvideCurrentAllowanceToStakeTable",Nn.__docgenInfo={description:"",displayName:"ProvideCurrentAllowanceToStakeTable",props:{}}}catch{}const O=a.createContext(null),jn=({children:e})=>{a.useContext($);const t=a.useContext(Ve),r=a.useContext(q),o=a.useContext(Q),s=!t||!r||!o?xe:t.delegation(f.encode(o),r.toLowerCase());return n.jsx(X,{promise:s,children:n.jsx(Ci,{children:e})})},Ci=({children:e})=>{const t=a.useContext(Y);return n.jsx(O.Provider,{value:t,children:e})};try{O.displayName="CurrentStakeToValidatorContext",O.__docgenInfo={description:"",displayName:"CurrentStakeToValidatorContext",props:{}}}catch{}try{jn.displayName="ProvideCurrentStakeToValidator",jn.__docgenInfo={description:"",displayName:"ProvideCurrentStakeToValidator",props:{}}}catch{}const Ie=a.createContext(null),lt=a.createContext(()=>{}),De=a.createContext(b.nothing()),wn=({children:e})=>{const[t,r]=a.useState(null);return n.jsx(Ie.Provider,{value:t,children:n.jsx(lt.Provider,{value:r,children:n.jsx(vi,{children:e})})})},vi=({children:e})=>{const t=a.useContext(Ie)??vr();return n.jsx(Sr,{asyncIterable:t,children:n.jsx(Si,{children:e})})},Si=({children:e})=>{const t=a.useContext(z),r=a.useContext(Ie);return n.jsx(De.Provider,{value:r===null?b.nothing():t,children:e})};class Pt{}class Ni extends Pt{constructor(){super()}}class ji extends Pt{constructor(t){super(),this.transactionHash=t}}class wi extends Pt{constructor(t){super(),this.transactionHash=t}}class dt extends Pt{constructor(t,r){super(),this.transactionHash=t,this.receipt=r}}async function*ki(e,t,r,o){yield new Ni;const s=await t.approve(r.address,0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn);yield new ji(s),yield new wi(s);try{for(let l=0;l<24;l++)try{const i=await e.getTransactionReceipt({hash:s});yield new dt(s,i);return}catch(i){if(l===23)throw console.error("<<<< HERE performApprove failed to retrieve receipt:",i),i;await jr(1e3)}}finally{o(new Date)}throw new Error("no receipt received")}try{Ie.displayName="ApproveAsyncIterableContext",Ie.__docgenInfo={description:"",displayName:"ApproveAsyncIterableContext",props:{}}}catch{}try{lt.displayName="SetApproveAsyncIterableContext",lt.__docgenInfo={description:"",displayName:"SetApproveAsyncIterableContext",props:{}}}catch{}try{De.displayName="ApproveAsyncSnapshotContext",De.__docgenInfo={description:"",displayName:"ApproveAsyncSnapshotContext",props:{}}}catch{}try{wn.displayName="ProvideApproveAsyncIterableContext",wn.__docgenInfo={description:"",displayName:"ProvideApproveAsyncIterableContext",props:{}}}catch{}const Pe=a.createContext(null),pt=a.createContext(()=>{}),le=a.createContext(b.nothing()),kn=({children:e})=>{const[t,r]=a.useState(null);return n.jsx(Pe.Provider,{value:t,children:n.jsx(pt.Provider,{value:r,children:n.jsx(bi,{children:e})})})},bi=({children:e})=>{const t=a.useContext(Pe)??vr();return n.jsx(Sr,{asyncIterable:t,children:n.jsx(Ai,{children:e})})},Ai=({children:e})=>{const t=a.useContext(z),r=a.useContext(Pe);return n.jsx(le.Provider,{value:r===null?b.nothing():t,children:e})};class Ot{}class Ii extends Ot{constructor(){super()}}class Di extends Ot{constructor(t){super(),this.transactionHash=t}}class Pi extends Ot{constructor(t){super(),this.transactionHash=t}}class Oe extends Ot{constructor(t,r){super(),this.transactionHash=t,this.receipt=r}}async function*Oi(e,t,r,o,s){yield new Ii;const l=await t.delegate(r,o);yield new Di(l),yield new Pi(l);try{for(let i=0;i<24;i++)try{const d=await e.getTransactionReceipt({hash:l});yield new Oe(l,d);return}catch(d){if(i===23)throw console.error("<<<< HERE performDelegation failed to retrieve receipt:",d),d;await jr(1e3)}}finally{s(new Date)}throw new Error("no receipt received")}try{Pe.displayName="DelegateAsyncIterableContext",Pe.__docgenInfo={description:"",displayName:"DelegateAsyncIterableContext",props:{}}}catch{}try{pt.displayName="SetDelegationAsyncIterableContext",pt.__docgenInfo={description:"",displayName:"SetDelegationAsyncIterableContext",props:{}}}catch{}try{le.displayName="DelegateAsyncSnapshotContext",le.__docgenInfo={description:"",displayName:"DelegateAsyncSnapshotContext",props:{}}}catch{}try{kn.displayName="ProvideDelegateAsyncIterableContext",kn.__docgenInfo={description:"",displayName:"ProvideDelegateAsyncIterableContext",props:{}}}catch{}const Re=a.createContext(null),ut=a.createContext(()=>{}),ht=a.createContext(b.nothing()),bn=({children:e})=>{const[t,r]=a.useState(null);return n.jsx(Re.Provider,{value:t,children:n.jsx(ut.Provider,{value:r,children:n.jsx(Ri,{children:e})})})},Ri=({children:e})=>{const t=a.useContext(Re)??vr();return n.jsx(Sr,{asyncIterable:t,children:n.jsx(Ei,{children:e})})},Ei=({children:e})=>{const t=a.useContext(z),r=a.useContext(Re);return n.jsx(ht.Provider,{value:r===null?b.nothing():t,children:e})};class Rt{}class Bi extends Rt{constructor(){super()}}class Ti extends Rt{constructor(t){super(),this.transactionHash=t}}class Vi extends Rt{constructor(t){super(),this.transactionHash=t}}class Ka extends Rt{constructor(t,r){super(),this.transactionHash=t,this.receipt=r}}async function*Wi(e,t,r,o,s){yield new Bi;const l=await t.undelegate(r,o);yield new Ti(l),yield new Vi(l);try{for(let i=0;i<24;i++)try{const d=await e.getTransactionReceipt({hash:l});yield new Ka(l,d);return}catch(d){if(i===23)throw console.error("<<<< HERE performUndelegation failed to retrieve receipt:",d),d;await jr(1e3)}}finally{s(new Date)}throw new Error("no receipt received")}try{Re.displayName="UndelegateAsyncIterableContext",Re.__docgenInfo={description:"",displayName:"UndelegateAsyncIterableContext",props:{}}}catch{}try{ut.displayName="SetUndelegationAsyncIterableContext",ut.__docgenInfo={description:"",displayName:"SetUndelegationAsyncIterableContext",props:{}}}catch{}try{ht.displayName="UndelegateAsyncSnapshotContext",ht.__docgenInfo={description:"",displayName:"UndelegateAsyncSnapshotContext",props:{}}}catch{}try{bn.displayName="ProvideUndelegateAsyncIterableContext",bn.__docgenInfo={description:"",displayName:"ProvideUndelegateAsyncIterableContext",props:{}}}catch{}const j=a.createContext(_.ESP(0n)),de=a.createContext(()=>{});function Ji(e=_.ESP(0n)){return a.useState(e)}const An=({children:e})=>{const[t,r]=Ji();return n.jsx(j.Provider,{value:t,children:n.jsx(de.Provider,{value:r,children:e})})};try{j.displayName="StakingAmountContext",j.__docgenInfo={description:"",displayName:"StakingAmountContext",props:{}}}catch{}try{de.displayName="SetStakingAmountContext",de.__docgenInfo={description:"",displayName:"SetStakingAmountContext",props:{}}}catch{}try{An.displayName="ProvideStakingAmountContexts",An.__docgenInfo={description:"",displayName:"ProvideStakingAmountContexts",props:{}}}catch{}const $a=({className:e,...t})=>n.jsx(Ua,{className:k(e,"btn--flat"),...t});try{buttonflat.displayName="buttonflat",buttonflat.__docgenInfo={description:`ButtonFlat is a wrapper around ButtonBase that adds the 'btn-flat' class
to the button in order to change its styling to a flat button.`,displayName:"buttonflat",props:{}}}catch{}const Ee=()=>{const e=a.useContext(B);return n.jsx($a,{className:"back-modal-button",onClick:()=>e(new ye),children:n.jsx(c,{text:"Back"})})};try{Ee.displayName="BackButton",Ee.__docgenInfo={description:"",displayName:"BackButton",props:{}}}catch{}const pe=()=>{const e=a.useContext(B),t=a.useContext(F);return n.jsx($a,{className:"close-modal-button",onClick:()=>{e(new ye),t.close()},children:n.jsx(Ro,{})})};try{pe.displayName="CloseStakingModalButton",pe.__docgenInfo={description:"",displayName:"CloseStakingModalButton",props:{}}}catch{}const Be=()=>n.jsx("div",{className:"staking-modal-notice-area",children:n.jsx("p",{children:n.jsx(c,{text:"Only top 100 validators are eligible to receive rewards, and will be sent upon next epoch start."})})});try{Be.displayName="NoticeArea",Be.__docgenInfo={description:"",displayName:"NoticeArea",props:{}}}catch{}const mt=({className:e,children:t})=>n.jsx("span",{className:k(e,"bchip"),children:t});try{mt.displayName="Chip",mt.__docgenInfo={description:"",displayName:"Chip",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const xt=({className:e,children:t})=>n.jsx(mt,{className:k(e,"consensus-chip"),children:t});try{xt.displayName="ConsensusChip",xt.__docgenInfo={description:"",displayName:"ConsensusChip",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const ft=()=>n.jsx(xt,{className:"consensus-chip active",children:n.jsx(c,{text:"Active"})});try{ft.displayName="ActiveConsensusChip",ft.__docgenInfo={description:"",displayName:"ActiveConsensusChip",props:{}}}catch{}const In=({children:e})=>n.jsx(mt,{className:"apy",children:e});try{In.displayName="APYChip",In.__docgenInfo={description:"",displayName:"APYChip",props:{}}}catch{}const _t=()=>n.jsx(xt,{className:"consensus-chip inactive",children:n.jsx(c,{text:"Inactive"})});try{_t.displayName="InactiveConsensusChip",_t.__docgenInfo={description:"",displayName:"InactiveConsensusChip",props:{}}}catch{}const Te=()=>{const e=a.useContext(v),t=a.useContext(L),r=f.encode(e.address),s=t.has(r)?n.jsx(ft,{}):n.jsx(_t,{});return n.jsxs("div",{className:"staking-modal-validator-display-area",children:[n.jsx(Nt,{value:new wt(e.address)}),n.jsx("br",{}),n.jsxs(In,{children:[n.jsx(A,{percentage:.035})," ",n.jsx(c,{text:"APY"})]})," ",s]})};try{Te.displayName="ValidatorDisplayArea",Te.__docgenInfo={description:"",displayName:"ValidatorDisplayArea",props:{}}}catch{}const Dn=()=>n.jsxs("div",{className:"staking-modal-initial-summary-and-interaction",children:[n.jsx(Te,{}),n.jsx(Be,{}),n.jsx(Mi,{})]}),Mi=()=>{const e=a.useContext(O)??0n;return n.jsxs("div",{className:"staking-modal-esp-input-area",children:[n.jsx("label",{htmlFor:"staking-modal-esp-input",children:n.jsx(c,{text:"Currently Delegated"})}),n.jsx("div",{className:"staking-modal-esp-focus-display",children:n.jsx(w,{money:_.ESP(e)})}),n.jsx(Li,{})]})},Li=()=>n.jsxs("div",{className:"staking-modal-input-info-area",children:[n.jsx(Fi,{}),n.jsx(Ui,{})]}),Fi=()=>{const e=a.useContext(j);return a.useContext(N)>=e.value?null:n.jsx("div",{className:"staking-modal-insufficient-balance-warning",children:n.jsx(c,{text:"Insufficient Balance"})})},Ui=()=>{const e=a.useContext(N);return n.jsxs("div",{className:"staking-modal-current-balance-area",children:[n.jsx("span",{className:"staking-modal-current-balance-label",children:n.jsx(c,{text:"Balance"})}),n.jsx("span",{className:"staking-modal-current-balance-value",children:n.jsx(w,{money:_.ESP(e)})})]})};try{Dn.displayName="ManageStakeInitialSummary",Dn.__docgenInfo={description:"",displayName:"ManageStakeInitialSummary",props:{}}}catch{}const ue=({children:e})=>n.jsx("div",{className:"staking-modal-content",children:e});try{ue.displayName="StakingContent",ue.__docgenInfo={description:"",displayName:"StakingContent",props:{}}}catch{}const he=({children:e})=>n.jsx("div",{className:"staking-modal-header",children:e});try{he.displayName="StakingHeader",he.__docgenInfo={description:"",displayName:"StakingHeader",props:{}}}catch{}const me=({children:e})=>n.jsx("h2",{className:"staking-modal-title",children:e});try{me.displayName="StakingModalTitle",me.__docgenInfo={description:"",displayName:"StakingModalTitle",props:{}}}catch{}const Pn=()=>n.jsxs(n.Fragment,{children:[n.jsxs(he,{children:[n.jsx(Ee,{}),n.jsx(me,{children:n.jsx(c,{text:"Manage Stake"})}),n.jsx(pe,{})]}),n.jsxs(ue,{children:[n.jsx(Dn,{}),n.jsx(qi,{})]})]}),qi=()=>{const e=a.useContext(B),t=a.useContext(Q);return n.jsxs("div",{className:"staking-modal-manage-stake-actions-area",children:[n.jsx(h,{onClick:()=>{e(new it(t))},children:n.jsx(c,{text:"Delegate More"})}),n.jsx(h,{onClick:()=>{e(new Fr(t))},children:n.jsx(c,{text:"Undelegate"})})]})};try{Pn.displayName="ManageStakeContent",Pn.__docgenInfo={description:"",displayName:"ManageStakeContent",props:{}}}catch{}const On=()=>{const e=a.useContext(se),t=a.useContext(vt),r=a.useContext(j),o=a.useContext(Ct),s=a.useContext(Ve),l=a.useContext(ie),i=a.useContext(De),d=a.useContext(lt);if(!(r.value>(l??0n))||i.asyncState===g.done&&!i.hasError)return n.jsx(h,{className:"btn-approve approved",disabled:!0,children:n.jsx(c,{text:"Approved"})});if(!t||!o||!s||r.value===0n)return n.jsx(h,{className:"btn-approve",disabled:!0,children:n.jsx(c,{text:"Approve"})});const D=()=>{!o||!s||d(ki(t,o,s,e))};return i.asyncState===g.done&&i.hasError?n.jsx(h,{className:"btn-approve retry",onClick:D,children:n.jsx(c,{text:"Retry"})}):i.asyncState===g.waiting||i.data&&!(i.data instanceof dt)?n.jsx(h,{className:"btn-approve approving",disabled:!0,children:n.jsx(c,{text:"Approve"})}):n.jsx(h,{className:"btn-approve",onClick:D,children:n.jsx(c,{text:"Approve"})})};try{On.displayName="ApproveButton",On.__docgenInfo={description:"",displayName:"ApproveButton",props:{}}}catch{}const Rn=()=>{const e=a.useContext(se),t=a.useContext(vt),r=a.useContext(j),o=a.useContext(N),s=a.useContext(Ve),l=a.useContext(ie)??0n,i=a.useContext(le),d=a.useContext(pt),y=a.useContext(Q);if(t===null||s===null||r.value<=0n||r.value>o||r.value>l||i.asyncState===g.waiting||i.data&&!(i.data instanceof Oe))return n.jsx(h,{className:"btn-delegate",disabled:!0,children:n.jsx(c,{text:"Delegate"})});const D=f.encode(y),Me=()=>{d(Oi(t,s,D,r.value,e))};return i.asyncState===g.done&&i.hasError?n.jsx(h,{className:"btn-delegate retry",onClick:Me,children:n.jsx(c,{text:"Retry"})}):i.asyncState===g.done&&!i.hasError?n.jsx(h,{className:"btn-delegate approved",disabled:!0,children:n.jsx(c,{text:"Delegated"})}):n.jsx(h,{className:"btn-delegate",onClick:Me,children:n.jsx(c,{text:"Delegate"})})};try{Rn.displayName="DelegateButton",Rn.__docgenInfo={description:"",displayName:"DelegateButton",props:{}}}catch{}const Hi=e=>a.createElement(jt,{...e,width:0,height:0,viewBox:"0 0 182 20"},n.jsxs("mask",{id:"dots-mask",children:[n.jsx("rect",{width:"182",height:"20",fill:"#000"}),n.jsx("circle",{cx:"2.85714",cy:"2.85714",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"14.571",cy:"2.85714",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"26.2859",cy:"2.85714",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"37.9997",cy:"2.85714",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"49.7146",cy:"2.85714",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"61.4284",cy:"2.85714",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"73.1433",cy:"2.85714",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"84.8571",cy:"2.85714",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"96.571",cy:"2.85714",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"108.286",cy:"2.85714",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"120",cy:"2.85714",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"131.715",cy:"2.85714",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"143.428",cy:"2.85714",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"155.143",cy:"2.85714",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"166.857",cy:"2.85714",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"178.571",cy:"2.85714",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"2.85714",cy:"16.5715",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"14.571",cy:"16.5715",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"26.2859",cy:"16.5715",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"37.9997",cy:"16.5715",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"49.7146",cy:"16.5715",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"61.4284",cy:"16.5715",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"73.1433",cy:"16.5715",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"84.8571",cy:"16.5715",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"96.571",cy:"16.5715",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"108.286",cy:"16.5715",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"120",cy:"16.5715",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"131.715",cy:"16.5715",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"143.428",cy:"16.5715",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"155.143",cy:"16.5715",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"166.857",cy:"16.5715",r:"2.85714",fill:"#fff"}),n.jsx("circle",{cx:"178.571",cy:"16.5715",r:"2.85714",fill:"#fff"})]}));try{decorationdotsmask.displayName="decorationdotsmask",decorationdotsmask.__docgenInfo={description:"DecorationDots represents a series of decorative dots.",displayName:"decorationdotsmask",props:{}}}catch{}const S=()=>n.jsxs(n.Fragment,{children:[n.jsx(Hi,{}),n.jsx("div",{className:"staking-modal-progress-indicator-area"})]});try{S.displayName="ProgressIndicatorArea",S.__docgenInfo={description:"",displayName:"ProgressIndicatorArea",props:{}}}catch{}const En=()=>{const e=a.useContext(j),t=a.useContext(N),r=a.useContext(ie)??0n,o=a.useContext(le),s=a.useContext(De);if(e.value<=0n)return n.jsxs("div",{className:"staking-modal-instructions-and-progress",children:[n.jsx("span",{children:" "}),n.jsx(S,{})]});if(e.value>r){if(s.asyncState===g.none)return n.jsxs("div",{className:"staking-modal-instructions-and-progress",children:[n.jsx("span",{children:n.jsx(c,{text:"Approve transaction first"})}),n.jsx(S,{})]});if(s.hasError)return n.jsxs("div",{className:"staking-modal-instructions-and-progress error",children:[n.jsx("span",{children:n.jsx(c,{text:"Approval Failed"})}),n.jsx(S,{})]});const i=s.data;return s.asyncState===g.waiting||i===null||!(i instanceof dt)?n.jsxs("div",{className:"staking-modal-instructions-and-progress waiting",children:[n.jsx("span",{children:n.jsx(c,{text:"Approving..."})}),n.jsx(S,{})]}):i instanceof dt?n.jsxs("div",{className:"staking-modal-instructions-and-progress approved succeeded",children:[n.jsx("span",{children:n.jsx(c,{text:"Approval successful"})}),n.jsx(S,{})]}):n.jsxs("div",{className:"staking-modal-instructions-and-progress approved",children:[n.jsx("span",{children:" "}),n.jsx(S,{})]})}if(e.value>t)return n.jsxs("div",{className:"staking-modal-instructions-and-progress approved",children:[n.jsx("span",{children:" "}),n.jsx(S,{})]});if(o.asyncState===g.none)return n.jsxs("div",{className:"staking-modal-instructions-and-progress approved",children:[n.jsx("span",{children:n.jsx(c,{text:"Confirm Delegation"})}),n.jsx(S,{})]});if(o.hasError)return n.jsxs("div",{className:"staking-modal-instructions-and-progress approved delegated error",children:[n.jsx("span",{children:n.jsx(c,{text:"Delegation Unsuccessful"})}),n.jsx(S,{})]});const l=o.data;return o.asyncState===g.waiting||l===null||!(l instanceof Oe)?n.jsxs("div",{className:"staking-modal-instructions-and-progress approved delegated waiting",children:[n.jsx("span",{children:n.jsx(c,{text:"Delegating..."})}),n.jsx(S,{})]}):l instanceof Oe?n.jsxs("div",{className:"staking-modal-instructions-and-progress approved delegated succeeded",children:[n.jsx("span",{children:n.jsx(c,{text:"Delegation successful"})}),n.jsx(S,{})]}):n.jsxs("div",{className:"staking-modal-instructions-and-progress approved delegated",children:[n.jsx("span",{children:" "}),n.jsx(S,{})]})};try{En.displayName="NewStakeInstructionsAndProgress",En.__docgenInfo={description:"",displayName:"NewStakeInstructionsAndProgress",props:{}}}catch{}const Bn=()=>{const e=a.useContext(F),t=a.useContext(B),r=a.useContext(le);return r.asyncState!==g.done||!(r.data instanceof Oe)?null:n.jsx("div",{className:"staking-modal-completion-area",children:n.jsx(h,{onClick:()=>{t(new ye),e.close()},children:n.jsx(c,{text:"Close"})})})};try{Bn.displayName="StakingCompletionArea",Bn.__docgenInfo={description:"",displayName:"StakingCompletionArea",props:{}}}catch{}const Tn=()=>n.jsxs("div",{className:"staking-modal-initial-summary-and-interaction",children:[n.jsx(Te,{}),n.jsx(Be,{}),n.jsx(zi,{})]}),zi=()=>{const e=a.useContext(j),t=a.useContext(de),s=a.useContext(N)>=e.value?void 0:"insufficient";return n.jsxs("div",{className:"staking-modal-esp-input-area",children:[n.jsx("label",{htmlFor:"staking-modal-esp-input",children:n.jsx(c,{text:"Amount to Stake"})}),n.jsx(da,{id:"staking-modal-esp-input",className:k(s,"staking-modal-esp-focus-display"),value:e,onChange:(l,i)=>t(i)}),n.jsx(Ki,{})]})},Ki=()=>n.jsxs("div",{className:"staking-modal-input-info-area",children:[n.jsx($i,{}),n.jsx(Qi,{})]}),$i=()=>{const e=a.useContext(j);return a.useContext(N)>=e.value?null:n.jsx("div",{className:"staking-modal-insufficient-balance-warning",children:n.jsx(c,{text:"Insufficient Balance"})})},Qi=()=>{const e=a.useContext(N);return n.jsxs("div",{className:"staking-modal-current-balance-area",children:[n.jsx("span",{className:"staking-modal-current-balance-label",children:n.jsx(c,{text:"Balance"})}),n.jsx("span",{className:"staking-modal-current-balance-value",children:n.jsx(w,{money:_.ESP(e)})})]})};try{Tn.displayName="StakingInitialSummaryAndInteraction",Tn.__docgenInfo={description:"",displayName:"StakingInitialSummaryAndInteraction",props:{}}}catch{}const T=({children:e})=>n.jsxs("div",{className:"staking-modal-label-value-split",children:[n.jsx("span",{className:"staking-modal-label",children:e[0]}),n.jsx("span",{className:"staking-modal-value",children:e[1]})]});try{T.displayName="LabelValueSplit",T.__docgenInfo={description:"",displayName:"LabelValueSplit",props:{}}}catch{}const Vn=()=>n.jsxs("div",{className:"staking-modal-staking-overview-area",children:[n.jsx(Gi,{}),n.jsx(Yi,{}),n.jsx(Xi,{}),n.jsx(Zi,{})]}),Gi=()=>n.jsxs(T,{children:[n.jsx("span",{children:n.jsx(c,{text:"Current Epoch Stake"})}),n.jsx("span",{children:n.jsx(c,{text:"-"})})]}),Yi=()=>{const e=a.useContext(O),t=e?n.jsx(w,{money:_.ESP(e)}):n.jsx(c,{text:"-"});return n.jsxs(T,{children:[n.jsx("span",{children:n.jsx(c,{text:"Current Stake"})}),n.jsx("span",{children:t})]})},Xi=()=>n.jsxs(T,{children:[n.jsx("span",{children:n.jsx(c,{text:"Tx Fee"})}),n.jsx("span",{children:n.jsx(c,{text:"-"})})]}),Zi=()=>{const e=a.useContext(v);return n.jsxs(T,{children:[n.jsx("span",{children:n.jsx(c,{text:"Commission"})}),n.jsx("span",{children:n.jsx(A,{percentage:e.commission.ratio})})]})};try{Vn.displayName="StakingOverviewArea",Vn.__docgenInfo={description:"",displayName:"StakingOverviewArea",props:{}}}catch{}const Wn=()=>{const e=a.useContext(Q);return n.jsxs(n.Fragment,{children:[n.jsxs(he,{children:[n.jsx(Ee,{}),n.jsxs(me,{children:[n.jsx(c,{text:"Delegate"}),n.jsx(c,{text:" / "}),n.jsx(Nt,{value:new wt(e)})]}),n.jsx(pe,{})]}),n.jsxs(ue,{children:[n.jsx(Tn,{}),n.jsx(Vn,{}),n.jsx(el,{}),n.jsx(Bn,{})]})]})},el=()=>n.jsxs("div",{className:"staking-modal-staking-actions-area",children:[n.jsx(On,{}),n.jsx(En,{}),n.jsx(Rn,{})]});try{Wn.displayName="NewDelegationContent",Wn.__docgenInfo={description:"",displayName:"NewDelegationContent",props:{}}}catch{}const Jn=()=>n.jsxs("div",{className:"staking-modal-initial-summary-and-interaction",children:[n.jsx(Te,{}),n.jsx(Be,{}),n.jsx(tl,{}),n.jsx(ol,{})]}),tl=()=>{const e=a.useContext(O)??0n,t=a.useContext(j),r=a.useContext(de),s=e>=t.value?void 0:"insufficient";return n.jsxs("div",{className:"staking-modal-esp-input-area",children:[n.jsx("label",{htmlFor:"staking-modal-esp-input",children:n.jsx(c,{text:"Unstake Amount"})}),n.jsx(da,{id:"staking-modal-esp-input",className:k(s,"staking-modal-esp-focus-display"),value:t,onChange:(l,i)=>r(i)}),n.jsx(nl,{})]})},nl=()=>n.jsxs("div",{className:"staking-modal-input-info-area",children:[n.jsx(rl,{}),n.jsx(al,{})]}),rl=()=>{const e=a.useContext(O)??0n,t=a.useContext(j);return e>=t.value?null:n.jsx("div",{className:"staking-modal-insufficient-balance-warning",children:n.jsx(c,{text:"Insufficient Stake"})})},al=()=>{const e=a.useContext(O)??0n;return n.jsxs("div",{className:"staking-modal-current-balance-area",children:[n.jsx("span",{className:"staking-modal-current-balance-label",children:n.jsx(c,{text:"Current Stake"})}),n.jsx("span",{className:"staking-modal-current-balance-value",children:n.jsx(w,{money:_.ESP(e)})})]})},ol=()=>{const e=a.useContext(O)??0n,t=a.useContext(j),r=a.useContext(de),o=e/4n,s=e/2n,l=e*3n/4n;return n.jsxs("div",{className:"staking-modal-unstaking-options-area",children:[n.jsx(h,{"data-selected":t.value===o,onClick:()=>r(_.ESP(o)),children:n.jsx(A,{percentage:.25})}),n.jsx(h,{"data-selected":t.value===s,onClick:()=>r(_.ESP(s)),children:n.jsx(A,{percentage:.5})}),n.jsx(h,{"data-selected":t.value===l,onClick:()=>r(_.ESP(l)),children:n.jsx(A,{percentage:.75})}),n.jsx(h,{"data-selected":t.value===e,onClick:()=>r(_.ESP(e)),children:n.jsx(c,{text:"Max"})})]})};try{Jn.displayName="UnstakingInitialSummaryAndInteraction",Jn.__docgenInfo={description:"",displayName:"UnstakingInitialSummaryAndInteraction",props:{}}}catch{}const Mn=()=>n.jsxs("div",{className:"staking-modal-staking-overview-area",children:[n.jsx(sl,{}),n.jsx(cl,{}),n.jsx(il,{}),n.jsx(ll,{})]}),sl=()=>{const e=a.useContext(N);return n.jsxs(T,{children:[n.jsx("span",{children:n.jsx(c,{text:"Current Balance"})}),n.jsx("span",{children:n.jsx(w,{money:_.ESP(e)})})]})},cl=()=>{const e=a.useContext(N),t=a.useContext(j);return n.jsxs(T,{children:[n.jsx("span",{children:n.jsx(c,{text:"New Balance"})}),n.jsx("span",{children:n.jsx(w,{money:_.ESP(e+t.value)})})]})},il=()=>n.jsxs(T,{children:[n.jsx("span",{children:n.jsx(c,{text:"Tx Fee"})}),n.jsx("span",{children:n.jsx(c,{text:"-"})})]}),ll=()=>{const e=a.useContext(v);return n.jsxs(T,{children:[n.jsx("span",{children:n.jsx(c,{text:"Commission"})}),n.jsx("span",{children:n.jsx(A,{percentage:e.commission.ratio})})]})};try{Mn.displayName="UnstakingOverviewArea",Mn.__docgenInfo={description:"",displayName:"UnstakingOverviewArea",props:{}}}catch{}const Ln=()=>n.jsxs(n.Fragment,{children:[n.jsxs(he,{children:[n.jsx(Ee,{}),n.jsx(me,{children:n.jsx(c,{text:"Manage Stake"})}),n.jsx(pe,{})]}),n.jsxs(ue,{children:[n.jsx(Jn,{}),n.jsx(Mn,{}),n.jsx(dl,{})]})]}),dl=()=>{const e=a.useContext(vt),t=a.useContext(Ve),r=a.useContext(Q),o=a.useContext(j),s=a.useContext(O)??0n,l=f.encode(r),i=a.useContext(ht),d=a.useContext(se),y=a.useContext(F),D=a.useContext(B),Me=a.useContext(ut);if(e===null||t===null||o.value<=0n||o.value>s)return n.jsxs("div",{className:"staking-modal-unstaking-actions-area",children:[n.jsx("div",{children:" "}),n.jsx(h,{className:"btn-undelegate",disabled:!0,children:n.jsx(c,{text:"Undelegate"})})]});const Ur=()=>Me(Wi(e,t,l,o.value,d));return i.asyncState===g.waiting||i.data&&!(i.data instanceof Ka)?n.jsxs("div",{className:"staking-modal-unstaking-actions-area waiting",children:[n.jsx("div",{children:n.jsx(c,{text:"Undelegating..."})}),n.jsx(h,{className:"btn-undelegate",disabled:!0,children:n.jsx(c,{text:"Undelegate"})})]}):i.asyncState===g.done?i.hasError?n.jsxs("div",{className:"staking-modal-unstaking-actions-area error",children:[n.jsx("div",{children:n.jsx(c,{text:"Undelegation Failed"})}),n.jsx(h,{className:"btn-undelegate",onClick:Ur,children:n.jsx(c,{text:"Retry"})})]}):n.jsxs("div",{className:"staking-modal-unstaking-actions-area succeeded",children:[n.jsx("div",{children:n.jsx(c,{text:"Delegation Successful"})}),n.jsx(h,{onClick:()=>{D(new ye),y.close()},children:n.jsx(c,{text:"Close"})})]}):n.jsxs("div",{className:"staking-modal-unstaking-actions-area",children:[n.jsx("div",{children:" "}),n.jsx(h,{className:"btn-undelegate",onClick:Ur,children:n.jsx(c,{text:"Undelegate"})})]})};try{Ln.displayName="UndelegationContent",Ln.__docgenInfo={description:"",displayName:"UndelegationContent",props:{}}}catch{}const Fn=()=>n.jsxs(n.Fragment,{children:[n.jsxs(he,{children:[n.jsx(me,{children:n.jsx(c,{text:"Select a Validator"})}),n.jsx(pe,{})]}),n.jsx(ue,{})]});try{Fn.displayName="ValidatorSelectionNeededContent",Fn.__docgenInfo={description:"",displayName:"ValidatorSelectionNeededContent",props:{}}}catch{}const Un=()=>n.jsx(dn,{className:"staking-modal",closedby:"none",children:n.jsx(pl,{})}),pl=()=>{const e=a.useContext(I),t=a.useContext(be);if(t instanceof Lr||t instanceof it||t instanceof Fr){const r=e?.nodes.find(o=>W(o.address,t.validatorAddress)===0)??new bt(t.validatorAddress,new ca("",new ArrayBuffer(0)),0n,new oe(0));return n.jsx(v.Provider,{value:r,children:n.jsx(Q.Provider,{value:t.validatorAddress,children:n.jsx(An,{children:n.jsx(ul,{children:n.jsx(hl,{})})})})})}return n.jsx(Fn,{})},ul=({children:e})=>n.jsx(jn,{children:n.jsx(Nn,{children:n.jsx(wn,{children:n.jsx(kn,{children:n.jsx(bn,{children:e})})})})}),hl=()=>{const e=a.useContext(be),t=a.useContext(B),r=a.useContext(O);return e instanceof it?n.jsx(Wn,{}):e instanceof Fr?n.jsx(Ln,{}):(e instanceof Lr||assert(!1),r===null?n.jsx(n.Fragment,{}):r<=0n?(t(new it(e.validatorAddress)),n.jsx(n.Fragment,{})):n.jsx(Pn,{}))};try{Un.displayName="StakingModal",Un.__docgenInfo={description:"",displayName:"StakingModal",props:{}}}catch{}var R=(e=>(e[e.rank=0]="rank",e[e.validator=1]="validator",e[e.totalStake=2]="totalStake",e[e.fee=3]="fee",e[e.missedSlots=4]="missedSlots",e[e.participationRate=5]="participationRate",e[e.hotShotConsensus=6]="hotShotConsensus",e))(R||{}),qn=(e=>(e[e.asc=0]="asc",e[e.desc=1]="desc",e))(qn||{});const yt=a.createContext({sortBy:()=>{}}),Hn=a.createContext({sortBy:2,sortDirection:1}),zn=()=>{const[e,t]=a.useState({sortBy:2,sortDirection:1});return{tableState:e,tableControls:{sortBy:o=>{t(s=>{if(s.sortBy!==o)return{...s,sortBy:o};switch(s.sortDirection){case 0:return{...s,sortDirection:1};case 1:return{...s,sortDirection:0}}})}}}};function ml(e,t){return e[1]-t[1]}function xl(e,t){return W(e[0].address,t[0].address)}function fl(e,t){return Number(e[0].commission.valueOf()-t[0].commission.valueOf())}function _l(e,t){const r=e[2]?.leaderParticipation.ratio??-1,o=t[2]?.leaderParticipation.ratio??-1;return r-o}function yl(e,t){const r=e[2]?.voterParticipation.ratio??-1,o=t[2]?.voterParticipation.ratio??-1;return r-o}function gl(e,t){return Number(Number(e[2])-Number(t[2]))}function Cl(e,t){return Number(e[0].stake-t[0].stake)}function vl(e){switch(e){case 0:return ml;case 1:return xl;case 2:return Cl;case 3:return fl;case 4:return _l;case 5:return yl;case 6:return gl;default:throw new C}}function Sl(e){switch(e){case 0:return t=>t;case 1:return t=>(r,o)=>-t(r,o)}}function Nl(e,t,r,o){if(!e)return e;const{sortBy:s,sortDirection:l}=t,d=Sl(l)(vl(s));return new At(e.l1Block,e.nodes.map(y=>{const D=f.encode(y.address);return[y,r.get(D)??Number.MAX_SAFE_INTEGER,o.get(D)??null]}).sort(d).map(y=>y[0]))}const Kn=e=>{const{tableState:t,tableControls:r}=zn(),o=a.useContext(I),s=a.useContext(we),l=a.useContext(L),i=Nl(o,t,s,l);return n.jsx(I.Provider,{value:i,children:n.jsx(Hn.Provider,{value:t,children:n.jsx(yt.Provider,{value:r,children:e.children})})})};try{R.displayName="CellType",R.__docgenInfo={description:`CellType enumerates the different types of columns that can be
sorted in the validator table.`,displayName:"CellType",props:{}}}catch{}try{qn.displayName="SortDirection",qn.__docgenInfo={description:"SortDirection enumerates the possible directions for sorting the table.",displayName:"SortDirection",props:{}}}catch{}try{yt.displayName="TableSortControlsContext",yt.__docgenInfo={description:"",displayName:"TableSortControlsContext",props:{}}}catch{}try{Hn.displayName="TableSortStateContext",Hn.__docgenInfo={description:"",displayName:"TableSortStateContext",props:{}}}catch{}try{zn.displayName="useValidatorTableSortState",zn.__docgenInfo={description:`useValidatorTableSortState is a custom hook that manages the sorting state
for the validator table, providing the current state and controls to modify
it.`,displayName:"useValidatorTableSortState",props:{}}}catch{}try{Kn.displayName="ValidatorTableSortStateProvider",Kn.__docgenInfo={description:`ValidatorTableSortStateProvider is a context provider that manages
the sorting state for the validator table and provides sorted validator
data to its children.`,displayName:"ValidatorTableSortStateProvider",props:{}}}catch{}const $n=()=>n.jsx(n.Fragment,{});try{$n.displayName="ActionsHeadCell",$n.__docgenInfo={description:`ActionsHeadCell is the header cell for the actions to take in the
validator table.`,displayName:"ActionsHeadCell",props:{}}}catch{}const Qn=()=>n.jsx(n.Fragment,{children:n.jsx(c,{text:"Claim In"})});try{Qn.displayName="ClaimInHeadCell",Qn.__docgenInfo={description:`ClaimInHeadCell is the header cell for the Claim In column in the
validator table.`,displayName:"ClaimInHeadCell",props:{}}}catch{}const ae=e=>a.createElement(jt,{...e,viewBox:"0 0 12 12",className:k(e.className,"stroked")},n.jsxs(n.Fragment,{children:[n.jsx("path",{d:"M9.25 7.75049L6 11.0005L2.75 7.75049",strokeWidth:"1.5"}),n.jsx("path",{d:"M9.25 4.25049L6 1.00049L2.75 4.25049",strokeWidth:"1.5"})]}));try{verticalscroll.displayName="verticalscroll",verticalscroll.__docgenInfo={description:"VerticalScroll represents a vertical scroll icon.",displayName:"verticalscroll",props:{}}}catch{}const Gn=()=>n.jsxs(n.Fragment,{children:[n.jsx(c,{text:"Commission Rate"})," ",n.jsx(ae,{})]});try{Gn.displayName="FeeHeadCell",Gn.__docgenInfo={description:"FeeHeadCell is the header cell for the Fee column in the validator table.",displayName:"FeeHeadCell",props:{}}}catch{}const Yn=()=>n.jsxs(n.Fragment,{children:[n.jsx(c,{text:"Consensus"})," ",n.jsx(ae,{})]});try{Yn.displayName="HotShotConsensusHeadCell",Yn.__docgenInfo={description:`HotShotConsensusHeadCell is the header cell for the HotShot Consensus
column in the validator table.`,displayName:"HotShotConsensusHeadCell",props:{}}}catch{}const Xn=()=>n.jsxs(n.Fragment,{children:[n.jsx(c,{text:"Missed Slots"})," ",n.jsx(ae,{})]});try{Xn.displayName="MissedSlotsHeadCell",Xn.__docgenInfo={description:`MissedSlotsHeadCell is the header cell for the Missed Slots column in the
validator table.`,displayName:"MissedSlotsHeadCell",props:{}}}catch{}const Zn=()=>n.jsxs(n.Fragment,{children:[n.jsx(c,{text:"Participation"})," ",n.jsx(ae,{})]});try{Zn.displayName="ParticipationRateHeadCell",Zn.__docgenInfo={description:`ParticipationRateHeadCell is the header cell for the Participation Rate
column in the validator table.`,displayName:"ParticipationRateHeadCell",props:{}}}catch{}const er=()=>n.jsxs(n.Fragment,{children:[n.jsx(c,{text:"Rank"})," ",n.jsx(ae,{})]});try{er.displayName="RankHeadCell",er.__docgenInfo={description:"RankHeadCell is the header cell for the Rank column in the validator table.",displayName:"RankHeadCell",props:{}}}catch{}const tr=()=>n.jsxs(n.Fragment,{children:[n.jsx(c,{text:"Total Stake"})," ",n.jsx(ae,{})]});try{tr.displayName="TotalStakeHeadCell",tr.__docgenInfo={description:`TotalStakeHeadCell is the header cell for the Total Stake column in the
validator table.`,displayName:"TotalStakeHeadCell",props:{}}}catch{}const nr=()=>n.jsxs(n.Fragment,{children:[n.jsx(c,{text:"Validator"})," ",n.jsx(ae,{})]});try{nr.displayName="ValidatorHeadCell",nr.__docgenInfo={description:`ValidatorHeadCell is the header cell for the Validator column in the
validator table.`,displayName:"ValidatorHeadCell",props:{}}}catch{}const gt=()=>{const{sortBy:e}=a.useContext(yt);return n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"sortable",onClick:()=>e(R.rank),children:n.jsx(er,{})}),n.jsx("th",{className:"sortable",onClick:()=>e(R.validator),children:n.jsx(nr,{})}),n.jsx("th",{className:"sortable",onClick:()=>e(R.totalStake),children:n.jsx(tr,{})}),n.jsx("th",{className:"sortable",onClick:()=>e(R.fee),children:n.jsx(Gn,{})}),n.jsx("th",{className:"sortable",onClick:()=>e(R.missedSlots),children:n.jsx(Xn,{})}),n.jsx("th",{className:"sortable",onClick:()=>e(R.participationRate),children:n.jsx(Zn,{})}),n.jsx("th",{className:"sortable",onClick:()=>e(R.hotShotConsensus),children:n.jsx(Yn,{})}),n.jsx("th",{children:n.jsx(Qn,{})}),n.jsx("th",{children:n.jsx($n,{})})]})})};try{gt.displayName="DelegationTableHeader",gt.__docgenInfo={description:`DelegationTableHeader is a component that renders
the header row of the delegation table with sortable columns.`,displayName:"DelegationTableHeader",props:{}}}catch{}const rr=()=>{const e=a.useContext(v),t=a.useContext(q),r=a.useContext(Nr),o=a.useContext(F),s=a.useContext(B);return!t||r.connectModalOpen?n.jsx(n.Fragment,{children:n.jsx(h,{className:"action",onClick:r.openConnectModal,children:n.jsx(c,{text:"Delegate"})})}):n.jsx(n.Fragment,{children:n.jsx(h,{className:"action",onClick:()=>{s(new Lr(e.address)),o.open()},children:n.jsx(c,{text:"Delegate"})})})};try{rr.displayName="ActionsCell",rr.__docgenInfo={description:"",displayName:"ActionsCell",props:{}}}catch{}const ar=()=>n.jsx(n.Fragment,{children:n.jsx(c,{text:"-"})});try{ar.displayName="ClaimInCell",ar.__docgenInfo={description:`ClaimInCell displays information related to being able to withdraw claims
from a validator node.`,displayName:"ClaimInCell",props:{}}}catch{}const or=()=>{const e=a.useContext(v);return n.jsx(A,{percentage:e.commission.valueOf()})};try{or.displayName="FeeCell",or.__docgenInfo={description:"FeeCell displays the commission fee of a validator as a percentage.",displayName:"FeeCell",props:{}}}catch{}const sr=()=>{const e=a.useContext(v),t=a.useContext(L),r=f.encode(e.address);return t.has(r)?n.jsx(ft,{}):n.jsx(_t,{})};try{sr.displayName="HotShotConsensusCell",sr.__docgenInfo={description:`HotShotConsensusCell displays whether a validator is part of the
HotShot consensus set using active/inactive consensus chips.`,displayName:"HotShotConsensusCell",props:{}}}catch{}const cr=()=>{const e=a.useContext(v),r=a.useContext(L).get(f.encode(e.address));return r?n.jsx(A,{percentage:1-r.leaderParticipation.ratio}):n.jsx(c,{text:"-"})};try{cr.displayName="MissedSlotsCell",cr.__docgenInfo={description:"MissedSlotsCell displays the percentage of missed slots for a validator.",displayName:"MissedSlotsCell",props:{}}}catch{}const ir=()=>{const e=a.useContext(v);return n.jsx(Nt,{value:new wt(e.address)})};try{ir.displayName="NodeNameCell",ir.__docgenInfo={description:`NameNodeCell displays the wallet address of a validator node. It is
actually intended to show the name, and an icon for the validator,
but it's currently unclear how we would source this information.`,displayName:"NodeNameCell",props:{}}}catch{}const lr=()=>{const e=a.useContext(v),r=a.useContext(L).get(f.encode(e.address));return r?n.jsx(A,{percentage:r.voterParticipation.ratio}):n.jsx(c,{text:"-"})};try{lr.displayName="ParticipationRateCell",lr.__docgenInfo={description:"ParticipationRateCell displays the voter participation rate for a validator.",displayName:"ParticipationRateCell",props:{}}}catch{}const dr=()=>{const e=a.useContext(v),t=a.useContext(we),r=u.encode(e.address),o=t.get(r);return n.jsx(la,{number:o??-1})};try{dr.displayName="RankCell",dr.__docgenInfo={description:`RankCell is a component that displays
the rank of the current validator node.`,displayName:"RankCell",props:{}}}catch{}const pr=()=>{const e=a.useContext(ke),t=a.useContext(v),r=Number(t.stake)/Number(e);return n.jsxs(n.Fragment,{children:[n.jsx(w,{money:_.ESP(t.stake)})," ",n.jsxs("span",{className:"percentage-text",children:["(",n.jsx(A,{percentage:r}),")"]})]})};try{pr.displayName="TotalStakeCell",pr.__docgenInfo={description:`TotalStakeCell displays the stake amount for a validator node, along with its
percentage of the total stake.`,displayName:"TotalStakeCell",props:{}}}catch{}const ur=()=>n.jsxs("tr",{children:[n.jsx("td",{children:n.jsx(dr,{})}),n.jsx("td",{children:n.jsx(ir,{})}),n.jsx("td",{children:n.jsx(pr,{})}),n.jsx("td",{children:n.jsx(or,{})}),n.jsx("td",{children:n.jsx(cr,{})}),n.jsx("td",{children:n.jsx(lr,{})}),n.jsx("td",{children:n.jsx(sr,{})}),n.jsx("td",{children:n.jsx(ar,{})}),n.jsx("td",{children:n.jsx(rr,{})})]});try{ur.displayName="NodeValidatorTableRow",ur.__docgenInfo={description:`NodeValidatorTableRow is a component that represents a single row
in the validator nodes table, displaying various details about the validator.`,displayName:"NodeValidatorTableRow",props:{}}}catch{}const hr=()=>{const e=a.useContext(I);return e?n.jsxs("table",{className:"all-validators-table",children:[n.jsx(gt,{}),n.jsx("tbody",{children:e.nodes.map((t,r)=>n.jsx(v.Provider,{value:t,children:n.jsx(ur,{})},r))})]}):n.jsx(n.Fragment,{})};try{hr.displayName="DelegationTable",hr.__docgenInfo={description:`DelegationTable is a component that renders
the table of validator nodes in the delegation UI.`,displayName:"DelegationTable",props:{}}}catch{}const Et=a.createContext(0),Qa=a.createContext(()=>{}),jl=()=>n.jsxs("table",{className:"all-validators-table",children:[n.jsx(gt,{}),n.jsx("tbody",{children:n.jsx("tr",{children:n.jsxs("td",{className:"no-data",colSpan:8,children:[n.jsx(c,{text:"Nothing brewing yet..."}),n.jsx("br",{}),n.jsx("br",{}),n.jsx(Ga,{})]})})})]}),wl=()=>{const e=a.useContext(I);return a.useContext(Et)===1&&(e?.nodes.length??0)===0?n.jsx(jl,{}):n.jsx(hr,{})},mr=()=>n.jsx(Il,{children:n.jsxs(ln,{children:[n.jsx(Un,{}),n.jsxs("section",{className:"delegation-ui-content edge-margin",children:[n.jsx(Sn,{}),n.jsx(_n,{}),n.jsx(Al,{}),n.jsx(bl,{children:n.jsx(Kn,{children:n.jsx(wl,{})})})]})]})});function kl(e,t,r){if(!e)return null;switch(r){case 0:return e;case 1:return t?new At(e.l1Block,e.nodes.filter(o=>!!t.nodes.find(s=>W(o.address,s.node)===0))):null}}const bl=({children:e})=>{const t=a.useContext(I),r=a.useContext(Ae),o=a.useContext(Et);return n.jsx(I.Provider,{value:kl(t,r,o),children:e})},Al=()=>{const e=a.useContext(Et),t=a.useContext(Qa);return n.jsxs("div",{className:"delegation-ui-table-controls",children:[n.jsx(pn,{selected:e,onSelectionChange:r=>{t(r)},segments:[{value:0,label:n.jsx(c,{text:"All"})},{value:1,label:n.jsx(c,{text:"My Stakes"})}]}),n.jsx(Ga,{})]})},Il=({children:e})=>{const[t,r]=a.useState(0);return n.jsx(Et.Provider,{value:t,children:n.jsx(Qa.Provider,{value:r,children:e})})},Ga=()=>{const e=a.useContext(q),t=a.useContext(Nr),r=a.useContext(F);return!e||t.connectModalOpen?n.jsxs(h,{onClick:t.openConnectModal,children:[n.jsx(on,{}),n.jsx(c,{text:"Delegate"})]}):n.jsxs(h,{onClick:r.open,children:[n.jsx(on,{}),n.jsx(c,{text:"Delegate"})]})};try{mr.displayName="DelegationUIContent",mr.__docgenInfo={description:`DelegationUIContent is the main content area for the Delegation UI page.

It defines the layout and structure of the content that is displayed within
the Delegation UI.

All of the content is displayed within a dedicated element to define the
area for styling purposes, and for content display.`,displayName:"DelegationUIContent",props:{}}}catch{}const Dl=()=>n.jsx(Pl,{children:n.jsxs("main",{className:"delegation-ui",children:[n.jsx(cn,{}),n.jsx(mr,{})]})}),Pl=({children:e})=>n.jsx($t,{children:n.jsx(tn,{children:n.jsx(Gt,{children:n.jsx(Ht,{children:n.jsx(zt,{children:n.jsx(qt,{children:n.jsx(an,{children:n.jsx(Zt,{children:n.jsx(Kt,{children:n.jsx(Xt,{children:n.jsx(rn,{children:e})})})})})})})})})})});try{delegationui.displayName="delegationui",delegationui.__docgenInfo={description:`DelegationUI is a component that represents the entire Delegation UI
self contained page.`,displayName:"delegationui",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const xr=({children:e})=>{const t=a.useContext(vt),r=a.useContext(M);return n.jsx(M.Provider,{value:Ol(r,t),children:e})};function Ol(e,t){if(t instanceof lo){const r=new El(e);return t.setTransactionCallback(r.wallet),r}return e}const Ya=new It([],[],[],0n,new Ce(0n,new ArrayBuffer,new Date(0))),fr=new wr(0n,0n,new Date(0));class Rl{constructor(t={snapshots:new Map}){this.state=t}async snapshot(t){const r=f.encode(t);return this.state.snapshots.get(r)??Ya}async updates(){throw new C}l1Transaction(t){if(t instanceof po){this.reportStakeTableAction(t);return}}reportStakeTableAction(t){this.state=Tl(this.state,t)}}class El{constructor(t){this.service=t}wallet=new Rl;get l1Block(){return this.service.l1Block}get validatorsAll(){return this.service.validatorsAll}get validatorsActive(){return this.service.validatorsActive}setURL(){throw new C}}function Bl(e){return e instanceof _r||e instanceof We||e instanceof yr?e.delegator:null}function Tl(e,t){let r=e.snapshots;const o=Bl(t);return o?(e.snapshots.has(o)||(r=gr(e.snapshots,Cr([o,Ya]))),{snapshots:new Map(K(r,s=>Vl(s,t)))}):e}function Vl(e,t){const[r,o]=e;return[r,Wl(f.decode(r),o,t)]}function Wl(e,t,r){return new It(Jl(e,t.nodes,r),Ll(e,t.pendingUndelegations,r),Ul(e,t.pendingExits),ql(e,t.claimedRewards),Hl(e,t.l1Block))}function Jl(e,t,r){if(!(r instanceof _r||r instanceof We))return t;const o=r.validator,s=f.decode(o),l=aa(t,d=>W(d.node,s)===0);let i=t;return l||(i=gr(t,Cr(new rt(e,s,0n,fr)))),Array.from(oa(K(i,d=>Ml(e,s,d,r)),d=>d.amount>0n))}function Ml(e,t,r,o){return W(r.delegator,e)!==0||W(r.node,t)!==0?r:o instanceof _r?new rt(e,t,r.amount+o.amount,fr):o instanceof We?new rt(e,t,r.amount-o.amount,fr):r}function Ll(e,t,r){if(!(r instanceof We||r instanceof yr))return t;const o=r.to,s=f.decode(o),l=aa(t,d=>W(d.node,s)===0);let i=t;return l||(i=gr(t,Cr(new at(e,s,0n,new Date(0))))),Array.from(oa(K(i,d=>Fl(e,s,d,r)),d=>d.amount>0n))}function Fl(e,t,r,o){return W(r.delegator,e)!==0||W(r.node,t)!==0?r:o instanceof We?new at(e,t,o.value,new Date(o.ts.valueOf()+Number(o.exitEscrowPeriod))):o instanceof yr?new at(e,t,0n,new Date(0)):r}function Ul(e,t,r){return t}function ql(e,t,r){return t}function Hl(e,t,r){return t}try{xr.displayName="L1ValidatorServiceMockInjection",xr.__docgenInfo={description:"",displayName:"L1ValidatorServiceMockInjection",props:{}}}catch{}const zl=({environment:e,stakeTableContractAddress:t,espTokenContractAddress:r,hotshotQueryServiceURL:o,nodeValidatorWebSocketURL:s,l1ValidatorServiceURL:l,...i})=>n.jsx(n.Fragment,{children:n.jsxs(uo,{environment:e,stakeTableContractAddress:t,espTokenContractAddress:r,hotshotQueryServiceURL:o,nodeValidatorWebSocketURL:s,l1ValidatorServiceURL:l,children:[n.jsx(to,{}),n.jsx(Za,{children:n.jsx(fo,{children:n.jsx(Ut,{children:n.jsx(xr,{children:n.jsx(Dl,{...i})})})})})]})}),cp={title:"Sites/Delegation UI/Page",component:zl,parameters:{layout:"fullscreen"},args:{environment:eo.fakeData,stakeTableContractAddress:void 0,espTokenContractAddress:void 0,hotshotQueryServiceURL:void 0,nodeValidatorWebSocketURL:void 0,l1ValidatorServiceURL:void 0},argTypes:{...no,l1ValidatorServiceURL:{control:"text"}},globals:{background:"light",parameters:{backgrounds:{default:"light",options:{light:{name:"Light",value:"#f8fafcff"}}}}}},Fe={},Ue={args:ro},qe={args:ao},He={args:{...oo,l1ValidatorServiceURL:"https://staking.decaf.testnet.espresso.network/v0/"}},ze={args:so},Ke={args:co},$e={args:io};Fe.parameters={...Fe.parameters,docs:{...Fe.parameters?.docs,source:{originalSource:"{}",...Fe.parameters?.docs?.source}}};Ue.parameters={...Ue.parameters,docs:{...Ue.parameters?.docs,source:{originalSource:`{
  args: environmentArgsMilkWithContracts
}`,...Ue.parameters?.docs?.source}}};qe.parameters={...qe.parameters,docs:{...qe.parameters?.docs,source:{originalSource:`{
  args: environmentArgsWaterWithContracts
}`,...qe.parameters?.docs?.source}}};He.parameters={...He.parameters,docs:{...He.parameters?.docs,source:{originalSource:`{
  args: {
    ...environmentArgsDecafWithContracts,
    l1ValidatorServiceURL: 'https://staking.decaf.testnet.espresso.network/v0/'
  }
}`,...He.parameters?.docs?.source}}};ze.parameters={...ze.parameters,docs:{...ze.parameters?.docs,source:{originalSource:`{
  args: environmentArgsMainnetWithContracts
}`,...ze.parameters?.docs?.source}}};Ke.parameters={...Ke.parameters,docs:{...Ke.parameters?.docs,source:{originalSource:`{
  args: environmentArgsFakeDataWithContracts
}`,...Ke.parameters?.docs?.source}}};$e.parameters={...$e.parameters,docs:{...$e.parameters?.docs,source:{originalSource:`{
  args: environmentArgsLocalDevNetWithContracts
}`,...$e.parameters?.docs?.source}}};const ip=["Default","Milk","Water","Decaf","Mainnet","FakeData","LocalDevNet"];export{He as Decaf,Fe as Default,Ke as FakeData,$e as LocalDevNet,ze as Mainnet,Ue as Milk,qe as Water,ip as __namedExportsOrder,cp as default};
