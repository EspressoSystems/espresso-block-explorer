import{R as r,j as e}from"./iframe-DDtNpaPj.js";import{E as g}from"./espresso-CcXh92Ge.js";import{I as H}from"./IconButton-C7A32fGK.js";import{L as N}from"./LabeledButton-BOBFnxDP.js";import{I as Oe}from"./Container-CI3AZz21.js";import{E as Ue}from"./esp_input-pYnIC1Rn.js";import{C as We}from"./Card-CylQopmA.js";import"./environment_banner-Bt66bpPT.js";import"./Heading1-By1pe6gQ.js";import{H as T}from"./Heading2-BJOIYuUD.js";import"./label-iiT-L9ET.js";import"./SummaryTableLabeledValue-OfpPbpIA.js";import"./SummaryValueLabeled-DIazzrND.js";import"./TableLabeledValue-D_XOplBD.js";import{D as E}from"./divider-gEW_YRe-.js";import{D as Le,F as qe,G as ze,U as Ke,I as ve,J as Ge,K as Ye,M as je,O as U,Q as He,V as Qe,W as $e,X as Ze,Y as Xe,Z as Je,_ as et,$ as K,a0 as tt,a1 as nt,a2 as at,a3 as st,a4 as rt,a5 as k,a6 as ot,a7 as it,a8 as lt,a9 as dt,aa as Se,ab as Ae,ac as _e}from"./en_US-RFN65H63-CTnePVuI.js";import{T as ut,B as ct,g as pt,a as f,f as Ne,e as mt}from"./contexts-BrT1hA8R.js";import{C as te,W as ne}from"./deserializer-CaKInpvD.js";import{M as w}from"./MoneyText-B2ZUl_Jj.js";import{P as ke}from"./VariableByteSizeText-rWsvQujX.js";import{T as d}from"./Text-BU7JBOLk.js";import{a as yt,A as xt,E as he}from"./Payments-BX4BoOqZ.js";import"./TwitterIcon-BBk5j8w5.js";import"./ArrowRight-ChO6ZJVF.js";import{C as G}from"./CheckCircleFilled-B53sWYXb.js";import"./ChevronUp-CFuZWzef.js";import{M as ft}from"./Close-Dp-9NuJB.js";import"./Copy-DLM2aOgO.js";import"./MediumIcon-Xz8gq4DC.js";import"./EspressoLogo-CVlSExep.js";import"./EspressoLogoAndTitle-SGW36svw.js";import"./Menu-DrTRbZPz.js";import"./SearchGlass-CzGECd0H.js";import"./SVGIconBase-B0WWpDx_.js";import"./XIcon-985dggVd.js";import{U as ht}from"./UnimplementedError-DEXMe0kn.js";import{m as Be,c as Ct,i as Tt,h as gt,g as wt,n as Ie}from"./functional-CtVX7zWU.js";import{M as C}from"./monetary_value-D_JlCdWi.js";import{w as W}from"./TransactionDetailLoader-uuAlQfpC.js";import"./BlockPage-BMADIJ_X.js";import"./BlocksPage-DtQ3n3G9.js";import{C as bt}from"./CappuccinoHotShotQueryServiceAPIContext-2pD9lkuW.js";import{C as ae}from"./NodesPage-sQKcky3Q.js";import"./ExplorerPage-DZ01PkrH.js";import"./RollUpPage-ajheeCmW.js";import"./RollUpsPage-MuMllO7P.js";import"./TransactionPage-BUq5Hv7U.js";import"./TransactionsForBlockPage-BEGipP8D.js";import"./TransactionsPage-BbX54VOe.js";import{e as vt,E as jt,L as St,D as L}from"./LoadingProvider-EJvyESuW.js";import{P as At}from"./PromiseResolver-C_ImKZPs.js";import"./AnchorButton-DA4Bq6x6.js";import"./Button-CqmGfx7a.js";import"./IconAnchorButton-B4U3DH5a.js";import"./LabeledAnchorButton-ClL5Sb1H.js";import"./LatestBlockSummary-DePinSYk.js";import"./ByteSizeText-D2zWMQS7.js";import"./CopyHex-CTLMxk7t.js";import"./DateTimeText-eJTc5mLm.js";import"./FullHexText-P0-GHCQv.js";import"./HexText-wQTcpdN9.js";import"./NumberText-CXwUlbas.js";import"./RelativeTimeSinceDateText-B4wxGErP.js";import"./TaggedBase64Text-BK5qbBAK.js";import"./TimeText-DrDa6YiX.js";import{A as _t}from"./AsyncIterableResolver-CbpLIt6A.js";import"./ProvideAsyncStates-C3y7nSv7.js";import"./PromiseBuilder-RrbLrYG2.js";import{S as Q,D as Nt,a as kt,b as Bt,A as O,c as R}from"./DataTable-BxoJ9gNT.js";import{E as It}from"./ErrorDisplay-c2pgfMpe.js";import{S as I}from"./SkeletonContent-Dlb-PyuE.js";import{a as Me,b as Ee,c as se,d as re,e as oe}from"./write_contract-PWtrnEWT.js";function Mt({chain:t,currentChainId:n}){if(!t)throw new Le;if(n!==t.id)throw new qe({chain:t,currentChainId:n})}function Et(t,{docsPath:n,...a}){const s=(()=>{const o=ze(t,a);return o instanceof Ke?t:o})();return new ut(s,{docsPath:n,...a})}const Y=new Ze(128);async function Pt(t,n){const{account:a=t.account,chain:s=t.chain,accessList:o,authorizationList:u,blobs:l,data:i,gas:c,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:y,maxPriorityFeePerGas:F,nonce:de,type:ue,value:ce,...pe}=n;if(typeof a>"u")throw new ve({docsPath:"/docs/actions/wallet/sendTransaction"});const h=a?je(a):null;try{Ge(n);const v=await(async()=>{if(n.to)return n.to;if(n.to!==null&&u&&u.length>0)return await Ye({authorization:u[0]}).catch(()=>{throw new ct("`to` is required. Could not infer from `authorizationList`.")})})();if(h?.type==="json-rpc"||h===null){let B;s!==null&&(B=await U(t,He,"getChainId")({}),Mt({currentChainId:B,chain:s}));const V=t.chain?.formatters?.transactionRequest?.format,ye=(V||Qe)({...$e(pe,{format:V}),accessList:o,authorizationList:u,blobs:l,chainId:B,data:i,from:h?.address,gas:c,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:y,maxPriorityFeePerGas:F,nonce:de,to:v,type:ue,value:ce},"sendTransaction"),xe=Y.get(t.uid),Ve=xe?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:Ve,params:[ye]},{retryCount:0})}catch(fe){if(xe===!1)throw fe;const j=fe;if(j.name==="InvalidInputRpcError"||j.name==="InvalidParamsRpcError"||j.name==="MethodNotFoundRpcError"||j.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[ye]},{retryCount:0}).then(q=>(Y.set(t.uid,!0),q)).catch(q=>{const z=q;throw z.name==="MethodNotFoundRpcError"||z.name==="MethodNotSupportedRpcError"?(Y.set(t.uid,!1),j):z});throw j}}if(h?.type==="local"){const B=await U(t,Xe,"prepareTransactionRequest")({account:h,accessList:o,authorizationList:u,blobs:l,chain:s,data:i,gas:c,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:y,maxPriorityFeePerGas:F,nonce:de,nonceManager:h.nonceManager,parameters:[...Je,"sidecars"],type:ue,value:ce,...pe,to:v}),V=s?.serializers?.transaction,me=await h.signTransaction(B,{serializer:V});return await U(t,et,"sendRawTransaction")({serializedTransaction:me})}throw h?.type==="smart"?new K({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new K({docsPath:"/docs/actions/wallet/sendTransaction",type:h?.type})}catch(v){throw v instanceof K?v:Et(v,{...n,account:h,chain:n.chain||void 0})}}async function Rt(t,n){const{abi:a,account:s=t.account,address:o,args:u,dataSuffix:l,functionName:i,...c}=n;if(typeof s>"u")throw new ve({docsPath:"/docs/contract/writeContract"});const p=s?je(s):null,m=tt({abi:a,args:u,functionName:i});try{return await U(t,Pt,"sendTransaction")({data:`${m}${l?l.replace("0x",""):""}`,to:o,account:p,...c})}catch(y){throw nt(y,{abi:a,address:o,args:u,docsPath:"/docs/contract/writeContract",functionName:i,sender:p?.address})}}async function Dt(t,n){const{account:a,chainId:s,connector:o,...u}=n;let l;return typeof a=="object"&&a?.type==="local"?l=t.getClient({chainId:s}):l=await at(t,{account:a??void 0,assertChainId:!1,chainId:s,connector:o}),await pt(l,Rt,"writeContract")({...u,...a?{account:a}:{},chain:s?{id:s}:null})}function Ft(t,n={}){return{async queryFn({queryKey:a}){const s=n.abi;if(!s)throw new Error("abi is required");const{functionName:o,scopeKey:u,...l}=a[1],i=(()=>{const c=a[1];if(c.address)return{address:c.address};if(c.code)return{code:c.code};throw new Error("address or code is required")})();if(!o)throw new Error("functionName is required");return st(t,{abi:s,functionName:o,args:l.args,...i,...l})},queryKey:Vt(n)}}function Vt(t={}){const{abi:n,...a}=t;return["readContract",rt(a)]}function Ot(t){return{mutationFn(n){return Dt(t,n)},mutationKey:["writeContract"]}}function Ut(t={}){const{abi:n,address:a,functionName:s,query:o={}}=t,u=t.code,l=k(t),i=ot({config:l}),c=Ft(l,{...t,chainId:t.chainId??i}),p=!!((a||u)&&n&&s&&(o.enabled??!0));return it({...o,...c,enabled:p,structuralSharing:o.structuralSharing??lt})}function ie(t={}){const{mutation:n}=t,a=k(t),s=Ot(a),{mutate:o,mutateAsync:u,...l}=dt({...n,...s});return{...l,writeContract:o,writeContractAsync:u}}const x=r.createContext({showModal:!1,stakingPhase:null,address:null,amount:null}),A=r.createContext({showModal:()=>{},closeModal:()=>{},setAmount:()=>{},setValidator:()=>{}});try{x.displayName="StakingModalStateContext",x.__docgenInfo={description:"",displayName:"StakingModalStateContext",props:{}}}catch{}try{A.displayName="StakingModalControlsContext",A.__docgenInfo={description:"",displayName:"StakingModalControlsContext",props:{}}}catch{}const Pe=r.createContext([]),Wt=()=>{const[t]=r.useContext(R),n=t?.account??null;return n===null?e.jsx(d,{text:"-"}):e.jsx(te,{value:n,children:e.jsx(ne,{value:n})})},Lt=()=>{const[t]=r.useContext(R);return t.commission.value<=0?e.jsx(d,{text:"-"}):e.jsx(ke,{percentage:t.commission.valueOf()})},qt=()=>{const[,t]=r.useContext(R);return t<=0n?e.jsx(d,{text:"-"}):e.jsx(w,{money:C.ESP(t)})},zt=()=>{const[t]=r.useContext(R);return t.stake<=0n?e.jsx(d,{text:"-"}):e.jsx(w,{money:C.ESP(t.stake)})},Kt=()=>{const[t]=r.useContext(R),n=r.useContext(A);return t===null||t.account.address===null?e.jsx(d,{text:"-"}):e.jsxs(e.Fragment,{children:[e.jsx(H,{title:"UnStake",onClick:()=>{},children:e.jsx(yt,{})}),e.jsx(H,{title:"Stake",onClick:()=>{n.showModal(t.account.toString())},children:e.jsx(xt,{})})]})};function Ce(t,n){const[a]=t,[s]=n;return gt(a.account.address,s.account.address)}function Gt(t,n){const[a]=t,[s]=n;return a.commission.valueOf()-s.commission.valueOf()}function Yt(t,n){const[,a]=t,[,s]=n;return Number(a-s)}function Ht(t,n){const[a]=t,[s]=n;return Number(a.stake-s.stake)}function Qt(t){switch(t){case"address":return Ce;case"commission":return Gt;case"delegated":return Yt;case"stake":return Ht;default:return Ce}}function $t(t,n){switch(n){case Q.asc:return t;case Q.desc:return(a,s)=>-t(a,s);default:return t}}function Zt(t,n,a){const s=$t(Qt(n),a);return t.sort(s)}const Re=t=>e.jsx(Bt,{columns:[{label:"Address",columnType:"address",buildCell:t.components[0]},{label:"Commission",columnType:"commission",buildCell:t.components[1],alignment:O.end},{label:"Your Delegated Stake",columnType:"delegated",buildCell:t.components[2],alignment:O.end},{label:"Total Stake",columnType:"stake",buildCell:t.components[3],alignment:O.end},{label:"Unstake / Stake",columnType:"actions",buildCell:t.components[4],alignment:O.end}]}),$=t=>{const{numElements:n=20}=t;return e.jsx(L.Provider,{value:Array.from(Tt(n)),children:e.jsx(Re,{components:[I,I,I,I,I]})})},Z=()=>e.jsx(Re,{components:[Wt,Lt,qt,zt,Kt]}),X=()=>{const[t,n]=r.useState({sortColumn:"delegated",sortDir:Q.desc}),a=r.useContext(jt),s=r.useContext(St),o=r.useContext(L);if(a)return e.jsx(It,{});if(!o||o instanceof Array&&o.length<=0&&s)return e.jsx($,{});const{sortColumn:u,sortDir:l}=t,i=Zt(o,u,l);return e.jsx(Nt.Provider,{value:t,children:e.jsx(kt.Provider,{value:n,children:e.jsx(L.Provider,{value:i,children:e.jsx(Z,{})})})})},Xt=()=>{const t=r.useContext(Pe),n=vt([t]);return e.jsx(_t,{asyncIterable:n,children:e.jsx(X,{})})},Jt=()=>{const t=r.useContext(ae),n=r.useContext(f);if(!n)return e.jsx(e.Fragment,{});const a=Array.from(Be(Ct(t.values(),s=>s.delegators.has(n.toLowerCase())),s=>[s,s.delegators.get(n.toLowerCase())]));return a.length<=0?e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsx(d,{text:"Want to contribute to network security?"})}),e.jsx("p",{children:e.jsx(d,{text:"You can delegate a portion of your ESP to a validator to earn rewards when they produce blocks."})})]}):e.jsx(Pe.Provider,{value:a,children:e.jsx(Xt,{})})},J=()=>e.jsxs(e.Fragment,{children:[e.jsx(E,{}),e.jsx("br",{}),e.jsx(T,{children:e.jsx(d,{text:"Your Validators"})}),e.jsx("br",{}),e.jsx(We,{children:e.jsx(Jt,{})})]});try{$.displayName="NodesSummaryDataTablePlaceholder",$.__docgenInfo={description:"",displayName:"NodesSummaryDataTablePlaceholder",props:{numElements:{defaultValue:null,description:"",name:"numElements",required:!1,type:{name:"number"}}}}}catch{}try{Z.displayName="NodesSummaryDataTablePopulated",Z.__docgenInfo={description:"",displayName:"NodesSummaryDataTablePopulated",props:{}}}catch{}try{X.displayName="YourDelegationsDataTable",X.__docgenInfo={description:"",displayName:"YourDelegationsDataTable",props:{}}}catch{}try{J.displayName="YourValidatorsSection",J.__docgenInfo={description:"",displayName:"YourValidatorsSection",props:{}}}catch{}const en=()=>{const t=r.useContext(mt);return e.jsx("div",{className:"staking-summary-content card--padding",children:e.jsxs("div",{children:[e.jsx(T,{children:e.jsx(d,{text:"Invalid Chain Selected"})}),e.jsxs("p",{children:[e.jsx(d,{text:"The chain that is configured with your current wallet is not supported for staking."}),e.jsx(d,{text:"Please select one of the following supported chains to view your staking summary:"})]}),e.jsx(N,{onClick:t.openChainModal,children:e.jsx(d,{text:"Select Chain"})})]})})},tn=()=>{const t=r.useContext(f),n=r.useContext(ae);if(!t)return null;const a=t.toLowerCase(),s=wt((o,u)=>o+u,0n,Be(n.values(),o=>o.delegators.get(a)??0n));return e.jsxs("div",{children:[e.jsx(T,{children:e.jsx(d,{text:"Your Delegated Stake"})}),e.jsx(w,{money:C.ESP(s)})]})},nn=()=>{const t=r.useContext(b);return t===null?null:e.jsxs("div",{children:[e.jsx(T,{children:e.jsx(d,{text:"Available Balance"})}),e.jsx(w,{money:C.ESP(t)})]})},S=r.createContext(null),b=r.createContext(null),P=r.createContext(new Date(0)),_=r.createContext(()=>{}),an=({children:t})=>{const[n,a]=r.useState(new Date);return e.jsx(P.Provider,{value:n,children:e.jsx(_.Provider,{value:()=>a(new Date),children:t})})},sn=({children:t})=>{const n=r.useContext(Se),a=r.useContext(P),s=r.useContext(f),o=r.useContext(g),u=o?.espTokenContractAddress,[l,i]=r.useState({lastRead:new Date(0),loading:!1,error:null,balance:null});if(!s||!o||!u||!n)return e.jsx(b.Provider,{value:null,children:t});if(a.valueOf()<=l.lastRead.valueOf()||l.loading)return e.jsx(b.Provider,{value:l.balance,children:t});const c=n.getClient(),p=Ae(c,{functionName:"balanceOf",abi:_e(["function balanceOf(address) view returns (uint256)"]),args:[s],address:u});return i({...l,loading:!0}),p.then(m=>{i({...l,lastRead:new Date,loading:!1,error:null,balance:m})},m=>{i({...l,loading:!1,error:m})}),e.jsx(b.Provider,{value:l.balance,children:t})},rn=({children:t})=>{const n=r.useContext(Se),a=r.useContext(P),s=r.useContext(f),o=r.useContext(g),u=o?.espTokenContractAddress,l=o?.stakeTableContractAddress,[i,c]=r.useState({lastRead:new Date(0),loading:!1,error:null,allowance:null});if(!s||!o||!u||!l||!n)return e.jsx(S.Provider,{value:null,children:t});if(a.valueOf()<=i.lastRead.valueOf()||i.loading)return e.jsx(S.Provider,{value:i.allowance,children:t});const p=n.getClient(),m=Ae(p,{address:u,functionName:"allowance",abi:_e(["function allowance(address,address) view returns (uint256)"]),args:[s,l]});return c({...i,loading:!0}),m.then(y=>{c({...i,lastRead:new Date,loading:!1,error:null,allowance:y})},y=>{c({...i,loading:!1,error:y})}),e.jsx(S.Provider,{value:i.allowance,children:t})},on=()=>{const t=r.useContext(L);return typeof t!="bigint"?e.jsx(d,{text:"no balance found"}):e.jsxs(e.Fragment,{children:[e.jsx(w,{money:C.ESP(t)}),e.jsx("br",{}),e.jsx(N,{disabled:!0,title:"Claiming rewards coming soon",children:e.jsx(d,{text:"Claim Rewards"})})]})},ln=()=>{const t=r.useContext(f),n=r.useContext(bt);if(!t)return null;const a=n.rewardState.getLatestRewardBalance(t);return e.jsxs("div",{className:"rewards",children:[e.jsx(T,{children:e.jsx(d,{text:"Unclaimed Rewards"})}),e.jsx(At,{promise:a,children:e.jsx(on,{})})]})},dn=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"staking-summary-content",children:[e.jsx(tn,{}),e.jsx(nn,{}),e.jsx(ln,{})]}),e.jsx(J,{})]}),Te=()=>{const t=r.useContext(f),n=r.useContext(Ne),a=k();return!t||!n?null:a.chains.find(o=>n.id===o.id)??null?e.jsx(dn,{}):e.jsx(en,{})},ge=({children:t})=>e.jsx(an,{children:e.jsx(sn,{children:e.jsx(rn,{children:t})})});try{S.displayName="CurrentStakeTableV1AllowanceContext",S.__docgenInfo={description:"",displayName:"CurrentStakeTableV1AllowanceContext",props:{}}}catch{}try{b.displayName="CurrentTokenBalanceContext",b.__docgenInfo={description:"",displayName:"CurrentTokenBalanceContext",props:{}}}catch{}try{P.displayName="LastWalletReadTimestampContext",P.__docgenInfo={description:"",displayName:"LastWalletReadTimestampContext",props:{}}}catch{}try{_.displayName="RefreshWalletReadContext",_.__docgenInfo={description:"",displayName:"RefreshWalletReadContext",props:{}}}catch{}try{Te.displayName="StakingSummarySection",Te.__docgenInfo={description:`StakingSummarySection is a section that governs the current wallet's
staking information.  In general this section should only be available
to wallets that are connected, and targeting the correct chain.

If the user's chain is not correct, then this section should let the
user know that they have the wrong chain selected, and that
they should switch to the correct chain.

With an active user on the correct chain, this section should
display the user's current staking summary as of the current epoch.
This **should** include information for the user concerning the following
topics:
- Staked Amount
- Current Balance
- (Allowance?)
- Current Rewards available to claim`,displayName:"StakingSummarySection",props:{}}}catch{}try{ge.displayName="EspressoAccountDetails",ge.__docgenInfo={description:"",displayName:"EspressoAccountDetails",props:{}}}catch{}const De=[{type:"constructor",inputs:[],stateMutability:"nonpayable"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"allowance",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"spender",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"decimals",inputs:[],outputs:[{name:"",type:"uint8",internalType:"uint8"}],stateMutability:"view"},{type:"function",name:"getVersion",inputs:[],outputs:[{name:"majorVersion",type:"uint8",internalType:"uint8"},{name:"minorVersion",type:"uint8",internalType:"uint8"},{name:"patchVersion",type:"uint8",internalType:"uint8"}],stateMutability:"pure"},{type:"function",name:"initialize",inputs:[{name:"_owner",type:"address",internalType:"address"},{name:"_initialGrantRecipient",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"newImplementation",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Upgrade",inputs:[{name:"implementation",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"ERC20InsufficientAllowance",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"allowance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ERC20InsufficientBalance",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"balance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ERC20InvalidApprover",inputs:[{name:"approver",type:"address",internalType:"address"}]},{type:"error",name:"ERC20InvalidReceiver",inputs:[{name:"receiver",type:"address",internalType:"address"}]},{type:"error",name:"ERC20InvalidSender",inputs:[{name:"sender",type:"address",internalType:"address"}]},{type:"error",name:"ERC20InvalidSpender",inputs:[{name:"spender",type:"address",internalType:"address"}]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]}],Fe=[{type:"constructor",inputs:[],stateMutability:"nonpayable"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"_hashBlsKey",inputs:[{name:"blsVK",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"blsKeys",inputs:[{name:"blsKeyHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"used",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"claimValidatorExit",inputs:[{name:"validator",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"claimWithdrawal",inputs:[{name:"validator",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegate",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegations",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"deregisterValidator",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"exitEscrowPeriod",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getVersion",inputs:[],outputs:[{name:"majorVersion",type:"uint8",internalType:"uint8"},{name:"minorVersion",type:"uint8",internalType:"uint8"},{name:"patchVersion",type:"uint8",internalType:"uint8"}],stateMutability:"pure"},{type:"function",name:"initialize",inputs:[{name:"_tokenAddress",type:"address",internalType:"address"},{name:"_lightClientAddress",type:"address",internalType:"address"},{name:"_exitEscrowPeriod",type:"uint256",internalType:"uint256"},{name:"_initialOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"initializedAtBlock",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"lightClient",inputs:[],outputs:[{name:"",type:"address",internalType:"contract LightClientV2"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"registerValidator",inputs:[{name:"blsVK",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVK",type:"tuple",internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"blsSig",type:"tuple",internalType:"struct BN254.G1Point",components:[{name:"x",type:"uint256",internalType:"BN254.BaseField"},{name:"y",type:"uint256",internalType:"BN254.BaseField"}]},{name:"commission",type:"uint16",internalType:"uint16"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"token",inputs:[],outputs:[{name:"",type:"address",internalType:"contract ERC20"}],stateMutability:"view"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"undelegate",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"undelegations",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"},{name:"unlocksAt",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"updateConsensusKeys",inputs:[{name:"newBlsVK",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"newSchnorrVK",type:"tuple",internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"newBlsSig",type:"tuple",internalType:"struct BN254.G1Point",components:[{name:"x",type:"uint256",internalType:"BN254.BaseField"},{name:"y",type:"uint256",internalType:"BN254.BaseField"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"newImplementation",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"validatorExits",inputs:[{name:"validator",type:"address",internalType:"address"}],outputs:[{name:"unlocksAt",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"validators",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"delegatedAmount",type:"uint256",internalType:"uint256"},{name:"status",type:"uint8",internalType:"enum StakeTable.ValidatorStatus"}],stateMutability:"view"},{type:"event",name:"ConsensusKeysUpdated",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"blsVK",type:"tuple",indexed:!1,internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVK",type:"tuple",indexed:!1,internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]}],anonymous:!1},{type:"event",name:"Delegated",inputs:[{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"validator",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Undelegated",inputs:[{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"validator",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Upgrade",inputs:[{name:"implementation",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ValidatorExit",inputs:[{name:"validator",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ValidatorRegistered",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"blsVk",type:"tuple",indexed:!1,internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVk",type:"tuple",indexed:!1,internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"commission",type:"uint16",indexed:!1,internalType:"uint16"}],anonymous:!1},{type:"event",name:"Withdrawal",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"BLSSigVerificationFailed",inputs:[]},{type:"error",name:"BlsKeyAlreadyUsed",inputs:[]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InsufficientAllowance",inputs:[{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"}]},{type:"error",name:"InsufficientBalance",inputs:[{name:"",type:"uint256",internalType:"uint256"}]},{type:"error",name:"InvalidCommission",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"InvalidSchnorrVK",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"NothingToWithdraw",inputs:[]},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"PrematureWithdrawal",inputs:[]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"UndelegationAlreadyExists",inputs:[]},{type:"error",name:"ValidatorAlreadyExited",inputs:[]},{type:"error",name:"ValidatorAlreadyRegistered",inputs:[]},{type:"error",name:"ValidatorInactive",inputs:[]},{type:"error",name:"ValidatorNotExited",inputs:[]},{type:"error",name:"ZeroAddress",inputs:[]},{type:"error",name:"ZeroAmount",inputs:[]}];function un(t={showModal:!1,stakingPhase:null,address:null,amount:null}){const n=r.useRef(null),[a,s]=r.useState(t);return{dialogRef:n,state:a,showModal:c=>{s({...a,showModal:!0,address:c??null}),n.current?.showModal()},closeModal:()=>{s({...a,showModal:!1,address:null,amount:null}),n.current?.close()},setAmount:c=>{s({...a,amount:c})},setValidator:c=>{s({...a,address:c})}}}const cn=()=>{const t=r.useContext(A);return e.jsxs("header",{className:"dialog-header",children:[e.jsx(T,{children:e.jsx(d,{text:"Stake ESP"})}),e.jsx(H,{onClick:()=>t.closeModal(),title:"Close Navigation Drawer",children:e.jsx(ft,{})})]})},pn=()=>{const t=r.useContext(x);return t.address?e.jsxs(e.Fragment,{children:[e.jsx(T,{children:e.jsxs("span",{children:[e.jsx(d,{text:"Staking to "}),e.jsx(te,{value:W.decode(t.address),children:e.jsx(ne,{value:W.decode(t.address)})})]})}),e.jsx("div",{className:"delegation-preview-title",children:e.jsx(d,{text:"Stake Preview"})})]}):e.jsx(T,{children:e.jsx(d,{text:"No validator selected, please select a validator."})})},M=({children:[t,n]})=>e.jsxs("tr",{children:[e.jsx("th",{children:t}),e.jsx("td",{children:n})]}),le=r.createContext(null),mn=t=>{const n=Fe,a=Ut({address:t.contractAddress,abi:n,functionName:"validators",args:[t.address]});return a.data?e.jsx(le.Provider,{value:a.data,children:t.children}):t.children},yn=t=>{const n=r.useContext(x),s=r.useContext(g)?.stakeTableContractAddress;return!s||!n.address?t.children:e.jsx(mn,{contractAddress:s,address:n.address,children:t.children})},D=r.createContext(null),xn=t=>{const n=r.useContext(b)??0n,a=r.useContext(S)??0n;return e.jsx(D.Provider,{value:[a,n],children:t.children})},fn=t=>{const n=r.useContext(f),a=r.useContext(g),s=a?.espTokenContractAddress,o=a?.stakeTableContractAddress;return!s||!o||!n?t.children:e.jsx(xn,{espTokenContractAddress:s,stakingTableContractAddress:o,address:n,children:t.children})},hn=()=>{const t=r.useContext(le);if(!t)return e.jsx(e.Fragment,{});const[,n]=t;switch(n){case 1:return e.jsx(d,{text:"Active"});case 2:return e.jsx(d,{text:"Exited"});default:return e.jsx(d,{text:"Unknown"})}},Cn=()=>{const t=r.useContext(le);if(!t)return e.jsx(e.Fragment,{});const[n]=t;return e.jsxs(e.Fragment,{children:[e.jsxs(M,{children:[e.jsx(d,{text:"Current Stake"}),e.jsx(w,{money:C.ESP(n)})]}),e.jsxs(M,{children:[e.jsx(d,{text:"Status"}),e.jsx(hn,{})]})]})},Tn=()=>{const t=r.useContext(x),n=r.useContext(ae);if(!t.address)return null;const a=t.address.toLowerCase(),s=Ie(n.values(),o=>o.account.toString().toLowerCase()===a)??null;return s?e.jsxs(e.Fragment,{children:[e.jsx(E,{}),e.jsx("table",{className:"validator-information",children:e.jsxs("tbody",{children:[e.jsxs(M,{children:[e.jsx(d,{text:"Address"}),e.jsx(te,{value:W.decode(t.address),children:e.jsx(ne,{value:W.decode(t.address)})})]}),e.jsxs(M,{children:[e.jsx(d,{text:"Commission"}),e.jsx(ke,{percentage:s.commission.valueOf()})]}),e.jsxs(M,{children:[e.jsx(d,{text:"Current Epoch Stake"}),e.jsx(w,{money:C.ESP(s.stake)})]}),e.jsx(Cn,{})]})})]}):e.jsx(e.Fragment,{})},gn=()=>{const t=r.useContext(x),n=r.useContext(A),a=r.useContext(D);if(!t.address||!a)return null;const[s,o]=a,u=s>o?o:s;return e.jsxs(e.Fragment,{children:[e.jsx(E,{}),e.jsx(d,{text:"Amount to Stake"}),e.jsx("br",{}),e.jsxs(Oe,{children:[e.jsx(Ue,{id:"stake-amount",value:t.amount,onChange:(l,i)=>{n.setAmount(i)}}),e.jsx(N,{className:"btn--max",onClick:()=>n.setAmount(C.ESP(u)),children:e.jsx(d,{text:"Max"})})]})]})},wn=()=>e.jsx(Me.Provider,{value:ee,children:e.jsx(Ee,{})}),bn=0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn,ee=t=>{const n=r.useContext(_),a=r.useContext(se),s=r.useContext(re),o=k(),u=De,{writeContractAsync:l}=ie(),i=r.useContext(g),c=r.useContext(f),{amount:p=bn}=t,m=i?.espTokenContractAddress,y=i?.stakeTableContractAddress;return!c||!m||!y?null:e.jsx(N,{onClick:oe(o,a,s,async()=>l({abi:u,address:m,functionName:"approve",args:[y,p]}),n),className:"increase-allowance",title:"Approve",children:e.jsx(d,{text:"Increase Allowance"})})},we=t=>{const n=r.useContext(_),a=k(),s=r.useContext(se),o=r.useContext(re),u=De,{writeContractAsync:l}=ie(),i=r.useContext(g),c=r.useContext(f),p=t.amount??0x00n,m=i?.espTokenContractAddress,y=i?.stakeTableContractAddress;return!c||!m?null:e.jsx(N,{onClick:oe(a,s,o,async()=>l({abi:u,address:m,functionName:"approve",args:[y,p]}),n),className:"raise-allowance",title:"Approve",children:e.jsx(d,{text:"Reset Allowance"})})},vn=()=>{const t=r.useContext(x),n=r.useContext(f),a=r.useContext(D),s=r.useContext(g),o=s?.espTokenContractAddress??null,u=s?.stakeTableContractAddress??null;if(!s||!n||!o||!u||!t.amount||!a)return null;const[l,i]=a,c=t.amount.value;return c>i?e.jsxs(e.Fragment,{children:[e.jsx(E,{}),e.jsx("div",{className:"warning",children:e.jsx("ul",{children:e.jsxs("li",{className:"fail",children:[e.jsx(d,{text:"Insufficient Balance"})," ",e.jsx(he,{})]})})})]}):c>l?e.jsxs(e.Fragment,{children:[e.jsx(E,{}),e.jsxs("div",{className:"warning",children:[e.jsxs("ul",{children:[e.jsxs("li",{className:"pass",children:[e.jsx(d,{text:"Sufficient Balance"})," ",e.jsx(G,{})]}),e.jsxs("li",{className:"fail",children:[e.jsx(d,{text:"Insufficient Allowance"})," ",e.jsx(he,{})]})]}),e.jsx("br",{})]})]}):e.jsxs("ul",{children:[e.jsxs("li",{className:"pass",children:[e.jsx(d,{text:"Sufficient Balance"})," ",e.jsx(G,{})]}),e.jsxs("li",{className:"pass",children:[e.jsx(d,{text:"Sufficient Allowance"})," ",e.jsx(G,{})]})]})};function jn(t,n,a,s,o){if(!o.address||!t||!n||!(Ie(s.chains,p=>n.id===p.id)??null)||!o.amount||!a)return!1;const[l,i]=a,c=o.amount.value;return c<=0n?!1:c<=i&&c<=l}const Sn=()=>{const t=r.useContext(se),n=r.useContext(re),a=r.useContext(_),s=k(),{writeContractAsync:o}=ie(),u=r.useContext(f),l=r.useContext(g),i=r.useContext(x),c=r.useContext(D),p=r.useContext(Ne),m=l?.stakeTableContractAddress??null,y=Fe,F=jn(u,p,c,s,i);return e.jsxs(N,{onClick:oe(s,t,n,async()=>{if(!i.address||!m||!i.amount)throw new ht;return o({abi:y,address:m,functionName:"delegate",args:[i.address,i.amount.value]})},a),disabled:!F,title:"Stake",children:[e.jsx(d,{text:"Stake"}),i.amount?e.jsxs(e.Fragment,{children:[" ",e.jsx(w,{money:i.amount??C.ESP(0n)})]}):null]})},An=()=>{const t=r.useContext(x),n=r.useContext(D),a=t.amount?.value??0n;if(!a||!n)return null;const[s,o]=n;return a>o?e.jsx(d,{text:"More ESP needed"}):a>s?e.jsx(wn,{}):(console.info("<<<< HERE",a,s,o),e.jsx(Sn,{}))},_n=()=>e.jsxs("div",{className:"delegation-preview",children:[e.jsx(pn,{}),e.jsx(Tn,{}),e.jsx(gn,{}),e.jsx(vn,{}),e.jsx("div",{className:"flex-spacer"}),e.jsx(An,{})]}),Nn=()=>e.jsx(fn,{children:e.jsx(yn,{children:e.jsx("div",{className:"dialog-content",children:e.jsx(Me.Provider,{value:_n,children:e.jsx(Ee,{})})})})}),kn=t=>{const{dialogRef:n,...a}=t,s=r.useContext(x);return e.jsxs("dialog",{...a,ref:n,className:"staking-modal",open:s.showModal,children:[e.jsx(cn,{}),e.jsx(Nn,{})]})},be=t=>{const{state:n,dialogRef:a,showModal:s,closeModal:o,setAmount:u,setValidator:l,...i}=un(t.initialModalState);return e.jsx(x.Provider,{value:n,children:e.jsx(A.Provider,{value:{showModal:s,closeModal:o,setAmount:u,setValidator:l},children:e.jsxs(e.Fragment,{children:[t.children,e.jsx(kn,{...i,dialogRef:a})]})})})};try{ee.displayName="IncreaseAllowanceButton",ee.__docgenInfo={description:`IncreaseAllowanceButton is a button that will prompt the user to increase
the allowance of their wallet to the StakeTable contract on behalf of their
ESP Token.`,displayName:"IncreaseAllowanceButton",props:{amount:{defaultValue:null,description:"",name:"amount",required:!1,type:{name:"bigint"}}}}}catch{}try{we.displayName="ResetAllowanceButton",we.__docgenInfo={description:`ResetAllowanceButton is a button that will prompt the user to reset /
withdraw the allowance of their wallet to the StakeTable contract on
behalf of their ESP Token.`,displayName:"ResetAllowanceButton",props:{amount:{defaultValue:null,description:"",name:"amount",required:!1,type:{name:"bigint"}}}}}catch{}try{be.displayName="StakingModal",be.__docgenInfo={description:`StakingModal is the main component that provides the staking modal
functionality.  This component itself adds the modal to the DOM, but is
also utilized to wrap the content of whatever children component are passed
to it.

In this way, it allows all children components to have access to the
relevant context information needed to interact with, and display the
staking modal.`,displayName:"StakingModal",props:{initialModalState:{defaultValue:null,description:"",name:"initialModalState",required:!1,type:{name:"StakingModalState"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{S as C,ge as E,P as L,be as S,b as a,A as b,Te as c};
