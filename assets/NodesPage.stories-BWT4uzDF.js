import{r as An,R as r,j as n}from"./iframe-Dsdv_jy8.js";import{P as po}from"./NowProvider-Bqys-kMq.js";import{O as mo}from"./PathResolverProvider-DQIE-5jR.js";import{a1 as yo,a2 as ho,a3 as fo,a4 as Co,a5 as bo,a6 as La,a7 as xo,a8 as go,F as So,a9 as Fa,aa as $e,ab as wo,ac as ko,ad as vo,ae as To,af as No,ag as _o,ah as jo,ai as Ut,aj as Po,ak as Bo,al as Io,am as Ao,an as Vo,ao as Ha,ap as Ro,aq as Ve,ar as Ka,as as qa,at as Ua,au as Eo,$ as vt,av as Do,aw as Wo,ax as Mo,ay as Oo,_ as Lo,az as j,aA as ce,aB as Ga,aC as za,aD as Fo,aE as Vn,aF as Rn,aG as Ho,aH as Ko,aI as qo,aJ as Uo,aK as Go,aL as $,aM as zo,aN as Jo,aO as $o,aP as Qo,aQ as Yo,aR as Zo,E as Xo,g as er}from"./en_US-RFN65H63-DvsqITTz.js";import{f as N,g as tr,h as nr,i as Qe,j as Ye,k as Ja,l as $a,m as Qa,n as Ya,o as Za,p as ar,q as sr,r as or,s as Ba,t as rr,B as ir,C as cr,P as lr}from"./CappuccinoHotShotQueryServiceAPIContext-DkjGRxAx.js";import{s as dr}from"./sleep-CW-vxfof.js";import{z as ur,D as S,u as le,c as Q,d as K,A as Xa,m as pr,E as Ze,L as de,B as mr}from"./LoadingProvider-ZcPlxnY_.js";import{T as m,s as Ia,e as Tt,I as h,b as y,y as es,N as Nt,z as _,D as M,f as _t,g as jt,A as Pt,l as Bt,m as It,B as yr,E as P,t as Gt}from"./string-BOqmI8nC.js";import{U as B}from"./UnimplementedError-DbqcLgyi.js";import{A as W}from"./AsyncIterableResolver-Czb8mYge.js";import"./ProvideAsyncStates-BdAP9c0y.js";import{L as hr,W as At,j as fr,k as Cr,C as br}from"./TransactionDetailContent-BC8vkox6.js";import{P as xr}from"./PromiseResolver-D417g7Z0.js";import{S as ne,D as ts,a as ns,b as as,A as F,c as T}from"./DataTable-DQ598ySD.js";import"./DateTimeFormattersProvider-B3ic2tiK.js";import"./LocaleProvider-huCKFdsY.js";import{O as gr,P as Sr}from"./NavDrawerStateProvider-DV3EzpoW.js";import{C as wr}from"./NumberFormattersProvider-QO8j60_X.js";import{N as kr,a as vr,W as Tr,P as Nr,D as _r,b as jr}from"./WorldMapDotsPopulationResolver-pwO4JB4n.js";import"./FetchError-Ba9CvRib.js";import"./base64-jao5sNyx.js";import"./array_buffer-6KHtE3L0.js";import{M as x,E as Fe}from"./monetary_value-zEjoirMu.js";import{t as E}from"./TaggedBase64-yXncOpRr.js";import"./MissingElementError-DHgZ7T60.js";import"./NotFoundError-V2m6t4ee.js";import{a as Xe,b as Re}from"./url-BnopUvm8.js";import{m as v,z as Pr,c as Vt,k as En,n as Rt,i as ss,g as Br}from"./functional-CtE-8sCS.js";import{P as Aa,a as Ir,c as Ar,n as zt,g as Vr,s as Rr}from"./generateFakeData-CJgVUPpv.js";import{w as os,L as Er,e as Dr,p as Va,f as Wr}from"./constants-Dj2vVpNv.js";import{E as Dn}from"./ErrorDisplay-Cky8i8Ly.js";import"./AnchorButton-BnJTsl3G.js";import"./Button-zIdfC1HZ.js";import"./IconAnchorButton-BkK14F9M.js";import{I as Wn}from"./IconButton-DI0Cf13R.js";import"./LabeledAnchorButton-DelmPugB.js";import{L as Ee}from"./LabeledButton-DzhdYmlv.js";import{L as Mr,B as Or,b as Lr}from"./RollUpsSummaryDataTable-CL3anpPe.js";import{C as rs,a as ee}from"./Card-BWis1JEF.js";import"./Heading1-BkkdkWcK.js";import{H as D}from"./Heading2-zzl4Nfa0.js";import"./label-DB6Cj3T1.js";import"./SummaryTableLabeledValue-v-ielf7J.js";import"./TableLabeledValue-Ci12r_9t.js";import{M as Fr}from"./NavBar-Bp0uZU7m.js";import{E as Hr}from"./Link-yV5qrvvd.js";import"./SocialMediaLinks-C-vHAsPE.js";import"./CircularProgressIndicator-CQjSHitw.js";import"./ContainerLoading-DYbv62WW.js";import{C as is,S as w}from"./CopyButton-HuO0By6z.js";import{h as De,B as Kr,H as qr}from"./BlockSizeHistogram-CU06Y22R.js";import"./BlockSummaryDataTable-CFUaq-Nx.js";import{F as Ur}from"./Footer-CMVIP_kb.js";import{H as Gr}from"./Header-DOm4QEhk.js";import"./HexDump-OwPzUKjO.js";import"./RollUpSimple-YsZATWNX.js";import{C as zr}from"./TransactionSummaryDataTable-B-qYSGbw.js";import"./ByteSizeText-CNXXfO_U.js";import"./CopyHex-CHRZT22W.js";import"./DateTimeText-BIynWLnf.js";import"./FullHexText-CwgTkTKw.js";import"./HexText-BJrTps3h.js";import{M as k}from"./MoneyText-BUVv8dkL.js";import{N as he}from"./NumberText-CrclVv3b.js";import"./RelativeTimeText-BgVYf3V3.js";import{T as Jr}from"./TaggedBase64Text-Dw0ZBxuI.js";import{T as d}from"./Text-BU7JBOLk.js";import"./TimeText-BZvDg1Q4.js";import"./typography-G6sVg_FI.js";import"./TwitterIcon-C9aYiu00.js";import"./ArrowRight-Cq0W0pIu.js";import"./ExternalLink-DMLWClYD.js";import"./CheckCircle-DJ5CyHk3.js";import"./ChevronUp-cf3UDrbz.js";import"./MediumIcon-B6Bywuqi.js";import"./EspressoLogo-CqvNwN4t.js";import"./EspressoLogoAndTitle-DafU5jbf.js";import"./Menu-CGryDRzn.js";import"./SearchGlass-DxKbn0eh.js";import"./SVGIconBase-rh-N70d0.js";import{W as $r}from"./WorldMapDotsFullResolution-hYlKxNRl.js";import{a as cs}from"./higher_order-BcrgzP0b.js";import{a as Et,b as Mn}from"./PieChart-C4zhTiTS.js";/* empty css               */import{C as ls}from"./ChevronRight-zUYHLfq1.js";import"./BlockPage-BnR08NyP.js";import"./BlocksPage-ClkZEGfm.js";import"./ExplorerPage-DIKKurKP.js";import"./RollUpPage-CcWKpPKw.js";import"./RollUpsPage-BuekdrWf.js";import"./TransactionPage-lHd2k2kd.js";import"./TransactionsForBlockPage-LtQ8WWm1.js";import"./TransactionsPage-CvBSI_Wn.js";import{I as Qr}from"./SearchInput-B6lHTOjb.js";import{D as fe}from"./divider-oilMR1fh.js";import"./preload-helper-PPVm8Dsz.js";import"./index-RQOMNxP7.js";import"./index-CiMbshgK.js";import"./data-BeJ5qedR.js";import"./SVGToolTip-BrrObrxH.js";import"./SVGPathBuilder-4dyJLere.js";import"./AffineTransform-UCCpzMIM.js";/* empty css                */import"./XIcon-DNgvDfDb.js";import"./Copy-W_oyfHjZ.js";class Yr{keyCodec;valueCodec;constructor(e,a){this.keyCodec=e,this.valueCodec=a}convert(e){if(typeof e!="object"||e===null)throw new Error(`invalid map value: expected an object, got ${typeof e}`);const a=new Map;for(const[s,o]of Object.entries(e)){const i=this.keyCodec.decode(s),c=this.valueCodec.decode(o);a.set(i,c)}return a}}class Zr{keyCodec;valueCodec;constructor(e,a){this.keyCodec=e,this.valueCodec=a}convert(e){Tt(e,Map);const a={};for(const[s,o]of e.entries()){const i=this.keyCodec.encode(s),c=this.valueCodec.encode(o);a[i]=c}return a}}class On extends m{encoder;decoder;constructor(e,a){super(),this.encoder=a,this.decoder=e}static keyStringCodec(e){return new On(new Yr(Ia,e),new Zr(Ia,e))}}class Xr{publishQueue;pollBlocked;publishBlocked;capacity;closed=!1;constructor(e){this.publishQueue=N(Math.max(2,e),nr.throwMissingElement,tr.throw);const a=Qe();this.pollBlocked=a,this.publishBlocked=a,a.complete(),this.capacity=e-1}get isClosed(){return this.closed}close(){if(this.closed)throw new Ye;this.closed=!0}async drain(){for(;this.publishQueue.length>0;)this.publishQueue.get()}async publish(e){if(this.closed)throw new Ye;if(this.publishQueue.length>=this.capacity){if(this.publishBlocked.isCompleted){const a=Qe();this.publishBlocked=a,await a.promise}return await this.publishBlocked.promise,this.publish(e)}this.publishQueue.put(e),this.pollBlocked.isCompleted||this.pollBlocked.complete()}async poll(){if(this.publishQueue.length<=0){if(this.isClosed)throw new Ye;if(this.pollBlocked.isCompleted){const a=Qe();this.pollBlocked=a}return await this.pollBlocked.promise,this.poll()}const e=this.publishQueue.get();return this.publishBlocked.isCompleted||this.publishBlocked.complete(),e}[Symbol.asyncIterator](){return new ei(this)}}class ei{channel;constructor(e){this.channel=e}async next(){try{return{done:!1,value:await this.channel.poll()}}catch(e){if(e instanceof Ye)return{done:!0,value:void 0};throw e}}}function f(t){return new Xr(t)}class ti{channel;constructor(e){this.channel=e}async send(e){await this.channel.publish(e)}}function Ra(t){return new ti(t)}function ni({chain:t,currentChainId:e}){if(!t)throw new yo;if(e!==t.id)throw new ho({chain:t,currentChainId:e})}function ai(t,{docsPath:e,...a}){const s=(()=>{const o=fo(t,a);return o instanceof Co?t:o})();return new bo(s,{docsPath:e,...a})}const Jt=new To(128);async function si(t,e){const{account:a=t.account,chain:s=t.chain,accessList:o,authorizationList:i,blobs:c,data:l,gas:u,gasPrice:p,maxFeePerBlobGas:C,maxFeePerGas:g,maxPriorityFeePerGas:V,nonce:q,type:Oe,value:va,...Ta}=e;if(typeof a>"u")throw new La({docsPath:"/docs/actions/wallet/sendTransaction"});const R=a?Fa(a):null;try{xo(e);const Z=await(async()=>{if(e.to)return e.to;if(e.to!==null&&i&&i.length>0)return await go({authorization:i[0]}).catch(()=>{throw new So("`to` is required. Could not infer from `authorizationList`.")})})();if(R?.type==="json-rpc"||R===null){let pe;s!==null&&(pe=await $e(t,wo,"getChainId")({}),ni({currentChainId:pe,chain:s}));const Le=t.chain?.formatters?.transactionRequest?.format,_a=(Le||ko)({...vo(Ta,{format:Le}),accessList:o,authorizationList:i,blobs:c,chainId:pe,data:l,from:R?.address,gas:u,gasPrice:p,maxFeePerBlobGas:C,maxFeePerGas:g,maxPriorityFeePerGas:V,nonce:q,to:Z,type:Oe,value:va},"sendTransaction"),ja=Jt.get(t.uid),uo=ja?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:uo,params:[_a]},{retryCount:0})}catch(Pa){if(ja===!1)throw Pa;const X=Pa;if(X.name==="InvalidInputRpcError"||X.name==="InvalidParamsRpcError"||X.name==="MethodNotFoundRpcError"||X.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[_a]},{retryCount:0}).then(Kt=>(Jt.set(t.uid,!0),Kt)).catch(Kt=>{const qt=Kt;throw qt.name==="MethodNotFoundRpcError"||qt.name==="MethodNotSupportedRpcError"?(Jt.set(t.uid,!1),X):qt});throw X}}if(R?.type==="local"){const pe=await $e(t,No,"prepareTransactionRequest")({account:R,accessList:o,authorizationList:i,blobs:c,chain:s,data:l,gas:u,gasPrice:p,maxFeePerBlobGas:C,maxFeePerGas:g,maxPriorityFeePerGas:V,nonce:q,nonceManager:R.nonceManager,parameters:[..._o,"sidecars"],type:Oe,value:va,...Ta,to:Z}),Le=s?.serializers?.transaction,Na=await R.signTransaction(pe,{serializer:Le});return await $e(t,jo,"sendRawTransaction")({serializedTransaction:Na})}throw R?.type==="smart"?new Ut({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Ut({docsPath:"/docs/actions/wallet/sendTransaction",type:R?.type})}catch(Z){throw Z instanceof Ut?Z:ai(Z,{...e,account:R,chain:e.chain||void 0})}}async function oi(t,e){const{abi:a,account:s=t.account,address:o,args:i,dataSuffix:c,functionName:l,...u}=e;if(typeof s>"u")throw new La({docsPath:"/docs/contract/writeContract"});const p=s?Fa(s):null,C=Po({abi:a,args:i,functionName:l});try{return await $e(t,si,"sendTransaction")({data:`${C}${c?c.replace("0x",""):""}`,to:o,account:p,...u})}catch(g){throw Bo(g,{abi:a,address:o,args:i,docsPath:"/docs/contract/writeContract",functionName:l,sender:p?.address})}}async function ri(t,e){const{account:a,chainId:s,connector:o,...i}=e;let c;return typeof a=="object"&&a?.type==="local"?c=t.getClient({chainId:s}):c=await Io(t,{account:a??void 0,assertChainId:!1,chainId:s,connector:o}),await Ao(c,oi,"writeContract")({...i,...a?{account:a}:{},chain:s?{id:s}:null})}function ii(t,e={}){return{async queryFn({queryKey:a}){const s=e.abi;if(!s)throw new Error("abi is required");const{functionName:o,scopeKey:i,...c}=a[1],l=(()=>{const u=a[1];if(u.address)return{address:u.address};if(u.code)return{code:u.code};throw new Error("address or code is required")})();if(!o)throw new Error("functionName is required");return Vo(t,{abi:s,functionName:o,args:c.args,...l,...c})},queryKey:ci(e)}}function ci(t={}){const{abi:e,...a}=t;return["readContract",Ha(a)]}function li(t,e={}){return{async queryFn({queryKey:a}){const s=[],o=a[1].contracts.length;for(let l=0;l<o;l++){const u=a[1].contracts[l],p=(e.contracts?.[l]).abi;s.push({...u,abi:p})}const{scopeKey:i,...c}=a[1];return Ro(t,{...c,contracts:s})},queryKey:di(e)}}function di(t={}){const e=[];for(const a of t.contracts??[]){const{abi:s,...o}=a;e.push({...o,chainId:o.chainId??t.chainId})}return["readContracts",Ha({...t,contracts:e})]}function ui(t){return{mutationFn(e){return ri(t,e)},mutationKey:["writeContract"]}}function ds(t={}){const{abi:e,address:a,functionName:s,query:o={}}=t,i=t.code,c=Ve(t),l=Ka({config:c}),u=ii(c,{...t,chainId:t.chainId??l}),p=!!((a||i)&&e&&s&&(o.enabled??!0));return qa({...o,...u,enabled:p,structuralSharing:o.structuralSharing??Ua})}function pi(t={}){const{contracts:e=[],query:a={}}=t,s=Ve(t),o=Ka({config:s}),i=li(s,{...t,chainId:o}),c=An.useMemo(()=>{let l=!1;for(const u of e){const{abi:p,address:C,functionName:g}=u;if(!p||!C||!g){l=!1;break}l=!0}return!!(l&&(a.enabled??!0))},[e,a.enabled]);return qa({...i,...a,enabled:c,structuralSharing:a.structuralSharing??Ua})}function us(t={}){const{mutation:e}=t,a=Ve(t),s=ui(a),{mutate:o,mutateAsync:i,...c}=Eo({...e,...s});return{...c,writeContract:o,writeContractAsync:i}}class mi{constructor(e,a){this.sink=e,this.converter=a,this.sink=e,this.converter=a}async send(e){await this.sink.send(this.converter.convert(e))}}function et(t,e){return new mi(t,e)}let Ln=class{};const Ce="Closed";class Y extends Ln{valueOf(){return Ce}toJSON(){return Fn.encode(this)}}class yi{convert(e){if(typeof e!="string")throw new h(typeof e,"string");if(e!==Ce)throw new h(e,Ce);return new Y}}class hi{convert(){return Ce}}class fi extends m{encoder=new hi;decoder=new yi}const Fn=new fi;class Hn{}const be="Connecting";class We extends Ln{valueOf(){return be}toJSON(){return Kn.encode(this)}}class Ci{convert(e){if(typeof e!="string")throw new h(typeof e,"string");if(e!==be)throw new h(e,be);return new We}}class bi{convert(){return be}}class xi extends m{encoder=new bi;decoder=new Ci}const Kn=new xi,xe="Opened";class ue extends Ln{valueOf(){return xe}toJSON(){return qn.encode(this)}}class gi{convert(e){if(typeof e!="string")throw new h(typeof e,"string");if(e!==xe)throw new h(e,xe);return new ue}}class Si{convert(){return xe}}class wi extends m{encoder=new Si;decoder=new gi}const qn=new wi;class ki{convert(e){if(e===xe)return qn.decode(e);if(e===Ce)return Fn.decode(e);if(e===be)return Kn.decode(e);throw new B}}class vi{convert(e){if(e instanceof ue)return qn.encode(e);if(e instanceof Y)return Fn.encode(e);if(e instanceof We)return Kn.encode(e);throw new B}}class Ti extends m{encoder=new vi;decoder=new ki}const ps=new Ti;class ae extends Hn{status;get type(){return ge}constructor(e){super(),this.status=e}toJSON(){return ms.encode(this)}}const ge="WebSocket";class Ni{convert(e){return{[ge]:ps.encode(e.status)}}}class _i{convert(e){return y(e,ge),new ae(ps.decode(e[ge]))}}class ji extends m{encoder=new Ni;decoder=new _i}const ms=new ji,Se=An.createContext(new ae(new Y)),tt=An.createContext(ur()),Zt=t=>{const e=r.useContext(tt);return n.jsx(W,{asyncIterable:e,children:n.jsx(Pi,{children:t.children})})},Pi=t=>{const e=r.useContext(S);return e===null?n.jsx(Se.Provider,{value:new ae(new Y),children:t.children}):n.jsx(Se.Provider,{value:e,children:t.children})};try{Se.displayName="WebSocketResponseContext",Se.__docgenInfo={description:`WebSocketResponseContext is a React Context that is used to store
and make available the current LifeCycleResponse.`,displayName:"WebSocketResponseContext",props:{}}}catch{}try{tt.displayName="WebSocketResponseStreamContext",tt.__docgenInfo={description:`WebSocketResponseStreamContext is a React Context that is able to provide
a stream of WebSocketResponses. These can be used to update the UI in order
to indicate the current state of the WebSocket connection.`,displayName:"WebSocketResponseStreamContext",props:{}}}catch{}try{Zt.displayName="WebSocketResponseStreamConsumer",Zt.__docgenInfo={description:`WebSocketResponseStreamConsumer is a component that is able to consume the
WebSocketResponseContext, and provide the WebSocketResponse to the
children of the component via the WebSocketResponseContext context.`,displayName:"WebSocketResponseStreamConsumer",props:{}}}catch{}const nt=r.createContext(le()),Xt=t=>{const e=r.useContext(nt);return n.jsx(Q,{children:n.jsx(W,{asyncIterable:e,children:n.jsx(K,{children:t.children})})})};try{nt.displayName="CountriesPieChartStreamContext",nt.__docgenInfo={description:"",displayName:"CountriesPieChartStreamContext",props:{}}}catch{}try{Xt.displayName="CountriesPieChartStreamConsumer",Xt.__docgenInfo={description:"",displayName:"CountriesPieChartStreamConsumer",props:{}}}catch{}const at=r.createContext(le()),en=t=>{const e=r.useContext(at);return n.jsx(Q,{children:n.jsx(W,{asyncIterable:e,children:n.jsx(K,{children:t.children})})})};try{at.displayName="NetworkTypesPieChartStreamContext",at.__docgenInfo={description:"",displayName:"NetworkTypesPieChartStreamContext",props:{}}}catch{}try{en.displayName="NetworkTypesPieChartStreamConsumer",en.__docgenInfo={description:"",displayName:"NetworkTypesPieChartStreamConsumer",props:{}}}catch{}const st=r.createContext(le()),tn=t=>{const e=r.useContext(st);return n.jsx(Q,{children:n.jsx(W,{asyncIterable:e,children:n.jsx(K,{children:t.children})})})};try{st.displayName="NodeTypesPieChartStreamContext",st.__docgenInfo={description:"",displayName:"NodeTypesPieChartStreamContext",props:{}}}catch{}try{tn.displayName="NodeTypesPieChartStreamConsumer",tn.__docgenInfo={description:"",displayName:"NodeTypesPieChartStreamConsumer",props:{}}}catch{}var b=(t=>(t.publicKey="publicKey",t.name="name",t.address="address",t.companyName="companyName",t.companyWebSite="companyWebSite",t.location="location",t.stake="stake",t.uptime="uptime",t.voteParticipation="voteParticipation",t.commission="commission",t.actions="actions",t))(b||{});const ot=r.createContext(le()),rt=r.createContext(le()),it=r.createContext([]),nn=t=>{const e=r.useContext(S);return n.jsx(it.Provider,{value:e??[],children:t.children})},an=t=>{const e=r.useContext(rt);return n.jsx(Q,{children:n.jsx(W,{asyncIterable:e,children:n.jsx(nn,{children:n.jsx(K,{children:t.children})})})})},sn=t=>{const e=r.useContext(ot);return n.jsx(Q,{children:n.jsx(W,{asyncIterable:e,children:n.jsx(K,{children:t.children})})})};try{ot.displayName="NodeSummaryStreamContext",ot.__docgenInfo={description:"",displayName:"NodeSummaryStreamContext",props:{}}}catch{}try{rt.displayName="VoterParticipationStreamContext",rt.__docgenInfo={description:"",displayName:"VoterParticipationStreamContext",props:{}}}catch{}try{it.displayName="VotersParticipationStatsContext",it.__docgenInfo={description:"",displayName:"VotersParticipationStatsContext",props:{}}}catch{}try{nn.displayName="VotersParticipationStatesProvider",nn.__docgenInfo={description:"",displayName:"VotersParticipationStatesProvider",props:{}}}catch{}try{an.displayName="VotersParticipationStatsConsumer",an.__docgenInfo={description:"",displayName:"VotersParticipationStatsConsumer",props:{}}}catch{}try{sn.displayName="NodeSummaryStreamConsumer",sn.__docgenInfo={description:"",displayName:"NodeSummaryStreamConsumer",props:{}}}catch{}const ct=r.createContext(le()),on=t=>{const e=r.useContext(ct);return n.jsx(Q,{children:n.jsx(W,{asyncIterable:e,children:n.jsx(K,{children:t.children})})})};try{ct.displayName="OperatingSystemPieChartStreamContext",ct.__docgenInfo={description:"",displayName:"OperatingSystemPieChartStreamContext",props:{}}}catch{}try{on.displayName="OperatingSystemPieChartStreamConsumer",on.__docgenInfo={description:"",displayName:"OperatingSystemPieChartStreamConsumer",props:{}}}catch{}const we="Error";class ys extends Hn{error;get type(){return we}constructor(e){super(),this.error=e}toJSON(){return hs.encode(this)}}class Bi{convert(e){return{[we]:es.encode(e.error)}}}class Ii{convert(e){return y(e,we),new ys(es.decode(e[we]))}}class Ai extends m{encoder=new Bi;decoder=new Ii}const hs=new Ai;class Un{}const ke="Close";class Dt extends Un{valueOf(){return ke}}class Vi{convert(){return ke}}class Ri{convert(e){if(typeof e!="string")throw new h(typeof e,"string");if(e!==ke)throw new h(e,ke);return new Dt}}class Ei extends m{encoder=new Vi;decoder=new Ri}const fs=new Ei,ve="Connect";class Me extends Un{valueOf(){return ve}toJSON(){return Gn.encode(this)}}class Di{convert(){return ve}}class Wi{convert(e){if(typeof e!="string")throw new h(typeof e,"string");if(e!==ve)throw new h(e,ve);return new Me}}class Mi extends m{encoder=new Di;decoder=new Wi}const Gn=new Mi,Te="Set-Url";class zn extends Un{url;constructor(e){super(),this.url=e}valueOf(){return Te}toJSON(){return Jn.encode(this)}}class Oi{convert(e){return{[Te]:e.url}}}class Li{convert(e){y(e,Te);const a=e[Te];if(typeof a!="string")throw new h(typeof a,"string");return new zn(a)}}class Fi extends m{encoder=new Oi;decoder=new Li}const Jn=new Fi;class Cs{}class Hi{convert(e){if(e===ve)return Gn.decode(e);if(e===ke)return fs.decode(e);if(typeof e=="object"&&e!==null&&Te in e)return Jn.decode(e);throw new B}}class Ki{convert(e){if(e instanceof Me)return Gn.encode(e);if(e instanceof Dt)return fs.encode(e);if(e instanceof zn)return Jn.encode(e);throw new B}}class qi extends m{encoder=new Ki;decoder=new Hi}const bs=new qi;class $n extends Cs{command;get type(){return Ne}constructor(e){super(),this.command=e}toJSON(){return xs.encode(this)}}const Ne="WebSocket";class Ui{convert(e){return{[Ne]:bs.encode(e.command)}}}class Gi{convert(e){return y(e,Ne),new $n(bs.decode(e[Ne]))}}class zi extends m{encoder=new Ui;decoder=new Gi}const xs=new zi,G=new Map;G.set(Ne,xs);class Ji{convert(e){const a=G.get(e.type);if(!a)throw new h(e.type,`one of ${Array.from(v(G.keys(),s=>`"${s}"`)).join(", ")}`);return{[e.type]:a.encode(e)}}}class $i{convert(e){if(typeof e!="object"||e===null)throw new h(typeof e,"object");const a=Object.keys(e);if(a.length!==1)throw new B("multiple values contained within the Request object, unexpected");const[s]=a,o=G.get(s);if(y(e,s),!o)throw new h(s,`one of ${Array.from(v(G.keys(),i=>`"${i}"`)).join(", ")}`);return o.decode(e[s])}}class Qi extends m{encoder=new Ji;decoder=new $i}function Yi(t,e){G.has(t)||G.set(t,e)}const Zi=new Qi;class Xi{convert(e){return new $n(e)}}const ec=new Xi;class I{}const gs="SubscribeNodeIdentity";class Qn extends I{valueOf(){return gs}}const Ss="SubscribeLatestBlock";class Yn extends I{valueOf(){return Ss}}const ws="SubscribeVoters";class Zn extends I{valueOf(){return ws}}const ks="SubscribeValidators";class vs extends I{valueOf(){return ks}}const Ts="SubscribeStakeTables";class Ns extends I{valueOf(){return Ts}}const _s="RequestNodeIdentitySnapshot";class Xn extends I{valueOf(){return _s}}const js="RequestBlocksSnapshot";class ea extends I{valueOf(){return js}}const Ps="RequestHistogramSnapshot";class ta extends I{valueOf(){return Ps}}const Bs="RequestVotersSnapshot";class na extends I{valueOf(){return Bs}}const Is="RequestValidatorsSnapshot";class As extends I{valueOf(){return Is}}const Vs="RequestStakeTableSnapshot";class Rs extends I{valueOf(){return Vs}}class tc{convert(e){return e.valueOf()}}class nc{convert(e){if(typeof e!="string")throw new h(typeof e,"string");switch(e){case gs:return new Qn;case Ss:return new Yn;case ws:return new Zn;case _s:return new Xn;case js:return new ea;case Ps:return new ta;case Bs:return new na;case ks:return new vs;case Ts:return new Ns;case Is:return new As;case Vs:return new Rs;default:throw new h(e,"CappuccinoNodeValidatorRequest")}}}class ac extends m{encoder=new tc;decoder=new nc}const Es=new ac,_e="NodeValidatorRequest";class aa extends Cs{request;get type(){return _e}constructor(e){super(),this.request=e}toJSON(){return Ds.encode(this)}}class sc{convert(e){return{[_e]:Es.encode(e.request)}}}class oc{convert(e){return y(e,_e),new aa(Es.decode(e[_e]))}}class rc extends m{encoder=new sc;decoder=new oc}const Ds=new rc;class ic{convert(e){return new aa(e)}}const cc=new ic;class A{}const lt="BlocksSnapshot";class Wt extends A{blocks;constructor(e){super(),this.blocks=e}toJSON(){return sa.encode(this)}}class lc{convert(e){y(e,lt);const a=e[lt];return new Wt(Ja.decode(a))}}class dc{convert(e){return{[lt]:Ja.encode(e.blocks)}}}class uc extends m{encoder=new dc;decoder=new lc}const sa=new uc,dt="HistogramSnapshot";class je extends A{histograms;constructor(e){super(),this.histograms=e}toJSON(){return oa.encode(this)}}class pc{convert(e){return y(e,dt),new je($a.decode(e[dt]))}}class mc{convert(e){return{[dt]:$a.encode(e.histograms)}}}class yc extends m{encoder=new mc;decoder=new pc}const oa=new yc,ut="LatestBlock";class se extends A{latestBlock;constructor(e){super(),this.latestBlock=e}toJSON(){return ra.encode(this)}}class hc{convert(e){return y(e,ut),new se(Qa.decode(e[ut]))}}class fc{convert(e){return{[ut]:Qa.encode(e.latestBlock)}}}class Cc extends m{encoder=new fc;decoder=new hc}const ra=new Cc;class Ws{coords;country;constructor(e,a){this.coords=e,this.country=a}toJSON(){return rn.encode(this)}}class bc{convert(e){return{coords:os.encode(e.coords),country:_.encode(e.country)}}}class xc{convert(e){return y(e,"coords","country"),new Ws(os.decode(e.coords),M(_.decode(e.country)))}}class gc extends m{encoder=new bc;decoder=new xc}const rn=new gc,Ms=new Nt(new _t(rn),new jt(rn));class Os{publicKey;name;publicURL;company;companyWebsite;location;operatingSystem;nodeType;networkType;constructor(e,a,s,o,i,c,l,u,p){this.publicKey=e,this.name=a,this.publicURL=s,this.company=o,this.companyWebsite=i,this.location=c,this.operatingSystem=l,this.nodeType=u,this.networkType=p}toJSON(){return Pe.encode(this)}}class Sc{convert(e){return{public_key:E.encode(e.publicKey),name:_.encode(e.name),public_url:Xe.encode(e.publicURL),company:_.encode(e.company),company_website:Xe.encode(e.companyWebsite),location:Ms.encode(e.location),operating_system:_.encode(e.operatingSystem),node_type:_.encode(e.nodeType),network_type:_.encode(e.networkType)}}}class wc{convert(e){return y(e,"public_key","name","public_url","company","company_website","location","operating_system","node_type","network_type"),new Os(E.decode(e.public_key),M(_.decode(e.name)),Xe.decode(e.public_url),M(_.decode(e.company)),Xe.decode(e.company_website),Ms.decode(e.location),M(_.decode(e.operating_system)),M(_.decode(e.node_type)),M(_.decode(e.network_type)))}}class kc extends m{encoder=new Sc;decoder=new wc}const Pe=new kc,Ls=new Pt(new Bt(Pe),new It(Pe)),pt="LatestNodeIdentity";class ia extends A{nodeIdentity;constructor(e){super(),this.nodeIdentity=e}toJSON(){return ca.encode(this)}}class vc{convert(e){return y(e,pt),new ia(Pe.decode(e[pt]))}}class Tc{convert(e){return{[pt]:Pe.encode(e.nodeIdentity)}}}class Nc extends m{encoder=new Tc;decoder=new vc}const ca=new Nc;class Fs{stakeKey;stakeAmount;constructor(e,a){this.stakeKey=e,this.stakeAmount=a}}class _c{convert(e){return y(e,"stake_key","stake_amount"),new Fs(E.decode(e.stake_key),Re.decode(e.stake_amount))}}class jc{convert(e){return Tt(e,Fs),{stake_key:E.encode(e.stakeKey),stake_amount:Re.encode(e.stakeAmount)}}}class Pc extends m{encoder=new jc;decoder=new _c}const oe=new Pc;new Nt(new _t(oe),new jt(oe));new Pt(new Bt(oe),new It(oe));class Hs{stakeTableEntry;stateVerKey;constructor(e,a){this.stakeTableEntry=e,this.stateVerKey=a}}class Bc{convert(e){return y(e,"stake_table_entry","state_ver_key"),new Hs(oe.decode(e.stake_table_entry),E.decode(e.state_ver_key))}}class Ic{convert(e){return Tt(e,Hs),{stake_table_entry:oe.encode(e.stakeTableEntry),state_ver_key:E.encode(e.stateVerKey)}}}class Ac extends m{encoder=new Ic;decoder=new Bc}const mt=new Ac;new Nt(new _t(mt),new jt(mt));const Mt=new Pt(new Bt(mt),new It(mt)),yt="LatestStakeTable";class la extends A{stakeTable;constructor(e){super(),this.stakeTable=e}toJSON(){return da.encode(this)}}class Vc{convert(e){return y(e,yt),new la(Mt.decode(e[yt]))}}class Rc{convert(e){return{[yt]:Mt.encode(e.stakeTable)}}}class Ec extends m{encoder=new Rc;decoder=new Vc}const da=new Ec,cn=1e4,Ks=0,Dc="PercentageOutOfRange";class Wc extends yr{value;constructor(e,a=`the commission percentage is outside of the range [${Ks}, ${cn}], have ${e}`){super(a),this.value=e,Object.freeze(this)}get code(){return Dc}}class qs{value;constructor(e){if(e<Ks||e>cn)throw new Wc(e);this.value=e}toString(){return`${this.value/100}%`}toJSON(){return this.value}valueOf(){return this.value/cn}}class Mc{convert(e){if(typeof e!="number")throw new h(typeof e,"number");return new qs(e)}}class Oc{convert(e){if(!(e instanceof qs))throw new h(e,"CommissionPercent");return Math.floor(e.value)}}class Lc extends m{encoder=new Oc;decoder=new Mc}const Us=new Lc,Gs=On.keyStringCodec(Re);class zs{account;stakeTableKey;stateVerKey;stake;commission;delegators;constructor(e,a,s,o,i,c){this.account=e,this.stakeTableKey=a,this.stateVerKey=s,this.stake=o,this.commission=i,this.delegators=c}}class Fc{convert(e){return y(e,"account","stake_table_key","state_ver_key","stake","commission","delegators"),new zs(vt.decode(e.account),E.decode(e.stake_table_key),E.decode(e.state_ver_key),Re.decode(e.stake),Us.decode(e.commission),Gs.decode(e.delegators))}}class Hc{convert(e){return Tt(e,zs),{account:vt.encode(e.account),stake_table_key:E.encode(e.stakeTableKey),state_ver_key:E.encode(e.stateVerKey),stake:Re.encode(e.stake),commission:Us.encode(e.commission),delegators:Gs.encode(e.delegators)}}}class Kc extends m{encoder=new Hc;decoder=new Fc}const re=new Kc;new Nt(new _t(re),new jt(re));const Js=new Pt(new Bt(re),new It(re)),ht="LatestValidator";class ua extends A{validator;constructor(e){super(),this.validator=e}toJSON(){return pa.encode(this)}}class qc{convert(e){return y(e,ht),new ua(re.decode(e[ht]))}}class Uc{convert(e){return{[ht]:re.encode(e.validator)}}}class Gc extends m{encoder=new Uc;decoder=new qc}const pa=new Gc,ft="LatestVoters";class Ot extends A{latestVoter;constructor(e){super(),this.latestVoter=e}toJSON(){return ma.encode(this)}}class zc{convert(e){return y(e,ft),new Ot(Ya.decode(e[ft]))}}class Jc{convert(e){return{[ft]:Ya.encode(e.latestVoter)}}}class $c extends m{encoder=new Jc;decoder=new zc}const ma=new $c,Ct="NodeIdentitySnapshot";class Be extends A{nodes;constructor(e){super(),this.nodes=e}toJSON(){return ya.encode(this)}}class Qc{convert(e){y(e,Ct);const a=e[Ct];return new Be(Ls.decode(a))}}class Yc{convert(e){return{[Ct]:Ls.encode(e.nodes)}}}class Zc extends m{encoder=new Yc;decoder=new Qc}const ya=new Zc,bt="StakeTableSnapshot";class ha extends A{stakeTable;constructor(e){super(),this.stakeTable=e}toJSON(){return fa.encode(this)}}class Xc{convert(e){y(e,bt);const a=e[bt];return new ha(Mt.decode(a))}}class el{convert(e){return{[bt]:Mt.encode(e.stakeTable)}}}class tl extends m{encoder=new el;decoder=new Xc}const fa=new tl,xt="ValidatorsSnapshot";class Ca extends A{validators;constructor(e){super(),this.validators=e}toJSON(){return ba.encode(this)}}class nl{convert(e){y(e,xt);const a=e[xt];return new Ca(Js.decode(a))}}class al{convert(e){return{[xt]:Js.encode(e.validators)}}}class sl extends m{encoder=new al;decoder=new nl}const ba=new sl,gt="VotersSnapshot";class Lt extends A{voters;constructor(e){super(),this.voters=e}toJSON(){return xa.encode(this)}}class ol{convert(e){y(e,gt);const a=e[gt];return new Lt(Za.decode(a))}}class rl{convert(e){return{[gt]:Za.encode(e.voters)}}}class il extends m{encoder=new rl;decoder=new ol}const xa=new il;class cl{convert(e){if(P(e,lt))return sa.decode(e);if(P(e,dt))return oa.decode(e);if(P(e,ut))return ra.decode(e);if(P(e,pt))return ca.decode(e);if(P(e,ft))return ma.decode(e);if(P(e,ht))return pa.decode(e);if(P(e,yt))return da.decode(e);if(P(e,Ct))return ya.decode(e);if(P(e,gt))return xa.decode(e);if(P(e,xt))return ba.decode(e);if(P(e,bt))return fa.decode(e);throw new B}}class ll{convert(e){if(e instanceof Wt)return sa.encode(e);if(e instanceof je)return oa.encode(e);if(e instanceof se)return ra.encode(e);if(e instanceof ia)return ca.encode(e);if(e instanceof Ot)return ma.encode(e);if(e instanceof ua)return pa.encode(e);if(e instanceof la)return da.encode(e);if(e instanceof Be)return ya.encode(e);if(e instanceof Lt)return xa.encode(e);if(e instanceof Ca)return ba.encode(e);if(e instanceof ha)return fa.encode(e);throw new B}}class dl extends m{encoder=new ll;decoder=new cl}const $s=new dl,Ie="NodeValidatorResponse";class ga extends Hn{response;get type(){return Ie}constructor(e){super(),this.response=e}toJSON(){return Qs.encode(this)}}class ul{convert(e){return{[Ie]:$s.encode(e.response)}}}class pl{convert(e){y(e,Ie);const a=e[Ie];return new ga($s.decode(a))}}class ml extends m{encoder=new ul;decoder=new pl}const Qs=new ml;class yl{convert(e){return new ga(e)}}const hl=new yl,H=new Map;H.set(we,hs);H.set(ge,ms);class fl{convert(e){const a=H.get(e.type);if(!a)throw new h(e.type,`one of ${Array.from(v(H.keys(),s=>`"${s}"`)).join(", ")}`);return{[e.type]:a.encode(e)}}}class Cl{convert(e){if(typeof e!="object"||e===null)throw new h(typeof e,"object");const a=Object.keys(e);if(a.length!==1)throw new B("multiple values contained within the response object, unexpected");const[s]=a,o=H.get(s);if(y(e,s),!o)throw new h(s,`one of ${Array.from(v(H.keys(),i=>`"${i}"`)).join(", ")}`);return o.decode(e[s])}}class bl extends m{encoder=new fl;decoder=new Cl}function xl(t,e){H.has(t)||H.set(t,e)}const gl=new bl;class Sl{convert(e){return new ae(e)}}const wl=new Sl;function $t(t){return new rr(t.hash,t.height,t.time,t.numTransactions,t.proposer,t.proposer,t.size,t.fees)}function Ea(t){return new Os(t.pubkey,t.name,null,t.company.name,new URL(t.company.website),new Ws(new Er(new Dr(new Va(t.location.coords[0])),new Wr(new Va(t.location.coords[1]))),t.location.country),t.operatingSystem,t.nodeType,t.networkType)}class kl{responseStream;requestStream;lifecycleResponseSink;nodeValidatorResponseSink;constructor(e,a){this.requestStream=e,this.responseStream=a,this.lifecycleResponseSink=et(Ra(a),wl),this.nodeValidatorResponseSink=et(Ra(a),hl)}get stream(){return this.responseStream}async send(e){await this.requestStream.publish(e)}prng=new Aa(Ir());latestBlock=$t(Ar());latestBlocks=N(50);latestVoters=N(50);histogramBlockTimeData=N(50);histogramBlockSizeData=N(50);histogramBlockTransactionData=N(50);generateVotersFromBlockDetail(e){const a=new Aa(e.time.valueOf()),s=zt.length,o=Math.ceil(s/16),i=new Uint16Array(a.fillBytes(o*2));return new ar(sr.lsb0,new or(16,0),s,Array.from(i))}histogramBlockHeightData=N(50);async updateBlockDetails(e){const a=this.latestBlock,s=(e.time.valueOf()-a.time.valueOf())/1e3,o=this.generateVotersFromBlockDetail(e);this.latestBlock=e,this.latestBlocks.put(e),this.latestVoters.put(o),this.histogramBlockTimeData.put(s),this.histogramBlockSizeData.put(e.size),this.histogramBlockTransactionData.put(e.numTransactions),this.histogramBlockHeightData.put(e.height),this.isConnected&&(this.isSubscribedToLatestBlock&&await this.nodeValidatorResponseSink.send(new se(e)),this.isSubscribedToVoters&&this.nodeValidatorResponseSink.send(new Ot(o)))}async initializeState(){for await(const e of Vr(this.prng))this.updateBlockDetails($t(e));await this.nodeValidatorResponseSink.send(new se(this.latestBlock)),await this.nodeValidatorResponseSink.send(new je(new Ba(Array.from(this.histogramBlockTimeData.immutableIterable()),Array.from(this.histogramBlockSizeData.immutableIterable()),Array.from(this.histogramBlockTransactionData.immutableIterable()),Array.from(this.histogramBlockHeightData.immutableIterable())))),this.nodeValidatorResponseSink.send(new Be(zt.map(Ea)))}async startProcessing(){await this.initializeState(),this.handleRequests(),this.streamBlocks()}async handleRequests(){for await(const e of this.requestStream)await this.handleRequest(e)}async streamBlocks(){const e=this.latestBlock;for await(const a of Rr(this.prng,e.time.valueOf(),e.height)){const s=$t(a);this.updateBlockDetails(s)}}async handleRequest(e){if(e instanceof $n){try{await this.handleWebSocketCommand(e.command)}catch(a){console.error("failed to handle life cycle request",e,a)}return}if(e instanceof aa){try{await this.handleNodeValidatorRequest(e.request)}catch(a){console.error("failed to handle node validator request",e,a)}return}console.error("unrecognized request type",e)}async handleWebSocketCommand(e){if(e instanceof Me){await this.handleConnect();return}if(e instanceof Dt){await this.handleClose();return}}async handleNodeValidatorRequest(e){if(e instanceof Yn){await this.handleSubscribeLatestBlock();return}if(e instanceof Qn){await this.handleSubscribeNodeIdentity();return}if(e instanceof Zn){await this.handleSubscribeVoters();return}if(e instanceof ea){await this.handleRequestBlocksSnapshot();return}if(e instanceof ta){await this.handleRequestHistogramSnapshot();return}if(e instanceof Xn){await this.handleRequestNodeIdentitySnapshot();return}if(e instanceof na){await this.handleRequestVotersSnapshot();return}}isConnected=!1;isSubscribedToLatestBlock=!1;isSubscribedToVoters=!1;async handleConnect(){if(this.isConnected)throw new Error("already connected to WebSocket");this.isConnected=!0,await this.lifecycleResponseSink.send(new We),await this.lifecycleResponseSink.send(new ue)}async handleClose(){if(!this.isConnected)throw new Error("not connected to WebSocket");this.isConnected=!1,this.isSubscribedToLatestBlock=!1,this.isSubscribedToVoters=!1,await this.lifecycleResponseSink.send(new Y)}async assertIsConnected(){if(!this.isConnected)throw new Error("not connected to WebSocket")}async handleSubscribeLatestBlock(){await this.assertIsConnected(),this.isSubscribedToLatestBlock=!0}async handleSubscribeNodeIdentity(){await this.assertIsConnected()}async handleSubscribeVoters(){await this.assertIsConnected(),this.isSubscribedToVoters=!0}async handleRequestBlocksSnapshot(){await this.assertIsConnected(),await this.nodeValidatorResponseSink.send(new Wt(Array.from(this.latestBlocks.immutableIterable())))}async handleRequestHistogramSnapshot(){await this.assertIsConnected(),await this.nodeValidatorResponseSink.send(new je(new Ba(Array.from(this.histogramBlockTimeData.immutableIterable()),Array.from(this.histogramBlockSizeData.immutableIterable()),Array.from(this.histogramBlockTransactionData.immutableIterable()),Array.from(this.histogramBlockHeightData.immutableIterable()))))}async handleRequestNodeIdentitySnapshot(){await this.assertIsConnected(),await this.nodeValidatorResponseSink.send(new Be(zt.map(Ea)))}async handleRequestVotersSnapshot(){await this.assertIsConnected(),await this.nodeValidatorResponseSink.send(new Lt(Array.from(this.latestVoters.immutableIterable())))}}function vl(t){return new Worker(""+new URL("node_validator_web_worker_api.js-CQfkE3Jb.js",import.meta.url).href,{name:t?.name})}Yi(_e,Ds);xl(Ie,Qs);let Qt=null;function Tl(){return Qt||(Qt=new vl),Qt}class Nl{requestChannel;responseChannel;constructor(e=f(1024),a=f(1024)){const s=Tl();this.requestChannel=e,this.responseChannel=a,s.addEventListener("message",this.handleMessage.bind(this)),s.addEventListener("messageerror",this.handleMessageError.bind(this)),s.addEventListener("error",this.handleError.bind(this)),_l(s,e)}get stream(){return this.responseChannel}async send(e){this.requestChannel.publish(e)}handleMessage(e){const a=gl.decode(e.data);this.responseChannel.publish(a)}handleMessageError(){}handleError(){}}async function _l(t,e){for await(const a of e)t.postMessage(Zi.encode(a))}class jl{get stream(){throw new B}async send(){throw new B}}const St=r.createContext(new jl),ln=t=>n.jsx(St.Provider,{value:Bl(),children:t.children});let Yt=null;function Pl(){return Yt===null&&(Yt=new Nl),Yt}function Bl(){return typeof window<"u"&&"Worker"in window||typeof self<"u"&&"Worker"in self?Pl():new kl(f(1024),f(1024))}try{St.displayName="CappuccinoNodeValidatorServiceAPIContext",St.__docgenInfo={description:"",displayName:"CappuccinoNodeValidatorServiceAPIContext",props:{}}}catch{}try{ln.displayName="ProvideCappuccinoNodeValidatorServiceAPIContext",ln.__docgenInfo={description:`ProvideCappuccinoNodeValidatorServiceAPIContext is a component that provides
a Cappuccino Node Validator Service API using a default implementation that
is dependent on the environment that the code is being run within.`,displayName:"ProvideCappuccinoNodeValidatorServiceAPIContext",props:{}}}catch{}async function Sa(t,e,a,s,o){await Promise.all([t.blockSizeHistogramStream.publish({blocks:Array.from(e.immutableIterable()),blockSize:Array.from(s.immutableIterable())}),t.blockTimeHistogramStream.publish({blockSize:Array.from(s.immutableIterable()),blocks:Array.from(e.immutableIterable()),blockTime:Array.from(a.immutableIterable())}),t.blockThroughputHistogramStream.publish({blocks:Array.from(e.immutableIterable()),blockThroughput:Array.from(o.immutableIterable())})])}function Ys(t){return{publicKey:t.publicKey,name:M(t.name),companyDetails:{name:M(t.company),website:t.companyWebsite?.toString()??null},location:{coords:t.location?.coords?[t.location.coords.lat.valueOf(),t.location.coords.lng.valueOf()]:null,country:M(t.location?.country??null)}}}function Il(t,e){return t.value-e.value}function Ft(t,e){const a=new Map;for(const s of t){const o=e(s);o!==null&&a.set(o,(a.get(o)??0)+1)}return Array.from(a.entries()).map(([s,o])=>({label:s,value:o})).sort(Il)}function Zs(t){return Ft(t,e=>e.operatingSystem)}function Xs(t){return Ft(t,e=>e.location?.country??null)}function eo(t){return Ft(t,e=>e.networkType)}function to(t){return Ft(t,e=>e.nodeType)}function no(t,e){const a=Array.from(v(e,o=>Array.from(v(o,Number))));return t.map((o,i)=>{const l=v(a,C=>C[i])[Symbol.iterator](),[u,p]=Vt(([C,g],V)=>[C+1,g+V],[0,0],l);return{voteParticipation:p,totalVotes:u}})}function ao(t){const e=t[Symbol.iterator](),a=Vt((o,i)=>{const c=v(i.proposerID,l=>En(o.keys(),u=>Rt(u,l)===0)??l);for(const l of c)o.set(l,(o.get(l)??0)+1);return o},new Map,e),s=Array.from(a.entries()).sort((o,i)=>i[1]-o[1]);return Array.from(v(s,([o,i])=>({proposer:o,count:i})))}const te=50;function Al(){const t=N(te+1),e=N(te+1),a=N(te+1),s=N(te+1),o=N(te+1),i=N(te+1);return{lastBlock:null,latestBlocks:t,blockHeightHistograms:e,blockTimeHistograms:a,blockSizeHistograms:s,blockThroughputHistograms:o,votersBitVecs:i,nodes:[],validators:new Map,stakeTable:new Map}}async function Vl(t,e,a){const s=t.lastBlock;t.lastBlock=a,t.latestBlocks.put(a.latestBlock),e.latestBlockStream.publish({height:a.latestBlock.height,time:a.latestBlock.time,size:a.latestBlock.size,transactions:a.latestBlock.numTransactions,proposer:a.latestBlock.proposerID}),t.blockHeightHistograms.put(a.latestBlock.height),t.blockSizeHistograms.put(a.latestBlock.size);const o=(a.latestBlock.time.valueOf()-(s?.latestBlock.time.valueOf()??0))/1e3;t.blockTimeHistograms.put(o),t.blockThroughputHistograms.put(a.latestBlock.size/Math.max(1,o)),await Sa(e,t.blockHeightHistograms,t.blockTimeHistograms,t.blockSizeHistograms,t.blockThroughputHistograms),e.latestBlockProducers.publish(ao(t.latestBlocks.immutableIterable()))}async function Rl(t,e,a){for(const o of a.blocks){const i=t.lastBlock?.latestBlock??null;t.lastBlock=new se(o),t.latestBlocks.put(o),t.blockHeightHistograms.put(o.height),t.blockSizeHistograms.put(o.size);const c=(o.time.valueOf()-(i?.time.valueOf()??0))/1e3;t.blockTimeHistograms.put(c),t.blockThroughputHistograms.put(o.size/Math.max(1,c))}await Sa(e,t.blockHeightHistograms,t.blockTimeHistograms,t.blockSizeHistograms,t.blockThroughputHistograms);const s=t.lastBlock?.latestBlock??null;s!==null&&e.latestBlockStream.publish({height:s.height,time:s.time,size:s.size,transactions:s.numTransactions,proposer:s.proposerID}),e.latestBlockProducers.publish(ao(t.latestBlocks.immutableIterable()))}async function El(t,e,a){for(const s of a.histograms.blockHeights)t.blockHeightHistograms.put(s);for(const s of a.histograms.blockTime)t.blockTimeHistograms.put(s);for(const s of a.histograms.blockSize)t.blockSizeHistograms.put(s);for(const s of Pr(t.blockTimeHistograms.immutableIterable(),t.blockSizeHistograms.immutableIterable(),(o,i)=>(i??0)/Math.max(1,o??1)))t.blockThroughputHistograms.put(s);await Sa(e,t.blockHeightHistograms,t.blockTimeHistograms,t.blockSizeHistograms,t.blockThroughputHistograms)}async function Dl(t,e,a){t.nodes=a.nodes;const s=Zs(t.nodes),o=Xs(t.nodes),i=eo(t.nodes),c=to(t.nodes),l=t.nodes.map(Ys);await Promise.all([e.nodesSummary.publish(l),e.nodeCoordinates.publish(l),e.pieChartCountries.publish(o),e.pieChartNetworkTypes.publish(i),e.pieChartNodeTypes.publish(c),e.pieChartOperatingSystems.publish(s)])}async function Wl(t,e,a){const s=t.nodes.findIndex(p=>p.publicKey.toString()===a.nodeIdentity.publicKey.toString());s<0?t.nodes.push(a.nodeIdentity):t.nodes[s]=a.nodeIdentity;const o=Zs(t.nodes),i=Xs(t.nodes),c=eo(t.nodes),l=to(t.nodes),u=t.nodes.map(Ys);await Promise.all([e.nodesSummary.publish(u),e.nodeCoordinates.publish(u),e.pieChartCountries.publish(i),e.pieChartNetworkTypes.publish(c),e.pieChartNodeTypes.publish(l),e.pieChartOperatingSystems.publish(o)])}async function Ml(t,e,a){for(const o of a.voters)t.votersBitVecs.put(o);const s=no(t.nodes,t.votersBitVecs.immutableIterable());await e.voters.publish(s)}async function Ol(t,e,a){t.votersBitVecs.put(a.latestVoter);const s=no(t.nodes,t.votersBitVecs.immutableIterable());await e.voters.publish(s)}async function Ll(t,e,a){t.validators=new Map(v(a.validators,s=>[s.stakeTableKey.toString(),s])),await e.validatorsStreamer.publish(t.validators)}async function Fl(t,e,a){t.validators.set(a.validator.stakeTableKey.toString(),a.validator),await e.validatorsStreamer.publish(t.validators)}async function Hl(t,e,a){t.stakeTable=new Map(v(a.stakeTable,s=>[s.stakeTableEntry.stakeKey.toString(),s])),await e.stakeTableStreamer.publish(t.stakeTable)}async function Kl(t,e,a){t.stakeTable=new Map(v(a.stakeTable,s=>[s.stakeTableEntry.stakeKey.toString(),s])),await e.stakeTableStreamer.publish(t.stakeTable)}async function ql(t,e,a){if(a instanceof se)return Vl(t,e,a);if(a instanceof Wt)return Rl(t,e,a);if(a instanceof je)return El(t,e,a);if(a instanceof Be)return Dl(t,e,a);if(a instanceof ia)return Wl(t,e,a);if(a instanceof Lt)return Ml(t,e,a);if(a instanceof Ot)return Ol(t,e,a);if(a instanceof Ca)return Ll(t,e,a);if(a instanceof ua)return Fl(t,e,a);if(a instanceof ha)return Hl(t,e,a);if(a instanceof la)return Kl(t,e,a)}async function Ul(t,e,a,s){const o=t.status;if(o instanceof ue){e.reconnectAttempt=0,e.errors.publish(null),await s.send(new Yn),await s.send(new Qn),await s.send(new Zn),await s.send(new Ns),await s.send(new vs),await s.send(new Xn),await s.send(new ea),await s.send(new ta),await s.send(new na),await s.send(new Rs),await s.send(new As);return}if(!(o instanceof Y)||!e.mounted)return;e.reconnectAttempt+=1;const i=Math.min(4**e.reconnectAttempt,4e3)*(Math.random()+1);console.info("disconnected from node validator web socket, attempting to reconnect","attempting reconnect, attempt",e.reconnectAttempt,"sleeping for",i),await dr(i),a.send(new Me)}const so=1;async function Gl(t,e,a,s,o){const i=Al(),c=a.stream[Symbol.asyncIterator]();let l=c.next();for(let u=await Promise.race([e.promise,l]);u!==so&&!u.done;l=c.next(),u=await Promise.race([e.promise,l])){const p=u.value;if(p instanceof ga){await ql(i,t,p.response),await t.errors.publish(null);continue}if(p instanceof ae){await t.lifecycle.publish(p),Ul(p,t,s,o);continue}if(p instanceof ys){await t.errors.publish(p);continue}}for(let u=await l;!u.done;u=await c.next()){const p=u.value;if(p instanceof ae&&p.status instanceof Y)break}}async function zl(t,e=null){e!==null&&await t.send(new zn(e)),await t.send(new Me)}function Jl(){return{latestBlockStream:f(4),blockTimeHistogramStream:f(4),blockSizeHistogramStream:f(4),blockThroughputHistogramStream:f(4),nodesSummary:f(4),nodeCoordinates:f(4),pieChartCountries:f(4),pieChartNetworkTypes:f(4),pieChartNodeTypes:f(4),pieChartOperatingSystems:f(4),voters:f(4),latestBlockProducers:f(4),stakeTableStreamer:f(4),validatorsStreamer:f(4),errors:f(4),lifecycle:f(4),reconnectAttempt:0,mounted:!0}}const wt=r.createContext(new Map),z=r.createContext(new Map),Da=t=>n.jsx(Q,{children:n.jsx(W,{asyncIterable:t.stream,children:t.children})}),$l=t=>{const e=r.useContext(S);return n.jsx(wt.Provider,{value:e??new Map,children:n.jsx(K,{children:t.children})})},Ql=t=>{const e=r.useContext(S);return n.jsx(z.Provider,{value:e??new Map,children:n.jsx(K,{children:t.children})})},dn=t=>{const e=r.useContext(ir),a=r.useContext(St),s=Jl();return r.useEffect(()=>{const o=Qe(),i=et(a,cc),c=et(a,ec);return Gl(s,o,a,c,i),zl(c,e?.nodeValidatorServiceURL),()=>{c.send(new Dt),s.mounted=!1,o.complete(so)}},[s,a,e?.nodeValidatorServiceURL]),n.jsx(Do.Provider,{value:s.latestBlockStream,children:n.jsx(hr.Provider,{value:s.latestBlockProducers,children:n.jsx(Wo.Provider,{value:s.blockTimeHistogramStream,children:n.jsx(Mo.Provider,{value:s.blockSizeHistogramStream,children:n.jsx(Oo.Provider,{value:s.blockThroughputHistogramStream,children:n.jsx(ot.Provider,{value:s.nodesSummary,children:n.jsx(ct.Provider,{value:s.pieChartOperatingSystems,children:n.jsx(at.Provider,{value:s.pieChartNetworkTypes,children:n.jsx(st.Provider,{value:s.pieChartNodeTypes,children:n.jsx(nt.Provider,{value:s.pieChartCountries,children:n.jsx(kr.Provider,{value:s.nodeCoordinates,children:n.jsx(rt.Provider,{value:s.voters,children:n.jsx(tt.Provider,{value:s.lifecycle,children:n.jsx(Xa.Provider,{value:pr(s.errors,async o=>o?.error??null),children:n.jsx(Da,{stream:s.stakeTableStreamer,children:n.jsx($l,{children:n.jsx(Da,{stream:s.validatorsStreamer,children:n.jsx(Ql,{children:t.children})})})})})})})})})})})})})})})})})})};try{wt.displayName="CurrentStakeTableContext",wt.__docgenInfo={description:"",displayName:"CurrentStakeTableContext",props:{}}}catch{}try{z.displayName="CurrentValidatorsContext",z.__docgenInfo={description:"",displayName:"CurrentValidatorsContext",props:{}}}catch{}try{dn.displayName="ProvideCappuccinoNodeValidatorStreams",dn.__docgenInfo={description:`ProvideCappuccinoNodeValidatorStream is a React Context Provider that will
setup the node validator state, and provide React Contexts to distribute
the underlying node validator data to the components on the Node Validator
Page.`,displayName:"ProvideCappuccinoNodeValidatorStreams",props:{}}}catch{}const un=t=>{const e=r.useContext(Xa);return n.jsx(W,{asyncIterable:e,children:n.jsx(Yl,{children:t.children})})},Yl=t=>{const e=r.useContext(S),a=r.useContext(Ze);return n.jsx(Ze.Provider,{value:a??e,children:t.children})};try{un.displayName="ErrorStreamConsumer",un.__docgenInfo={description:`ErrorStreamConsumer is a component that is used to consume errors off of
the ErrorStreamContext.  This component will resolve the error stream
and provide the resolved error to the children of this component.`,displayName:"ErrorStreamConsumer",props:{}}}catch{}const ie=t=>n.jsx("div",{className:"pie-chart-section-title card--padding heading--margin",children:n.jsx(D,{children:t.children})});try{ie.displayName="PieChartSectionTitle",ie.__docgenInfo={description:`PieChartSectionTitle is a component that represents the title of a section
of a pie chart. This component is useful for labeling sections of a pie
chart.`,displayName:"PieChartSectionTitle",props:{}}}catch{}const Zl={AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"land Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthlemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia, Plurinational State of",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo, Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Cte d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cabo Verde",CW:"Curaao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czechia",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands (Malvinas)",FM:"Micronesia, Federated States of",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom of Great Britain and Northern Ireland",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran, Islamic Republic of",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"Korea, Democratic People's Republic of",KR:"Korea, Republic of",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Lao People's Democratic Republic",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova, Republic of",ME:"Montenegro",MF:"Saint Martin (French part)",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands, Kingdom of the",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine, State of",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Runion",RO:"Romania",RS:"Serbia",RU:"Russian Federation",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena, Ascension and Tristan da Cunha",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten (Dutch part)",SY:"Syrian Arab Republic",SZ:"Eswatini",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Trkiye",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan, Province of China",TZ:"Tanzania, United Republic of",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States of America",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See",VC:"Saint Vincent and the Grenadines",VE:"Venezuela, Bolivarian Republic of",VG:"Virgin Islands (British)",VI:"Virgin Islands (U.S.)",VN:"Viet Nam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe"};function Xl(t){return Zl[t]??t}function ed(t){return{label:Xl(t.label),value:t.value}}const pn=()=>{const t=r.useContext(de),e=r.useContext(S);return t?n.jsx(n.Fragment,{}):n.jsxs(n.Fragment,{children:[n.jsx(ie,{children:n.jsx(d,{text:"Countries"})}),n.jsx("div",{className:"card--padding",children:n.jsx(Et,{values:e.map(ed)})})]})};try{pn.displayName="CountriesPieChart",pn.__docgenInfo={description:"",displayName:"CountriesPieChart",props:{}}}catch{}const td=t=>n.jsxs(n.Fragment,{children:[n.jsx(d,{text:t.label}),n.jsx(he,{number:t.value})]}),mn=()=>{const t=r.useContext(de),e=r.useContext(S);return t?n.jsx(n.Fragment,{}):n.jsxs(Mn.Provider,{value:td,children:[n.jsx(ie,{children:n.jsx(d,{text:"Network Types"})}),n.jsx("div",{className:"card--padding",children:n.jsx(Et,{values:e})})]})};try{mn.displayName="NetworkTypesPieChart",mn.__docgenInfo={description:"",displayName:"NetworkTypesPieChart",props:{}}}catch{}const nd=t=>n.jsxs(n.Fragment,{children:[n.jsx(d,{text:t.label}),n.jsx(he,{number:t.value})]}),yn=()=>{const t=r.useContext(de),e=r.useContext(S);return t?n.jsx(n.Fragment,{}):n.jsxs(Mn.Provider,{value:nd,children:[n.jsx(ie,{children:n.jsx(d,{text:"Node Types"})}),n.jsx("div",{className:"card--padding",children:n.jsx(Et,{values:e})})]})};try{yn.displayName="NodeTypesPieChart",yn.__docgenInfo={description:"",displayName:"NodeTypesPieChart",props:{}}}catch{}const kt=t=>n.jsxs("span",{className:"inline",children:[t.children,n.jsx(is,{content:t.value.toString()})]});try{kt.displayName="CopyWalletAddress",kt.__docgenInfo={description:"CopyWalletAddress is a component that will display a `CopyButton` with the\ncontents for the `CopyButton` the EIP-55 Formatted Wallet Address",displayName:"CopyWalletAddress",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"WalletAddress"}}}}}catch{}const L=r.createContext({showModal:!1,stakingPhase:null,address:null,amount:null}),J=r.createContext({showModal:()=>{},closeModal:()=>{},setAmount:()=>{},setValidator:()=>{}});try{L.displayName="StakingModalStateContext",L.__docgenInfo={description:"",displayName:"StakingModalStateContext",props:{}}}catch{}try{J.displayName="StakingModalControlsContext",J.__docgenInfo={description:"",displayName:"StakingModalControlsContext",props:{}}}catch{}const ad=()=>{const[t]=r.useContext(T);return t.name===null||t.name===""?n.jsx(d,{text:"-"}):n.jsx(d,{text:t.name})},sd=()=>{const[t]=r.useContext(T);return n.jsx(zr,{value:t.publicKey,children:n.jsx(Jr,{value:t.publicKey})})},od=()=>{const[,,,t]=r.useContext(T),e=t?.account.address??null;if(e===null)return n.jsx(d,{text:"-"});const a=new Lo(e);return n.jsx(kt,{value:a,children:n.jsx(At,{value:a})})},rd=()=>{const[,,,t]=r.useContext(T),e=t?.commission??null;return e===null?n.jsx(d,{text:"-"}):n.jsx(De,{percentage:e.valueOf()})},id=()=>{const t=r.useContext(ro),[,,,e]=r.useContext(T),a=e?.stake??null;if(t===null||a===null)return n.jsx(d,{text:"-"});const s=1e5,o=Number(a*BigInt(s)/t)/s;return n.jsxs(n.Fragment,{children:[n.jsx(k,{money:x.ESP(a)})," (",n.jsx(De,{percentage:o}),")"]})},cd=()=>{const[t]=r.useContext(T);return t.companyDetails===null||t.companyDetails.name===null||t.companyDetails.name===""?n.jsx(d,{text:"-"}):n.jsx(d,{text:t.companyDetails.name})},ld=()=>{const[t]=r.useContext(T);return t.companyDetails===null||t.companyDetails.website===null||t.companyDetails?.website===""?n.jsx(d,{text:"-"}):t.companyDetails.website?n.jsx(Hr,{href:t.companyDetails.website,target:"_blank",children:n.jsx(d,{text:t.companyDetails.website})}):n.jsx(d,{text:"-"})},dd=()=>{const[,t]=r.useContext(T);return t===null?n.jsx(d,{text:"?"}):t.totalVotes===0?n.jsx(he,{number:t.voteParticipation}):n.jsxs(n.Fragment,{children:[n.jsx(he,{number:t.voteParticipation})," (",n.jsx(De,{percentage:t.voteParticipation/t.totalVotes}),")"]})},ud=()=>{const[,,,t]=r.useContext(T),e=r.useContext(J);return t===null||t.account.address===null?n.jsx(d,{text:"-"}):n.jsx(Wn,{title:"Delegate",onClick:()=>{e.showModal(t.account.toString())},children:n.jsx(ls,{})})},oo=t=>n.jsx(as,{columns:[{label:"Public Key",columnType:b.publicKey,buildCell:t.components[0]},{label:"Address",columnType:b.address,buildCell:t.components[1]},{label:"Name",columnType:b.name,buildCell:t.components[2]},{label:"Company",columnType:b.companyName,buildCell:t.components[3]},{label:"Website",columnType:b.companyWebSite,buildCell:t.components[4]},{label:"Commission",columnType:b.commission,buildCell:t.components[5],alignment:F.end},{label:"Stake",columnType:b.stake,buildCell:t.components[6],alignment:F.end},{label:"Vote Participation",columnType:b.voteParticipation,buildCell:t.components[7],alignment:F.end},{label:"",columnType:b.actions,buildCell:t.components[8],alignment:F.center}]}),hn=t=>{const{numElements:e=20}=t;return n.jsx(S.Provider,{value:Array.from(ss(e)),children:n.jsx(oo,{components:[w,w,w,w,w,w,w,w,w]})})},fn=()=>n.jsx(oo,{components:[sd,od,ad,cd,ld,rd,id,dd,ud]});function Wa(t,e){const[a]=t,[s]=e;return Rt(a.publicKey.data,s.publicKey.data)}function pd(t,e){const[a]=t,[s]=e;return a.name===null&&s.name===null?0:a.name===null?1:s.name===null?-1:a.name.localeCompare(s.name)}function md(t,e){const[a]=t,[s]=e;return a.companyDetails===null&&s.companyDetails===null?0:a.companyDetails===null?1:s.companyDetails===null?-1:a.companyDetails.name===null&&s.companyDetails.name===null?0:a.companyDetails.name===null?1:s.companyDetails.name===null?-1:a.companyDetails.name.localeCompare(s.companyDetails.name)}function yd(t,e){const[a]=t,[s]=e;return a.companyDetails===null&&s.companyDetails===null?0:a.companyDetails===null?1:s.companyDetails===null?-1:a.companyDetails.website===null&&s.companyDetails.website===null?0:a.companyDetails.website===null?1:s.companyDetails.website===null?-1:a.companyDetails.website.localeCompare(s.companyDetails.website)}function hd(t,e){const[,a]=t,[,s]=e;return a.voteParticipation-s.voteParticipation}function fd(t,e){const[,,,a]=t,[,,,s]=e,o=a?.account.address,i=s?.account.address;return!o&&!i?0:o?i?Rt(o,i):-1:1}function Cd(t,e){const[,,a]=t,[,,s]=e,o=a?.stakeTableEntry.stakeAmount??0n,i=s?.stakeTableEntry.stakeAmount??0n;return Number(o-i)}function bd(t,e){const[,,,a]=t,[,,,s]=e,o=a?.commission.value??0,i=s?.commission.value??0;return Number(o-i)}function xd(t,e,a,s){return t.map((o,i)=>[o,e[i]??{totalVotes:0,voteParticipation:0},a.get(o.publicKey.toString())??null,s.get(o.publicKey.toString())??null])}function gd(t){switch(t){case b.publicKey:return Wa;case b.name:return pd;case b.companyName:return md;case b.companyWebSite:return yd;case b.voteParticipation:return hd;case b.stake:return Cd;case b.address:return fd;case b.commission:return bd;default:return Wa}}function Sd(t,e){switch(e){case ne.asc:return t;case ne.desc:return(a,s)=>-t(a,s);default:return t}}function wd(t,e,a){const s=Sd(gd(e),a);return t.sort(s)}const ro=r.createContext(0n),Cn=()=>{const[t,e]=r.useState({sortColumn:b.voteParticipation,sortDir:ne.asc}),a=r.useContext(Ze),s=r.useContext(de),o=r.useContext(S),i=r.useContext(it),c=r.useContext(wt),l=r.useContext(z);if(a)return n.jsx(Dn,{});if((!o||o instanceof Array&&o.length<=0)&&s)return n.jsx(hn,{});const u=Vt((q,Oe)=>q+Oe.stake,0n,l.values()),p=xd(o,i,c,l),{sortColumn:C,sortDir:g}=t,V=wd(p,C,g);return n.jsx(ro.Provider,{value:u,children:n.jsx(ts.Provider,{value:t,children:n.jsx(ns.Provider,{value:e,children:n.jsx(S.Provider,{value:V,children:n.jsx(fn,{})})})})})};try{hn.displayName="NodesSummaryDataTablePlaceholder",hn.__docgenInfo={description:`NodesSummaryDataTablePlaceholder is a component that renders a placeholder
version of the Node Summary Data Table.`,displayName:"NodesSummaryDataTablePlaceholder",props:{numElements:{defaultValue:null,description:"",name:"numElements",required:!1,type:{name:"number"}}}}}catch{}try{fn.displayName="NodesSummaryDataTablePopulated",fn.__docgenInfo={description:`NodesSummaryDataTablePopulated is a component that renders the populated
version of the Node Summary Data Table.`,displayName:"NodesSummaryDataTablePopulated",props:{}}}catch{}try{Cn.displayName="NodesSummaryDataTable",Cn.__docgenInfo={description:`NodeSummaryDataTable handles the display of the Node Summary Data Table.
Additionally, it handles the sorting of the data via the manipulation of the
headers of the table data.`,displayName:"NodesSummaryDataTable",props:{}}}catch{}const kd=t=>n.jsxs(n.Fragment,{children:[n.jsx(d,{text:t.label}),n.jsx(he,{number:t.value})]}),bn=()=>{const t=r.useContext(de),e=r.useContext(S);return t?n.jsx(n.Fragment,{}):n.jsxs(Mn.Provider,{value:kd,children:[n.jsx(ie,{children:n.jsx(d,{text:"Operating System"})}),n.jsx("div",{className:"card--padding",children:n.jsx(Et,{values:e})})]})};try{bn.displayName="OperatingSystemPieChart",bn.__docgenInfo={description:"",displayName:"OperatingSystemPieChart",props:{}}}catch{}class Ae{start;end;constructor(e,a){this.start=e,this.end=a}static empty=Ae.collapsed(-1);static collapsed(e){return new Ae(e,e)}get isCollapsed(){return this.start===this.end}get isNormalized(){return this.start<=this.end}get isValid(){return this.start>=0&&this.end>=0}textAfter(e){return Gt(this.isNormalized,"TextRange must be normalized"),e.slice(this.end)}textBefore(e){return Gt(this.isNormalized,"TextRange must be normalized"),e.slice(0,this.start)}textWithin(e){return Gt(this.isNormalized,"TextRange must be normalized"),e.slice(this.start,this.end)}}class O extends Ae{baseOffset;extentOffset;isDirectional;constructor(e,a,s=!1){super(e<a?e:a,e<a?a:e),this.baseOffset=e,this.extentOffset=a,this.isDirectional=s}static collapsed(e){return new O(e,e)}static fromPosition(e){return new O(e,e)}copyWith({baseOffset:e=this.baseOffset,extentOffset:a=this.extentOffset,isDirectional:s=this.isDirectional}={}){return new O(e,a,s)}expandTo(e,a=!1){if(e>=this.start&&e<=this.end)return this;const s=this.baseOffset<this.extentOffset;return e<=this.start?a?this.copyWith({baseOffset:this.end,extentOffset:e}):this.copyWith({baseOffset:s?e:this.baseOffset,extentOffset:s?this.extentOffset:e}):a?this.copyWith({baseOffset:this.start,extentOffset:e}):this.copyWith({baseOffset:s?this.baseOffset:e,extentOffset:s?e:this.extentOffset})}extendTo(e){return this.extentOffset===e?this:this.copyWith({extentOffset:e})}}class U{text;selection;composing;constructor(e,a=O.collapsed(-1),s=Ae.empty){this.text=e,this.selection=a,this.composing=s}copyWith({text:e=this.text,selection:a=this.selection,composing:s=this.composing}={}){return new U(e,a,s)}}const xn=t=>{const e=r.createRef(),{value:a,onChange:s,...o}=t,i=a??new U("",O.collapsed(-1));if(e.current&&i.selection.isValid){const c=i.selection;e.current.setSelectionRange(c.start,c.end,c.start<=c.end?"forward":"backward")}return n.jsx("input",{ref:e,type:"text",...o,value:i.text,onChange:c=>{const l=new U(c.target.value,new O(c.target.selectionStart||0,c.target.selectionEnd||0,(c.target.selectionDirection||"none")!=="none"));s&&(s(c,l),c.isDefaultPrevented())},onSelect:c=>{e.current&&s&&s(c,i.copyWith({selection:new O(e.current.selectionStart??0,e.current.selectionEnd??0,(e.current.selectionDirection||"none")!=="none")}))}})};try{xn.displayName="TextEditing",xn.__docgenInfo={description:`TextEditing is a ReactComponent that provides a text input field
with support for explicitly controlling the value and selection.
It uses the TextEditingValue and TextSelection types to manage
the text and selection state.

It is modelled after the TextEditingController in Flutter,`,displayName:"TextEditing",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"TextEditingValue"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((event: ChangeEvent<HTMLInputElement> | SyntheticEvent<HTMLInputElement, Event>, value: TextEditingValue) => void)"}}}}}catch{}function vd(t){return t.type==="change"}function Ma(t,e){e=e.replace(/^[^\d]+/g,""),e=e.replace(/[^\d]+$/g,"");const s=t.formatToParts(.5).find(p=>p.type==="decimal")?.value??".",o=e.split(s),i=BigInt(o[0].replace(/\D/g,""))*Fe.significantDigitsMultiplier;if(o.length<2)return x.ESP(i);const c=o[1].replace(/\D/g,"").slice(0,Fe.significantDigits),l=10n**BigInt(c.length);if(l>Fe.significantDigitsMultiplier)throw new B("we somehow have more significant digits than the currency supports");const u=BigInt(c)*(Fe.significantDigitsMultiplier/l);return x.ESP(i+u)}const gn=t=>{const e=r.useContext(wr).ESP,{value:a,onChange:s,...o}=t,i=a??x.ESP(0n),c=Number(i.value)/Number(i.currency.significantDigitsMultiplier),l=new U(e.format(c)),[u,p]=r.useState({rawValue:l,transformed:l,money:i});return u.money.value!==i.value&&p({rawValue:new U(e.format(c)),transformed:new U(e.format(c)),money:i}),n.jsx(xn,{...o,value:u.rawValue,onKeyDown:()=>{},onChange:(C,g)=>{if(vd(C)){const V=Ma(e,g.text),q={rawValue:g,transformed:g.copyWith({text:e.format(V.value/V.currency.significantDigitsMultiplier)}),money:V};p(q),s&&s(C,q.money);return}p({...u,rawValue:g,transformed:g})},onBlur:()=>{const C=u.transformed.copyWith({selection:O.collapsed(-1)});p({...u,rawValue:C,transformed:C,money:Ma(e,C.text)})}})};try{gn.displayName="ESPInput",gn.__docgenInfo={description:"",displayName:"ESPInput",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"MonetaryValue | null"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((event: ChangeEvent<HTMLInputElement> | SyntheticEvent<HTMLInputElement, Event>, value: MonetaryValue) => void)"}}}}}catch{}const wa=[{type:"constructor",inputs:[],stateMutability:"nonpayable"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"allowance",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"spender",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"decimals",inputs:[],outputs:[{name:"",type:"uint8",internalType:"uint8"}],stateMutability:"view"},{type:"function",name:"getVersion",inputs:[],outputs:[{name:"majorVersion",type:"uint8",internalType:"uint8"},{name:"minorVersion",type:"uint8",internalType:"uint8"},{name:"patchVersion",type:"uint8",internalType:"uint8"}],stateMutability:"pure"},{type:"function",name:"initialize",inputs:[{name:"_owner",type:"address",internalType:"address"},{name:"_initialGrantRecipient",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"newImplementation",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Upgrade",inputs:[{name:"implementation",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"ERC20InsufficientAllowance",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"allowance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ERC20InsufficientBalance",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"balance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ERC20InvalidApprover",inputs:[{name:"approver",type:"address",internalType:"address"}]},{type:"error",name:"ERC20InvalidReceiver",inputs:[{name:"receiver",type:"address",internalType:"address"}]},{type:"error",name:"ERC20InvalidSender",inputs:[{name:"sender",type:"address",internalType:"address"}]},{type:"error",name:"ERC20InvalidSpender",inputs:[{name:"spender",type:"address",internalType:"address"}]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]}],io=[{type:"constructor",inputs:[],stateMutability:"nonpayable"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"_hashBlsKey",inputs:[{name:"blsVK",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"blsKeys",inputs:[{name:"blsKeyHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"used",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"claimValidatorExit",inputs:[{name:"validator",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"claimWithdrawal",inputs:[{name:"validator",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegate",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegations",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"deregisterValidator",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"exitEscrowPeriod",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getVersion",inputs:[],outputs:[{name:"majorVersion",type:"uint8",internalType:"uint8"},{name:"minorVersion",type:"uint8",internalType:"uint8"},{name:"patchVersion",type:"uint8",internalType:"uint8"}],stateMutability:"pure"},{type:"function",name:"initialize",inputs:[{name:"_tokenAddress",type:"address",internalType:"address"},{name:"_lightClientAddress",type:"address",internalType:"address"},{name:"_exitEscrowPeriod",type:"uint256",internalType:"uint256"},{name:"_initialOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"initializedAtBlock",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"lightClient",inputs:[],outputs:[{name:"",type:"address",internalType:"contract LightClientV2"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"registerValidator",inputs:[{name:"blsVK",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVK",type:"tuple",internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"blsSig",type:"tuple",internalType:"struct BN254.G1Point",components:[{name:"x",type:"uint256",internalType:"BN254.BaseField"},{name:"y",type:"uint256",internalType:"BN254.BaseField"}]},{name:"commission",type:"uint16",internalType:"uint16"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"token",inputs:[],outputs:[{name:"",type:"address",internalType:"contract ERC20"}],stateMutability:"view"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"undelegate",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"undelegations",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"},{name:"unlocksAt",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"updateConsensusKeys",inputs:[{name:"newBlsVK",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"newSchnorrVK",type:"tuple",internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"newBlsSig",type:"tuple",internalType:"struct BN254.G1Point",components:[{name:"x",type:"uint256",internalType:"BN254.BaseField"},{name:"y",type:"uint256",internalType:"BN254.BaseField"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"newImplementation",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"validatorExits",inputs:[{name:"validator",type:"address",internalType:"address"}],outputs:[{name:"unlocksAt",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"validators",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"delegatedAmount",type:"uint256",internalType:"uint256"},{name:"status",type:"uint8",internalType:"enum StakeTable.ValidatorStatus"}],stateMutability:"view"},{type:"event",name:"ConsensusKeysUpdated",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"blsVK",type:"tuple",indexed:!1,internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVK",type:"tuple",indexed:!1,internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]}],anonymous:!1},{type:"event",name:"Delegated",inputs:[{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"validator",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Undelegated",inputs:[{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"validator",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Upgrade",inputs:[{name:"implementation",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ValidatorExit",inputs:[{name:"validator",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ValidatorRegistered",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"blsVk",type:"tuple",indexed:!1,internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVk",type:"tuple",indexed:!1,internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"commission",type:"uint16",indexed:!1,internalType:"uint16"}],anonymous:!1},{type:"event",name:"Withdrawal",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"BLSSigVerificationFailed",inputs:[]},{type:"error",name:"BlsKeyAlreadyUsed",inputs:[]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InsufficientAllowance",inputs:[{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"}]},{type:"error",name:"InsufficientBalance",inputs:[{name:"",type:"uint256",internalType:"uint256"}]},{type:"error",name:"InvalidCommission",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"InvalidSchnorrVK",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"NothingToWithdraw",inputs:[]},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"PrematureWithdrawal",inputs:[]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"UndelegationAlreadyExists",inputs:[]},{type:"error",name:"ValidatorAlreadyExited",inputs:[]},{type:"error",name:"ValidatorAlreadyRegistered",inputs:[]},{type:"error",name:"ValidatorInactive",inputs:[]},{type:"error",name:"ValidatorNotExited",inputs:[]},{type:"error",name:"ZeroAddress",inputs:[]},{type:"error",name:"ZeroAmount",inputs:[]}];function Td(){const t=r.useRef(null),[e,a]=r.useState({showModal:!1,stakingPhase:null,address:null,amount:null});return{dialogRef:t,state:e,showModal:l=>{a({...e,showModal:!0,address:l??null}),t.current?.showModal()},closeModal:()=>{a({...e,showModal:!1,address:null,amount:null}),t.current?.close()},setAmount:l=>{a({...e,amount:l})},setValidator:l=>{a({...e,address:l})}}}const Nd=()=>{const t=r.useContext(J);return n.jsxs("header",{className:"dialog-header",children:[n.jsx(D,{children:n.jsx(d,{text:"Delegate ESP"})}),n.jsx(Wn,{onClick:()=>t.closeModal(),title:"Close Navigation Drawer",children:n.jsx(Fr,{})})]})},_d=()=>null,jd=()=>{const t=r.useContext(L);return t.address?n.jsxs(n.Fragment,{children:[n.jsx(D,{children:n.jsxs("span",{children:[n.jsx(d,{text:"Delegating to "}),n.jsx(At,{value:vt.decode(t.address)})]})}),n.jsx("div",{className:"delegation-preview-title",children:n.jsx(d,{text:"Delegation Preview"})})]}):n.jsx(D,{children:n.jsx(d,{text:"No validator selected, please select a validator."})})},me=({children:[t,e]})=>n.jsxs("tr",{children:[n.jsx("th",{children:t}),n.jsx("td",{children:e})]}),ka=r.createContext(null),Pd=t=>{const e=io,a=ds({address:t.contractAddress,abi:e,functionName:"validators",args:[t.address]});return a.data?n.jsx(ka.Provider,{value:a.data,children:t.children}):t.children},Bd=t=>{const e=r.useContext(L),s=r.useContext(ce)?.stakeTableContractAddress;return!s||!e.address?t.children:n.jsx(Pd,{contractAddress:s,address:e.address,children:t.children})},Ht=r.createContext(null),Id=t=>{const e=wa,a=pi({contracts:[{address:t.espTokenContractAddress,abi:e,functionName:"allowance",args:[t.address,t.stakingTableContractAddress]},{address:t.espTokenContractAddress,abi:e,functionName:"balanceOf",args:[t.address]}]});if(!a.data||a.data.length<2||a.data[0].status!=="success"||a.data[1].status!=="success")return t.children;const s=a.data[0].result,o=a.data[1].result;return n.jsx(Ht.Provider,{value:[s,o],children:t.children})},Ad=t=>{const e=r.useContext(j),a=r.useContext(ce),s=a?.espTokenContractAddress,o=a?.stakeTableContractAddress;return!s||!o||!e?t.children:n.jsx(Id,{espTokenContractAddress:s,stakingTableContractAddress:o,address:e,children:t.children})},Vd=()=>{const t=r.useContext(ka);if(!t)return n.jsx(n.Fragment,{});const[,e]=t;switch(e){case 1:return n.jsx(d,{text:"Active"});case 2:return n.jsx(d,{text:"Exited"});default:return n.jsx(d,{text:"Unknown"})}},Rd=()=>{const t=r.useContext(ka);if(!t)return n.jsx(n.Fragment,{});const[e]=t;return n.jsxs(n.Fragment,{children:[n.jsxs(me,{children:[n.jsx(d,{text:"Current Stake"}),n.jsx(k,{money:x.ESP(e)})]}),n.jsxs(me,{children:[n.jsx(d,{text:"Status"}),n.jsx(Vd,{})]})]})},Ed=()=>{const t=r.useContext(L),e=r.useContext(z);if(!t.address)return null;const a=t.address.toLowerCase(),s=En(e.values(),o=>o.account.toString().toLowerCase()===a)??null;return s?n.jsxs(n.Fragment,{children:[n.jsx(fe,{}),n.jsx("table",{className:"validator-information",children:n.jsxs("tbody",{children:[n.jsxs(me,{children:[n.jsx(d,{text:"Address"}),n.jsx(At,{value:vt.decode(t.address)})]}),n.jsxs(me,{children:[n.jsx(d,{text:"Commission"}),n.jsx(De,{percentage:s.commission.valueOf()})]}),n.jsxs(me,{children:[n.jsx(d,{text:"Current Epoch Stake"}),n.jsx(k,{money:x.ESP(s.stake)})]}),n.jsx(Rd,{})]})})]}):n.jsx(n.Fragment,{})},Dd=()=>{const t=r.useContext(L),e=r.useContext(J),a=r.useContext(Ht);if(!t.address||!a)return null;const[s,o]=a,i=s>o?o:s;return n.jsxs(n.Fragment,{children:[n.jsx(fe,{}),n.jsx(d,{text:"Amount to Delegate"}),n.jsx("br",{}),n.jsxs(Qr,{children:[n.jsx(gn,{id:"stake-amount",value:t.amount,onChange:(c,l)=>{e.setAmount(l)}}),n.jsx(Ee,{className:"btn--max",onClick:()=>e.setAmount(x.ESP(i)),children:n.jsx(d,{text:"Max"})})]})]})},Wd=t=>{const e=wa,{writeContract:a}=us();return n.jsx(Ee,{onClick:()=>{a({abi:e,address:t.espTokenContractAddress,functionName:"approve",args:[t.address,t.stakeTableContractAddress]})},className:"raise-allowance",children:n.jsx(d,{text:"Raise Allowance"})})},Md=()=>{const t=r.useContext(L),e=r.useContext(j),a=r.useContext(Ht),s=r.useContext(ce),o=s?.espTokenContractAddress??null,i=s?.stakeTableContractAddress??null;if(!s||!e||!o||!i||!t.amount||!a)return null;const[c,l]=a,u=t.amount.value;return u>l?n.jsxs(n.Fragment,{children:[n.jsx(fe,{}),n.jsxs("div",{className:"warning",children:[n.jsx(d,{text:"Insufficient Balance"}),n.jsx("br",{}),n.jsx(k,{money:x.ESP(u)})," >"," ",n.jsx(k,{money:x.ESP(l)}),n.jsx("br",{}),n.jsx(d,{text:"More ESP needed"})]})]}):u>c?n.jsxs(n.Fragment,{children:[n.jsx(fe,{}),n.jsxs("div",{className:"warning",children:[n.jsx(d,{text:"Insufficient Allowance"}),n.jsx("br",{}),n.jsx(k,{money:x.ESP(u)})," >"," ",n.jsx(k,{money:x.ESP(c)}),n.jsx("br",{}),n.jsx(Wd,{address:e,espTokenContractAddress:o,stakeTableContractAddress:i})]})]}):null};function Od(t,e,a,s,o){if(!o.address||!t||!e||!(En(s.chains,p=>e.id===p.id)??null)||!o.amount||!a)return!1;const[c,l]=a,u=o.amount.value;return u<=0n?!1:u<=l&&u<=c}const Ld=()=>{const{writeContract:t}=us(),e=r.useContext(j),a=r.useContext(ce),s=r.useContext(L),o=r.useContext(Ht),i=r.useContext(Ga),c=Ve(),l=a?.stakeTableContractAddress??null,u=io,p=Od(e,i,o,c,s);return n.jsxs(Ee,{onClick:()=>{!s.address||!l||!s.amount||t({abi:u,address:l,functionName:"delegate",args:[s.address,s.amount.value]})},disabled:!p,children:[n.jsx(d,{text:"Delegate"}),s.amount?n.jsxs(n.Fragment,{children:[" ",n.jsx(k,{money:s.amount??x.ESP(0n)})]}):null]})},Fd=()=>n.jsxs("div",{className:"delegation-preview",children:[n.jsx(jd,{}),n.jsx(Ed,{}),n.jsx(Dd,{}),n.jsx(Md,{}),n.jsx("div",{className:"flex-spacer"}),n.jsx(Ld,{})]}),Hd=()=>n.jsx(Ad,{children:n.jsx(Bd,{children:n.jsxs("div",{className:"dialog-content",children:[n.jsx(_d,{}),n.jsx(Fd,{})]})})}),Kd=t=>n.jsxs("dialog",{ref:t.dialogRef,className:"staking-modal",children:[n.jsx(Nd,{}),n.jsx(Hd,{})]}),Sn=t=>{const{state:e,dialogRef:a,showModal:s,closeModal:o,setAmount:i,setValidator:c}=Td();return n.jsx(L.Provider,{value:e,children:n.jsx(J.Provider,{value:{showModal:s,closeModal:o,setAmount:i,setValidator:c},children:n.jsxs(n.Fragment,{children:[t.children,n.jsx(Kd,{dialogRef:a})]})})})};try{Sn.displayName="StakingModal",Sn.__docgenInfo={description:"",displayName:"StakingModal",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const co=r.createContext([]),qd=()=>{const[t]=r.useContext(T),e=t?.account??null;return e===null?n.jsx(d,{text:"-"}):n.jsx(kt,{value:e,children:n.jsx(At,{value:e})})},Ud=()=>{const[t]=r.useContext(T);return t.commission.value<=0?n.jsx(d,{text:"-"}):n.jsx(De,{percentage:t.commission.valueOf()})},Gd=()=>{const[,t]=r.useContext(T);return t<=0n?n.jsx(d,{text:"-"}):n.jsx(k,{money:x.ESP(t)})},zd=()=>{const[t]=r.useContext(T);return t.stake<=0n?n.jsx(d,{text:"-"}):n.jsx(k,{money:x.ESP(t.stake)})},Jd=()=>{const[t]=r.useContext(T),e=r.useContext(J);return t===null||t.account.address===null?n.jsx(d,{text:"-"}):n.jsx(Wn,{title:"Delegate",onClick:()=>{e.showModal(t.account.toString())},children:n.jsx(ls,{})})};function Oa(t,e){const[a]=t,[s]=e;return Rt(a.account.address,s.account.address)}function $d(t,e){const[a]=t,[s]=e;return a.commission.valueOf()-s.commission.valueOf()}function Qd(t,e){const[,a]=t,[,s]=e;return Number(a-s)}function Yd(t,e){const[a]=t,[s]=e;return Number(a.stake-s.stake)}function Zd(t){switch(t){case"address":return Oa;case"commission":return $d;case"delegated":return Qd;case"stake":return Yd;default:return Oa}}function Xd(t,e){switch(e){case ne.asc:return t;case ne.desc:return(a,s)=>-t(a,s);default:return t}}function eu(t,e,a){const s=Xd(Zd(e),a);return t.sort(s)}const lo=t=>n.jsx(as,{columns:[{label:"Address",columnType:"address",buildCell:t.components[0]},{label:"Commission",columnType:"commission",buildCell:t.components[1],alignment:F.end},{label:"Delegated",columnType:"delegated",buildCell:t.components[2],alignment:F.end},{label:"Stake",columnType:"stake",buildCell:t.components[3],alignment:F.end},{label:"",columnType:"actions",buildCell:t.components[4],alignment:F.end}]}),wn=t=>{const{numElements:e=20}=t;return n.jsx(S.Provider,{value:Array.from(ss(e)),children:n.jsx(lo,{components:[w,w,w,w,w]})})},kn=()=>n.jsx(lo,{components:[qd,Ud,Gd,zd,Jd]}),vn=()=>{const[t,e]=r.useState({sortColumn:"delegated",sortDir:ne.desc}),a=r.useContext(Ze),s=r.useContext(de),o=r.useContext(S);if(a)return n.jsx(Dn,{});if(!o||o instanceof Array&&o.length<=0&&s)return n.jsx(wn,{});const{sortColumn:i,sortDir:c}=t,l=eu(o,i,c);return n.jsx(ts.Provider,{value:t,children:n.jsx(ns.Provider,{value:e,children:n.jsx(S.Provider,{value:l,children:n.jsx(kn,{})})})})},tu=()=>{const t=r.useContext(co),e=mr([t]);return n.jsx(W,{asyncIterable:e,children:n.jsx(vn,{})})},nu=()=>{const t=r.useContext(z),e=r.useContext(j);if(!e)return n.jsx(n.Fragment,{});const a=Array.from(v(Br(t.values(),s=>s.delegators.has(e.toLowerCase())),s=>[s,s.delegators.get(e.toLowerCase())]));return a.length<=0?n.jsxs(n.Fragment,{children:[n.jsx(d,{text:"Wanna grow your assets? Start delegating!"}),n.jsx("p",{children:n.jsx(d,{text:"You can delegate a portion of your ESP to a validator to earn rewards when they produce blocks."})})]}):n.jsx(co.Provider,{value:a,children:n.jsx(tu,{})})},Tn=()=>n.jsxs(n.Fragment,{children:[n.jsx(fe,{}),n.jsx("br",{}),n.jsx(D,{children:n.jsx(d,{text:"Your Validators"})}),n.jsx("br",{}),n.jsx(rs,{children:n.jsx(nu,{})})]});try{wn.displayName="NodesSummaryDataTablePlaceholder",wn.__docgenInfo={description:"",displayName:"NodesSummaryDataTablePlaceholder",props:{numElements:{defaultValue:null,description:"",name:"numElements",required:!1,type:{name:"number"}}}}}catch{}try{kn.displayName="NodesSummaryDataTablePopulated",kn.__docgenInfo={description:"",displayName:"NodesSummaryDataTablePopulated",props:{}}}catch{}try{vn.displayName="YourDelegationsDataTable",vn.__docgenInfo={description:"",displayName:"YourDelegationsDataTable",props:{}}}catch{}try{Tn.displayName="YourValidatorsSection",Tn.__docgenInfo={description:"",displayName:"YourValidatorsSection",props:{}}}catch{}const au=()=>{const t=r.useContext(za);return n.jsx("div",{className:"staking-summary-content card--padding",children:n.jsxs("div",{children:[n.jsx(D,{children:n.jsx(d,{text:"Invalid Chain Selected"})}),n.jsxs("p",{children:[n.jsx(d,{text:"The chain that is configured with your current wallet is not supported for staking."}),n.jsx(d,{text:"Please select one of the following supported chains to view your staking summary:"})]}),n.jsx(Ee,{onClick:t.openChainModal,children:n.jsx(d,{text:"Select Chain"})})]})})},su=({address:t,espTokenAddress:e})=>{const s=Fo({address:t,token:e}).data?.value??null;return s===null?n.jsx(d,{text:"no balance found"}):n.jsx(k,{money:x.ESP(s)})},ou=({address:t,espTokenAddress:e,stakeTableAddress:a})=>{const i=ds({address:e,abi:wa,functionName:"allowance",args:[t,a]}).data??null;return i===null||typeof i!="bigint"?n.jsx(d,{text:"no balance found"}):n.jsx(k,{money:x.ESP(i)})},ru=()=>{const t=r.useContext(j),e=r.useContext(z);if(!t)return null;const a=t.toLowerCase(),s=Vt((o,i)=>o+i,0n,v(e.values(),o=>o.delegators.get(a)??0n));return n.jsxs("div",{children:[n.jsx(D,{children:n.jsx(d,{text:"Delegated Amount"})}),n.jsx(k,{money:x.ESP(s)})]})};function ye(t,e){return t.startsWith(e)}const iu=()=>{const t=r.useContext(j),e=r.useContext(ce),a=e?.espTokenContractAddress;return!t||!e||!a||!ye(t,"0x")||!ye(a,"0x")?null:n.jsxs("div",{children:[n.jsx(D,{children:n.jsx(d,{text:"Available Balance"})}),n.jsx(su,{address:t,espTokenAddress:a})]})},cu=()=>{const t=r.useContext(j),e=r.useContext(ce),a=e?.espTokenContractAddress,s=e?.stakeTableContractAddress;return!t||!e||!a||!s||!ye(t,"0x")||!ye(a,"0x")||!ye(s,"0x")?null:n.jsxs("div",{children:[n.jsx(D,{children:n.jsx(d,{text:"Allowance"})}),n.jsx(ou,{address:t,espTokenAddress:a,stakeTableAddress:s})]})},lu=()=>{const t=r.useContext(S);return typeof t!="bigint"?n.jsx(d,{text:"no balance found"}):n.jsx(k,{money:x.ESP(t)})},du=()=>{const t=r.useContext(j),e=r.useContext(cr);if(!t)return null;const a=e.rewardState.getLatestRewardBalance(t);return n.jsxs("div",{className:"rewards",children:[n.jsx(D,{children:n.jsx(d,{text:"Rewards"})}),n.jsx(xr,{promise:a,children:n.jsx(lu,{})})]})},uu=()=>n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"staking-summary-content",children:[n.jsx(ru,{}),n.jsx(iu,{}),n.jsx(cu,{}),n.jsx(du,{})]}),n.jsx(Tn,{})]}),Nn=()=>{const t=r.useContext(j),e=r.useContext(Ga),a=Ve();return!t||!e?null:a.chains.find(o=>e.id===o.id)??null?n.jsx(uu,{}):n.jsx(au,{})};try{Nn.displayName="StakingSummarySection",Nn.__docgenInfo={description:`StakingSummarySection is a section that governs the current wallet's
staking information.  In general this section should only be available
to wallets that are connected, and targeting the correct chain.

If the user's chain is not correct, then this section should let the
user know that they have the wrong chain selected, and that
they should switch to the correct chain.

With an active user on the correct chain, this section should
display the user's current staking summary as of the current epoch.
This **should** include information for the user concerning the following
topics:
- Staked Amount
- Current Balance
- (Allowance?)
- Current Rewards available to claim`,displayName:"StakingSummarySection",props:{}}}catch{}const pu=()=>{const e=r.useContext(Vn)?.ensAvatar;return e?n.jsx("img",{className:"current-wallet-ens-avatar",title:"Your ENS Avatar",src:e,alt:"ENS Avatar"}):null},mu=()=>{const t=r.useContext(Vn);if(!t)return null;const e=t.ensName,a=t.address,s=t.displayName;return n.jsxs("span",{className:"inline",children:[n.jsx(d,{text:s}),n.jsx(is,{content:e??a})]})},_n=()=>r.useContext(Vn)?n.jsxs("div",{className:"current-wallet-display",children:[n.jsx(pu,{}),n.jsx(mu,{})]}):null;try{_n.displayName="CurrentWalletDisplay",_n.__docgenInfo={description:`CurrentWalletDisplay is a React component that displays the currently
connected wallet.  This is useful for identifying the current wallet for the
interacting user.`,displayName:"CurrentWalletDisplay",props:{}}}catch{}const yu=()=>{const t=r.useContext(za);return n.jsx(Ee,{onClick:t.openConnectModal,children:n.jsx(d,{text:"Connect Wallet"})})},hu=()=>n.jsx(_n,{}),fu=()=>r.useContext(j)?n.jsx(hu,{}):n.jsx(yu,{}),Cu=t=>n.jsx("header",{className:"only-wallet",...t,children:n.jsx(fu,{})});try{onlywalletheading.displayName="onlywalletheading",onlywalletheading.__docgenInfo={description:`OnlyWalletHeading is a component that is a header that displays only the
current wallet information, or a button to connect a wallet if none is
connected.

This component is expected to be a header of only the wallet information
aligned to the right side of the page.`,displayName:"onlywalletheading",props:{}}}catch{}const jn=({children:t})=>r.useContext(Rn)?t:null,Pn=({children:t})=>{const e=r.useContext(Rn),a=r.useContext(j);return!e||!a?null:t};try{jn.displayName="RainbowKitMountedGuard",jn.__docgenInfo={description:`RainbowKitMountedGuard is a React component that will only render its
children if the RainbowKit is mounted.

This is a useful guard to ensure that components relying on
RainbowKit's context are only rendered when RainbowKit is fully initialized.
This prevents potential issues with accessing context values before
RainbowKit is ready, such as when using the ConnectButton or other
RainbowKit components that depend on the mounted state.`,displayName:"RainbowKitMountedGuard",props:{}}}catch{}try{Pn.displayName="WalletConnectedGuard",Pn.__docgenInfo={description:`WalletConnectedGuard is a React component that will only render its
children if the user has a wallet connected.

This guard checks the RainbowKit context to determine if a wallet
address is available, indicating that a wallet is connected.
If no wallet is connected, it will not render the children components.
This is useful for protecting routes or components that should
only be accessible when a user has connected their wallet.`,displayName:"WalletConnectedGuard",props:{}}}catch{}const Bn=t=>{const e=r.useContext(Se),a=xu(e),s=bu(e);return n.jsx("div",{className:cs(t.className,`web-socket-status ${s}`),children:a})};function bu(t){return t?t.status instanceof ue?"web-socket-status--connected":t.status instanceof We?"web-socket-status--connecting":"web-socket-status--disconnected":"web-socket-status--disconnected"}function xu(t){return t?t.status instanceof ue?n.jsx(d,{text:"WebSocket Connected"}):t.status instanceof We?n.jsx(d,{text:"WebSocket Connecting..."}):n.jsx(d,{text:"WebSocket Disconnected"}):n.jsx(d,{text:"WebSocket Disconnected"})}try{Bn.displayName="WebSocketStatus",Bn.__docgenInfo={description:"WebSocketStatus is a component that renders the WebSocket status.",displayName:"WebSocketStatus",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const gu=t=>{const e=r.useContext(Rn),s=!r.useContext(j)||!e?"node-validator-grid edge-margin":"node-validator-grid with-wallet edge-margin";return n.jsx("div",{...t,className:cs(t.className,s),children:t.children})},In=t=>n.jsx(Zt,{children:n.jsx(un,{children:n.jsxs(gr,{page:Sr.nodes,children:[n.jsx(Gr,{}),n.jsx(jn,{children:n.jsx(Cu,{})}),n.jsx(Bn,{className:"edge-margin"}),n.jsx(Dn,{className:"edge-margin"}),n.jsx(Sn,{children:n.jsxs(gu,{...t,children:[n.jsx(Ho,{children:n.jsx(Mr,{className:"latest-block"})}),n.jsx(fr,{children:n.jsx(Cr,{className:"latest-block-producers"})}),n.jsx(Ko,{children:n.jsx(Or,{})}),n.jsx(qo,{children:n.jsx(Kr,{})}),n.jsx(Uo,{children:n.jsx(Lr,{})}),n.jsx(ee,{className:"cdn",children:n.jsx(br,{className:"card-padding"})}),n.jsxs(ee,{className:"network-map",children:[n.jsxs(qr,{className:"card--padding heading--margin",children:[n.jsx(d,{text:"Network Map"}),n.jsx("div",{})]}),n.jsx(vr,{children:n.jsx(Tr,{children:n.jsxs(Nr,{children:[n.jsx($r,{}),n.jsx(_r,{children:n.jsx(jr,{})})]})})})]}),n.jsx(ee,{className:"countries",children:n.jsx(Xt,{children:n.jsx(pn,{})})}),n.jsx(ee,{className:"network-types",children:n.jsx(en,{children:n.jsx(mn,{})})}),n.jsx(ee,{className:"node-types",children:n.jsx(tn,{children:n.jsx(yn,{})})}),n.jsx(ee,{className:"operating-systems",children:n.jsx(on,{children:n.jsx(bn,{})})}),n.jsx(Pn,{children:n.jsx("div",{className:"wallet-stake",children:n.jsx(Nn,{})})}),n.jsx(rs,{className:"nodes",children:n.jsx(an,{children:n.jsx(sn,{children:n.jsx(Cn,{})})})})]})}),n.jsx(Ur,{})]})})});try{In.displayName="NodesPage",In.__docgenInfo={description:"NodesPage is a component that renders the Nodes page.",displayName:"NodesPage",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Su=({environment:t,stakeTableContractAddress:e,espTokenContractAddress:a,hotshotQueryServiceURL:s,nodeValidatorWebSocketURL:o,...i})=>n.jsx(n.Fragment,{children:n.jsxs(Zo,{environment:t,stakeTableContractAddress:e,espTokenContractAddress:a,hotshotQueryServiceURL:s,nodeValidatorWebSocketURL:o,children:[n.jsx(Xo,{}),n.jsx(po,{children:n.jsx(ln,{children:n.jsx(lr,{children:n.jsx(mo,{pathResolver:new er,children:n.jsx(dn,{children:n.jsx(In,{...i})})})})})})]})}),gm={title:"Pages/Nodes",component:Su,parameters:{layout:"fullscreen"},args:{environment:Go.fakeData,stakeTableContractAddress:"",espTokenContractAddress:"",hotshotQueryServiceURL:"",nodeValidatorWebSocketURL:""}},He={argTypes:$},Ke={args:zo,argTypes:$},qe={args:Jo,argTypes:$},Ue={args:$o,argTypes:$},Ge={args:Qo,argTypes:$},ze={args:Yo,argTypes:$},Je={args:{environment:"milk",stakeTableContractAddress:"0x196dbcbb54b8ec4958c959d8949ebfe87ac2aaaf",espTokenContractAddress:"0xf7cd8fa9b94db2aa972023b379c7f72c65e4de9d",hotshotQueryServiceURL:"https://query-0.milk.devnet.espresso.network/v0/",nodeValidatorWebSocketURL:"ws://localhost:9000/v0/"},argTypes:$};He.parameters={...He.parameters,docs:{...He.parameters?.docs,source:{originalSource:`{
  argTypes: environmentArgTypesWithContracts
}`,...He.parameters?.docs?.source}}};Ke.parameters={...Ke.parameters,docs:{...Ke.parameters?.docs,source:{originalSource:`{
  args: environmentArgsMilkWithContracts,
  argTypes: environmentArgTypesWithContracts
}`,...Ke.parameters?.docs?.source}}};qe.parameters={...qe.parameters,docs:{...qe.parameters?.docs,source:{originalSource:`{
  args: environmentArgsWaterWithContracts,
  argTypes: environmentArgTypesWithContracts
}`,...qe.parameters?.docs?.source}}};Ue.parameters={...Ue.parameters,docs:{...Ue.parameters?.docs,source:{originalSource:`{
  args: environmentArgsDecafWithContracts,
  argTypes: environmentArgTypesWithContracts
}`,...Ue.parameters?.docs?.source}}};Ge.parameters={...Ge.parameters,docs:{...Ge.parameters?.docs,source:{originalSource:`{
  args: environmentArgsMainnetWithContracts,
  argTypes: environmentArgTypesWithContracts
}`,...Ge.parameters?.docs?.source}}};ze.parameters={...ze.parameters,docs:{...ze.parameters?.docs,source:{originalSource:`{
  args: environmentArgsFakeDataWithContracts,
  argTypes: environmentArgTypesWithContracts
}`,...ze.parameters?.docs?.source}}};Je.parameters={...Je.parameters,docs:{...Je.parameters?.docs,source:{originalSource:`{
  args: {
    environment: 'milk',
    stakeTableContractAddress: '0x196dbcbb54b8ec4958c959d8949ebfe87ac2aaaf',
    espTokenContractAddress: '0xf7cd8fa9b94db2aa972023b379c7f72c65e4de9d',
    hotshotQueryServiceURL: 'https://query-0.milk.devnet.espresso.network/v0/',
    nodeValidatorWebSocketURL: 'ws://localhost:9000/v0/'
  },
  argTypes: environmentArgTypesWithContracts
}`,...Je.parameters?.docs?.source}}};const Sm=["Default","Milk","Water","Decaf","Mainnet","FakeData","LocalTestingMilk"];export{Ue as Decaf,He as Default,ze as FakeData,Je as LocalTestingMilk,Ge as Mainnet,Ke as Milk,qe as Water,Sm as __namedExportsOrder,gm as default};
