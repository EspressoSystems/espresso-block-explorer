import{R as a,j as e,r as go}from"./iframe-CZr8t9jY.js";import{N as An,P as vo}from"./NowProvider-DNx-Ix2E.js";import{E as jo,b as No}from"./environment_banner-Bf2mlfw8.js";import{j as So,i as wo,k as ko,l as bo,m as Ao,n as Io,o as Po}from"./controls-BW0f4Rv5.js";import{R as _r,E as In,b as fr,L as je,c as he,M as Ro,d as Mn,e as Eo,f as Do,V as Va,D as Wa,U as Nt,C as Ja,g as St,h as To,a as Oo}from"./storybook-9mTwlsbk.js";import{n as Cr,W as Bo,i as Vo,N as or,u as Wo,C as yr,H as Jo,P as Uo}from"./CappuccinoHotShotQueryServiceAPIContext-BKCYQU_c.js";import{B as Mo}from"./explorer-DMvsK9wD.js";import{U as P}from"./UnimplementedError-CdIPpzwU.js";import{g as Lo}from"./blocks-BbRoLXeF.js";import{c as Fo,n as Ie,P as Ho}from"./nodes-BnjHQtbM.js";import{T as x,b as f,A as _e,j as K,k as Ne,I as q,q as z,s as $e,w as cr,x as ir,n as gr}from"./string-IJEBdhwx.js";import{s as _,h as u}from"./array_buffer-cBr8gIXV.js";import{b as C,a as qo}from"./url-Bph6d-ow.js";import"./MissingElementError-CbV3pOXz.js";import{n as re}from"./base64-KHURY7_E.js";import{m as A,r as Ee,z as zo,k as vr,q as W,e as Se,c as lr,n as wt,s as kt,p as Pn}from"./functional-Cgf59ne2.js";import{v as $o,D as U,n as oe,C as Je}from"./LoadingProvider-CpQg_alm.js";import"./validator-BovotZF2.js";import{t as jr,T as Nr}from"./TaggedBase64-S1MhFE0d.js";import{b as Rn,d as Ko,a as Qo}from"./assert-BI051aL8.js";import{I as Go,M as h}from"./monetary_value-B0ntaWrJ.js";import{A as Ue}from"./AsyncIterableResolver-Bza6cJIl.js";import{a as j,A as H,b as w,P as Ln}from"./ProvideAsyncStates-C3Ru9LM3.js";import"./TransactionDetailContent-BlZgVGEZ.js";import{P as M}from"./PromiseResolver-CaM1boB1.js";import"./DataTable-I0tUYPwJ.js";import{aJ as Yo,aZ as Xo,aK as Zo,a_ as ec,a$ as tc,b0 as nc,aM as L,aO as Ua}from"./en_US-RFN65H63-BUJKEyz8.js";import{E as Sr}from"./espresso-BvQD_1BL.js";import"./BlockPage-Bn8WAnU9.js";import"./BlocksPage-BWTPpBoJ.js";import"./NodesSummaryDataTable-CDzCRwiM.js";import"./ExplorerPage-CRrXUM5_.js";import"./RollUpPage-DGYvXezx.js";import"./RollUpsPage-Dsyp7GJo.js";import"./TransactionPage-BiBX244n.js";import"./TransactionsForBlockPage-C8gUbC_g.js";import"./TransactionsPage-CLNvCxe4.js";import{C as sc}from"./DateTimeFormattersProvider-DnPksEHq.js";import"./LocaleProvider-C_oPBYMV.js";import"./PagePathProvider--PzVzJcG.js";import"./NumberFormattersProvider-Ih38hUky.js";import"./PathResolverProvider-C2pAxoUb.js";import{E as ac}from"./EspressoLogoAndTitle-CdWoZK4f.js";import{T as o}from"./Text-BU7JBOLk.js";import{W as Me}from"./deserializer-IuDcOOsb.js";import{a as E}from"./higher_order-BJO-eimJ.js";import{S as bt}from"./SVGIconBase-DuaD1ZtN.js";import{W as Le}from"./wallet_address-1_HiFw02.js";import{M as y}from"./MoneyText-rZp2f6dH.js";import{P as O}from"./VariableByteSizeText-DUcjO8XX.js";import{N as wr}from"./NumberText-BecQVMhk.js";import{M as rc}from"./Close--z-NiWuP.js";import{s as Fe}from"./sleep-CW-vxfof.js";import{E as kr}from"./esp_input-Bsm-Z5JV.js";import"./ByteSizeText-CFW1vnKy.js";import"./CopyHex-BvQfgRC3.js";import"./DateTimeText-BzHS252i.js";import"./FullHexText-3tleIpiG.js";import"./HexText-BGjwdQ3o.js";import"./RelativeTimeSinceDateText-DnGwjhle.js";import"./TaggedBase64Text-Do9TRrb4.js";import"./TimeText-DhyLZnOP.js";import"./preload-helper-PPVm8Dsz.js";import"./typography-CT4CmWvf.js";import"./FetchError-DX6me_FL.js";import"./NotFoundError-DPKbBn2w.js";import"./data-Cpeha0UW.js";import"./CircularProgressIndicator-B8-o2knj.js";import"./ErrorDisplay-BjVTDtLs.js";import"./label-BTw-GpSK.js";import"./TableLabeledValue-BhH9JF01.js";import"./SkeletonContent-_-h4l-3E.js";import"./TwitterIcon-BDaOCGex.js";import"./ArrowRight-P6jSm5d8.js";import"./AnchorButton-BTxS4N8d.js";import"./Button-suEzkC7R.js";import"./IconAnchorButton-BxtR0NCK.js";import"./IconButton-DOyB684c.js";import"./LabeledAnchorButton-DjRfs2fQ.js";import"./LabeledButton-pFZJpXbD.js";import"./Link-CIEm4dKV.js";import"./TransactionDetailLoader-CQs39vKR.js";import"./Heading2-BPNy3Wnj.js";/* empty css                */import"./BlockSizeHistogram-D_2UNWdR.js";import"./Card-CaSkKKIp.js";import"./LoadingShimmer-CCWbATbx.js";import"./ContainerLoading-CIrpTi4e.js";import"./SVGToolTip-BbG4a6RY.js";import"./SVGPathBuilder-4dyJLere.js";import"./AffineTransform-UCCpzMIM.js";import"./SummaryTableLabeledValue-CJ5JwSfC.js";import"./RollUpSimple-DCk3I005.js";import"./Payments-Cemh14bc.js";import"./CheckCircleFilled-D5GKimKt.js";import"./ChevronUp-BJAScdAa.js";import"./Copy-EcqMa1xk.js";import"./MediumIcon-DCMJY4T3.js";import"./EspressoLogo-D7OQyh3N.js";import"./Menu-nx6M6WaK.js";import"./SearchGlass-19NKFJ77.js";import"./XIcon-DlWOekjO.js";import"./TransactionSummaryDataTable-D_qU_XVR.js";import"./transaction_summary-_-RUzodv.js";import"./CopyButton-DDDcObOp.js";/* empty css               */import"./nitro_batch_display-BHg87CHV.js";import"./index-6D5ZhKjv.js";import"./index-CPFGE3kC.js";import"./block_summary-CBGYsBbN.js";import"./Footer-DZ7tSJG-.js";import"./SocialMediaLinks-k_-LUkp5.js";import"./Header-Dw2cEJzS.js";import"./NavBar-C61Z0URl.js";import"./Heading1-Csea23dc.js";import"./LatestBlockSummary-TdrO4h12.js";import"./SummaryValueLabeled-7M-HAzKM.js";import"./BlockSummaryDataTable-CZsTdS0v.js";import"./HexDump-DqqjoeTj.js";import"./RollUpsSummaryDataTable-DzBkFSm0.js";import"./WorldMapDotsPopulationFullResolution-Db9P5xQx.js";import"./constants-BlhOgobG.js";import"./WorldMapDotsFullResolution-BzrSaRf-.js";import"./PieChart-CM7vaNPF.js";import"./SearchInput-CwWzQjPt.js";import"./Container-_RfIb8Pn.js";import"./text-D7nEaj3g.js";function oc(t,n={}){return{async queryFn({queryKey:s}){const r=n.abi;if(!r)throw new Error("abi is required");const{functionName:c,scopeKey:i,...l}=s[1],d=(()=>{const m=s[1];if(m.address)return{address:m.address};if(m.code)return{code:m.code};throw new Error("address or code is required")})();if(!c)throw new Error("functionName is required");return Yo(t,{abi:r,functionName:c,args:l.args,...d,...l})},queryKey:cc(n)}}function cc(t={}){const{abi:n,...s}=t;return["readContract",Xo(s)]}function ic(t={}){const{abi:n,address:s,functionName:r,query:c={}}=t,i=t.code,l=Zo(t),d=ec({config:l}),m=oc(l,{...t,chainId:t.chainId??d}),v=!!((s||i)&&n&&r&&(c.enabled??!0));return tc({...c,...m,enabled:v,structuralSharing:c.structuralSharing??nc})}class br{constructor(n,s,r){this.number=n,this.hash=s,this.parent=r,Object.freeze(this)}toJSON(){return Hn.encode(this)}}class lc{convert(n){return f(n,"number","hash","parent"),new br(C.decode(n.number),_.decode(n.hash),_.decode(n.parent))}}class dc{convert(n){return{number:C.encode(n.number),hash:_.encode(n.hash),parent:_.encode(n.parent)}}}class pc extends x{encoder=new dc;decoder=new lc}const Hn=new pc,uc=1000000000n,xc=12n;class mc{async getBlockForHeight(n){const s=new ArrayBuffer(32);new DataView(s).setBigUint64(24,BigInt(n),!1);const c=new ArrayBuffer(32);return new DataView(c).setBigUint64(24,n-1n,!1),new br(BigInt(n),s,c)}async getLatestBlock(){const n=BigInt(Math.floor(Fo()/1e3)),r=(BigInt(Math.floor(Date.now()/1e3))-n)/xc,c=uc+r;return this.getBlockForHeight(c)}}class De{constructor(n){this.ratio=n,Object.freeze(this)}valueOf(){return this.ratio}toString(){return this.ratio.toString()}toJSON(){return Q.encode(this)}}class hc{convert(n){return re.encode(n.ratio)}}class _c{convert(n){return new De(re.decode(n))}}class fc extends x{encoder=new hc;decoder=new _c}const Q=new fc;class Ar{constructor(n,s,r){this.address=n,this.voterParticipation=s,this.leaderParticipation=r,Object.freeze(this)}toJSON(){return qn.encode(this)}}class Cc{convert(n){return f(n,"address","voter_participation","leader_participation"),new Ar(_.decode(n.address),Q.decode(n.voter_participation),Q.decode(n.leader_participation))}}class yc{convert(n){return{address:_.encode(n.address),voter_participation:Q.encode(n.voterParticipation),leader_participation:Q.encode(n.leaderParticipation)}}}class gc extends x{encoder=new yc;decoder=new Cc}const qn=new gc,En=new _e(new K(qn),new Ne(qn));class Ma{constructor(n,s,r){this.epoch=n,this.block=s,this.timestamp=r,Object.freeze(this)}toJSON(){return we.encode(this)}}class vc{convert(n){return f(n,"epoch","block","timestamp"),new Ma(C.decode(n.epoch),C.decode(n.block),new Date(re.decode(n.timestamp)))}}class jc{convert(n){return{epoch:C.encode(n.epoch),block:C.encode(n.block),timestamp:re.encode(n.timestamp.getTime())}}}class Nc extends x{encoder=new jc;decoder=new vc}const we=new Nc;class Ir{constructor(n,s){this.espressoBlock=n,this.nodes=s,Object.freeze(this)}toJSON(){return Pr.encode(this)}}class Sc{convert(n){return f(n,"espresso_block","nodes"),new Ir(we.decode(n.espresso_block),En.decode(n.nodes))}}class wc{convert(n){return{espresso_block:we.encode(n.espressoBlock),nodes:En.encode(n.nodes)}}}class kc extends x{encoder=new wc;decoder=new Sc}const Pr=new kc;class bc{async active(){const n=await $o(Lo()),s=Ie.slice().sort((c,i)=>Number(i.stake-c.stake)).slice(0,100),r=new Ho(n.genTime);return new Ir(new Ma(BigInt(Math.floor(n.height/100)),BigInt(n.height),new Date(n.time)),Array.from(A(s,c=>new Ar(c.address,new De(r.nextFloat()),new De(r.nextFloat())))))}async updatesSince(){throw new P}}class Ke{constructor(n,s,r){this.number=n,this.hash=s,this.timestamp=r,Object.freeze(this)}toJSON(){return ce.encode(this)}}class Ac{convert(n){return f(n,"number","hash","timestamp"),new Ke(C.decode(n.number),_.decode(n.hash),new Date(re.decode(n.timestamp)))}}class Ic{convert(n){return{number:C.encode(n.number),hash:_.encode(n.hash),timestamp:re.encode(n.timestamp.valueOf())}}}class Pc extends x{encoder=new Ic;decoder=new Ac}const ce=new Pc;class Dn{constructor(n,s,r,c){this.address=n,this.stakingKey=s,this.stake=r,this.commission=c,Object.freeze(this)}toJSON(){return Qe.encode(this)}}class Rc{convert(n){return f(n,"address","staking_key","stake","commission"),new Dn(_.decode(n.address),jr.decode(n.staking_key),C.decode(n.stake),Q.decode(n.commission))}}class Ec{convert(n){return{address:_.encode(n.address),staking_key:jr.encode(n.stakingKey),stake:C.encode(n.stake),commission:Q.encode(n.commission)}}}class Dc extends x{encoder=new Ec;decoder=new Rc}const Qe=new Dc,Rr=new _e(new K(Qe),new Ne(Qe));class He{constructor(n,s=[]){this.l1Block=n,this.nodes=s,Object.freeze(this)}toJSON(){return Er.encode(this)}}class Tc{convert(n){return f(n,"l1_block","nodes"),new He(ce.decode(n.l1_block),Rr.decode(n.nodes))}}class Oc{convert(n){return{l1_block:ce.encode(n.l1Block),nodes:Rr.encode(n.nodes)}}}class Bc extends x{encoder=new Oc;decoder=new Tc}const Er=new Bc;class Vc{async snapshot(){return new He(new Ke(BigInt(1),new ArrayBuffer(32),new Date),Array.from(A(Ie,n=>new Dn(n.address,n.stateVerKey,n.stake,new De(n.commission/1e4)))))}async updatesSince(){throw new P}}class Re{constructor(n,s,r,c){this.delegator=n,this.node=s,this.amount=r,this.effective=c,Object.freeze(this)}toJSON(){return Ge.encode(this)}}class Wc{convert(n){return{delegator:_.encode(n.delegator),node:_.encode(n.node),amount:C.encode(n.amount),effective:we.encode(n.effective)}}}class Jc{convert(n){return f(n,"delegator","node","amount","effective"),new Re(_.decode(n.delegator),_.decode(n.node),C.decode(n.amount),we.decode(n.effective))}}class Uc extends x{encoder=new Wc;decoder=new Jc}const Ge=new Uc,Dr=new _e(new K(Ge),new K(Ge));class G{constructor(n,s,r,c){this.delegator=n,this.node=s,this.amount=r,this.availableTime=c,Object.freeze(this)}toJSON(){return fe.encode(this)}}class Mc{convert(n){return{delegator:_.encode(n.delegator),node:_.encode(n.node),amount:C.encode(n.amount),available_time:re.encode(n.availableTime.valueOf())}}}class Lc{convert(n){return f(n,"delegator","node","amount","available_time"),new G(_.decode(n.delegator),_.decode(n.node),C.decode(n.amount),new Date(re.decode(n.available_time)))}}class Fc extends x{encoder=new Mc;decoder=new Lc}const fe=new Fc,qt=new _e(new K(fe),new Ne(fe));class ke{constructor(n,s,r,c,i){this.nodes=n,this.pendingUndelegations=s,this.pendingExits=r,this.claimedRewards=c,this.l1Block=i,Object.freeze(this)}toJSON(){return Tr.encode(this)}}class Hc{convert(n){return f(n,"nodes","pending_undelegations","pending_exits","claimed_rewards","l1_block"),new ke(Dr.decode(n.nodes),qt.decode(n.pending_undelegations),qt.decode(n.pending_exits),C.decode(n.claimed_rewards),ce.decode(n.l1_block))}}class qc{convert(n){return{nodes:Dr.encode(n.nodes),pending_undelegations:qt.encode(n.pendingUndelegations),pending_exits:qt.encode(n.pendingExits),claimed_rewards:C.encode(n.claimedRewards),l1_block:ce.encode(n.l1Block)}}}class zc extends x{encoder=new qc;decoder=new Hc}const Tr=new zc;class qe{}class Or extends qe{constructor(n){super(),this.claimedRewards=n,Object.freeze(this)}toJSON(){return La.encode(this)}}class $c{convert(n){return new Or(C.decode(n))}}class Kc{convert(n){return C.encode(n.claimedRewards)}}class Qc extends x{encoder=new Kc;decoder=new $c}const Vt="ClaimedRewards",La=new Qc;class Br extends qe{constructor(n){super(),this.delegation=n,Object.freeze(this)}toJSON(){return Fa.encode(this)}}class Gc{convert(n){return new Br(Ge.decode(n))}}class Yc{convert(n){return Ge.encode(n.delegation)}}class Xc extends x{encoder=new Yc;decoder=new Gc}const Wt="DelegatedToNode",Fa=new Xc;class Zc{constructor(n,s,r){this.delegator=n,this.node=s,this.amount=r,Object.freeze(this)}toJSON(){return At.encode(this)}}class ei{convert(n){return{delegator:_.encode(n.delegator),node:_.encode(n.node),amount:C.encode(n.amount)}}}class ti{convert(n){return f(n,"delegator","node","amount"),new Zc(_.decode(n.delegator),_.decode(n.node),C.decode(n.amount))}}class ni extends x{encoder=new ei;decoder=new ti}const At=new ni;class Vr extends qe{constructor(n){super(),this.withdrawal=n,Object.freeze(this)}toJSON(){return Ha.encode(this)}}class si{convert(n){return new Vr(At.decode(n))}}class ai{convert(n){return At.encode(n.withdrawal)}}class ri extends x{encoder=new ai;decoder=new si}const Jt="NodeExitWithdrawal",Ha=new ri;class Wr extends qe{constructor(n){super(),this.pendingWithdrawal=n,Object.freeze(this)}toJSON(){return qa.encode(this)}}class oi{convert(n){return new Wr(fe.decode(n))}}class ci{convert(n){return fe.encode(n.pendingWithdrawal)}}class ii extends x{encoder=new ci;decoder=new oi}const Ut="NodeExited",qa=new ii;class Jr extends qe{constructor(n){super(),this.pendingWithdrawal=n,Object.freeze(this)}toJSON(){return za.encode(this)}}class li{convert(n){return new Jr(fe.decode(n))}}class di{convert(n){return fe.encode(n.pendingWithdrawal)}}class pi extends x{encoder=new di;decoder=new li}const Mt="UndelegatedFromNode",za=new pi;class Ur extends qe{constructor(n){super(),this.withdrawal=n,Object.freeze(this)}toJSON(){return $a.encode(this)}}class ui{convert(n){return new Ur(At.decode(n))}}class xi{convert(n){return At.encode(n.withdrawal)}}class mi extends x{encoder=new xi;decoder=new ui}const Lt="UndelegationWithdrawal",$a=new mi;class hi{convert(n){if(f(n),z(n,Vt))return La.decode(n[Vt]);if(z(n,Wt))return Fa.decode(n[Wt]);if(z(n,Jt))return Ha.decode(n[Jt]);if(z(n,Ut))return qa.decode(n[Ut]);if(z(n,Mt))return za.decode(n[Mt]);if(z(n,Lt))return $a.decode(n[Lt]);const s=Object.keys(n);if(s.length<=0)throw new q("Empty WalletDiff object","object");const[r]=s;throw new q(r,`${Vt} | ${Wt} | ${Jt} | ${Ut} | ${Mt} | ${Lt}`)}}class _i{convert(n){if(n instanceof Or)return{[Vt]:La.encode(n)};if(n instanceof Br)return{[Wt]:Fa.encode(n)};if(n instanceof Vr)return{[Jt]:Ha.encode(n)};if(n instanceof Wr)return{[Ut]:qa.encode(n)};if(n instanceof Jr)return{[Mt]:za.encode(n)};if(n instanceof Ur)return{[Lt]:$a.encode(n)};throw new q("Unrecognized EspressoMessage type","Valid EspressoMessage Type")}}class fi extends x{encoder=new _i;decoder=new hi}const dr=new fi,Mr=new _e(new K(dr),new Ne(dr));class Lr{constructor(n,s){this.l1Block=n,this.diff=s,Object.freeze(this)}toJSON(){return Fr.encode(this)}}class Ci{convert(n){return f(n,"l1_block","diff"),new Lr(ce.decode(n.l1_block),Mr.decode(n.diff))}}class yi{convert(n){return{l1_block:ce.encode(n.l1Block),diff:Mr.encode(n.diff)}}}class gi extends x{encoder=new yi;decoder=new Ci}const Fr=new gi;class vi{async snapshot(){return new ke([],[],[],0n,new Ke(0n,new ArrayBuffer(0),new Date(0)))}async updates(){return new Lr(new Ke(0n,new ArrayBuffer(0),new Date(0)),[])}}class ji{l1Block=new mc;validatorsAll=new Vc;validatorsActive=new bc;wallet=new vi;async setURL(){throw new P}}class Ni{async getBlockForHeight(){throw new P}async getLatestBlock(){throw new P}}class Si{async active(){throw new P}async updatesSince(){throw new P}}class wi{async snapshot(){throw new P}async updatesSince(){throw new P}}class ki{async snapshot(){throw new P}async updates(){throw new P}}class bi{l1Block=new Ni;validatorsAll=new wi;validatorsActive=new Si;wallet=new ki;async setURL(){throw new P}}class Ai{helper;constructor(n){this.helper=n}async sendRequest(n,s,...r){return this.helper.submitRequest(n,"l1Block",s,r)}async getBlockForHeight(n){return await this.sendRequest(Hn,"getBlockForHeight",C.encode(n))}async getLatestBlock(){return await this.sendRequest(Hn,"getLatestBlock")}}function Ii(t){return new Worker(""+new URL("l1_validator_service_web_worker_api.js-26vCHAKF.js",import.meta.url).href,{name:t?.name})}class Pi{constructor(n,s){this.address=n,this.ratio=s,Object.freeze(this)}toJSON(){return zn.encode(this)}}class Ri{convert(n){return f(n,"address","percentage"),new Pi(_.decode(n.address),Q.decode(n.percentage))}}class Ei{convert(n){return{address:_.encode(n.address),percentage:Q.encode(n.ratio)}}}class Di extends x{encoder=new Ei;decoder=new Ri}const zn=new Di,Hr=new _e(new K(zn),new Ne(zn));class qr{}class zr extends qr{constructor(n,s){super(),this.leaders=n,this.voters=s,Object.freeze(this)}toJSON(){return Ka.encode(this)}}class Ti{convert(n){return f(n,"leaders","voters"),new zr(Hr.decode(n.leaders),Cr.decode(n.voters))}}class Oi{convert(n){return{leaders:Hr.encode(n.leaders),voters:Cr.encode(n.voters)}}}class Bi extends x{encoder=new Oi;decoder=new Ti}const Ft="NewBlock",Ka=new Bi;class $r extends qr{constructor(n){super(),this.entries=n,Object.freeze(this)}toJSON(){return Qa.encode(this)}}class Vi{convert(n){return new $r(En.decode(n))}}class Wi{convert(n){return En.encode(n.entries)}}class Ji extends x{encoder=new Wi;decoder=new Vi}const Ht="NewEpoch",Qa=new Ji;class Ui{convert(n){if(f(n),z(n,Ht))return Qa.decode(n[Ht]);if(z(n,Ft))return Ka.decode(n[Ft]);const s=Object.keys(n);if(s.length<=0)throw new q("Empty EspressoMessage object","object");const[r]=s;throw new q(r,`${Ht} | ${Ft}`)}}class Mi{convert(n){if(n instanceof $r)return{[Ht]:Qa.encode(n)};if(n instanceof zr)return{[Ft]:Ka.encode(n)};throw new q("Unrecognized EspressoMessage type","Valid EspressoMessage Type")}}class Li extends x{encoder=new Mi;decoder=new Ui}const pr=new Li,Kr=new _e(new K(pr),new Ne(pr));class Fi{constructor(n,s){this.espressoBlock=n,this.diff=s,Object.freeze(this)}toJSON(){return Qr.encode(this)}}class Hi{convert(n){return f(n,"espresso_block","diff"),new Fi(we.decode(n.espresso_block),Kr.decode(n.diff))}}class qi{convert(n){return{espresso_block:we.encode(n.espressoBlock),diff:Kr.encode(n.diff)}}}class zi extends x{encoder=new qi;decoder=new Hi}const Qr=new zi;class $i{helper;constructor(n){this.helper=n}async sendRequest(n,s,...r){return this.helper.submitRequest(n,"validatorsActive",s,r)}async active(){return await this.sendRequest(Pr,"active")}async updatesSince(n){return await this.sendRequest(Qr,"updatesSince",C.encode(n))}}class Ki{constructor(n,s){this.address=n,this.exitTime=s,Object.freeze(this)}toJSON(){return Ga.encode(this)}}class Qi{convert(n){return f(n,"address","exit_time"),new Ki(_.decode(n.address),new Date(n.exit_time))}}class Gi{convert(n){return{address:_.encode(n.address),exit_time:n.exitTime.toISOString()}}}class Yi extends x{encoder=new Gi;decoder=new Qi}const Ga=new Yi;class Gr{}class Yr extends Gr{constructor(n){super(),this.validatorExit=n,Object.freeze(this)}toJSON(){return Ya.encode(this)}}class Xi{convert(n){return f(n,"validator_exit"),new Yr(Ga.decode(n.validator_exit))}}class Zi{convert(n){return{validator_exit:Ga.encode(n.validatorExit)}}}class el extends x{encoder=new Zi;decoder=new Xi}const $n="NodeExit",Ya=new el;class Xr extends Gr{constructor(n){super(),this.validatorInformation=n,Object.freeze(this)}toJSON(){return Xa.encode(this)}}class tl{convert(n){return new Xr(Qe.decode(n))}}class nl{convert(n){return Qe.encode(n.validatorInformation)}}class sl extends x{encoder=new nl;decoder=new tl}const Kn="NodeUpdate",Xa=new sl;class al{convert(n){if(f(n),z(n,Kn))return Xa.decode(n[Kn]);if(z(n,$n))return Ya.decode(n[$n]);throw Object.keys(n).length<=0?new q("Empty L1Message object","object"):new q("Unrecognized L1Message type","Valid L1 Type")}}class rl{convert(n){if(n instanceof Xr)return{[Kn]:Xa.encode(n)};if(n instanceof Yr)return{[$n]:Ya.encode(n)};throw new q("Unrecognized L1Message type","Valid L1 Type")}}class ol extends x{encoder=new rl;decoder=new al}const ur=new ol,Zr=new _e(new K(ur),new Ne(ur));class cl{constructor(n,s=[]){this.l1Block=n,this.diff=s,Object.freeze(this)}toJSON(){return eo.encode(this)}}class il{convert(n){return f(n,"l1_block","diff"),new cl(ce.decode(n.l1_block),Zr.decode(n.diff))}}class ll{convert(n){return{l1_block:ce.encode(n.l1Block),diff:Zr.encode(n.diff)}}}class dl extends x{encoder=new ll;decoder=new il}const eo=new dl;class pl{helper;constructor(n){this.helper=n}async sendRequest(n,s,...r){return this.helper.submitRequest(n,"validatorsAll",s,r)}async snapshot(n){const s=u.encode(n);return await this.sendRequest(Er,"snapshot",s)}async updatesSince(n){return await this.sendRequest(eo,"updatesSince",_.encode(n))}}class ul{helper;constructor(n){this.helper=n}async sendRequest(n,s,...r){return this.helper.submitRequest(n,"wallet",s,r)}async snapshot(n,s){return await this.sendRequest(Tr,"snapshot",u.encode(n),u.encode(s))}async updates(n,s){return await this.sendRequest(Fr,"updates",u.encode(n),u.encode(s))}}const ze=re;class Za{requestID;api;method;param;constructor(n,s,r,c){this.requestID=n,this.api=s,this.method=r,this.param=c}toJSON(){return{requestID:this.requestID,api:this.api,method:this.method,param:this.param}}}class xl{convert(n){return f(n,"requestID","api","method","param"),new Za(ze.decode(n.requestID),$e.decode(n.api),$e.decode(n.method),n.param)}}class ml{convert(n){return Rn(n,Za),{requestID:ze.encode(n.requestID),api:$e.encode(n.api),method:$e.encode(n.method),param:n.param}}}class hl extends x{encoder=new ml;decoder=new xl}const _l=new hl;class er{requestID;constructor(n){this.requestID=n}}class tr extends er{response;constructor(n,s){super(n),this.response=s}toJSON(){return to.encode(this)}}class fl{convert(n){return f(n,"requestID","response"),new tr(ze.decode(n.requestID),n.response)}}class Cl{convert(n){return Rn(n,tr),{requestID:ze.encode(n.requestID),response:n.response}}}class yl extends x{encoder=new Cl;decoder=new fl}const to=new yl;class nr extends er{error;constructor(n,s){super(n),this.error=s}toJSON(){return no.encode(this)}}class gl{convert(n){return f(n,"requestID","error"),new nr(ze.decode(n.requestID),gr.decode(n.error))}}class vl{convert(n){return Rn(n,nr),{requestID:ze.encode(n.requestID),error:gr.encode(n.error)}}}class jl extends x{encoder=new vl;decoder=new gl}const no=new jl;class Nl{convert(n){if(cr(n,"response",ir))return to.decode(n);if(cr(n,"error",ir))return no.decode(n);throw new Go}}class Sl{convert(n){return Rn(n,er),n.toJSON()}}class wl extends x{encoder=new Sl;decoder=new Nl}const xr=new wl;class kl{worker;nextRequestID=0;requestCompleters=new Map;constructor(n){this.worker=n,n.addEventListener("message",this.handleMessage.bind(this)),n.addEventListener("messageerror",this.handleMessageError.bind(this)),n.addEventListener("error",this.handleError.bind(this))}async submitRequest(n,s,r,c){const[i,l]=this.nextRequest();try{return this.worker.postMessage(_l.encode(new Za(i,s,r,c))),await l.promise.then(d=>{if(d instanceof nr)throw new Bo(d.error);if(d instanceof tr){const{response:m}=d;return n.decode(m)}throw new q(typeof d,"WebWorkerResponse")})}finally{this.requestCompleters.delete(i)}}nextRequest(){const n=this.nextRequestID++,s=Vo();return this.requestCompleters.set(n,s),[n,s]}handleMessage(n){const s=xr.decode(n.data),r=this.requestCompleters.get(s.requestID);if(r===void 0)throw new or(s.requestID);r.complete(s)}handleMessageError(n){const s=xr.decode(n.data),r=this.requestCompleters.get(s.requestID);if(r===void 0)throw new or(s.requestID);r.completeError(s)}handleError(n){debugger;console.error("encountered error setting up Web worker",n)}}let Fn=null;function bl(){return Fn||(Fn=new Ii),Fn}class Al{l1Block;validatorsAll;validatorsActive;wallet;helper;constructor(){const n=bl(),s=new kl(n);this.helper=s,this.l1Block=new Ai(s),this.validatorsAll=new pl(s),this.validatorsActive=new $i(s),this.wallet=new ul(s)}async sendRequest(n,s,...r){return this.helper.submitRequest(n,"proxy",s,r)}async setURL(n){return await this.sendRequest(Wo,"set-url",$e.encode(n))}}const Y=a.createContext(new bi);let It=null;function Il(t){return It===null&&(It=new Al),t&&It.setURL(t).then(n=>{n||console.warn("unable to set the url for the hotshot query service",t)},n=>{console.error("unable to set the url for the hotshot query service",t,n)}),It}function Pl(t){return typeof window<"u"&&"Worker"in window||typeof self<"u"&&"Worker"in self?Il(t):new ji}const Qn=t=>{const s=a.useContext(Mo)?.l1ValidatorServiceURL;return e.jsx(Y.Provider,{value:Pl(s),children:t.children})};try{Y.displayName="L1ValidatorServiceContext",Y.__docgenInfo={description:`L1ValidatorServiceContext provides a React Context
for the L1ValidatorService API.`,displayName:"L1ValidatorServiceContext",props:{}}}catch{}try{Qn.displayName="ProvideL1ValidatorServiceAPIContext",Qn.__docgenInfo={description:`ProvideL1ValidatorServiceAPIContext is a React Component that provides
the L1ValidatorService API context to its children.`,displayName:"ProvideL1ValidatorServiceAPIContext",props:{}}}catch{}const Ye=a.createContext(null),Gn=({children:t})=>{const s=a.useContext(Y).validatorsActive.active();return e.jsx(M,{promise:s,children:e.jsx(Rl,{children:t})})},Rl=({children:t})=>{const n=a.useContext(U)??null;return e.jsx(Ye.Provider,{value:n,children:t})};try{Ye.displayName="ActiveValidatorsContext",Ye.__docgenInfo={description:`ActiveValidatorsContext provides a React Context
for the current active validator set snapshot.`,displayName:"ActiveValidatorsContext",props:{}}}catch{}try{Gn.displayName="RetrieveActiveValidators",Gn.__docgenInfo={description:`RetrieveActiveValidators is a React Component that retrieves
the current active validator set and provides it
via the ActiveValidatorsContext to its children.`,displayName:"RetrieveActiveValidators",props:{}}}catch{}const Xe=a.createContext(null),Yn=({children:t})=>{const s=a.useContext(Y).l1Block.getLatestBlock();return e.jsx(M,{promise:s,children:e.jsx(El,{children:t})})},El=({children:t})=>{const n=a.useContext(U)??null;return e.jsx(Xe.Provider,{value:n,children:t})};try{Xe.displayName="L1BlockIDContext",Xe.__docgenInfo={description:"L1BlockIDContext defines a React Context for the current L1 Block ID.",displayName:"L1BlockIDContext",props:{}}}catch{}try{Yn.displayName="RetrieveLatestL1BlockID",Yn.__docgenInfo={description:`RetrieveLatestL1BlockID is a React Component that retrieves
the latest L1 Block ID and provides it via the L1BlockIDContext
to its children.`,displayName:"RetrieveLatestL1BlockID",props:{}}}catch{}const k=a.createContext(null),Xn=({children:t})=>{const n=a.useContext(Y),s=a.useContext(Xe),r=s?n.validatorsAll.snapshot(s.hash):oe;return e.jsx(M,{promise:r,children:e.jsx(Dl,{children:t})})},Dl=({children:t})=>{const n=a.useContext(U)??null;return e.jsx(k.Provider,{value:n,children:t})};try{k.displayName="AllValidatorsContext",k.__docgenInfo={description:`AllValidatorsContext provides a React Context
for the current full validator set snapshot.`,displayName:"AllValidatorsContext",props:{}}}catch{}try{Xn.displayName="RetrieveAllValidators",Xn.__docgenInfo={description:`RetrieveAllValidators is a React Component that retrieves
the current full validator set and provides it
via the AllValidatorsContext to its children.`,displayName:"RetrieveAllValidators",props:{}}}catch{}const $=a.createContext(new Date),X=a.createContext(()=>{}),Zn=({children:t})=>{const[n,s]=a.useState(new Date);return e.jsx($.Provider,{value:n,children:e.jsx(X.Provider,{value:s,children:t})})};try{$.displayName="L1RefreshTimestampContext",$.__docgenInfo={description:`L1RefreshTimestampContext defines a React Context for the current
L1 refresh timestamp.

This context governs when data retrieved from the L1 and Smart Contracts
should be refreshed.`,displayName:"L1RefreshTimestampContext",props:{}}}catch{}try{X.displayName="SetL1RefreshTimestampContext",X.__docgenInfo={description:`SetL1RefreshTimestampContext defines a React Context for updating
the current L1 refresh timestamp.`,displayName:"SetL1RefreshTimestampContext",props:{}}}catch{}try{Zn.displayName="ProvideL1RefreshTimestampContext",Zn.__docgenInfo={description:`ProvideL1RefreshTimestampContext is a React Component that provides
the L1RefreshTimestampContext and SetL1RefreshTimestampContext to its
children.`,displayName:"ProvideL1RefreshTimestampContext",props:{}}}catch{}const le=a.createContext(null),es=({children:t})=>{a.useContext($);const n=a.useContext(L)??null,s=a.useContext(_r),r=!n||!s?oe:s.claimedRewards(n);return e.jsx(M,{promise:r,children:e.jsx(Tl,{children:t})})},Tl=({children:t})=>{const n=a.useContext(U)??null;return e.jsx(le.Provider,{value:n,children:t})};try{le.displayName="LifetimeClaimedRewardsContext",le.__docgenInfo={description:`ClaimedRewardsContext provides a React Context
for the total lifetime claimed rewards from the RewardClaim contract.`,displayName:"LifetimeClaimedRewardsContext",props:{}}}catch{}try{es.displayName="RetrieveLifetimeClaimedRewards",es.__docgenInfo={description:`RetrieveLifetimeClaimedRewards is a React Component that retrieves
the total lifetime claimed rewards from the RewardClaim contract.`,displayName:"RetrieveLifetimeClaimedRewards",props:{}}}catch{}const Z=a.createContext(new Map),ts=({children:t})=>{const n=a.useContext(Ye),s=new Map(A(n?.nodes??[],r=>[u.encode(r.address),r]));return e.jsx(Z.Provider,{value:s,children:t})};try{Z.displayName="ConsensusMapContext",Z.__docgenInfo={description:`ConsensusMapContext provides a React Context
for the current set of active validator addresses in base64 format.`,displayName:"ConsensusMapContext",props:{}}}catch{}try{ts.displayName="DeriveConsensusSet",ts.__docgenInfo={description:`DeriveConsensusSet is a React Component that
derives the current consensus set from the active validators
and provides it via the ConsensusSetContext to its children.`,displayName:"DeriveConsensusSet",props:{}}}catch{}const de=a.createContext(null),ns=({children:t})=>{a.use($);const n=a.useContext(Y),s=a.useContext(Xe),r=a.useContext(L),c=!s||!r?oe:n.wallet.snapshot(u.decode(r),s?.hash);return e.jsx(M,{promise:c,children:e.jsx(Ol,{children:t})})},Ol=({children:t})=>{const n=a.useContext(U)??null;return e.jsx(de.Provider,{value:n,children:t})};try{de.displayName="WalletSnapshotContext",de.__docgenInfo={description:`WalletSnapshotContext provides a React Context
for the current wallet snapshot.`,displayName:"WalletSnapshotContext",props:{}}}catch{}try{ns.displayName="RetrieveWalletSnapshot",ns.__docgenInfo={description:`RetrieveWalletSnapshot is a React Component that retrieves
a Wallet Snapshot from the L1 Validator API Service.`,displayName:"RetrieveWalletSnapshot",props:{}}}catch{}const zt=a.createContext(new Map),ss=({children:t})=>{const n=a.useContext(de),s=new Map(A(n?.nodes??Ee(),r=>[u.encode(r.node),r]));return e.jsx(zt.Provider,{value:s,children:t})};try{zt.displayName="CurrentDelegationsContext",zt.__docgenInfo={description:`CurrentDelegationsContext provides a React Context
for the current map of validators with whom we are currently delegated.`,displayName:"CurrentDelegationsContext",props:{}}}catch{}try{ss.displayName="DeriveCurrentDelegations",ss.__docgenInfo={description:`DeriveCurrentDelegations is a React Component that
derives the current mapping of all of the current wallet's delegations.`,displayName:"DeriveCurrentDelegations",props:{}}}catch{}function $t(t){const{children:n,...s}=t,r=ic(s),c=r.isLoading?j.waiting:j.done;return r.isError?e.jsx(H.Provider,{value:w.withError(c,r.error),children:e.jsx(Ln,{children:n})}):typeof r.data>"u"||r.data===null?e.jsx(H.Provider,{value:w.withError(c,w.withError(c,new q(typeof r.data,"string | bigint | number | boolean"))),children:e.jsx(Ln,{children:n})}):e.jsx(H.Provider,{value:w.withData(c,r.data),children:e.jsx(Ln,{children:n})})}try{$t.displayName="ReadContractToAsyncSnapshot",$t.__docgenInfo={description:`ReadContractToAsyncSnapshot is a React component that
reads data from a smart contract using the wagmi useReadContract hook
and provides the result as an AsyncSnapshot via AsyncSnapshotContext.

It will automatically attempt to fetch the reactContract values based on
the provided abi, functionName, args, and config generic parameters, and
make that data available in the children via AsyncSnapshotContext, and the
derived Context states just like PromiseResolver.`,displayName:"ReadContractToAsyncSnapshot",props:{account:{defaultValue:null,description:"Account attached to the call (msg.sender).",name:"account",required:!1,type:{name:"`0x${string}` | Account"}},authorizationList:{defaultValue:null,description:"",name:"authorizationList",required:!1,type:{name:"AuthorizationList<number, boolean>"}},blockNumber:{defaultValue:null,description:"The balance of the account at a block number.",name:"blockNumber",required:!1,type:{name:"bigint"}},blockOverrides:{defaultValue:null,description:"Block overrides for the call.",name:"blockOverrides",required:!1,type:{name:"BlockOverrides<bigint, number>"}},blockTag:{defaultValue:{value:"'latest'"},description:"The balance of the account at a block tag.",name:"blockTag",required:!1,type:{name:"enum",value:[{value:'"latest"'},{value:'"earliest"'},{value:'"pending"'},{value:'"safe"'},{value:'"finalized"'}]}},factory:{defaultValue:null,description:"Contract deployment factory address (ie. Create2 factory, Smart Account factory, etc).",name:"factory",required:!1,type:{name:"`0x${string}`"}},factoryData:{defaultValue:null,description:"Calldata to execute on the factory to deploy the contract.",name:"factoryData",required:!1,type:{name:"`0x${string}`"}},stateOverride:{defaultValue:null,description:"State overrides for the call.",name:"stateOverride",required:!1,type:{name:"StateOverride"}},abi:{defaultValue:null,description:"",name:"abi",required:!1,type:{name:"Abi | readonly unknown[]"}},functionName:{defaultValue:null,description:"",name:"functionName",required:!1,type:{name:"string"}},args:{defaultValue:null,description:"",name:"args",required:!1,type:{name:"unknown"}},address:{defaultValue:null,description:"",name:"address",required:!1,type:{name:"`0x${string}`"}},chainId:{defaultValue:null,description:"",name:"chainId",required:!1,type:{name:"number"}},scopeKey:{defaultValue:null,description:"",name:"scopeKey",required:!1,type:{name:"string"}},config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"Config"}},query:{defaultValue:null,description:"",name:"query",required:!1,type:{name:'StrictOmit<{ meta?: Record<string, unknown>; select?: ((data: ContractFunctionReturnType<abi, "view" | "pure", functionName, args>) => selectData); ... 28 more ...; initialData?: ContractFunctionReturnType<...> | ... 1 more ... | undefined; }, "queryKey" | ... 3 more ... | "queryKeyHashFn"> |...'}},code:{defaultValue:null,description:"",name:"code",required:!1,type:{name:"`0x${string}`"}}}}}catch{}const S=a.createContext(0n),as=a.createContext(w.nothing()),rs=({children:t})=>e.jsx(os,{children:t}),os=({children:t})=>{a.useContext($);const n=a.useContext(In),s=a.useContext(L),r=!s||!n?oe:n.balanceOf(s);return e.jsx(M,{promise:r,children:e.jsx(so,{children:t})})},mr=({children:t})=>{const n=a.useContext(L);Ko(n);const s=a.useContext(Sr),r=fr,c=s?.espTokenContractAddress??void 0;return e.jsx($t,{abi:r,address:c,functionName:"balanceOf",args:[n],children:e.jsx(Bl,{children:e.jsx(so,{children:t})})})},Bl=({children:t})=>{const n=a.useContext(H);return e.jsx(as.Provider,{value:n,children:t})},so=({children:t})=>{const n=a.useContext(U)??null;return e.jsx(S.Provider,{value:n??0n,children:t})};try{S.displayName="ESPBalanceContext",S.__docgenInfo={description:"",displayName:"ESPBalanceContext",props:{}}}catch{}try{as.displayName="ESPBalanceAsyncSnapshotContext",as.__docgenInfo={description:"",displayName:"ESPBalanceAsyncSnapshotContext",props:{}}}catch{}try{rs.displayName="ProvideESPBalance",rs.__docgenInfo={description:`ProvideTotalSupply is a React component that fetches
the total supply of the ESP token from the blockchain
and provides it via TotalSupplyContext.`,displayName:"ProvideESPBalance",props:{}}}catch{}try{os.displayName="ProvideTotalSupplyFromContractCall",os.__docgenInfo={description:`ProvideTotalSupplyFromAPICall is a React component that fetches
the total supply of the ESP token from the local ESPTokenContract
and provides it via TotalSupplyContext.`,displayName:"ProvideTotalSupplyFromContractCall",props:{}}}catch{}try{mr.displayName="ProvideESPBalanceFromContractRead",mr.__docgenInfo={description:`ProvideTotalSupplyFromContractRead is a React component that fetches
the total supply of the ESP token from the blockchain
and provides it via TotalSupplyContext.`,displayName:"ProvideESPBalanceFromContractRead",props:{}}}catch{}const Ze=a.createContext(new Date),cs=a.createContext(()=>{}),is=({children:t})=>{const[n,s]=a.useState(new Date);return e.jsx(Ze.Provider,{value:n,children:e.jsx(cs.Provider,{value:s,children:t})})};try{Ze.displayName="EspressoRefreshTimestampContext",Ze.__docgenInfo={description:`EspressoRefreshTimestampContext defines a React Context for the current
Espresso refresh timestamp.

This context governs when data retrieved from the Espresso network.`,displayName:"EspressoRefreshTimestampContext",props:{}}}catch{}try{cs.displayName="SetEspressoRefreshTimestampContext",cs.__docgenInfo={description:`SetEspressoRefreshTimestampContext defines a React Context for updating
the current Espresso refresh timestamp.`,displayName:"SetEspressoRefreshTimestampContext",props:{}}}catch{}try{is.displayName="ProvideEspressoRefreshTimestampContext",is.__docgenInfo={description:`ProvideEspressoRefreshTimestampContext is a React Component that provides
the EspressoRefreshTimestampContext and SetEspressoRefreshTimestampContext
to its children.`,displayName:"ProvideEspressoRefreshTimestampContext",props:{}}}catch{}const Kt=a.createContext(null),ls=({children:t})=>{a.useContext(Ze);const s=a.useContext(yr).status.blockHeight();return e.jsx(M,{promise:s,children:e.jsx(Vl,{children:t})})},Vl=({children:t})=>{const n=a.useContext(U)??null;return e.jsx(Kt.Provider,{value:qo.decode(n),children:t})};try{Kt.displayName="EspressoBlockHeightContext",Kt.__docgenInfo={description:`EspressoBlockHeightContext provides a React Context
for the last queried block height of the Espresso Chain`,displayName:"EspressoBlockHeightContext",props:{}}}catch{}try{ls.displayName="RetrieveEspressoBlockHeight",ls.__docgenInfo={description:`RetrieveActiveValidators is a React Component that retrieves
the current Espresso Block Height set and provides it
via the EspressoBlockHeightContext to its children.`,displayName:"RetrieveEspressoBlockHeight",props:{}}}catch{}const pe=a.createContext(new Map),ds=({children:t})=>{const n=a.useContext(de),s=new Map(A(n?.pendingExits??Ee(),r=>[u.encode(r.node),r]));return e.jsx(pe.Provider,{value:s,children:t})};try{pe.displayName="PendingExitsContext",pe.__docgenInfo={description:`PendingExitsContext provides a React Context
for the current map of validators who have exited, and your pending amount`,displayName:"PendingExitsContext",props:{}}}catch{}try{ds.displayName="DerivePendingExits",ds.__docgenInfo={description:`DerivePendingExits is a React Component that
derives the current mapping of all of the pending exits for the
current wallet.`,displayName:"DerivePendingExits",props:{}}}catch{}const ue=a.createContext(new Map),ps=({children:t})=>{const n=a.useContext(de),s=new Map(A(n?.pendingUndelegations??Ee(),r=>[u.encode(r.node),r]));return e.jsx(ue.Provider,{value:s,children:t})};try{ue.displayName="PendingUndelegationsContext",ue.__docgenInfo={description:`PendingUndelegationsContext provides a React Context
for the current map of validators with whom we have undelegated already.`,displayName:"PendingUndelegationsContext",props:{}}}catch{}try{ps.displayName="DerivePendingUndelegations",ps.__docgenInfo={description:`DerivePendingUndelegations is a React Component that
derives the current mapping of all of the pending undelegations for the
current wallet.`,displayName:"DerivePendingUndelegations",props:{}}}catch{}const et=a.createContext(new Map);function Wl(t,n){return Number(t.stake)*(1-t.commission.valueOf())*(n?.leaderParticipation?.valueOf()??.5)*(n?.voterParticipation?.valueOf()??.5)}const us=({children:t})=>{const n=a.useContext(k),s=a.useContext(Z),r=Array.from(zo(A(n?.nodes??Ee(),i=>u.encode(i.address)),A(n?.nodes??Ee(),i=>Wl(i,s.get(u.encode(i.address)))),(i,l)=>[i,l])).sort((i,l)=>l[1]-i[1]),c=new Map(r.map((i,l)=>[i[0],l+1]));return e.jsx(et.Provider,{value:c,children:t})};try{et.displayName="RankMapContext",et.__docgenInfo={description:`RankMapContext provides a React Context
for the current mapping of validator addresses to their ranks.`,displayName:"RankMapContext",props:{}}}catch{}try{us.displayName="DeriveRank",us.__docgenInfo={description:`DeriveRank is a React Component that
derives the current rank mapping from the all validators
and provides it via the RankMapContext to its children.`,displayName:"DeriveRank",props:{}}}catch{}const ee=a.createContext(null),xs=({children:t})=>{a.useContext(Ze);const n=a.useContext(Kt),s=a.useContext(L),r=a.useContext(yr),c=n==null||!s?oe:r.rewardState.getRewardClaimInput(new Jo(Number(n),s));return e.jsx(M,{promise:c,children:e.jsx(Jl,{children:t})})},Jl=({children:t})=>{const n=a.useContext(U)??null;return e.jsx(ee.Provider,{value:n,children:t})};try{ee.displayName="EspressoRewardClaimInputContext",ee.__docgenInfo={description:`EspressoRewardClaimInputContext provides a React Context
for the RewardClaimInput for the current wallet and espresso height`,displayName:"EspressoRewardClaimInputContext",props:{}}}catch{}try{xs.displayName="RetrieveEspressoRewardClaimInput",xs.__docgenInfo={description:`RetrieveActiveValidators is a React Component that retrieves
the RewardClaimInput for the current wallet and espresso height and provides
it via the EspressoRewardClaimInputContext to its children.`,displayName:"RetrieveEspressoRewardClaimInput",props:{}}}catch{}const tt=a.createContext(0n),ms=({children:t})=>e.jsx(Ul,{children:t}),Ul=({children:t})=>{const n=a.useContext(k),s=vr((r,c)=>r+c.stake,0n,n?.nodes??Ee());return e.jsx(tt.Provider,{value:s,children:t})};try{tt.displayName="TotalStakeContext",tt.__docgenInfo={description:`TotalStakeContext provides a React Context
for the total stake of all validators.`,displayName:"TotalStakeContext",props:{}}}catch{}try{ms.displayName="DeriveTotalStake",ms.__docgenInfo={description:`DeriveTotalStake is a component that Provides the TotalStakeContext
by calculating the total stake from the AllValidatorsContext.`,displayName:"DeriveTotalStake",props:{}}}catch{}const Qt=a.createContext(null),hs=a.createContext(w.nothing()),_s=({children:t})=>e.jsx(fs,{children:t}),fs=({children:t})=>{a.useContext($);const n=a.useContext(In),s=n?n.totalSupply():oe;return e.jsx(M,{promise:s,children:e.jsx(ao,{children:t})})},hr=({children:t})=>{const n=a.useContext(Sr),s=fr,r=n?.espTokenContractAddress??void 0;return e.jsx($t,{abi:s,address:r,functionName:"totalSupply",children:e.jsx(Ml,{children:e.jsx(ao,{children:t})})})},Ml=({children:t})=>{const n=a.useContext(H);return e.jsx(hs.Provider,{value:n,children:t})},ao=({children:t})=>{const n=a.useContext(U)??null;return e.jsx(Qt.Provider,{value:n,children:t})};try{Qt.displayName="TotalSupplyContext",Qt.__docgenInfo={description:`TotalSupplyContext provides a React Context
for the total supply of the ESP token.`,displayName:"TotalSupplyContext",props:{}}}catch{}try{hs.displayName="TotalSupplyAsyncSnapshotContext",hs.__docgenInfo={description:"",displayName:"TotalSupplyAsyncSnapshotContext",props:{}}}catch{}try{_s.displayName="ProvideTotalSupply",_s.__docgenInfo={description:`ProvideTotalSupply is a React component that fetches
the total supply of the ESP token from the blockchain
and provides it via TotalSupplyContext.`,displayName:"ProvideTotalSupply",props:{}}}catch{}try{fs.displayName="ProvideTotalSupplyFromContractCall",fs.__docgenInfo={description:`ProvideTotalSupplyFromAPICall is a React component that fetches
the total supply of the ESP token from the local ESPTokenContract
and provides it via TotalSupplyContext.`,displayName:"ProvideTotalSupplyFromContractCall",props:{}}}catch{}try{hr.displayName="ProvideTotalSupplyFromContractRead",hr.__docgenInfo={description:`ProvideTotalSupplyFromContractRead is a React component that fetches
the total supply of the ESP token from the blockchain
and provides it via TotalSupplyContext.`,displayName:"ProvideTotalSupplyFromContractRead",props:{}}}catch{}class be{}class ie extends be{constructor(){super(),Object.freeze(this)}}class ro extends be{constructor(){super(),Object.freeze(this)}}class nt extends be{constructor(n){super(),this.validatorAddress=n,Object.freeze(this)}}class Gt extends be{constructor(n){super(),this.validatorAddress=n,Object.freeze(this)}}class sr extends be{constructor(n){super(),this.validatorAddress=n,Object.freeze(this)}}class ar extends be{constructor(n){super(),this.validatorAddress=n,Object.freeze(this)}}class rr extends be{constructor(n){super(),this.validatorAddress=n,Object.freeze(this)}}const st=a.createContext(new ie),I=a.createContext(()=>{}),Cs=({children:t})=>{const[n,s]=a.useState(new ie);return e.jsx(st.Provider,{value:n,children:e.jsx(I.Provider,{value:s,children:t})})};try{st.displayName="ValidatorSelectionContext",st.__docgenInfo={description:"",displayName:"ValidatorSelectionContext",props:{}}}catch{}try{I.displayName="SetValidatorSelectionContext",I.__docgenInfo={description:"",displayName:"SetValidatorSelectionContext",props:{}}}catch{}try{Cs.displayName="ProvideValidatorSelection",Cs.__docgenInfo={description:"",displayName:"ProvideValidatorSelection",props:{}}}catch{}const Ll=t=>a.createElement(bt,{...t,className:E(t.className,"stroked")},e.jsxs(e.Fragment,{children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}));try{logout.displayName="logout",logout.__docgenInfo={description:"LogOut represents a logout icon.",displayName:"logout",props:{}}}catch{}const ys=t=>a.createElement(bt,{...t,className:E(t.className,"stroked")},e.jsxs("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-plus",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}));try{plus.displayName="plus",plus.__docgenInfo={description:"Plus represents a plus sign.",displayName:"plus",props:{}}}catch{}const oo=t=>e.jsx("button",{...t,className:E(t.className,"bbtn")});try{buttonbase.displayName="buttonbase",buttonbase.__docgenInfo={description:`ButtonBase is a simple wrapper around a normal button element that adds the
class 'btn' to the button in order to change it's styling.`,displayName:"buttonbase",props:{}}}catch{}const p=({className:t,...n})=>e.jsx(oo,{className:E(t,"btn-large"),...n});try{buttonlarge.displayName="buttonlarge",buttonlarge.__docgenInfo={description:`ButtonLarge is a wrapper around ButtonBase that adds the 'btn-large' class
to the button in order to change its styling to a larger button.`,displayName:"buttonlarge",props:{}}}catch{}const gs=()=>{const t=a.useContext(Ua),n=a.useContext(L);return n?e.jsxs("span",{children:[e.jsx("span",{className:"wallet-address-preview",children:e.jsx(Me,{value:new Le(u.decode(n))})}),"Â ",e.jsxs(p,{className:"connect-wallet connected-wallet",onClick:t.openAccountModal,children:[e.jsx(o,{text:"Connect Wallet"}),e.jsx(Ll,{})]})]}):e.jsxs(p,{className:"connect-wallet",onClick:t.openConnectModal,children:[e.jsx(ys,{}),e.jsx(o,{text:"Connect Wallet"})]})};try{gs.displayName="ConnectWalletButton",gs.__docgenInfo={description:`ConnectWalletButton is a button that will open the RainbowKit Wallet Connect
Modal when pressed.`,displayName:"ConnectWalletButton",props:{}}}catch{}const vs=t=>e.jsxs("header",{className:"delegation",...t,children:[e.jsx(ac,{}),e.jsx(gs,{})]});try{vs.displayName="DelegationHeader",vs.__docgenInfo={description:"DelegationHeader is the header component for the Delegation UI page.",displayName:"DelegationHeader",props:{}}}catch{}const R=a.createContext({ref:null,open:()=>{},close:()=>{},setOpenState:()=>{},isOpen:!1});function Fl(){const t=a.useRef(null),[n,s]=a.useState(!1);return{ref:t,open:()=>{t.current&&!n&&(t.current.showModal(),s(!0))},close:()=>{t.current&&n&&(t.current.close(),s(!1))},setOpenState:l=>{s(l)},isOpen:n}}const js=({children:t})=>{const n=Fl();return e.jsx(R.Provider,{value:n,children:t})},Ns=({children:t,...n})=>{const s=a.useContext(R);return e.jsx("dialog",{ref:s.ref,...n,onClose:()=>{s.setOpenState(!1)},children:t})};try{R.displayName="ModalContext",R.__docgenInfo={description:"",displayName:"ModalContext",props:{}}}catch{}try{js.displayName="ProvideDialogModalControls",js.__docgenInfo={description:"",displayName:"ProvideDialogModalControls",props:{}}}catch{}try{Ns.displayName="DialogModal",Ns.__docgenInfo={description:"",displayName:"DialogModal",props:{closedby:{defaultValue:null,description:"",name:"closedby",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"any"'},{value:'"closerequest"'}]}}}}}catch{}function Hl(t){const[n,s]=a.useState(t);return[n,s]}const co=a.createContext(null),io=a.createContext(()=>{}),lo=a.createContext(null);function Ss(t){const[n,s]=Hl(t.selected);return e.jsx(lo.Provider,{value:n,children:e.jsx(io.Provider,{value:r=>{s(r),t.onSelectionChange(r)},children:e.jsx("div",{className:E(t.className,"btn-segmented"),children:t.segments.map((r,c)=>e.jsx(co.Provider,{value:r,children:e.jsx(ql,{})},c))})})})}const ql=()=>{const t=a.useContext(co),n=a.useContext(lo),s=a.useContext(io);return t?e.jsx(p,{className:"btn-segment","data-selected":t.value===n,onClick:()=>{s(t.value)},children:t.label}):null};try{Ss.displayName="SegmentedButton",Ss.__docgenInfo={description:"",displayName:"SegmentedButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"T"}},onSelectionChange:{defaultValue:null,description:"",name:"onSelectionChange",required:!0,type:{name:"(value: T) => void"}},segments:{defaultValue:null,description:"",name:"segments",required:!0,type:{name:"ButtonSegment<T>[]"}}}}}catch{}const Ce=t=>e.jsx("div",{className:"value",children:t.children});try{Ce.displayName="CardContentValue",Ce.__docgenInfo={description:"CardContentValue is a container for the main value displayed in a card.",displayName:"CardContentValue",props:{}}}catch{}const ws=t=>e.jsx("div",{className:E(t.className,"bcard"),children:t.children});try{ws.displayName="Card",ws.__docgenInfo={description:"Card component for displaying content in a card layout.",displayName:"Card",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const ye=t=>e.jsx(ws,{className:E(t.className,"card-value"),children:t.children});try{ye.displayName="CardValue",ye.__docgenInfo={description:"",displayName:"CardValue",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const ks=()=>{const t=a.useContext(S);return e.jsxs(ye,{className:"estimated-apr-card",children:[e.jsx("h2",{children:e.jsx(o,{text:"Available Balance"})}),e.jsx(Ce,{children:e.jsx(y,{money:h.ESP(t)})})]})};try{ks.displayName="AvailableBalanceCard",ks.__docgenInfo={description:`AvailableBalanceCard is a component that displays the Available Balance of
the active Wallet.`,displayName:"AvailableBalanceCard",props:{}}}catch{}const bs=()=>{const t=a.useContext(ee),n=a.useContext(le)??0n,s=(t?.lifetimeRewards??n)-n;return e.jsxs(ye,{className:"claimable-rewards-card",children:[e.jsx("h2",{children:e.jsx(o,{text:"Claimable Rewards"})}),e.jsx(zl,{}),e.jsx(Ce,{children:e.jsx(y,{money:h.ESP(s)})})]})},zl=()=>{const t=a.useContext(ee),n=a.useContext(le)??0n,s=(t?.lifetimeRewards??n)-n,r=a.useContext(R),c=a.useContext(I);return s<=0n?e.jsx(p,{className:"action",disabled:!0,children:e.jsx(o,{text:"Claim All"})}):e.jsx(p,{className:"action",onClick:()=>{c(new ro),r.open()},children:e.jsx(o,{text:"Claim All"})})};try{bs.displayName="ClaimableRewardsCard",bs.__docgenInfo={description:`ClaimableRewardsCard is a component that displays the Claimable Rewards
amount.

This is meant to represent the total amount of ESP that can be claimed as
rewards by the active wallet.`,displayName:"ClaimableRewardsCard",props:{}}}catch{}const As=()=>{const t=a.useContext(S);return e.jsxs(ye,{className:"estimated-apr-card",children:[e.jsx("h2",{children:e.jsx(o,{text:"Total Balance"})}),e.jsx(Ce,{children:e.jsx(y,{money:h.ESP(t)})})]})};try{As.displayName="TotalBalanceCard",As.__docgenInfo={description:`TotalBalanceCard is a component that displays the Total Balance of the
active Wallet.

Total Balance is defined as the sum of the Available Balance and the
Staked Balance.

TODO: Should this include the pending Rewards as well?`,displayName:"TotalBalanceCard",props:{}}}catch{}const Is=()=>{const t=a.useContext(de);if(!t)return e.jsxs(ye,{className:"estimated-apr-card",children:[e.jsx("h2",{children:e.jsx(o,{text:"Total Staked"})}),e.jsx(Ce,{children:e.jsx(y,{money:h.ESP(0n)})})]});const n=vr((s,r)=>s+r.amount,0n,t.nodes);return e.jsxs(ye,{className:"estimated-apr-card",children:[e.jsx("h2",{children:e.jsx(o,{text:"Total Staked"})}),e.jsx(Ce,{children:e.jsx(y,{money:h.ESP(n)})})]})};try{Is.displayName="TotalStakedCard",Is.__docgenInfo={description:`TotalStakedCard is a component that displays the Total Staked amount.

This is meant to represent the total amount of ESP that has been staked by
the active wallet.`,displayName:"TotalStakedCard",props:{}}}catch{}const Ps=()=>a.useContext(L)?e.jsxs("section",{className:"my-balance",children:[e.jsx("h2",{children:e.jsx(o,{text:"My Balance"})}),e.jsxs("div",{className:"my-balance-stats",children:[e.jsx(As,{}),e.jsx(ks,{}),e.jsx(Is,{}),e.jsx(bs,{})]})]}):null;try{Ps.displayName="MyBalance",Ps.__docgenInfo={description:"",displayName:"MyBalance",props:{}}}catch{}const Te=({children:t})=>e.jsx("div",{className:"network-stat-value",children:t});try{Te.displayName="NetworkStatValue",Te.__docgenInfo={description:"",displayName:"NetworkStatValue",props:{}}}catch{}const Rs=()=>{const t=a.useContext(tt),n=a.useContext(Qt);return e.jsxs(Te,{children:[e.jsx("h2",{children:e.jsx(o,{text:"Currently Staked"})}),e.jsx(O,{percentage:Number(t)/Number(n)})]})};try{Rs.displayName="CurrentlyStaked",Rs.__docgenInfo={description:"",displayName:"CurrentlyStaked",props:{}}}catch{}function $l(t){return t!=null}function Kl(t){const n=t<0?-1:1,s=Math.floor(t/1e3),r=Math.floor(s/60);return[Math.floor(r/60),r%60,s%60].map(i=>i*n)}const at=t=>{const n=go.useContext(sc),[s,r,c]=Kl(t.durationInMilliseconds),i=[n.hours.format(s),n.minutes.format(r),n.seconds.format(c)].filter($l);return e.jsx(o,{text:i.join(" ")})};try{at.displayName="TimeLeftText",at.__docgenInfo={description:`TimeLeftText displays the duration specified in terms of the total number
of hours, minutes, and seconds that comprise the total milliseconds provided.`,displayName:"TimeLeftText",props:{durationInMilliseconds:{defaultValue:null,description:"",name:"durationInMilliseconds",required:!0,type:{name:"number"}}}}}catch{}const Es=()=>{const t=a.useContext(Ye);if(t==null)return e.jsxs(Te,{children:[e.jsxs("h2",{children:[e.jsx(o,{text:"Epoch"}),"Â ",e.jsx("span",{className:"accent",children:e.jsx(o,{text:"-"})}),"Â ",e.jsx(o,{text:"ends in"})]}),e.jsx(o,{text:"-"})]});const n=t.espressoBlock.epoch,s=t.espressoBlock.block,r=s/n,c=s%r,i=r-c,l=Number(i)*6*1e3;return e.jsxs(Te,{children:[e.jsxs("h2",{children:[e.jsx(o,{text:"Epoch"}),"Â ",e.jsx("span",{className:"accent",children:e.jsx(wr,{number:t?.espressoBlock.epoch??0n})}),"Â ",e.jsx(o,{text:"ends in"})]}),e.jsx(at,{durationInMilliseconds:l})]})};try{Es.displayName="EpochEndsIn",Es.__docgenInfo={description:"",displayName:"EpochEndsIn",props:{}}}catch{}const Ds=()=>e.jsxs(Te,{children:[e.jsx("h2",{children:e.jsx(o,{text:"Estimated APR"})}),e.jsx(O,{percentage:.035})]});try{Ds.displayName="EstimatedAPR",Ds.__docgenInfo={description:`EstimatedAPRCard displays the estimated annual percentage rate (APR).
The APR is currently hardcoded to 3.5%.`,displayName:"EstimatedAPR",props:{}}}catch{}const Ts=()=>e.jsxs("div",{className:"network-stats",children:[e.jsx("h1",{children:e.jsx(o,{text:"ESP Delegation"})}),e.jsxs("div",{className:"network-stats-grid",children:[e.jsx(Rs,{}),e.jsx(Ds,{}),e.jsx(Es,{})]})]});try{Ts.displayName="NetworkStats",Ts.__docgenInfo={description:"NetworkStats component displays key statistics about the chain.",displayName:"NetworkStats",props:{}}}catch{}const po=t=>a.createElement(bt,{...t,className:E(t.className,"stroked")},e.jsxs("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-unlock",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"})]}));try{unlock.displayName="unlock",unlock.__docgenInfo={description:"Unlock represents an open Lock.",displayName:"unlock",props:{}}}catch{}var Pe=(t=>(t[t.collapsed=0]="collapsed",t[t.expanded=1]="expanded",t))(Pe||{});const rt=a.createContext(0),Yt=a.createContext(()=>{});function Ql(t=0){const[n,s]=a.useState(t);return[n,s]}const Xt=({children:t})=>{const[n,s]=Ql();return e.jsx(rt.Provider,{value:n,children:e.jsx(Yt.Provider,{value:s,children:t})})};try{rt.displayName="CollapseStateContext",rt.__docgenInfo={description:`CollapseStateContext provides a React Context that represents the current
collapse state of a UI element.`,displayName:"CollapseStateContext",props:{}}}catch{}try{Yt.displayName="SetCollapseStateContext",Yt.__docgenInfo={description:`SetCollapseStateContext provides a React Context that represents the setter
function to update the current collapse state of a UI element.`,displayName:"SetCollapseStateContext",props:{}}}catch{}try{Xt.displayName="ProvideCollapseState",Xt.__docgenInfo={description:`ProvideCollapseState is a React Component that defines a collapse state,
and provides contexts for reading, and setting it.`,displayName:"ProvideCollapseState",props:{}}}catch{}const Zt=({children:t,className:n,...s})=>e.jsx("section",{className:E(n,"collapsable-section"),...s,children:e.jsx(Xt,{children:t})}),en=({children:t})=>e.jsxs("div",{className:"collapsable-header",children:[t,e.jsx(Yl,{})]});function Gl(t){switch(t){case Pe.collapsed:return Pe.expanded;case Pe.expanded:return Pe.collapsed}}const Yl=()=>{const t=a.useContext(rt),n=a.useContext(Yt);return e.jsx(p,{className:"collapse-toggle",onClick:()=>n(Gl(t)),children:t?"Collapse":"Expand"})},tn=({children:t})=>a.useContext(rt)===Pe.collapsed?null:t;try{Zt.displayName="CollapsableSection",Zt.__docgenInfo={description:"",displayName:"CollapsableSection",props:{}}}catch{}try{en.displayName="CollapsableHeader",en.__docgenInfo={description:"",displayName:"CollapsableHeader",props:{}}}catch{}try{tn.displayName="CollapseGuard",tn.__docgenInfo={description:"",displayName:"CollapseGuard",props:{}}}catch{}var b=(t=>(t[t.rank=0]="rank",t[t.validator=1]="validator",t[t.totalStake=2]="totalStake",t[t.fee=3]="fee",t[t.missedSlots=4]="missedSlots",t[t.participationRate=5]="participationRate",t[t.hotShotConsensus=6]="hotShotConsensus",t))(b||{}),Os=(t=>(t[t.asc=0]="asc",t[t.desc=1]="desc",t))(Os||{});const ot=a.createContext({sortBy:()=>{}}),Bs=a.createContext({sortBy:2,sortDirection:1}),Vs=()=>{const[t,n]=a.useState({sortBy:2,sortDirection:1});return{tableState:t,tableControls:{sortBy:r=>{n(c=>{if(c.sortBy!==r)return{...c,sortBy:r};switch(c.sortDirection){case 0:return{...c,sortDirection:1};case 1:return{...c,sortDirection:0}}})}}}};function Xl(t,n){return t[1]-n[1]}function Zl(t,n){return W(t[0].address,n[0].address)}function ed(t,n){return Number(t[0].commission.valueOf()-n[0].commission.valueOf())}function td(t,n){const s=t[2]?.leaderParticipation.ratio??-1,r=n[2]?.leaderParticipation.ratio??-1;return s-r}function nd(t,n){const s=t[2]?.voterParticipation.ratio??-1,r=n[2]?.voterParticipation.ratio??-1;return s-r}function sd(t,n){return Number(Number(t[2])-Number(n[2]))}function ad(t,n){return Number(t[0].stake-n[0].stake)}function rd(t){switch(t){case 0:return Xl;case 1:return Zl;case 2:return ad;case 3:return ed;case 4:return td;case 5:return nd;case 6:return sd;default:throw new P}}function od(t){switch(t){case 0:return n=>n;case 1:return n=>(s,r)=>-n(s,r)}}function cd(t,n,s,r){if(!t)return t;const{sortBy:c,sortDirection:i}=n,d=od(i)(rd(c));return new He(t.l1Block,t.nodes.map(m=>{const v=u.encode(m.address);return[m,s.get(v)??Number.MAX_SAFE_INTEGER,r.get(v)??null]}).sort(d).map(m=>m[0]))}const ct=t=>{const{tableState:n,tableControls:s}=Vs(),r=a.useContext(k),c=a.useContext(et),i=a.useContext(Z),l=cd(r,n,c,i);return e.jsx(k.Provider,{value:l,children:e.jsx(Bs.Provider,{value:n,children:e.jsx(ot.Provider,{value:s,children:t.children})})})};try{b.displayName="CellType",b.__docgenInfo={description:`CellType enumerates the different types of columns that can be
sorted in the validator table.`,displayName:"CellType",props:{}}}catch{}try{Os.displayName="SortDirection",Os.__docgenInfo={description:"SortDirection enumerates the possible directions for sorting the table.",displayName:"SortDirection",props:{}}}catch{}try{ot.displayName="TableSortControlsContext",ot.__docgenInfo={description:"",displayName:"TableSortControlsContext",props:{}}}catch{}try{Bs.displayName="TableSortStateContext",Bs.__docgenInfo={description:"",displayName:"TableSortStateContext",props:{}}}catch{}try{Vs.displayName="useValidatorTableSortState",Vs.__docgenInfo={description:`useValidatorTableSortState is a custom hook that manages the sorting state
for the validator table, providing the current state and controls to modify
it.`,displayName:"useValidatorTableSortState",props:{}}}catch{}try{ct.displayName="ValidatorTableSortStateProvider",ct.__docgenInfo={description:`ValidatorTableSortStateProvider is a context provider that manages
the sorting state for the validator table and provides sorted validator
data to its children.`,displayName:"ValidatorTableSortStateProvider",props:{}}}catch{}const g=a.createContext(new Dn(new ArrayBuffer(0),new Nr("",new ArrayBuffer(0)),0n,new De(0)));try{g.displayName="ValidatorNodeContext",g.__docgenInfo={description:`ValidatorNodeContext provides a React Context
for a single validator node entry.`,displayName:"ValidatorNodeContext",props:{}}}catch{}const nn=()=>e.jsx(e.Fragment,{});try{nn.displayName="ActionsHeadCell",nn.__docgenInfo={description:`ActionsHeadCell is the header cell for the actions to take in the
validator table.`,displayName:"ActionsHeadCell",props:{}}}catch{}const Ae=t=>a.createElement(bt,{...t,viewBox:"0 0 12 12",className:E(t.className,"stroked")},e.jsxs(e.Fragment,{children:[e.jsx("path",{d:"M9.25 7.75049L6 11.0005L2.75 7.75049",strokeWidth:"1.5"}),e.jsx("path",{d:"M9.25 4.25049L6 1.00049L2.75 4.25049",strokeWidth:"1.5"})]}));try{verticalscroll.displayName="verticalscroll",verticalscroll.__docgenInfo={description:"VerticalScroll represents a vertical scroll icon.",displayName:"verticalscroll",props:{}}}catch{}const sn=()=>e.jsxs(e.Fragment,{children:[e.jsx(o,{text:"Commission Rate"}),"Â ",e.jsx(Ae,{})]});try{sn.displayName="FeeHeadCell",sn.__docgenInfo={description:"FeeHeadCell is the header cell for the Fee column in the validator table.",displayName:"FeeHeadCell",props:{}}}catch{}const an=()=>e.jsxs(e.Fragment,{children:[e.jsx(o,{text:"Consensus"}),"Â ",e.jsx(Ae,{})]});try{an.displayName="HotShotConsensusHeadCell",an.__docgenInfo={description:`HotShotConsensusHeadCell is the header cell for the HotShot Consensus
column in the validator table.`,displayName:"HotShotConsensusHeadCell",props:{}}}catch{}const rn=()=>e.jsxs(e.Fragment,{children:[e.jsx(o,{text:"Missed Slots"}),"Â ",e.jsx(Ae,{})]});try{rn.displayName="MissedSlotsHeadCell",rn.__docgenInfo={description:`MissedSlotsHeadCell is the header cell for the Missed Slots column in the
validator table.`,displayName:"MissedSlotsHeadCell",props:{}}}catch{}const on=()=>e.jsxs(e.Fragment,{children:[e.jsx(o,{text:"Participation"}),"Â ",e.jsx(Ae,{})]});try{on.displayName="ParticipationRateHeadCell",on.__docgenInfo={description:`ParticipationRateHeadCell is the header cell for the Participation Rate
column in the validator table.`,displayName:"ParticipationRateHeadCell",props:{}}}catch{}const cn=()=>e.jsxs(e.Fragment,{children:[e.jsx(o,{text:"Rank"}),"Â ",e.jsx(Ae,{})]});try{cn.displayName="RankHeadCell",cn.__docgenInfo={description:"RankHeadCell is the header cell for the Rank column in the validator table.",displayName:"RankHeadCell",props:{}}}catch{}const ln=()=>e.jsxs(e.Fragment,{children:[e.jsx(o,{text:"Total Stake"}),"Â ",e.jsx(Ae,{})]});try{ln.displayName="TotalStakeHeadCell",ln.__docgenInfo={description:`TotalStakeHeadCell is the header cell for the Total Stake column in the
validator table.`,displayName:"TotalStakeHeadCell",props:{}}}catch{}const dn=()=>e.jsxs(e.Fragment,{children:[e.jsx(o,{text:"Validator"}),"Â ",e.jsx(Ae,{})]});try{dn.displayName="ValidatorHeadCell",dn.__docgenInfo={description:`ValidatorHeadCell is the header cell for the Validator column in the
validator table.`,displayName:"ValidatorHeadCell",props:{}}}catch{}const pn=()=>{const{sortBy:t}=a.useContext(ot);return e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"sortable",onClick:()=>t(b.rank),children:e.jsx(cn,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.validator),children:e.jsx(dn,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.totalStake),children:e.jsx(ln,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.fee),children:e.jsx(sn,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.missedSlots),children:e.jsx(rn,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.participationRate),children:e.jsx(on,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.hotShotConsensus),children:e.jsx(an,{})}),e.jsx("th",{children:e.jsx(nn,{})})]})})};try{pn.displayName="ClaimsDelegationTableHeader",pn.__docgenInfo={description:`ClaimsDelegationTableHeader is a component that renders
the header row of the delegation table with sortable columns.`,displayName:"ClaimsDelegationTableHeader",props:{}}}catch{}const it=()=>{const t=a.useContext(g);return e.jsx(O,{percentage:t.commission.valueOf()})};try{it.displayName="FeeCell",it.__docgenInfo={description:"FeeCell displays the commission fee of a validator as a percentage.",displayName:"FeeCell",props:{}}}catch{}const un=({className:t,children:n})=>e.jsx("span",{className:E(t,"bchip"),children:n});try{un.displayName="Chip",un.__docgenInfo={description:"",displayName:"Chip",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const xe=({className:t,children:n})=>e.jsx(un,{className:E(t,"consensus-chip"),children:n});try{xe.displayName="ConsensusChip",xe.__docgenInfo={description:"",displayName:"ConsensusChip",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const xn=()=>e.jsx(xe,{className:"consensus-chip active",children:e.jsx(o,{text:"Active"})});try{xn.displayName="ActiveConsensusChip",xn.__docgenInfo={description:"",displayName:"ActiveConsensusChip",props:{}}}catch{}const mn=()=>e.jsx(xe,{className:"consensus-chip inactive",children:e.jsx(o,{text:"Inactive"})});try{mn.displayName="InactiveConsensusChip",mn.__docgenInfo={description:"",displayName:"InactiveConsensusChip",props:{}}}catch{}const lt=()=>{const t=a.useContext(g),n=a.useContext(Z),s=u.encode(t.address);return n.has(s)?e.jsx(xn,{}):e.jsx(mn,{})};try{lt.displayName="HotShotConsensusCell",lt.__docgenInfo={description:`HotShotConsensusCell displays whether a validator is part of the
HotShot consensus set using active/inactive consensus chips.`,displayName:"HotShotConsensusCell",props:{}}}catch{}const dt=()=>{const t=a.useContext(g),s=a.useContext(Z).get(u.encode(t.address));return s?e.jsx(O,{percentage:1-s.leaderParticipation.ratio}):e.jsx(o,{text:"-"})};try{dt.displayName="MissedSlotsCell",dt.__docgenInfo={description:"MissedSlotsCell displays the percentage of missed slots for a validator.",displayName:"MissedSlotsCell",props:{}}}catch{}const pt=()=>{const t=a.useContext(g);return e.jsx(Me,{value:new Le(t.address)})};try{pt.displayName="NodeNameCell",pt.__docgenInfo={description:`NameNodeCell displays the wallet address of a validator node. It is
actually intended to show the name, and an icon for the validator,
but it's currently unclear how we would source this information.`,displayName:"NodeNameCell",props:{}}}catch{}const ut=()=>{const t=a.useContext(g),s=a.useContext(Z).get(u.encode(t.address));return s?e.jsx(O,{percentage:s.voterParticipation.ratio}):e.jsx(o,{text:"-"})};try{ut.displayName="ParticipationRateCell",ut.__docgenInfo={description:"ParticipationRateCell displays the voter participation rate for a validator.",displayName:"ParticipationRateCell",props:{}}}catch{}const Ws=()=>{const t=a.useContext(g),n=a.useContext(R),s=a.useContext(I);return e.jsx(p,{className:"action",onClick:()=>{s(new ar(t.address)),n.open()},children:e.jsx(o,{text:"Withdraw"})})};try{Ws.displayName="PendingClaimActionsCell",Ws.__docgenInfo={description:"",displayName:"PendingClaimActionsCell",props:{}}}catch{}const xt=()=>{const t=a.useContext(g),n=a.useContext(et),s=u.encode(t.address),r=n.get(s);return e.jsx(wr,{number:r??-1})};try{xt.displayName="RankCell",xt.__docgenInfo={description:`RankCell is a component that displays
the rank of the current validator node.`,displayName:"RankCell",props:{}}}catch{}const mt=()=>{const t=a.useContext(tt),n=a.useContext(g),s=Number(n.stake)/Number(t);return e.jsxs(e.Fragment,{children:[e.jsx(y,{money:h.ESP(n.stake)}),"Â ",e.jsxs("span",{className:"percentage-text",children:["(",e.jsx(O,{percentage:s}),")"]})]})};try{mt.displayName="TotalStakeCell",mt.__docgenInfo={description:`TotalStakeCell displays the stake amount for a validator node, along with its
percentage of the total stake.`,displayName:"TotalStakeCell",props:{}}}catch{}const Js=()=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(xt,{})}),e.jsx("td",{children:e.jsx(pt,{})}),e.jsx("td",{children:e.jsx(mt,{})}),e.jsx("td",{children:e.jsx(it,{})}),e.jsx("td",{children:e.jsx(dt,{})}),e.jsx("td",{children:e.jsx(ut,{})}),e.jsx("td",{children:e.jsx(lt,{})}),e.jsx("td",{children:e.jsx(Ws,{})})]});try{Js.displayName="PendingClaimsNodeValidatorTableRow",Js.__docgenInfo={description:`PendingClaimsNodeValidatorTableRow is a component that represents a single
row in the validator nodes table, displaying various details about the validator.`,displayName:"PendingClaimsNodeValidatorTableRow",props:{}}}catch{}const Us=()=>{const t=a.useContext(k);return t?e.jsxs("table",{className:"all-validators-table pending-claims",children:[e.jsx(pn,{}),e.jsx("tbody",{children:t.nodes.map((n,s)=>e.jsx(g.Provider,{value:n,children:e.jsx(Js,{})},s))})]}):e.jsx(e.Fragment,{})};try{Us.displayName="PendingClaimsDelegationTable",Us.__docgenInfo={description:`PendingClaimsDelegationTable is a component that renders
the table of validator nodes in the delegation UI for Pending Claims`,displayName:"PendingClaimsDelegationTable",props:{}}}catch{}const Ms=()=>e.jsx(id,{children:e.jsx(Xt,{children:e.jsx(dd,{})})}),id=({children:t})=>a.useContext(ue).size<=0?null:e.jsx(ld,{children:t}),ld=({children:t})=>{const n=a.useContext(An),s=a.useContext(ue);return Se(s.values(),c=>c.availableTime<=n).next().done?null:t},dd=()=>e.jsxs(Zt,{className:"pending-claims",children:[e.jsx(en,{children:e.jsxs("h2",{children:[e.jsx(po,{}),e.jsx(o,{text:"Your recently unstaked your delegation.  You can claim back your delegation now."})]})}),e.jsx(tn,{children:e.jsx(ud,{})})]});function pd(t,n){return t?new He(t.l1Block,Array.from(Se(t.nodes,s=>n.has(u.encode(s.address))))):null}const ud=()=>{const t=a.useContext(ue),n=a.useContext(k);return e.jsx(k.Provider,{value:pd(n,t),children:e.jsx(ct,{children:e.jsx(Us,{})})})};try{Ms.displayName="PendingClaims",Ms.__docgenInfo={description:"",displayName:"PendingClaims",props:{}}}catch{}const Ls=()=>{const t=a.useContext(g),n=a.useContext(R),s=a.useContext(I);return e.jsx(p,{className:"action",onClick:()=>{s(new rr(t.address)),n.open()},children:e.jsx(o,{text:"Withdraw"})})};try{Ls.displayName="PendingExitActionsCell",Ls.__docgenInfo={description:"",displayName:"PendingExitActionsCell",props:{}}}catch{}const Fs=()=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(xt,{})}),e.jsx("td",{children:e.jsx(pt,{})}),e.jsx("td",{children:e.jsx(mt,{})}),e.jsx("td",{children:e.jsx(it,{})}),e.jsx("td",{children:e.jsx(dt,{})}),e.jsx("td",{children:e.jsx(ut,{})}),e.jsx("td",{children:e.jsx(lt,{})}),e.jsx("td",{children:e.jsx(Ls,{})})]});try{Fs.displayName="PendingExitsNodeValidatorTableRow",Fs.__docgenInfo={description:`PendingExitsNodeValidatorTableRow is a component that represents a single
row in the validator nodes table, displaying various details about the validator.`,displayName:"PendingExitsNodeValidatorTableRow",props:{}}}catch{}const Hs=()=>{const t=a.useContext(k);return t?e.jsxs("table",{className:"all-validators-table pending-claims",children:[e.jsx(pn,{}),e.jsx("tbody",{children:t.nodes.map((n,s)=>e.jsx(g.Provider,{value:n,children:e.jsx(Fs,{})},s))})]}):e.jsx(e.Fragment,{})};try{Hs.displayName="PendingExitsDelegationTable",Hs.__docgenInfo={description:`PendingExitsDelegationTable is a component that renders
the table of validator nodes in the delegation UI for Pending Exits`,displayName:"PendingExitsDelegationTable",props:{}}}catch{}const qs=()=>e.jsx(xd,{children:e.jsx(hd,{})}),xd=({children:t})=>a.useContext(pe).size<=0?null:e.jsx(md,{children:t}),md=({children:t})=>{const n=a.useContext(An),s=a.useContext(pe);return Se(s.values(),c=>c.availableTime<=n).next().done?null:t},hd=()=>e.jsxs(Zt,{className:"pending-exits",children:[e.jsx(en,{children:e.jsxs("h2",{children:[e.jsx(po,{}),e.jsx(o,{text:"Validators you have delegated to have exited the Staking Table.  You can claim back your delegation now."})]})}),e.jsx(tn,{children:e.jsx(fd,{})})]});function _d(t,n){return t?new He(t.l1Block,Array.from(Se(t.nodes,s=>n.has(u.encode(s.address))))):null}const fd=()=>{const t=a.useContext(pe),n=a.useContext(k);return e.jsx(k.Provider,{value:_d(n,t),children:e.jsx(ct,{children:e.jsx(Hs,{})})})};try{qs.displayName="PendingExits",qs.__docgenInfo={description:"",displayName:"PendingExits",props:{}}}catch{}const J=a.createContext(new ArrayBuffer(0));try{J.displayName="ConfirmedValidatorContext",J.__docgenInfo={description:"",displayName:"ConfirmedValidatorContext",props:{}}}catch{}const uo=({className:t,...n})=>e.jsx(oo,{className:E(t,"btn--flat"),...n});try{buttonflat.displayName="buttonflat",buttonflat.__docgenInfo={description:`ButtonFlat is a wrapper around ButtonBase that adds the 'btn-flat' class
to the button in order to change its styling to a flat button.`,displayName:"buttonflat",props:{}}}catch{}const me=()=>{const t=a.useContext(I);return e.jsx(uo,{className:"back-modal-button",onClick:()=>t(new ie),children:e.jsx(o,{text:"Back"})})};try{me.displayName="BackButton",me.__docgenInfo={description:"",displayName:"BackButton",props:{}}}catch{}const N=({children:t})=>e.jsxs("div",{className:"staking-modal-label-value-split",children:[e.jsx("span",{className:"staking-modal-label",children:t[0]}),e.jsx("span",{className:"staking-modal-value",children:t[1]})]});try{N.displayName="LabelValueSplit",N.__docgenInfo={description:"",displayName:"LabelValueSplit",props:{}}}catch{}const zs=()=>e.jsxs("div",{className:"staking-modal-staking-overview-area",children:[e.jsx(Cd,{}),e.jsx(yd,{}),e.jsx(gd,{})]}),Cd=()=>{const t=a.useContext(S);return e.jsxs(N,{children:[e.jsx("span",{children:e.jsx(o,{text:"Current Balance"})}),e.jsx("span",{children:e.jsx(y,{money:h.ESP(t)})})]})},yd=()=>{const t=a.useContext(S),n=a.useContext(ee),s=a.useContext(le)??0n,r=(n?.lifetimeRewards??s)-s;return e.jsxs(N,{children:[e.jsx("span",{children:e.jsx(o,{text:"New Balance"})}),e.jsx("span",{children:e.jsx(y,{money:h.ESP(t+r)})})]})},gd=()=>e.jsxs(N,{children:[e.jsx("span",{children:e.jsx(o,{text:"Tx Fee"})}),e.jsx("span",{children:e.jsx(o,{text:"-"})})]});try{zs.displayName="ClaimableRewardsOverviewArea",zs.__docgenInfo={description:"",displayName:"ClaimableRewardsOverviewArea",props:{}}}catch{}const $s=()=>e.jsx("div",{className:"staking-modal-initial-summary-and-interaction",children:e.jsx(vd,{})}),vd=()=>{const t=a.useContext(ee),n=a.useContext(le)??0n,s=(t?.lifetimeRewards??n)-n;return e.jsxs("div",{className:"staking-modal-esp-input-area",children:[e.jsx("label",{htmlFor:"staking-modal-esp-input",children:e.jsx(o,{text:"Claimable Rewards"})}),e.jsx("div",{className:"staking-modal-esp-focus-display",children:e.jsx(y,{money:h.ESP(s)})})]})};try{$s.displayName="ClaimableRewardsSummaryAndInteraction",$s.__docgenInfo={description:"",displayName:"ClaimableRewardsSummaryAndInteraction",props:{}}}catch{}const te=()=>{const t=a.useContext(I),n=a.useContext(R);return e.jsx(uo,{className:"close-modal-button",onClick:()=>{t(new ie),n.close()},children:e.jsx(rc,{})})};try{te.displayName="CloseStakingModalButton",te.__docgenInfo={description:"",displayName:"CloseStakingModalButton",props:{}}}catch{}const ht=a.createContext(null),hn=a.createContext(()=>{}),_n=a.createContext(w.nothing()),fn=({children:t})=>{const[n,s]=a.useState(null);return e.jsx(ht.Provider,{value:n,children:e.jsx(hn.Provider,{value:s,children:e.jsx(jd,{children:t})})})},jd=({children:t})=>{const n=a.useContext(ht)??Je();return e.jsx(Ue,{asyncIterable:n,children:e.jsx(Nd,{children:t})})},Nd=({children:t})=>{const n=a.useContext(H),s=a.useContext(ht);return e.jsx(_n.Provider,{value:s===null?w.nothing():n,children:t})};class Tn{}class Sd extends Tn{constructor(){super()}}class wd extends Tn{constructor(n){super(),this.transactionHash=n}}class kd extends Tn{constructor(n){super(),this.transactionHash=n}}class xo extends Tn{constructor(n,s){super(),this.transactionHash=n,this.receipt=s}}async function*bd(t,n,s,r){yield new Sd;const c=await n.claimRewards(s.lifetimeRewards,u.encode(s.authData));yield new wd(c),yield new kd(c);try{for(let i=0;i<24;i++)try{const l=await t.getTransactionReceipt({hash:c});yield new xo(c,l);return}catch(l){if(i===23)throw console.error("<<<< HERE performClaimRewards failed to retrieve receipt:",l),l;await Fe(1e3)}}finally{r(new Date)}throw new Error("no receipt received")}try{ht.displayName="PerformClaimRewardsAsyncIterableContext",ht.__docgenInfo={description:"",displayName:"PerformClaimRewardsAsyncIterableContext",props:{}}}catch{}try{hn.displayName="SetClaimRewardsAsyncIterableContext",hn.__docgenInfo={description:"",displayName:"SetClaimRewardsAsyncIterableContext",props:{}}}catch{}try{_n.displayName="ClaimRewardsAsyncSnapshotContext",_n.__docgenInfo={description:"",displayName:"ClaimRewardsAsyncSnapshotContext",props:{}}}catch{}try{fn.displayName="ProvideClaimRewardsPromiseContext",fn.__docgenInfo={description:"",displayName:"ProvideClaimRewardsPromiseContext",props:{}}}catch{}const ne=({children:t})=>e.jsx("div",{className:"staking-modal-content",children:t});try{ne.displayName="StakingContent",ne.__docgenInfo={description:"",displayName:"StakingContent",props:{}}}catch{}const se=({children:t})=>e.jsx("div",{className:"staking-modal-header",children:t});try{se.displayName="StakingHeader",se.__docgenInfo={description:"",displayName:"StakingHeader",props:{}}}catch{}const ae=({children:t})=>e.jsx("h2",{className:"staking-modal-title",children:t});try{ae.displayName="StakingModalTitle",ae.__docgenInfo={description:"",displayName:"StakingModalTitle",props:{}}}catch{}const Ks=()=>e.jsxs(e.Fragment,{children:[e.jsxs(se,{children:[e.jsx(me,{}),e.jsx(ae,{children:e.jsx(o,{text:"Claim All"})}),e.jsx(te,{})]}),e.jsxs(ne,{children:[e.jsx($s,{}),e.jsx(zs,{}),e.jsx(Ad,{})]})]}),Ad=()=>{const t=a.useContext(je),n=a.useContext(_r),s=a.useContext(ee),r=a.useContext(ee),c=a.useContext(le)??0n,i=a.useContext(_n),l=a.useContext(X),d=a.useContext(R),m=a.useContext(I),v=a.useContext(hn),D=(r?.lifetimeRewards??c)-c;if(t===null||n===null||s===null||D<=0n)return e.jsxs("div",{className:"staking-modal-unstaking-actions-area",children:[e.jsx("div",{children:"Â "}),e.jsx(p,{className:"btn-undelegate",disabled:!0,children:e.jsx(o,{text:"Claim Rewards"})})]});const F=()=>v(bd(t,n,s,l));return i.asyncState===j.waiting||i.data&&!(i.data instanceof xo)?e.jsxs("div",{className:"staking-modal-unstaking-actions-area waiting",children:[e.jsx("div",{children:e.jsx(o,{text:"Claiming..."})}),e.jsx(p,{className:"btn-undelegate",disabled:!0,children:e.jsx(o,{text:"Claim Rewards"})})]}):i.asyncState===j.done?i.hasError?e.jsxs("div",{className:"staking-modal-unstaking-actions-area error",children:[e.jsx("div",{children:e.jsx(o,{text:"Claim Failed"})}),e.jsx(p,{className:"btn-undelegate",onClick:F,children:e.jsx(o,{text:"Retry"})})]}):e.jsxs("div",{className:"staking-modal-unstaking-actions-area succeeded",children:[e.jsx("div",{children:e.jsx(o,{text:"Claim Successful"})}),e.jsx(p,{onClick:()=>{m(new ie),d.close()},children:e.jsx(o,{text:"Close"})})]}):e.jsxs("div",{className:"staking-modal-unstaking-actions-area",children:[e.jsx("div",{children:"Â "}),e.jsx(p,{className:"btn-undelegate",onClick:F,children:e.jsx(o,{text:"Claim Rewards"})})]})};try{Ks.displayName="ClaimRewardsContent",Ks.__docgenInfo={description:"",displayName:"ClaimRewardsContent",props:{}}}catch{}const Oe=a.createContext(null),Qs=({children:t})=>{a.useContext($);const n=a.useContext(In),s=a.useContext(he),r=a.useContext(L),c=!n||!s||!r?oe:n.allowance(r,s.address);return e.jsx(M,{promise:c,children:e.jsx(Id,{children:t})})},Id=({children:t})=>{const n=a.useContext(U);return e.jsx(Oe.Provider,{value:n,children:t})};try{Oe.displayName="CurrentAllowanceToStakeTableContext",Oe.__docgenInfo={description:"",displayName:"CurrentAllowanceToStakeTableContext",props:{}}}catch{}try{Qs.displayName="ProvideCurrentAllowanceToStakeTable",Qs.__docgenInfo={description:"",displayName:"ProvideCurrentAllowanceToStakeTable",props:{}}}catch{}const Be=a.createContext(null),Gs=({children:t})=>{a.useContext($);const n=a.useContext(he),s=a.useContext(L),r=a.useContext(J),c=!n||!s||!r?oe:n.undelegation(u.encode(r),s.toLowerCase());return e.jsx(M,{promise:c,children:e.jsx(Pd,{children:t})})},Pd=({children:t})=>{const n=a.useContext(U);return e.jsx(Be.Provider,{value:n,children:t})};try{Be.displayName="CurrentPendingUndelegationFromValidatorContext",Be.__docgenInfo={description:"",displayName:"CurrentPendingUndelegationFromValidatorContext",props:{}}}catch{}try{Gs.displayName="ProvideCurrentPendingUndelegationToValidator",Gs.__docgenInfo={description:"",displayName:"ProvideCurrentPendingUndelegationToValidator",props:{}}}catch{}const B=a.createContext(null),Ys=({children:t})=>{a.useContext($);const n=a.useContext(he),s=a.useContext(L),r=a.useContext(J),c=!n||!s||!r?oe:n.delegation(u.encode(r),s.toLowerCase());return e.jsx(M,{promise:c,children:e.jsx(Rd,{children:t})})},Rd=({children:t})=>{const n=a.useContext(U);return e.jsx(B.Provider,{value:n,children:t})};try{B.displayName="CurrentStakeToValidatorContext",B.__docgenInfo={description:"",displayName:"CurrentStakeToValidatorContext",props:{}}}catch{}try{Ys.displayName="ProvideCurrentStakeToValidator",Ys.__docgenInfo={description:"",displayName:"ProvideCurrentStakeToValidator",props:{}}}catch{}const _t=a.createContext(null),Cn=a.createContext(()=>{}),yn=a.createContext(w.nothing()),Xs=({children:t})=>{const[n,s]=a.useState(null);return e.jsx(_t.Provider,{value:n,children:e.jsx(Cn.Provider,{value:s,children:e.jsx(Ed,{children:t})})})},Ed=({children:t})=>{const n=a.useContext(_t)??Je();return e.jsx(Ue,{asyncIterable:n,children:e.jsx(Dd,{children:t})})},Dd=({children:t})=>{const n=a.useContext(H),s=a.useContext(_t);return e.jsx(yn.Provider,{value:s===null?w.nothing():n,children:t})};class On{}class Td extends On{constructor(){super()}}class Od extends On{constructor(n){super(),this.transactionHash=n}}class Bd extends On{constructor(n){super(),this.transactionHash=n}}class mo extends On{constructor(n,s){super(),this.transactionHash=n,this.receipt=s}}async function*Vd(t,n,s,r){yield new Td;const c=await n.claimValidatorExit(s);yield new Od(c),yield new Bd(c);try{for(let i=0;i<24;i++)try{const l=await t.getTransactionReceipt({hash:c});yield new mo(c,l);return}catch(l){if(i===23)throw console.error("<<<< HERE performClaimValidatorExit failed to retrieve receipt:",l),l;await Fe(1e3)}}finally{r(new Date)}throw new Error("no receipt received")}try{_t.displayName="ClaimValidatorExitAsyncIterableContext",_t.__docgenInfo={description:"",displayName:"ClaimValidatorExitAsyncIterableContext",props:{}}}catch{}try{Cn.displayName="SetClaimValidatorExitAsyncIterableContext",Cn.__docgenInfo={description:"",displayName:"SetClaimValidatorExitAsyncIterableContext",props:{}}}catch{}try{yn.displayName="ClaimValidatorExitAsyncSnapshotContext",yn.__docgenInfo={description:"",displayName:"ClaimValidatorExitAsyncSnapshotContext",props:{}}}catch{}try{Xs.displayName="ProvideClaimValidatorExitPromiseContext",Xs.__docgenInfo={description:"",displayName:"ProvideClaimValidatorExitPromiseContext",props:{}}}catch{}const ft=a.createContext(null),gn=a.createContext(()=>{}),Ct=a.createContext(w.nothing()),Zs=({children:t})=>{const[n,s]=a.useState(null);return e.jsx(ft.Provider,{value:n,children:e.jsx(gn.Provider,{value:s,children:e.jsx(Wd,{children:t})})})},Wd=({children:t})=>{const n=a.useContext(ft)??Je();return e.jsx(Ue,{asyncIterable:n,children:e.jsx(Jd,{children:t})})},Jd=({children:t})=>{const n=a.useContext(H),s=a.useContext(ft);return e.jsx(Ct.Provider,{value:s===null?w.nothing():n,children:t})};class Bn{}class Ud extends Bn{constructor(){super()}}class Md extends Bn{constructor(n){super(),this.transactionHash=n}}class Ld extends Bn{constructor(n){super(),this.transactionHash=n}}class vn extends Bn{constructor(n,s){super(),this.transactionHash=n,this.receipt=s}}async function*Fd(t,n,s,r){yield new Ud;const c=await n.approve(s.address,0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn);yield new Md(c),yield new Ld(c);try{for(let i=0;i<24;i++)try{const l=await t.getTransactionReceipt({hash:c});yield new vn(c,l);return}catch(l){if(i===23)throw console.error("<<<< HERE performApprove failed to retrieve receipt:",l),l;await Fe(1e3)}}finally{r(new Date)}throw new Error("no receipt received")}try{ft.displayName="ApproveAsyncIterableContext",ft.__docgenInfo={description:"",displayName:"ApproveAsyncIterableContext",props:{}}}catch{}try{gn.displayName="SetApproveAsyncIterableContext",gn.__docgenInfo={description:"",displayName:"SetApproveAsyncIterableContext",props:{}}}catch{}try{Ct.displayName="ApproveAsyncSnapshotContext",Ct.__docgenInfo={description:"",displayName:"ApproveAsyncSnapshotContext",props:{}}}catch{}try{Zs.displayName="ProvideApproveAsyncIterableContext",Zs.__docgenInfo={description:"",displayName:"ProvideApproveAsyncIterableContext",props:{}}}catch{}const yt=a.createContext(null),jn=a.createContext(()=>{}),Nn=a.createContext(w.nothing()),ea=({children:t})=>{const[n,s]=a.useState(null);return e.jsx(yt.Provider,{value:n,children:e.jsx(jn.Provider,{value:s,children:e.jsx(Hd,{children:t})})})},Hd=({children:t})=>{const n=a.useContext(yt)??Je();return e.jsx(Ue,{asyncIterable:n,children:e.jsx(qd,{children:t})})},qd=({children:t})=>{const n=a.useContext(H),s=a.useContext(yt);return e.jsx(Nn.Provider,{value:s===null?w.nothing():n,children:t})};class Vn{}class zd extends Vn{constructor(){super()}}class $d extends Vn{constructor(n){super(),this.transactionHash=n}}class Kd extends Vn{constructor(n){super(),this.transactionHash=n}}class ho extends Vn{constructor(n,s){super(),this.transactionHash=n,this.receipt=s}}async function*Qd(t,n,s,r){yield new zd;const c=await n.claimWithdrawal(s);yield new $d(c),yield new Kd(c);try{for(let i=0;i<24;i++)try{const l=await t.getTransactionReceipt({hash:c});yield new ho(c,l);return}catch(l){if(i===23)throw console.error("<<<< HERE performClaimWithdrawal failed to retrieve receipt:",l),l;await Fe(1e3)}}finally{r(new Date)}throw new Error("no receipt received")}try{yt.displayName="ClaimWithdrawalAsyncIterableContext",yt.__docgenInfo={description:"",displayName:"ClaimWithdrawalAsyncIterableContext",props:{}}}catch{}try{jn.displayName="SetClaimWithdrawalAsyncIterableContext",jn.__docgenInfo={description:"",displayName:"SetClaimWithdrawalAsyncIterableContext",props:{}}}catch{}try{Nn.displayName="ClaimWithdrawalAsyncSnapshotContext",Nn.__docgenInfo={description:"",displayName:"ClaimWithdrawalAsyncSnapshotContext",props:{}}}catch{}try{ea.displayName="ProvideClaimWithdrawalPromiseContext",ea.__docgenInfo={description:"",displayName:"ProvideClaimWithdrawalPromiseContext",props:{}}}catch{}const gt=a.createContext(null),Sn=a.createContext(()=>{}),Ve=a.createContext(w.nothing()),ta=({children:t})=>{const[n,s]=a.useState(null);return e.jsx(gt.Provider,{value:n,children:e.jsx(Sn.Provider,{value:s,children:e.jsx(Gd,{children:t})})})},Gd=({children:t})=>{const n=a.useContext(gt)??Je();return e.jsx(Ue,{asyncIterable:n,children:e.jsx(Yd,{children:t})})},Yd=({children:t})=>{const n=a.useContext(H),s=a.useContext(gt);return e.jsx(Ve.Provider,{value:s===null?w.nothing():n,children:t})};class Wn{}class Xd extends Wn{constructor(){super()}}class Zd extends Wn{constructor(n){super(),this.transactionHash=n}}class ep extends Wn{constructor(n){super(),this.transactionHash=n}}class vt extends Wn{constructor(n,s){super(),this.transactionHash=n,this.receipt=s}}async function*tp(t,n,s,r,c){yield new Xd;const i=await n.delegate(s,r);yield new Zd(i),yield new ep(i);try{for(let l=0;l<24;l++)try{const d=await t.getTransactionReceipt({hash:i});yield new vt(i,d);return}catch(d){if(l===23)throw console.error("<<<< HERE performDelegation failed to retrieve receipt:",d),d;await Fe(1e3)}}finally{c(new Date)}throw new Error("no receipt received")}try{gt.displayName="DelegateAsyncIterableContext",gt.__docgenInfo={description:"",displayName:"DelegateAsyncIterableContext",props:{}}}catch{}try{Sn.displayName="SetDelegationAsyncIterableContext",Sn.__docgenInfo={description:"",displayName:"SetDelegationAsyncIterableContext",props:{}}}catch{}try{Ve.displayName="DelegateAsyncSnapshotContext",Ve.__docgenInfo={description:"",displayName:"DelegateAsyncSnapshotContext",props:{}}}catch{}try{ta.displayName="ProvideDelegateAsyncIterableContext",ta.__docgenInfo={description:"",displayName:"ProvideDelegateAsyncIterableContext",props:{}}}catch{}const jt=a.createContext(null),wn=a.createContext(()=>{}),kn=a.createContext(w.nothing()),na=({children:t})=>{const[n,s]=a.useState(null);return e.jsx(jt.Provider,{value:n,children:e.jsx(wn.Provider,{value:s,children:e.jsx(np,{children:t})})})},np=({children:t})=>{const n=a.useContext(jt)??Je();return e.jsx(Ue,{asyncIterable:n,children:e.jsx(sp,{children:t})})},sp=({children:t})=>{const n=a.useContext(H),s=a.useContext(jt);return e.jsx(kn.Provider,{value:s===null?w.nothing():n,children:t})};class Jn{}class ap extends Jn{constructor(){super()}}class rp extends Jn{constructor(n){super(),this.transactionHash=n}}class op extends Jn{constructor(n){super(),this.transactionHash=n}}class _o extends Jn{constructor(n,s){super(),this.transactionHash=n,this.receipt=s}}async function*cp(t,n,s,r,c){yield new ap;const i=await n.undelegate(s,r);yield new rp(i),yield new op(i);try{for(let l=0;l<24;l++)try{const d=await t.getTransactionReceipt({hash:i});yield new _o(i,d);return}catch(d){if(l===23)throw console.error("<<<< HERE performUndelegation failed to retrieve receipt:",d),d;await Fe(1e3)}}finally{c(new Date)}throw new Error("no receipt received")}try{jt.displayName="UndelegateAsyncIterableContext",jt.__docgenInfo={description:"",displayName:"UndelegateAsyncIterableContext",props:{}}}catch{}try{wn.displayName="SetUndelegationAsyncIterableContext",wn.__docgenInfo={description:"",displayName:"SetUndelegationAsyncIterableContext",props:{}}}catch{}try{kn.displayName="UndelegateAsyncSnapshotContext",kn.__docgenInfo={description:"",displayName:"UndelegateAsyncSnapshotContext",props:{}}}catch{}try{na.displayName="ProvideUndelegateAsyncIterableContext",na.__docgenInfo={description:"",displayName:"ProvideUndelegateAsyncIterableContext",props:{}}}catch{}const V=a.createContext(h.ESP(0n)),We=a.createContext(()=>{});function ip(t=h.ESP(0n)){return a.useState(t)}const sa=({children:t})=>{const[n,s]=ip();return e.jsx(V.Provider,{value:n,children:e.jsx(We.Provider,{value:s,children:t})})};try{V.displayName="StakingAmountContext",V.__docgenInfo={description:"",displayName:"StakingAmountContext",props:{}}}catch{}try{We.displayName="SetStakingAmountContext",We.__docgenInfo={description:"",displayName:"SetStakingAmountContext",props:{}}}catch{}try{sa.displayName="ProvideStakingAmountContexts",sa.__docgenInfo={description:"",displayName:"ProvideStakingAmountContexts",props:{}}}catch{}const ge=()=>e.jsx("div",{className:"staking-modal-notice-area",children:e.jsx("p",{children:e.jsx(o,{text:"Only top 100 validators are eligible to receive rewards, and will be sent upon next epoch start."})})});try{ge.displayName="NoticeArea",ge.__docgenInfo={description:"",displayName:"NoticeArea",props:{}}}catch{}const aa=({children:t})=>e.jsx(un,{className:"apy",children:t});try{aa.displayName="APYChip",aa.__docgenInfo={description:"",displayName:"APYChip",props:{}}}catch{}const ve=()=>{const t=a.useContext(g),n=a.useContext(Z),s=u.encode(t.address),c=n.has(s)?e.jsx(xn,{}):e.jsx(mn,{});return e.jsxs("div",{className:"staking-modal-validator-display-area",children:[e.jsx(Me,{value:new Le(t.address)}),e.jsx("br",{}),e.jsxs(aa,{children:[e.jsx(O,{percentage:.035}),"Â ",e.jsx(o,{text:"APY"})]}),"Â ",c]})};try{ve.displayName="ValidatorDisplayArea",ve.__docgenInfo={description:"",displayName:"ValidatorDisplayArea",props:{}}}catch{}const ra=()=>e.jsxs("div",{className:"staking-modal-initial-summary-and-interaction",children:[e.jsx(ve,{}),e.jsx(ge,{}),e.jsx(lp,{})]}),lp=()=>{const t=a.useContext(B)??0n;return e.jsxs("div",{className:"staking-modal-esp-input-area",children:[e.jsx("label",{htmlFor:"staking-modal-esp-input",children:e.jsx(o,{text:"Currently Delegated"})}),e.jsx("div",{className:"staking-modal-esp-focus-display",children:e.jsx(y,{money:h.ESP(t)})}),e.jsx(dp,{})]})},dp=()=>e.jsxs("div",{className:"staking-modal-input-info-area",children:[e.jsx(pp,{}),e.jsx(up,{})]}),pp=()=>{const t=a.useContext(V);return a.useContext(S)>=t.value?null:e.jsx("div",{className:"staking-modal-insufficient-balance-warning",children:e.jsx(o,{text:"Insufficient Balance"})})},up=()=>{const t=a.useContext(S);return e.jsxs("div",{className:"staking-modal-current-balance-area",children:[e.jsx("span",{className:"staking-modal-current-balance-label",children:e.jsx(o,{text:"Balance"})}),e.jsx("span",{className:"staking-modal-current-balance-value",children:e.jsx(y,{money:h.ESP(t)})})]})};try{ra.displayName="ManageStakeInitialSummary",ra.__docgenInfo={description:"",displayName:"ManageStakeInitialSummary",props:{}}}catch{}const oa=()=>e.jsxs(e.Fragment,{children:[e.jsxs(se,{children:[e.jsx(me,{}),e.jsx(ae,{children:e.jsx(o,{text:"Manage Stake"})}),e.jsx(te,{})]}),e.jsxs(ne,{children:[e.jsx(ra,{}),e.jsx(xp,{})]})]}),xp=()=>{const t=a.useContext(I),n=a.useContext(J);return e.jsxs("div",{className:"staking-modal-manage-stake-actions-area",children:[e.jsx(p,{onClick:()=>{t(new Gt(n))},children:e.jsx(o,{text:"Delegate More"})}),e.jsx(p,{onClick:()=>{t(new sr(n))},children:e.jsx(o,{text:"Undelegate"})})]})};try{oa.displayName="ManageStakeContent",oa.__docgenInfo={description:"",displayName:"ManageStakeContent",props:{}}}catch{}const ca=()=>{const t=a.useContext(X),n=a.useContext(je),s=a.useContext(V),r=a.useContext(In),c=a.useContext(he),i=a.useContext(Oe),l=a.useContext(Ct),d=a.useContext(gn);if(!(s.value>(i??0n))||l.asyncState===j.done&&!l.hasError)return e.jsx(p,{className:"btn-approve approved",disabled:!0,children:e.jsx(o,{text:"Approved"})});if(!n||!r||!c||s.value===0n)return e.jsx(p,{className:"btn-approve",disabled:!0,children:e.jsx(o,{text:"Approve"})});const v=()=>{!r||!c||d(Fd(n,r,c,t))};return l.asyncState===j.done&&l.hasError?e.jsx(p,{className:"btn-approve retry",onClick:v,children:e.jsx(o,{text:"Retry"})}):l.asyncState===j.waiting||l.data&&!(l.data instanceof vn)?e.jsx(p,{className:"btn-approve approving",disabled:!0,children:e.jsx(o,{text:"Approve"})}):e.jsx(p,{className:"btn-approve",onClick:v,children:e.jsx(o,{text:"Approve"})})};try{ca.displayName="ApproveButton",ca.__docgenInfo={description:"",displayName:"ApproveButton",props:{}}}catch{}const ia=()=>{const t=a.useContext(X),n=a.useContext(je),s=a.useContext(V),r=a.useContext(S),c=a.useContext(he),i=a.useContext(Oe)??0n,l=a.useContext(Ve),d=a.useContext(Sn),m=a.useContext(J);if(n===null||c===null||s.value<=0n||s.value>r||s.value>i||l.asyncState===j.waiting||l.data&&!(l.data instanceof vt))return e.jsx(p,{className:"btn-delegate",disabled:!0,children:e.jsx(o,{text:"Delegate"})});const v=u.encode(m),D=()=>{d(tp(n,c,v,s.value,t))};return l.asyncState===j.done&&l.hasError?e.jsx(p,{className:"btn-delegate retry",onClick:D,children:e.jsx(o,{text:"Retry"})}):l.asyncState===j.done&&!l.hasError?e.jsx(p,{className:"btn-delegate approved",disabled:!0,children:e.jsx(o,{text:"Delegated"})}):e.jsx(p,{className:"btn-delegate",onClick:D,children:e.jsx(o,{text:"Delegate"})})};try{ia.displayName="DelegateButton",ia.__docgenInfo={description:"",displayName:"DelegateButton",props:{}}}catch{}const mp=t=>a.createElement(bt,{...t,width:0,height:0,viewBox:"0 0 182 20"},e.jsxs("mask",{id:"dots-mask",children:[e.jsx("rect",{width:"182",height:"20",fill:"#000"}),e.jsx("circle",{cx:"2.85714",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"14.571",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"26.2859",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"37.9997",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"49.7146",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"61.4284",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"73.1433",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"84.8571",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"96.571",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"108.286",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"120",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"131.715",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"143.428",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"155.143",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"166.857",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"178.571",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"2.85714",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"14.571",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"26.2859",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"37.9997",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"49.7146",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"61.4284",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"73.1433",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"84.8571",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"96.571",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"108.286",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"120",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"131.715",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"143.428",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"155.143",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"166.857",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"178.571",cy:"16.5715",r:"2.85714",fill:"#fff"})]}));try{decorationdotsmask.displayName="decorationdotsmask",decorationdotsmask.__docgenInfo={description:"DecorationDots represents a series of decorative dots.",displayName:"decorationdotsmask",props:{}}}catch{}const T=()=>e.jsxs(e.Fragment,{children:[e.jsx(mp,{}),e.jsx("div",{className:"staking-modal-progress-indicator-area"})]});try{T.displayName="ProgressIndicatorArea",T.__docgenInfo={description:"",displayName:"ProgressIndicatorArea",props:{}}}catch{}const la=()=>{const t=a.useContext(V),n=a.useContext(S),s=a.useContext(Oe)??0n,r=a.useContext(Ve),c=a.useContext(Ct);if(t.value<=0n)return e.jsxs("div",{className:"staking-modal-instructions-and-progress",children:[e.jsx("span",{children:"Â "}),e.jsx(T,{})]});if(t.value>s){if(c.asyncState===j.none)return e.jsxs("div",{className:"staking-modal-instructions-and-progress",children:[e.jsx("span",{children:e.jsx(o,{text:"Approve transaction first"})}),e.jsx(T,{})]});if(c.hasError)return e.jsxs("div",{className:"staking-modal-instructions-and-progress error",children:[e.jsx("span",{children:e.jsx(o,{text:"Approval Failed"})}),e.jsx(T,{})]});const l=c.data;return c.asyncState===j.waiting||l===null||!(l instanceof vn)?e.jsxs("div",{className:"staking-modal-instructions-and-progress waiting",children:[e.jsx("span",{children:e.jsx(o,{text:"Approving..."})}),e.jsx(T,{})]}):l instanceof vn?e.jsxs("div",{className:"staking-modal-instructions-and-progress approved succeeded",children:[e.jsx("span",{children:e.jsx(o,{text:"Approval successful"})}),e.jsx(T,{})]}):e.jsxs("div",{className:"staking-modal-instructions-and-progress approved",children:[e.jsx("span",{children:"Â "}),e.jsx(T,{})]})}if(t.value>n)return e.jsxs("div",{className:"staking-modal-instructions-and-progress approved",children:[e.jsx("span",{children:"Â "}),e.jsx(T,{})]});if(r.asyncState===j.none)return e.jsxs("div",{className:"staking-modal-instructions-and-progress approved",children:[e.jsx("span",{children:e.jsx(o,{text:"Confirm Delegation"})}),e.jsx(T,{})]});if(r.hasError)return e.jsxs("div",{className:"staking-modal-instructions-and-progress approved delegated error",children:[e.jsx("span",{children:e.jsx(o,{text:"Delegation Unsuccessful"})}),e.jsx(T,{})]});const i=r.data;return r.asyncState===j.waiting||i===null||!(i instanceof vt)?e.jsxs("div",{className:"staking-modal-instructions-and-progress approved delegated waiting",children:[e.jsx("span",{children:e.jsx(o,{text:"Delegating..."})}),e.jsx(T,{})]}):i instanceof vt?e.jsxs("div",{className:"staking-modal-instructions-and-progress approved delegated succeeded",children:[e.jsx("span",{children:e.jsx(o,{text:"Delegation successful"})}),e.jsx(T,{})]}):e.jsxs("div",{className:"staking-modal-instructions-and-progress approved delegated",children:[e.jsx("span",{children:"Â "}),e.jsx(T,{})]})};try{la.displayName="NewStakeInstructionsAndProgress",la.__docgenInfo={description:"",displayName:"NewStakeInstructionsAndProgress",props:{}}}catch{}const da=()=>{const t=a.useContext(R),n=a.useContext(I),s=a.useContext(Ve);return s.asyncState!==j.done||!(s.data instanceof vt)?null:e.jsx("div",{className:"staking-modal-completion-area",children:e.jsx(p,{onClick:()=>{n(new ie),t.close()},children:e.jsx(o,{text:"Close"})})})};try{da.displayName="StakingCompletionArea",da.__docgenInfo={description:"",displayName:"StakingCompletionArea",props:{}}}catch{}const pa=()=>e.jsxs("div",{className:"staking-modal-initial-summary-and-interaction",children:[e.jsx(ve,{}),e.jsx(ge,{}),e.jsx(hp,{})]}),hp=()=>{const t=a.useContext(V),n=a.useContext(We),c=a.useContext(S)>=t.value?void 0:"insufficient";return e.jsxs("div",{className:"staking-modal-esp-input-area",children:[e.jsx("label",{htmlFor:"staking-modal-esp-input",children:e.jsx(o,{text:"Amount to Stake"})}),e.jsx(kr,{id:"staking-modal-esp-input",className:E(c,"staking-modal-esp-focus-display"),value:t,onChange:(i,l)=>n(l)}),e.jsx(_p,{})]})},_p=()=>e.jsxs("div",{className:"staking-modal-input-info-area",children:[e.jsx(fp,{}),e.jsx(Cp,{})]}),fp=()=>{const t=a.useContext(V);return a.useContext(S)>=t.value?null:e.jsx("div",{className:"staking-modal-insufficient-balance-warning",children:e.jsx(o,{text:"Insufficient Balance"})})},Cp=()=>{const t=a.useContext(S);return e.jsxs("div",{className:"staking-modal-current-balance-area",children:[e.jsx("span",{className:"staking-modal-current-balance-label",children:e.jsx(o,{text:"Balance"})}),e.jsx("span",{className:"staking-modal-current-balance-value",children:e.jsx(y,{money:h.ESP(t)})})]})};try{pa.displayName="StakingInitialSummaryAndInteraction",pa.__docgenInfo={description:"",displayName:"StakingInitialSummaryAndInteraction",props:{}}}catch{}const ua=()=>e.jsxs("div",{className:"staking-modal-staking-overview-area",children:[e.jsx(yp,{}),e.jsx(gp,{}),e.jsx(vp,{}),e.jsx(jp,{})]}),yp=()=>e.jsxs(N,{children:[e.jsx("span",{children:e.jsx(o,{text:"Current Epoch Stake"})}),e.jsx("span",{children:e.jsx(o,{text:"-"})})]}),gp=()=>{const t=a.useContext(B),n=t?e.jsx(y,{money:h.ESP(t)}):e.jsx(o,{text:"-"});return e.jsxs(N,{children:[e.jsx("span",{children:e.jsx(o,{text:"Current Stake"})}),e.jsx("span",{children:n})]})},vp=()=>e.jsxs(N,{children:[e.jsx("span",{children:e.jsx(o,{text:"Tx Fee"})}),e.jsx("span",{children:e.jsx(o,{text:"-"})})]}),jp=()=>{const t=a.useContext(g);return e.jsxs(N,{children:[e.jsx("span",{children:e.jsx(o,{text:"Commission"})}),e.jsx("span",{children:e.jsx(O,{percentage:t.commission.ratio})})]})};try{ua.displayName="StakingOverviewArea",ua.__docgenInfo={description:"",displayName:"StakingOverviewArea",props:{}}}catch{}const xa=()=>{const t=a.useContext(J);return e.jsxs(e.Fragment,{children:[e.jsxs(se,{children:[e.jsx(me,{}),e.jsxs(ae,{children:[e.jsx(o,{text:"Delegate"}),e.jsx(o,{text:" / "}),e.jsx(Me,{value:new Le(t)})]}),e.jsx(te,{})]}),e.jsxs(ne,{children:[e.jsx(pa,{}),e.jsx(ua,{}),e.jsx(Np,{}),e.jsx(da,{})]})]})},Np=()=>e.jsxs("div",{className:"staking-modal-staking-actions-area",children:[e.jsx(ca,{}),e.jsx(la,{}),e.jsx(ia,{})]});try{xa.displayName="NewDelegationContent",xa.__docgenInfo={description:"",displayName:"NewDelegationContent",props:{}}}catch{}const ma=()=>e.jsxs("div",{className:"staking-modal-initial-summary-and-interaction",children:[e.jsx(ve,{}),e.jsx(ge,{}),e.jsx(Sp,{}),e.jsx(Ap,{})]}),Sp=()=>{const t=a.useContext(B)??0n,n=a.useContext(V),s=a.useContext(We),c=t>=n.value?void 0:"insufficient";return e.jsxs("div",{className:"staking-modal-esp-input-area",children:[e.jsx("label",{htmlFor:"staking-modal-esp-input",children:e.jsx(o,{text:"Unstake Amount"})}),e.jsx(kr,{id:"staking-modal-esp-input",className:E(c,"staking-modal-esp-focus-display"),value:n,onChange:(i,l)=>s(l)}),e.jsx(wp,{})]})},wp=()=>e.jsxs("div",{className:"staking-modal-input-info-area",children:[e.jsx(kp,{}),e.jsx(bp,{})]}),kp=()=>{const t=a.useContext(B)??0n,n=a.useContext(V);return t>=n.value?null:e.jsx("div",{className:"staking-modal-insufficient-balance-warning",children:e.jsx(o,{text:"Insufficient Stake"})})},bp=()=>{const t=a.useContext(B)??0n;return e.jsxs("div",{className:"staking-modal-current-balance-area",children:[e.jsx("span",{className:"staking-modal-current-balance-label",children:e.jsx(o,{text:"Current Stake"})}),e.jsx("span",{className:"staking-modal-current-balance-value",children:e.jsx(y,{money:h.ESP(t)})})]})},Ap=()=>{const t=a.useContext(B)??0n,n=a.useContext(V),s=a.useContext(We),r=t/4n,c=t/2n,i=t*3n/4n;return e.jsxs("div",{className:"staking-modal-unstaking-options-area",children:[e.jsx(p,{"data-selected":n.value===r,onClick:()=>s(h.ESP(r)),children:e.jsx(O,{percentage:.25})}),e.jsx(p,{"data-selected":n.value===c,onClick:()=>s(h.ESP(c)),children:e.jsx(O,{percentage:.5})}),e.jsx(p,{"data-selected":n.value===i,onClick:()=>s(h.ESP(i)),children:e.jsx(O,{percentage:.75})}),e.jsx(p,{"data-selected":n.value===t,onClick:()=>s(h.ESP(t)),children:e.jsx(o,{text:"Max"})})]})};try{ma.displayName="UnstakingInitialSummaryAndInteraction",ma.__docgenInfo={description:"",displayName:"UnstakingInitialSummaryAndInteraction",props:{}}}catch{}const ha=()=>e.jsxs("div",{className:"staking-modal-staking-overview-area",children:[e.jsx(Ip,{}),e.jsx(Pp,{}),e.jsx(Rp,{}),e.jsx(Ep,{})]}),Ip=()=>{const t=a.useContext(S);return e.jsxs(N,{children:[e.jsx("span",{children:e.jsx(o,{text:"Current Balance"})}),e.jsx("span",{children:e.jsx(y,{money:h.ESP(t)})})]})},Pp=()=>{const t=a.useContext(S),n=a.useContext(V);return e.jsxs(N,{children:[e.jsx("span",{children:e.jsx(o,{text:"New Balance"})}),e.jsx("span",{children:e.jsx(y,{money:h.ESP(t+n.value)})})]})},Rp=()=>e.jsxs(N,{children:[e.jsx("span",{children:e.jsx(o,{text:"Tx Fee"})}),e.jsx("span",{children:e.jsx(o,{text:"-"})})]}),Ep=()=>{const t=a.useContext(g);return e.jsxs(N,{children:[e.jsx("span",{children:e.jsx(o,{text:"Commission"})}),e.jsx("span",{children:e.jsx(O,{percentage:t.commission.ratio})})]})};try{ha.displayName="UnstakingOverviewArea",ha.__docgenInfo={description:"",displayName:"UnstakingOverviewArea",props:{}}}catch{}const _a=()=>e.jsxs(e.Fragment,{children:[e.jsxs(se,{children:[e.jsx(me,{}),e.jsx(ae,{children:e.jsx(o,{text:"Manage Stake"})}),e.jsx(te,{})]}),e.jsxs(ne,{children:[e.jsx(ma,{}),e.jsx(ha,{}),e.jsx(Dp,{})]})]}),Dp=()=>{const t=a.useContext(je),n=a.useContext(he),s=a.useContext(J),r=a.useContext(V),c=a.useContext(B)??0n,i=u.encode(s),l=a.useContext(kn),d=a.useContext(X),m=a.useContext(R),v=a.useContext(I),D=a.useContext(wn);if(t===null||n===null||r.value<=0n||r.value>c)return e.jsxs("div",{className:"staking-modal-unstaking-actions-area",children:[e.jsx("div",{children:"Â "}),e.jsx(p,{className:"btn-undelegate",disabled:!0,children:e.jsx(o,{text:"Undelegate"})})]});const F=()=>D(cp(t,n,i,r.value,d));return l.asyncState===j.waiting||l.data&&!(l.data instanceof _o)?e.jsxs("div",{className:"staking-modal-unstaking-actions-area waiting",children:[e.jsx("div",{children:e.jsx(o,{text:"Undelegating..."})}),e.jsx(p,{className:"btn-undelegate",disabled:!0,children:e.jsx(o,{text:"Undelegate"})})]}):l.asyncState===j.done?l.hasError?e.jsxs("div",{className:"staking-modal-unstaking-actions-area error",children:[e.jsx("div",{children:e.jsx(o,{text:"Undelegation Failed"})}),e.jsx(p,{className:"btn-undelegate",onClick:F,children:e.jsx(o,{text:"Retry"})})]}):e.jsxs("div",{className:"staking-modal-unstaking-actions-area succeeded",children:[e.jsx("div",{children:e.jsx(o,{text:"Delegation Successful"})}),e.jsx(p,{onClick:()=>{v(new ie),m.close()},children:e.jsx(o,{text:"Close"})})]}):e.jsxs("div",{className:"staking-modal-unstaking-actions-area",children:[e.jsx("div",{children:"Â "}),e.jsx(p,{className:"btn-undelegate",onClick:F,children:e.jsx(o,{text:"Undelegate"})})]})};try{_a.displayName="UndelegationContent",_a.__docgenInfo={description:"",displayName:"UndelegationContent",props:{}}}catch{}const fa=()=>e.jsxs(e.Fragment,{children:[e.jsxs(se,{children:[e.jsx(ae,{children:e.jsx(o,{text:"Select a Validator"})}),e.jsx(te,{})]}),e.jsx(ne,{})]});try{fa.displayName="ValidatorSelectionNeededContent",fa.__docgenInfo={description:"",displayName:"ValidatorSelectionNeededContent",props:{}}}catch{}const Ca=()=>e.jsxs("div",{className:"staking-modal-staking-overview-area",children:[e.jsx(Tp,{}),e.jsx(Op,{}),e.jsx(Bp,{}),e.jsx(Vp,{})]}),Tp=()=>{const t=a.useContext(S);return e.jsxs(N,{children:[e.jsx("span",{children:e.jsx(o,{text:"Current Balance"})}),e.jsx("span",{children:e.jsx(y,{money:h.ESP(t)})})]})},Op=()=>{const t=a.useContext(S),s=a.useContext(Be)?.amount??0n;return e.jsxs(N,{children:[e.jsx("span",{children:e.jsx(o,{text:"New Balance"})}),e.jsx("span",{children:e.jsx(y,{money:h.ESP(t+s)})})]})},Bp=()=>e.jsxs(N,{children:[e.jsx("span",{children:e.jsx(o,{text:"Tx Fee"})}),e.jsx("span",{children:e.jsx(o,{text:"-"})})]}),Vp=()=>{const t=a.useContext(g);return e.jsxs(N,{children:[e.jsx("span",{children:e.jsx(o,{text:"Commission"})}),e.jsx("span",{children:e.jsx(O,{percentage:t.commission.ratio})})]})};try{Ca.displayName="PendingClaimOverviewArea",Ca.__docgenInfo={description:"",displayName:"PendingClaimOverviewArea",props:{}}}catch{}const ya=()=>e.jsxs("div",{className:"staking-modal-initial-summary-and-interaction",children:[e.jsx(ve,{}),e.jsx(ge,{}),e.jsx(Wp,{})]}),Wp=()=>{const n=a.useContext(Be)?.amount??0n;return e.jsxs("div",{className:"staking-modal-esp-input-area",children:[e.jsx("label",{htmlFor:"staking-modal-esp-input",children:e.jsx(o,{text:"To Claim"})}),e.jsx("div",{className:"staking-modal-esp-focus-display",children:e.jsx(y,{money:h.ESP(n)})})]})};try{ya.displayName="PendingClaimSummaryAndInteraction",ya.__docgenInfo={description:"",displayName:"PendingClaimSummaryAndInteraction",props:{}}}catch{}const ga=()=>{const t=a.useContext(J);return e.jsxs(e.Fragment,{children:[e.jsxs(se,{children:[e.jsx(me,{}),e.jsxs(ae,{children:[e.jsx(o,{text:"Claim"}),e.jsx(o,{text:" / "}),e.jsx(Me,{value:new Le(t)})]}),e.jsx(te,{})]}),e.jsxs(ne,{children:[e.jsx(ya,{}),e.jsx(Ca,{}),e.jsx(Jp,{})]})]})},Jp=()=>{const t=a.useContext(je),n=a.useContext(he),s=a.useContext(J),r=a.useContext(Be),c=u.encode(s),i=a.useContext(Nn),l=a.useContext(X),d=a.useContext(R),m=a.useContext(I),v=a.useContext(jn),D=r?.amount??0n;if(t===null||n===null||D<=0n)return e.jsxs("div",{className:"staking-modal-unstaking-actions-area",children:[e.jsx("div",{children:"Â "}),e.jsx(p,{className:"btn-undelegate",disabled:!0,children:e.jsx(o,{text:"Claim Stake"})})]});const F=()=>v(Qd(t,n,c,l));return i.asyncState===j.waiting||i.data&&!(i.data instanceof ho)?e.jsxs("div",{className:"staking-modal-unstaking-actions-area waiting",children:[e.jsx("div",{children:e.jsx(o,{text:"Withdrawing..."})}),e.jsx(p,{className:"btn-undelegate",disabled:!0,children:e.jsx(o,{text:"Claim Stake"})})]}):i.asyncState===j.done?i.hasError?e.jsxs("div",{className:"staking-modal-unstaking-actions-area error",children:[e.jsx("div",{children:e.jsx(o,{text:"Claim Stake Failed"})}),e.jsx(p,{className:"btn-undelegate",onClick:F,children:e.jsx(o,{text:"Retry"})})]}):e.jsxs("div",{className:"staking-modal-unstaking-actions-area succeeded",children:[e.jsx("div",{children:e.jsx(o,{text:"Stake Claimed Successfully"})}),e.jsx(p,{onClick:()=>{m(new ie),d.close()},children:e.jsx(o,{text:"Close"})})]}):e.jsxs("div",{className:"staking-modal-unstaking-actions-area",children:[e.jsx("div",{children:"Â "}),e.jsx(p,{className:"btn-undelegate",onClick:F,children:e.jsx(o,{text:"Claim Stake"})})]})};try{ga.displayName="WithdrawClaimContent",ga.__docgenInfo={description:"",displayName:"WithdrawClaimContent",props:{}}}catch{}const va=()=>e.jsxs("div",{className:"staking-modal-staking-overview-area",children:[e.jsx(Up,{}),e.jsx(Mp,{}),e.jsx(Lp,{}),e.jsx(Fp,{})]}),Up=()=>{const t=a.useContext(S);return e.jsxs(N,{children:[e.jsx("span",{children:e.jsx(o,{text:"Current Balance"})}),e.jsx("span",{children:e.jsx(y,{money:h.ESP(t)})})]})},Mp=()=>{const t=a.useContext(S),n=a.useContext(B)??0n;return e.jsxs(N,{children:[e.jsx("span",{children:e.jsx(o,{text:"New Balance"})}),e.jsx("span",{children:e.jsx(y,{money:h.ESP(t+n)})})]})},Lp=()=>e.jsxs(N,{children:[e.jsx("span",{children:e.jsx(o,{text:"Tx Fee"})}),e.jsx("span",{children:e.jsx(o,{text:"-"})})]}),Fp=()=>{const t=a.useContext(g);return e.jsxs(N,{children:[e.jsx("span",{children:e.jsx(o,{text:"Commission"})}),e.jsx("span",{children:e.jsx(O,{percentage:t.commission.ratio})})]})};try{va.displayName="PendingExitOverviewArea",va.__docgenInfo={description:"",displayName:"PendingExitOverviewArea",props:{}}}catch{}const ja=()=>e.jsxs("div",{className:"staking-modal-initial-summary-and-interaction",children:[e.jsx(ve,{}),e.jsx(ge,{}),e.jsx(Hp,{})]}),Hp=()=>{const t=a.useContext(B)??0n;return e.jsxs("div",{className:"staking-modal-esp-input-area",children:[e.jsx("label",{htmlFor:"staking-modal-esp-input",children:e.jsx(o,{text:"To Withdraw"})}),e.jsx("div",{className:"staking-modal-esp-focus-display",children:e.jsx(y,{money:h.ESP(t)})})]})};try{ja.displayName="PendingExitSummaryAndInteraction",ja.__docgenInfo={description:"",displayName:"PendingExitSummaryAndInteraction",props:{}}}catch{}const Na=()=>{const t=a.useContext(J);return e.jsxs(e.Fragment,{children:[e.jsxs(se,{children:[e.jsx(me,{}),e.jsxs(ae,{children:[e.jsx(o,{text:"Withdraw"}),e.jsx(o,{text:" / "}),e.jsx(Me,{value:new Le(t)})]}),e.jsx(te,{})]}),e.jsxs(ne,{children:[e.jsx(ja,{}),e.jsx(va,{}),e.jsx(qp,{})]})]})},qp=()=>{const t=a.useContext(je),n=a.useContext(he),s=a.useContext(J),r=a.useContext(B)??0n,c=u.encode(s),i=a.useContext(yn),l=a.useContext(X),d=a.useContext(R),m=a.useContext(I),v=a.useContext(Cn);if(t===null||n===null||r<=0n)return e.jsxs("div",{className:"staking-modal-unstaking-actions-area",children:[e.jsx("div",{children:"Â "}),e.jsx(p,{className:"btn-undelegate",disabled:!0,children:e.jsx(o,{text:"Claim Exit"})})]});const D=()=>v(Vd(t,n,c,l));return i.asyncState===j.waiting||i.data&&!(i.data instanceof mo)?e.jsxs("div",{className:"staking-modal-unstaking-actions-area waiting",children:[e.jsx("div",{children:e.jsx(o,{text:"Withdrawing..."})}),e.jsx(p,{className:"btn-undelegate",disabled:!0,children:e.jsx(o,{text:"Claim Exit"})})]}):i.asyncState===j.done?i.hasError?e.jsxs("div",{className:"staking-modal-unstaking-actions-area error",children:[e.jsx("div",{children:e.jsx(o,{text:"Claim Exit Failed"})}),e.jsx(p,{className:"btn-undelegate",onClick:D,children:e.jsx(o,{text:"Retry"})})]}):e.jsxs("div",{className:"staking-modal-unstaking-actions-area succeeded",children:[e.jsx("div",{children:e.jsx(o,{text:"Exit Claimed Successfully"})}),e.jsx(p,{onClick:()=>{m(new ie),d.close()},children:e.jsx(o,{text:"Close"})})]}):e.jsxs("div",{className:"staking-modal-unstaking-actions-area",children:[e.jsx("div",{children:"Â "}),e.jsx(p,{className:"btn-undelegate",onClick:D,children:e.jsx(o,{text:"Claim Exit"})})]})};try{Na.displayName="WithdrawExitContent",Na.__docgenInfo={description:"",displayName:"WithdrawExitContent",props:{}}}catch{}const Sa=()=>e.jsx(Ns,{className:"staking-modal",closedby:"none",children:e.jsx(zp,{})}),zp=()=>{const t=a.useContext(k),n=a.useContext(st);if(n instanceof ro)return e.jsx(fn,{children:e.jsx(Ks,{})});if(n instanceof nt||n instanceof Gt||n instanceof sr||n instanceof rr||n instanceof ar){const s=t?.nodes.find(r=>W(r.address,n.validatorAddress)===0)??new Dn(n.validatorAddress,new Nr("",new ArrayBuffer(0)),0n,new De(0));return e.jsx(g.Provider,{value:s,children:e.jsx(J.Provider,{value:n.validatorAddress,children:e.jsx(sa,{children:e.jsx($p,{children:e.jsx(Kp,{})})})})})}return e.jsx(fa,{})},$p=({children:t})=>e.jsx(Ys,{children:e.jsx(Qs,{children:e.jsx(Zs,{children:e.jsx(ta,{children:e.jsx(na,{children:e.jsx(ea,{children:e.jsx(Xs,{children:e.jsx(fn,{children:t})})})})})})})}),Kp=()=>{const t=a.useContext(st),n=a.useContext(I),s=a.useContext(B);return a.useEffect(()=>{if(t instanceof nt&&!(s==null||s>0n))return n(new Gt(t.validatorAddress)),()=>{}},[t,n,s]),t instanceof rr?e.jsx(Na,{}):t instanceof ar?e.jsx(Gs,{children:e.jsx(ga,{})}):t instanceof Gt?e.jsx(xa,{}):t instanceof sr?e.jsx(_a,{}):(t instanceof nt||Qo(!1),s===null?e.jsx(e.Fragment,{}):s<=0n?e.jsx(e.Fragment,{}):e.jsx(oa,{}))};try{Sa.displayName="StakingModal",Sa.__docgenInfo={description:"",displayName:"StakingModal",props:{}}}catch{}const wa=()=>e.jsx(e.Fragment,{children:e.jsx(o,{text:"Claim In"})});try{wa.displayName="ClaimInHeadCell",wa.__docgenInfo={description:`ClaimInHeadCell is the header cell for the Claim In column in the
validator table.`,displayName:"ClaimInHeadCell",props:{}}}catch{}const bn=()=>{const{sortBy:t}=a.useContext(ot);return e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"sortable",onClick:()=>t(b.rank),children:e.jsx(cn,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.validator),children:e.jsx(dn,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.totalStake),children:e.jsx(ln,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.fee),children:e.jsx(sn,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.missedSlots),children:e.jsx(rn,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.participationRate),children:e.jsx(on,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.hotShotConsensus),children:e.jsx(an,{})}),e.jsx("th",{children:e.jsx(wa,{})}),e.jsx("th",{children:e.jsx(nn,{})})]})})};try{bn.displayName="DelegationTableHeader",bn.__docgenInfo={description:`DelegationTableHeader is a component that renders
the header row of the delegation table with sortable columns.`,displayName:"DelegationTableHeader",props:{}}}catch{}const ka=()=>e.jsx(xe,{className:"consensus-chip inactive",children:e.jsx(o,{text:"Exited"})});try{ka.displayName="ExitedChip",ka.__docgenInfo={description:"",displayName:"ExitedChip",props:{}}}catch{}const ba=()=>e.jsx(xe,{className:"consensus-chip inactive",children:e.jsx(o,{text:"Exiting"})});try{ba.displayName="ExitingChip",ba.__docgenInfo={description:"",displayName:"ExitingChip",props:{}}}catch{}const Aa=()=>e.jsx(xe,{className:"consensus-chip inactive",children:e.jsx(o,{text:"Undelegated"})});try{Aa.displayName="UndelegatedChip",Aa.__docgenInfo={description:"",displayName:"UndelegatedChip",props:{}}}catch{}const Ia=()=>e.jsx(xe,{className:"consensus-chip inactive",children:e.jsx(o,{text:"Undelegating"})});try{Ia.displayName="UndelegatingChip",Ia.__docgenInfo={description:"",displayName:"UndelegatingChip",props:{}}}catch{}const Pa=()=>{const t=a.useContext(g),n=a.useContext(L),s=a.useContext(Ua),r=a.useContext(An),c=a.useContext(R),i=a.useContext(pe),l=a.useContext(ue),d=a.useContext(zt),m=a.useContext(I);if(!n||s.connectModalOpen)return e.jsx(e.Fragment,{children:e.jsx(p,{className:"action",onClick:s.openConnectModal,children:e.jsx(o,{text:"Delegate"})})});const v=u.encode(t.address),D=i.get(v)??null,F=l.get(v)??null;return D?D.availableTime.valueOf()<r.valueOf()?e.jsx(ka,{}):e.jsx(ba,{}):F?F.availableTime.valueOf()<r.valueOf()?e.jsx(Aa,{}):e.jsx(Ia,{}):d.has(v)?e.jsx(p,{className:"action",onClick:()=>{m(new nt(t.address)),c.open()},children:e.jsx(o,{text:"Manage"})}):e.jsx(p,{className:"action",onClick:()=>{m(new nt(t.address)),c.open()},children:e.jsx(o,{text:"Delegate"})})};try{Pa.displayName="ActionsCell",Pa.__docgenInfo={description:"",displayName:"ActionsCell",props:{}}}catch{}const Ra=()=>{const t=a.useContext(g),n=a.useContext(An),s=a.useContext(pe),r=a.useContext(ue),c=u.encode(t.address),i=s.get(c)??null,l=r.get(c)??null;if(i){const d=i.availableTime.valueOf()-n.valueOf();return d<=0?e.jsx("span",{className:"claimable",children:e.jsx(o,{text:"Claimable"})}):e.jsx(at,{durationInMilliseconds:d})}if(l){const d=l.availableTime.valueOf()-n.valueOf();return d<=0?e.jsx("span",{className:"claimable",children:e.jsx(o,{text:"Claimable"})}):e.jsx(at,{durationInMilliseconds:d})}return e.jsx(e.Fragment,{children:e.jsx(o,{text:"-"})})};try{Ra.displayName="ClaimInCell",Ra.__docgenInfo={description:`ClaimInCell displays information related to being able to withdraw claims
from a validator node.`,displayName:"ClaimInCell",props:{}}}catch{}const Ea=()=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(xt,{})}),e.jsx("td",{children:e.jsx(pt,{})}),e.jsx("td",{children:e.jsx(mt,{})}),e.jsx("td",{children:e.jsx(it,{})}),e.jsx("td",{children:e.jsx(dt,{})}),e.jsx("td",{children:e.jsx(ut,{})}),e.jsx("td",{children:e.jsx(lt,{})}),e.jsx("td",{children:e.jsx(Ra,{})}),e.jsx("td",{children:e.jsx(Pa,{})})]});try{Ea.displayName="NodeValidatorTableRow",Ea.__docgenInfo={description:`NodeValidatorTableRow is a component that represents a single row
in the validator nodes table, displaying various details about the validator.`,displayName:"NodeValidatorTableRow",props:{}}}catch{}const Da=()=>{const t=a.useContext(k);return t?e.jsxs("table",{className:"all-validators-table",children:[e.jsx(bn,{}),e.jsx("tbody",{children:t.nodes.map((n,s)=>e.jsx(g.Provider,{value:n,children:e.jsx(Ea,{})},s))})]}):e.jsx(e.Fragment,{})};try{Da.displayName="DelegationTable",Da.__docgenInfo={description:`DelegationTable is a component that renders
the table of validator nodes in the delegation UI.`,displayName:"DelegationTable",props:{}}}catch{}const Un=a.createContext(0),fo=a.createContext(()=>{}),Qp=()=>e.jsxs("table",{className:"all-validators-table",children:[e.jsx(bn,{}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsxs("td",{className:"no-data",colSpan:8,children:[e.jsx(o,{text:"Nothing brewing yet..."}),e.jsx("br",{}),e.jsx("br",{}),e.jsx(Co,{})]})})})]}),Gp=()=>{const t=a.useContext(k);return a.useContext(Un)===1&&(t?.nodes.length??0)===0?e.jsx(Qp,{}):e.jsx(Da,{})},Ta=()=>e.jsx(eu,{children:e.jsxs(js,{children:[e.jsx(Sa,{}),e.jsxs("section",{className:"delegation-ui-content edge-margin",children:[e.jsx(Ts,{}),e.jsx(Ps,{}),e.jsx(Ms,{}),e.jsx(qs,{}),e.jsx(Zp,{}),e.jsx(Xp,{children:e.jsx(ct,{children:e.jsx(Gp,{})})})]})]})});function Yp(t,n,s){if(!t)return null;switch(s){case 0:return t;case 1:return n?new He(t.l1Block,t.nodes.filter(r=>!!n.nodes.find(c=>W(r.address,c.node)===0))):null}}const Xp=({children:t})=>{const n=a.useContext(k),s=a.useContext(de),r=a.useContext(Un);return e.jsx(k.Provider,{value:Yp(n,s,r),children:t})},Zp=()=>{const t=a.useContext(Un),n=a.useContext(fo);return e.jsxs("div",{className:"delegation-ui-table-controls",children:[e.jsx(Ss,{selected:t,onSelectionChange:s=>{n(s)},segments:[{value:0,label:e.jsx(o,{text:"All"})},{value:1,label:e.jsx(o,{text:"My Stakes"})}]}),e.jsx(Co,{})]})},eu=({children:t})=>{const[n,s]=a.useState(0);return e.jsx(Un.Provider,{value:n,children:e.jsx(fo.Provider,{value:s,children:t})})},Co=()=>{const t=a.useContext(L),n=a.useContext(Ua),s=a.useContext(R);return!t||n.connectModalOpen?e.jsxs(p,{onClick:n.openConnectModal,children:[e.jsx(ys,{}),e.jsx(o,{text:"Delegate"})]}):e.jsxs(p,{onClick:s.open,children:[e.jsx(ys,{}),e.jsx(o,{text:"Delegate"})]})};try{Ta.displayName="DelegationUIContent",Ta.__docgenInfo={description:`DelegationUIContent is the main content area for the Delegation UI page.

It defines the layout and structure of the content that is displayed within
the Delegation UI.

All of the content is displayed within a dedicated element to define the
area for styling purposes, and for content display.`,displayName:"DelegationUIContent",props:{}}}catch{}const tu=()=>e.jsx(nu,{children:e.jsxs("main",{className:"delegation-ui",children:[e.jsx(vs,{}),e.jsx(Ta,{})]})}),nu=({children:t})=>e.jsx(Zn,{children:e.jsx(is,{children:e.jsx(_s,{children:e.jsx(rs,{children:e.jsx(Yn,{children:e.jsx(ls,{children:e.jsx(es,{children:e.jsx(xs,{children:e.jsx(Xn,{children:e.jsx(Gn,{children:e.jsx(ns,{children:e.jsx(ms,{children:e.jsx(ts,{children:e.jsx(us,{children:e.jsx(ss,{children:e.jsx(ps,{children:e.jsx(ds,{children:e.jsx(Cs,{children:t})})})})})})})})})})})})})})})})})});try{delegationui.displayName="delegationui",delegationui.__docgenInfo={description:`DelegationUI is a component that represents the entire Delegation UI
self contained page.`,displayName:"delegationui",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Oa=({children:t})=>{const n=a.useContext(je),s=a.useContext(Y);return e.jsx(Y.Provider,{value:su(s,n),children:t})};function su(t,n){if(n instanceof Ro){const s=new ru(t);return n.setTransactionCallback(s.wallet),s}return t}const Ba=new ke([],[],[],0n,new Ke(0n,new ArrayBuffer,new Date(0))),yo=new Ma(0n,0n,new Date(0));class au{constructor(n={snapshots:new Map([[Mn,new ke(Array.from(A(lr(Ie,Ie.length-2),s=>new Re(u.decode(Mn),s.address,s.stake/10n,yo))),[],Array.from(A(lr(Ie,Ie.length-2),s=>new G(u.decode(Mn),s.address,s.stake/10n,new Date(0)))),0n,Ba.l1Block)]])}){this.state=n}async snapshot(n){const s=u.encode(n);return this.state.snapshots.get(s)??Ba}async updates(){throw new P}l1Transaction(n){if(n instanceof Eo){this.reportStakeTableAction(n);return}if(n instanceof Do){this.reportRewardClaimAction(n);return}}reportStakeTableAction(n){this.state=cu(this.state,n)}reportRewardClaimAction(n){this.state=yu(this.state,n)}}class ru{constructor(n){this.service=n}wallet=new au;get l1Block(){return this.service.l1Block}get validatorsAll(){return this.service.validatorsAll}get validatorsActive(){return this.service.validatorsActive}setURL(){throw new P}}function ou(t){return t instanceof Wa||t instanceof Nt||t instanceof Ja||t instanceof St?t.delegator:null}function cu(t,n){if(n instanceof Va)return{snapshots:new Map(A(t.snapshots,c=>Cu(c,n)))};let s=t.snapshots;const r=ou(n);return r?(t.snapshots.has(r)||(s=wt(t.snapshots,kt([r,Ba]))),{snapshots:new Map(A(s,c=>iu(c,n)))}):t}function iu(t,n){const[s,r]=t;return[s,lu(u.decode(s),r,n)]}function lu(t,n,s){return new ke(du(t,n.nodes,s),uu(t,n.pendingUndelegations,s),mu(t,n.pendingExits,s),_u(t,n.claimedRewards),fu(t,n.l1Block))}function du(t,n,s){if(!(s instanceof Wa||s instanceof Nt||s instanceof St))return n;const r=s.validator,c=u.decode(r),i=Pn(n,d=>W(d.node,c)===0);let l=n;return i||(l=wt(n,kt(new Re(t,c,0n,yo)))),Array.from(Se(A(l,d=>pu(t,c,d,s)),d=>d.amount>0n))}function pu(t,n,s,r){return W(s.delegator,t)!==0||W(s.node,n)!==0?s:r instanceof Wa?new Re(t,n,s.amount+r.value,s.effective):r instanceof Nt?new Re(t,n,s.amount-r.value,s.effective):r instanceof St?new Re(t,n,0n,s.effective):s}function uu(t,n,s){if(!(s instanceof Nt||s instanceof Ja))return n;const r=s.validator,c=u.decode(r),i=Pn(n,d=>W(d.node,c)===0);let l=n;return i||(l=wt(n,kt(new G(t,c,0n,new Date(0))))),Array.from(Se(A(l,d=>xu(t,c,d,s)),d=>d.amount>0n))}function xu(t,n,s,r){return W(s.delegator,t)!==0||W(s.node,n)!==0?s:r instanceof Nt?new G(t,n,r.value,new Date(r.ts.valueOf()+Number(r.exitEscrowPeriod))):r instanceof Ja?new G(t,n,0n,new Date(0)):s}function mu(t,n,s){if(!(s instanceof Va||s instanceof St))return n;let r=n;const c=s.validator,i=u.decode(c);return Pn(n,l=>W(l.node,i)===0)&&(r=wt(n,kt(new G(t,i,0n,new Date(0))))),Array.from(Se(A(r,l=>hu(t,i,l,s)),l=>l.amount>0n))}function hu(t,n,s,r){return W(s.delegator,t)!==0||W(s.node,n)!==0?s:r instanceof Va?new G(t,n,r.value,new Date(Number(r.exitTime))):r instanceof St?new G(t,n,0n,new Date(0)):s}function _u(t,n){return n}function fu(t,n){return n}function Cu(t,n){const s=n.validator,r=u.decode(s),[c,i]=t,l=u.decode(c),d=Pn(i.nodes,m=>W(m.node,r)===0);return d?[c,new ke(i.nodes,i.pendingUndelegations,Array.from(wt(i.pendingExits,kt(new G(l,r,d.amount,new Date(Number(n.exitTime)))))),i.claimedRewards,i.l1Block)]:t}function yu(t,n){return{snapshots:new Map(A(t.snapshots,s=>gu(s,n)))}}function gu(t,n){if(!(n instanceof To))return t;const[s,r]=t;return s!==n.delegator?t:[s,new ke(r.nodes,r.pendingUndelegations,r.pendingExits,r.claimedRewards+n.value,r.l1Block)]}try{Oa.displayName="L1ValidatorServiceMockInjection",Oa.__docgenInfo={description:"",displayName:"L1ValidatorServiceMockInjection",props:{}}}catch{}const vu=({environment:t,stakeTableContractAddress:n,espTokenContractAddress:s,hotshotQueryServiceURL:r,nodeValidatorWebSocketURL:c,l1ValidatorServiceURL:i,...l})=>e.jsx(e.Fragment,{children:e.jsxs(Oo,{environment:t,stakeTableContractAddress:n,espTokenContractAddress:s,hotshotQueryServiceURL:r,nodeValidatorWebSocketURL:c,l1ValidatorServiceURL:i,children:[e.jsx(No,{}),e.jsx(vo,{children:e.jsx(Uo,{children:e.jsx(Qn,{children:e.jsx(Oa,{children:e.jsx(tu,{...l})})})})})]})}),Mm={title:"Sites/Delegation UI/Page",component:vu,parameters:{layout:"fullscreen"},args:{environment:jo.fakeData,stakeTableContractAddress:void 0,espTokenContractAddress:void 0,hotshotQueryServiceURL:void 0,nodeValidatorWebSocketURL:void 0,l1ValidatorServiceURL:void 0},argTypes:{...So,l1ValidatorServiceURL:{control:"text"}},globals:{background:"light",parameters:{backgrounds:{default:"light",options:{light:{name:"Light",value:"#f8fafcff"}}}}}},Pt={},Rt={args:wo},Et={args:ko},Dt={args:{...bo,l1ValidatorServiceURL:"https://staking.decaf.testnet.espresso.network/v0/"}},Tt={args:Ao},Ot={args:Io},Bt={args:Po};Pt.parameters={...Pt.parameters,docs:{...Pt.parameters?.docs,source:{originalSource:"{}",...Pt.parameters?.docs?.source}}};Rt.parameters={...Rt.parameters,docs:{...Rt.parameters?.docs,source:{originalSource:`{
  args: environmentArgsMilkWithContracts
}`,...Rt.parameters?.docs?.source}}};Et.parameters={...Et.parameters,docs:{...Et.parameters?.docs,source:{originalSource:`{
  args: environmentArgsWaterWithContracts
}`,...Et.parameters?.docs?.source}}};Dt.parameters={...Dt.parameters,docs:{...Dt.parameters?.docs,source:{originalSource:`{
  args: {
    ...environmentArgsDecafWithContracts,
    l1ValidatorServiceURL: 'https://staking.decaf.testnet.espresso.network/v0/'
  }
}`,...Dt.parameters?.docs?.source}}};Tt.parameters={...Tt.parameters,docs:{...Tt.parameters?.docs,source:{originalSource:`{
  args: environmentArgsMainnetWithContracts
}`,...Tt.parameters?.docs?.source}}};Ot.parameters={...Ot.parameters,docs:{...Ot.parameters?.docs,source:{originalSource:`{
  args: environmentArgsFakeDataWithContracts
}`,...Ot.parameters?.docs?.source}}};Bt.parameters={...Bt.parameters,docs:{...Bt.parameters?.docs,source:{originalSource:`{
  args: environmentArgsLocalDevNetWithContracts
}`,...Bt.parameters?.docs?.source}}};const Lm=["Default","Milk","Water","Decaf","Mainnet","FakeData","LocalDevNet"];export{Dt as Decaf,Pt as Default,Ot as FakeData,Bt as LocalDevNet,Tt as Mainnet,Rt as Milk,Et as Water,Lm as __namedExportsOrder,Mm as default};
