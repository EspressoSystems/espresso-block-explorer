import{b as w}from"./assert-BI051aL8.js";import{T as l,s as E,B as D,I as T,b as C,N as b,g as h,h as u,A as v,j as _,k as f}from"./string-Bj9RBsFG.js";import{t as s}from"./TaggedBase64-CL6rcPDn.js";import{b as k}from"./url-DwwBj-2c.js";import{w as K}from"./wallet_address-CpgxLnfk.js";class M{keyCodec;valueCodec;constructor(e,t){this.keyCodec=e,this.valueCodec=t}convert(e){if(typeof e!="object"||e===null)throw new Error(`invalid map value: expected an object, got ${typeof e}`);const t=new Map;for(const[r,c]of Object.entries(e)){const n=this.keyCodec.decode(r),d=this.valueCodec.decode(c);t.set(n,d)}return t}}class W{keyCodec;valueCodec;constructor(e,t){this.keyCodec=e,this.valueCodec=t}convert(e){w(e,Map);const t={};for(const[r,c]of e.entries()){const n=this.keyCodec.encode(r),d=this.valueCodec.encode(c);t[n]=d}return t}}class g extends l{encoder;decoder;constructor(e,t){super(),this.encoder=t,this.decoder=e}static keyStringCodec(e){return new g(new M(E,e),new W(E,e))}}const m=1e4,S=0,p="PercentageOutOfRange";class N extends D{value;constructor(e,t=`the commission percentage is outside of the range [${S}, ${m}], have ${e}`){super(t),this.value=e,Object.freeze(this)}get code(){return p}}class V{value;constructor(e){if(e<S||e>m)throw new N(e);this.value=e}toString(){return`${this.value/100}%`}toJSON(){return this.value}valueOf(){return this.value/m}}class ${convert(e){if(typeof e!="number")throw new T(typeof e,"number");return new V(e)}}class I{convert(e){if(!(e instanceof V))throw new T(e,"CommissionPercent");return Math.floor(e.value)}}class R extends l{encoder=new I;decoder=new $}const O=new R;class A{stakeKey;stakeAmount;constructor(e,t){this.stakeKey=e,this.stakeAmount=t}}class B{convert(e){return C(e,"stake_key","stake_amount"),new A(s.decode(e.stake_key),k.decode(e.stake_amount))}}class z{convert(e){return w(e,A),{stake_key:s.encode(e.stakeKey),stake_amount:k.encode(e.stakeAmount)}}}class J extends l{encoder=new z;decoder=new B}const a=new J;new b(new h(a),new u(a));new v(new _(a),new f(a));class P{stakeTableEntry;stateVerKey;constructor(e,t){this.stakeTableEntry=e,this.stateVerKey=t}}class X{convert(e){return C(e,"stake_table_entry","state_ver_key"),new P(a.decode(e.stake_table_entry),s.decode(e.state_ver_key))}}class q{convert(e){return w(e,P),{stake_table_entry:a.encode(e.stakeTableEntry),state_ver_key:s.encode(e.stateVerKey)}}}class F extends l{encoder=new q;decoder=new X}const y=new F;new b(new h(y),new u(y));const te=new v(new _(y),new f(y)),j=g.keyStringCodec(k);class x{account;stakeTableKey;stateVerKey;stake;commission;delegators;constructor(e,t,r,c,n,d){this.account=e,this.stakeTableKey=t,this.stateVerKey=r,this.stake=c,this.commission=n,this.delegators=d}}class G{convert(e){return C(e,"account","stake_table_key","state_ver_key","stake","commission","delegators"),new x(K.decode(e.account),s.decode(e.stake_table_key),s.decode(e.state_ver_key),k.decode(e.stake),O.decode(e.commission),j.decode(e.delegators))}}class H{convert(e){return w(e,x),{account:K.encode(e.account),stake_table_key:s.encode(e.stakeTableKey),state_ver_key:s.encode(e.stateVerKey),stake:k.encode(e.stake),commission:O.encode(e.commission),delegators:j.encode(e.delegators)}}}class L extends l{encoder=new H;decoder=new G}const i=new L;new b(new h(i),new u(i));const oe=new v(new _(i),new f(i));export{V as C,P as S,x as V,A as a,te as b,oe as c,i as v};
