import{j as s,R as f}from"./iframe-DhalQE6g.js";import{T as O,I as h,o as R}from"./string-B8Rshh3e.js";import"./ByteSizeText-VUKtWV7t.js";import"./TransactionsPerSecondText-BTs8I7mx.js";import"./CopyHex-Ch0zM98m.js";import{D as G}from"./DateTimeText-Bi26ZGCY.js";import"./FullHexText-Cn6O0nGf.js";import"./HexText-BowuplI0.js";import"./MoneyText-BHOBZ2XU.js";import{N as u}from"./NumberText-CqlUb8qk.js";import"./RelativeTimeText-DO2x2upw.js";import"./TaggedBase64Text-BCBQ_Ogc.js";import{T as d}from"./Text-BU7JBOLk.js";import"./TimeText-CxMUGASv.js";import{C as $}from"./CopyButton-BWw4VkKd.js";/* empty css               */import{U as y}from"./UnimplementedError-BEJrC_RV.js";import{T as l}from"./TableLabeledValue-cv3uu0SN.js";import{p as K}from"./data-GneXnXE7.js";import{W as J,c as Q}from"./TransactionDetailLoader-Dp_V6I8H.js";import{N as X}from"./NowProvider-Cxgig7md.js";import{h as Y,s as Z}from"./array_buffer-Dp0JAU74.js";import{L as H}from"./LabeledButton-DJtKeGvI.js";import{H as ee}from"./HexDump-Ch8dsXFB.js";const te=1e3,S=({data:i,encoder:e,children:t,copiedChildren:r})=>{const n=f.useContext(X),[a,o]=f.useState(new Date(0));return n.valueOf()-a.valueOf()<te?s.jsx(H,{children:r??t}):s.jsx(H,{onClick:c=>{c.stopPropagation(),c.preventDefault(),!(typeof window>"u"||!navigator||!navigator.clipboard)&&(o(new Date),navigator.clipboard.writeText(e.convert(i)))},children:t})},j=({data:i})=>s.jsx(S,{data:i,encoder:Y.encoder,copiedChildren:s.jsx(d,{text:"Copied"}),children:s.jsx(d,{text:"Copy as Hex"})}),M=({data:i})=>s.jsx(S,{data:i,encoder:Z.encoder,copiedChildren:s.jsx(d,{text:"Copied"}),children:s.jsx(d,{text:"Copy as Base64"})}),m=({data:i})=>s.jsx(s.Fragment,{children:s.jsxs(s.Fragment,{children:[s.jsx(ee,{value:i}),s.jsx("br",{}),s.jsx(j,{data:i})," ",s.jsx(M,{data:i})]})});try{j.displayName="CopyAsHex",j.__docgenInfo={description:`CopyAsHex is a convenience component that provides a button to copy
data as a Hex string.`,displayName:"CopyAsHex",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"ArrayBufferLike"}}}}}catch{}try{M.displayName="CopyAsBase64",M.__docgenInfo={description:`CopyAsBase64 is a convenience component that provides a button to copy
data as a Base64 string.`,displayName:"CopyAsBase64",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"ArrayBufferLike"}}}}}catch{}try{m.displayName="HexDumpAndCopyButtons",m.__docgenInfo={description:`HexDumpAndCopyButtons is a convenience component that provides aHexDump
and CopyAsHex and CopyAsBase64 buttons for the provided data.`,displayName:"HexDumpAndCopyButtons",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"ArrayBufferLike"}}}}}catch{}const z=i=>s.jsxs("span",{className:"inline",children:[i.children,s.jsx($,{content:i.value.toString()})]});try{z.displayName="CopyWalletAddress",z.__docgenInfo={description:"CopyWalletAddress is a component that will display a `CopyButton` with the\ncontents for the `CopyButton` the EIP-55 Formatted Wallet Address",displayName:"CopyWalletAddress",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"WalletAddress"}}}}}catch{}const V=i=>{const e=i.value.toString(),t=i.leadingChars??4,r=i.trailingChars??4;return e.length<=8||t+r+2>=e.length?e:s.jsx("span",{className:"inline",children:s.jsxs("span",{title:e,children:[e.substring(0,2+t),"...",e.substring(e.length-r,e.length)]})})};try{V.displayName="WalletAddressText",V.__docgenInfo={description:"WalletAddressText is a simple Text component that renders the given\nWalletAddress with its `toString()` method.",displayName:"WalletAddressText",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"WalletAddress"}},leadingChars:{defaultValue:null,description:"",name:"leadingChars",required:!1,type:{name:"number"}},trailingChars:{defaultValue:null,description:"",name:"trailingChars",required:!1,type:{name:"number"}}}}}catch{}class se{convert(e){const t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(e),t}}class ie{convert(e){return new Uint8Array(e)}}class re extends O{encoder=new se;decoder=new ie}const x=new re;class ne{}class ae extends ne{dataView;currentEndianess;offset;get readBytes(){return this.offset}get endianess(){return this.currentEndianess}get arrayBuffer(){return this.dataView.buffer}constructor(e,t,r=0){super(),this.dataView=new DataView(e),this.currentEndianess=t,this.offset=r}reset(e=0){this.offset=e}changeEndianess(e){this.currentEndianess=e}getBoolean(){try{return this.dataView.getUint8(this.offset)!==0}finally{this.offset+=1}}getUint8(){try{return this.dataView.getUint8(this.offset)}finally{this.offset+=1}}getUint16(){try{return this.dataView.getUint16(this.offset,this.currentEndianess.isLittleEndian)}finally{this.offset+=2}}getUint32(){try{return this.dataView.getUint32(this.offset,this.currentEndianess.isLittleEndian)}finally{this.offset+=4}}getUint64(){try{return this.dataView.getBigUint64(this.offset,this.currentEndianess.isLittleEndian)}finally{this.offset+=8}}getInt8(){try{return this.dataView.getInt8(this.offset)}finally{this.offset+=1}}getInt16(){try{return this.dataView.getInt16(this.offset,this.currentEndianess.isLittleEndian)}finally{this.offset+=2}}getInt32(){try{return this.dataView.getInt32(this.offset,this.currentEndianess.isLittleEndian)}finally{this.offset+=4}}getInt64(){try{return this.dataView.getBigInt64(this.offset,this.currentEndianess.isLittleEndian)}finally{this.offset+=8}}getFloat32(){try{return this.dataView.getFloat32(this.offset,this.currentEndianess.isLittleEndian)}finally{this.offset+=4}}getFloat64(){try{return this.dataView.getFloat64(this.offset,this.currentEndianess.isLittleEndian)}finally{this.offset+=8}}getInt128(){try{const{isLittleEndian:e}=this.currentEndianess,t=this.dataView.getBigUint64(this.offset,e),r=this.dataView.getBigUint64(this.offset+8,e),n=e?t:r,o=(e?r:t)<<64n|n;return BigInt.asIntN(128,o)}finally{this.offset+=16}}getUint128(){try{const{isLittleEndian:e}=this.currentEndianess,t=this.dataView.getBigUint64(this.offset,e),r=this.dataView.getBigUint64(this.offset+8,e),n=e?t:r;return(e?r:t)<<64n|n}finally{this.offset+=16}}getBytes(e){try{const t=new Uint8Array(e);return t.set(new Uint8Array(this.dataView.buffer,this.offset,e)),t}finally{this.offset+=e}}setBoolean(e){try{this.dataView.setUint8(this.offset,e?1:0)}finally{this.offset+=1}}setUint8(e){try{this.dataView.setUint8(this.offset,e)}finally{this.offset+=1}}setUint16(e){try{this.dataView.setUint16(this.offset,e,this.currentEndianess.isLittleEndian)}finally{this.offset+=2}}setUint32(e){try{this.dataView.setUint32(this.offset,e,this.currentEndianess.isLittleEndian)}finally{this.offset+=4}}setUint64(e){try{this.dataView.setBigUint64(this.offset,e,this.currentEndianess.isLittleEndian)}finally{this.offset+=8}}setInt8(e){try{this.dataView.setInt8(this.offset,e)}finally{this.offset+=1}}setInt16(e){try{this.dataView.setInt16(this.offset,e,this.currentEndianess.isLittleEndian)}finally{this.offset+=2}}setInt32(e){try{this.dataView.setInt32(this.offset,e,this.currentEndianess.isLittleEndian)}finally{this.offset+=4}}setInt64(e){try{this.dataView.setBigInt64(this.offset,e,this.currentEndianess.isLittleEndian)}finally{this.offset+=8}}setFloat32(e){try{this.dataView.setFloat32(this.offset,e,this.currentEndianess.isLittleEndian)}finally{this.offset+=4}}setFloat64(e){try{this.dataView.setFloat64(this.offset,e,this.currentEndianess.isLittleEndian)}finally{this.offset+=8}}setBytes(e){try{new Uint8Array(this.dataView.buffer,this.offset,e.length).set(e)}finally{this.offset+=e.length}}setInt128(e){try{const t=BigInt.asIntN(128,e),r=t>>0n&0xffffffffffffffffn,n=t>>64n&0xffffffffffffffffn,{isLittleEndian:a}=this.currentEndianess,o=a?r:n,c=a?n:r;this.dataView.setBigUint64(this.offset,o,a),this.dataView.setBigUint64(this.offset+8,c,a)}finally{this.offset+=16}}setUint128(e){try{const t=BigInt.asIntN(128,e),r=t>>0n&0xffffffffffffffffn,n=t>>64n&0xffffffffffffffffn,{isLittleEndian:a}=this.currentEndianess,o=a?r:n,c=a?n:r;this.dataView.setBigUint64(this.offset,o,a),this.dataView.setBigUint64(this.offset+8,c,a)}finally{this.offset+=16}}}function w(i,e,t=0){return new ae(i,e,t)}class g{static get big(){return N.instance}static get little(){return b.instance}get isLittleEndian(){return this===b.instance}get isBigEndian(){return this===N.instance}}class N extends g{static instance=new N}class b extends g{static instance=new b}class oe{}class de extends oe{bufferedDataView;constructor(e){super(),this.bufferedDataView=e}deserializeBoolean(){const e=this.deserializeUnknown();if(typeof e!="number")throw new Error("Expected a number for boolean deserialization");return e!==0}deserializeInt8(){const e=this.deserializeUnknown();if(typeof e!="number")throw new h(typeof e,"number");if(e<-128||e>127)throw new h(typeof e,"number","number not in range of -128 to 127");return e}deserializeInt16(){const e=this.deserializeUnknown();throw typeof e=="number"?new h(typeof e,"Uint8Array"):new y}deserializeInt32(){const e=this.deserializeUnknown();throw typeof e=="number"?new h(typeof e,"Uint8Array"):new y}deserializeInt64(){const e=this.deserializeUnknown();throw typeof e=="number"?new h(typeof e,"Uint8Array"):new y}performBoundsCheck(e,t,r){if(e<t||e>r)throw new h(typeof e,"Uint8Array",`number must be in range of ${t} to ${r}`)}deserializeUint8(){const e=this.deserializeUnknown();if(typeof e=="number")return this.performBoundsCheck(e,0,255),e;const t=this.deserializePositiveNumber(e);return this.performBoundsCheck(t,0n,0xffn),Number(t)}deserializeUint16(){const e=this.deserializeUnknown();if(typeof e=="number")return this.performBoundsCheck(e,0,65535),e;const t=this.deserializePositiveNumber(e);return this.performBoundsCheck(t,0n,0xffffn),Number(t)}deserializeUint32(){const e=this.deserializeUnknown();if(typeof e=="number")return this.performBoundsCheck(e,0,4294967295),e;const t=this.deserializePositiveNumber(e);return this.performBoundsCheck(t,0n,0xffffffffn),Number(t)}deserializeUint64(){const e=this.deserializeUnknown();if(typeof e=="number")return this.performBoundsCheck(e,0,0xfffffffffffff),BigInt(e);const t=this.deserializePositiveNumber(e);return this.performBoundsCheck(t,0n,0xffffffffffffffffn),t}deserializeFloat32(){const e=this.deserializeUnknown();throw typeof e=="number"?new h(typeof e,"Uint8Array"):new y}deserializeFloat64(){const e=this.deserializeUnknown();throw typeof e=="number"?new h(typeof e,"Uint8Array"):new y}deserializeStringUTF8(){const e=this.deserializeUnknown();if(!(e instanceof Uint8Array))throw new Error("Expected a Uint8Array for UTF-8 string deserialization");return new TextDecoder("utf-8").decode(e)}deserializeBytes(){const e=this.deserializeUnknown();if(!(e instanceof Uint8Array))throw new Error("Expected a Uint8Array for bytes deserialization");return new Uint8Array(e)}deserializeChar(){return String.fromCharCode(this.deserializeUint8())}deserializeInt128(){return this.bufferedDataView.getInt128()}deserializeUint128(){return this.bufferedDataView.getUint128()}deserializePositiveNumber(e){const t=new Uint8Array(8),r=new DataView(t.buffer),n=t.length-e.length;for(let a=0;a<e.length;a++)r.setUint8(a+n,e[a]);return r.getBigUint64(0,!1)}deserializeUnknown(){const e=this.bufferedDataView.getUint8();if(e>=0&&e<=127)return e;if(e>=128&&e<=183){const o=e-128;return this.bufferedDataView.getBytes(o)}if(e>=184&&e<=191){const o=e-183,c=this.bufferedDataView.getBytes(o),p=this.deserializePositiveNumber(c);return this.bufferedDataView.getBytes(Number(p))}if(e>=192&&e<=247){const o=e-192;return this.bufferedDataView.getBytes(o)}const t=e-247,r=this.bufferedDataView.getBytes(t),n=this.deserializePositiveNumber(r);return this.bufferedDataView.getBytes(Number(n))}}function _(i){return new de(i)}class ce{kind;poster;blockNumber;timestamp;requestID;l1BaseFee;constructor(e,t,r,n,a=null,o=null){this.kind=e,this.poster=t,this.blockNumber=r,this.timestamp=n,this.requestID=a,this.l1BaseFee=o,Object.freeze(this)}}function le(i){const e=_(w(new Uint8Array(i).buffer,g.big));try{const t=e.deserializeUint8(),r=e.deserializeBytes(),n=e.deserializeUint64(),a=e.deserializeUint64(),o=e.deserializeBytes(),c=e.deserializeUint64();return new ce(t,new J(x.encode(r)),n,a,o.length>0?x.encode(o):null,c>0n?c:null)}catch(t){return console.debug("failed to decode nitro l1 incoming message header due to error",t),null}}class fe{header;l2Msg;batchGasCost;constructor(e,t,r=null){this.header=e,this.l2Msg=t,this.batchGasCost=r,Object.freeze(this)}}function he(i){const e=_(w(new Uint8Array(i).buffer,g.big));try{const t=e.deserializeBytes(),r=e.deserializeBytes(),n=le(t);return R(n),new fe(n,x.encode(r),null)}catch(t){return console.error("Failed to decode Nitro L1 Incoming Message",t),null}}class I{message;delayedMessagesRead;constructor(e,t){this.message=e,this.delayedMessagesRead=t,Object.freeze(this)}}function A(i){const e=_(w(new Uint8Array(i).buffer,g.big));try{const t=e.deserializeBytes(),r=_(w(new Uint8Array(t).buffer,g.big)),n=r.deserializeBytes(),a=r.deserializeUint64(),o=he(n);return R(o),new I(o,a)}catch(t){return console.debug("Failed to decode Nitro Message with Metadata",t),null}}class D{index;length;contents;messageWithMetadata;constructor(e,t,r,n){this.index=e,this.length=t,this.contents=r,this.messageWithMetadata=n,Object.freeze(this)}}class E{signature;messages;constructor(e,t){this.signature=e,this.messages=t,Object.freeze(this)}}function L(i){const e=[];let t=0;const r=new DataView(i.buffer),n=r.getBigUint64(0,!1);t+=8;const a=i.subarray(t,t+Number(n));t+=a.byteLength;const o=i.byteLength;for(;t<o;){const c=r.getBigUint64(t,!1);t+=8;const p=r.getBigUint64(t,!1);t+=8;const T=Number(p);if(t+T>o){console.error("nitro batch data is malformed, message size exceeds data length",t,T,o);break}const F=i.subarray(t,t+Number(p));t+=Number(p);const q=A(F);e.push(new D(c,p,x.encode(F),q))}return new E(x.encode(a),e)}const P=()=>{const e=f.useContext(Q).tree;if(!K(e.namespace))return s.jsx(s.Fragment,{});const t=L(new Uint8Array(e.data));return t?s.jsx(B.Provider,{value:t,children:s.jsxs(l,{className:"card--padding nitro--section",children:[s.jsx(d,{text:"Nitro Batch"}),s.jsx(v,{})]})}):s.jsx(s.Fragment,{})},B=f.createContext(null),v=()=>{const i=f.useContext(B);return i?s.jsxs(s.Fragment,{children:[s.jsxs(l,{children:[s.jsx(d,{text:"Signature"}),s.jsx(m,{data:i.signature})]}),s.jsxs(l,{children:[s.jsx(d,{text:"Number of Messages"}),s.jsx(u,{number:i.messages.length})]}),i.messages.map((e,t)=>s.jsx(C.Provider,{value:e,children:s.jsx(U.Provider,{value:t,children:s.jsx(k,{},t)})},t))]}):s.jsx(s.Fragment,{})},C=f.createContext(null),U=f.createContext(0),k=()=>{const i=f.useContext(U),e=f.useContext(C);return e?s.jsxs(l,{children:[s.jsxs(s.Fragment,{children:[s.jsx(d,{text:"Message"}),s.jsx(d,{text:" "}),s.jsx(u,{number:i})]}),s.jsxs(s.Fragment,{children:[s.jsxs(l,{children:[s.jsx(d,{text:"Rollup Block Number"}),s.jsx(u,{number:e.index})]}),s.jsxs(l,{children:[s.jsx(d,{text:"Length"}),s.jsx(u,{number:e.length})]}),s.jsx("br",{}),s.jsx(m,{data:e.contents}),s.jsx("br",{}),s.jsx(W,{data:e.messageWithMetadata})]})]}):null},W=({data:i})=>i?s.jsxs(s.Fragment,{children:[s.jsx("br",{}),s.jsx("strong",{children:s.jsx(d,{text:"Nitro Message with Metadata"})}),s.jsx("br",{}),s.jsxs(l,{children:[s.jsx(d,{text:"Kind"}),s.jsx(u,{number:i.message.header.kind})]}),s.jsxs(l,{children:[s.jsx(d,{text:"Poster"}),s.jsx(z,{value:i.message.header.poster,children:s.jsx(V,{value:i.message.header.poster})})]}),s.jsxs(l,{children:[s.jsx(d,{text:"L1 Block Number"}),s.jsx(u,{number:i.message.header.blockNumber})]}),s.jsxs(l,{children:[s.jsx(d,{text:"Timestamp"}),s.jsx(G,{date:new Date(Number(i.message.header.timestamp)*1e3)})]}),s.jsxs(l,{children:[s.jsx(d,{text:"Delayed Messages Read"}),s.jsx(u,{number:i.delayedMessagesRead})]}),s.jsx("br",{}),s.jsx(d,{text:"L2 Message"}),s.jsx("br",{}),s.jsx("br",{}),s.jsx(m,{data:i.message.l2Msg})]}):s.jsx(s.Fragment,{});try{A.displayName="decodeNitroMessageWithMetadata",A.__docgenInfo={description:`decodeNitroMessageWithMetadata attempts to decode a Nitro Message with
metadata from the provided data.

This data is RLP encoded.`,displayName:"decodeNitroMessageWithMetadata",props:{}}}catch{}try{L.displayName="extractNitroBatch",L.__docgenInfo={description:"extractNitroBatch extracts a Nitro Batch from the provided payload.",displayName:"extractNitroBatch",props:{}}}catch{}try{I.displayName="NitroMessageWithMetadata",I.__docgenInfo={description:`NitroMessageWithMetadata represents a Nitro Message with metadata
that is stored as part of a batch submitted for Nitro integration projects.

This layout is adapted from the Nitro's code base:
https://github.com/EspressoSystems/nitro-espresso-integration/blob/828cc2a47358a8aac2a4931fe087f07037351164/arbos/arbostypes/messagewithmeta.go#L17-L20`,displayName:"NitroMessageWithMetadata",props:{}}}catch{}try{D.displayName="NitroMessageV0",D.__docgenInfo={description:`NitroMessageV0 represents an opaque Nitro Message that is stored as part of a
batch submitted for Nitro integration projects that are submitted to
Espresso.`,displayName:"NitroMessageV0",props:{}}}catch{}try{E.displayName="NitroBatchV0",E.__docgenInfo={description:`NitroBatchV0 represents a Nitro Batch that is submitted to Espresso.
It contains a signature and a list of NitroMessages.`,displayName:"NitroBatchV0",props:{}}}catch{}try{P.displayName="NitroBatchDetectAndDisplay",P.__docgenInfo={description:`NitroBatchDisplay is a component that displays the Nitro Batch
information successfully parsed from data stored within a
TransactionDetail.`,displayName:"NitroBatchDetectAndDisplay",props:{}}}catch{}try{B.displayName="NitroBatchContext",B.__docgenInfo={description:`NitroBatchContext is a React Context that contains the Nitro Batch
information.`,displayName:"NitroBatchContext",props:{}}}catch{}try{v.displayName="NitroBatchDisplay",v.__docgenInfo={description:`NitroBatchDisplay is a component that displays the Nitro Batch detail contained
within the NitroBatchContext.`,displayName:"NitroBatchDisplay",props:{}}}catch{}try{C.displayName="NitroMessageContext",C.__docgenInfo={description:`NitroMessageContext is a React Context that contains the Nitro Message
information.`,displayName:"NitroMessageContext",props:{}}}catch{}try{U.displayName="NitroMessageIndexContext",U.__docgenInfo={description:`NitroMessageIndexContext is a React Context that contains the index offset of
the Nitro Message within the batch.`,displayName:"NitroMessageIndexContext",props:{}}}catch{}try{k.displayName="NitroMessageDisplay",k.__docgenInfo={description:`NitroMessageDisplay is a component that displays the Nitro Message
information successfully parsed from data.`,displayName:"NitroMessageDisplay",props:{}}}catch{}try{W.displayName="NitroMessageWithMetadataDisplay",W.__docgenInfo={description:`NitroMessageWithMetadataDisplay is a component that displays the Nitro
Message with Metadata information successfully parsed from data stored
within a TransactionDetail.`,displayName:"NitroMessageWithMetadataDisplay",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"NitroMessageWithMetadata | null"}}}}}catch{}export{z as C,g as E,m as H,B as N,V as W,v as a,P as b,w as c,L as e};
