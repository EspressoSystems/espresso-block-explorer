import{R as a,j as e}from"./iframe-CKCSKCZk.js";import{e as W,j as N}from"./functional-D84nw2eW.js";import{T as L}from"./TaggedBase64-CL6rcPDn.js";import{t as n,_ as V,u as k,$ as B,a0 as G,a1 as q,a2 as D,a3 as U,a4 as H,a5 as O,a6 as P,a7 as X,a8 as J,a9 as Q,aa as $,l as S,ab as z,V as p,M as c,ac as T,ad as K,J as A,ae as u,C as Y,B as Z,O as ee,Q as te,T as re,G as ae,N as se,R as oe,p as ne,af as ie,I as de}from"./staking_modal_validator_confirmed_content-__eskcNa.js";import{a as le}from"./assert-BI051aL8.js";import{M as ce}from"./MoneyText-DICOGhXe.js";import{P as xe}from"./VariableByteSizeText-GMKTmsri.js";import{T as d}from"./Text-BU7JBOLk.js";import{W as w}from"./deserializer-DGgy4tMr.js";import{b as me}from"./Payments-BGh2UMqf.js";import"./TwitterIcon-g9pHzhQS.js";import"./ArrowRight-D-g2t7xC.js";import"./CheckCircleFilled-DdPcBHVp.js";import"./ChevronUp-qUK-_iwc.js";import"./Close-ClIsmZIV.js";import"./Copy-Dw0OUX71.js";import"./MediumIcon-Cplm7Qzg.js";import"./EspressoLogo-DTRd_Otf.js";import"./EspressoLogoAndTitle-CHnEWYG9.js";import"./Menu-DgeIcvwf.js";import{S as pe}from"./SearchGlass-CfPtz_kH.js";import"./SVGIconBase-DGbb4H2y.js";import"./XIcon-Drff2Uzy.js";import{M as ue}from"./monetary_value-q68MMcLV.js";import{W as F}from"./wallet_address-CpgxLnfk.js";import{T as R,a as he}from"./text-CLy1nawY.js";import{N as Ce}from"./NumberText-3GIByMNg.js";const l=a.createContext(new R("")),x=a.createContext(()=>{}),h=({children:t})=>{const[r,s]=a.useState(new R(""));return e.jsx(l.Provider,{value:r,children:e.jsx(x.Provider,{value:s,children:t})})};try{l.displayName="SearchFilterContext",l.__docgenInfo={description:`ProvideSearchFilter is a React context that provides the context
for filtering using a search term.`,displayName:"SearchFilterContext",props:{}}}catch{}try{x.displayName="SetSearchFilterContext",x.__docgenInfo={description:`SetSearchFilterContext is a React context that provides the context
for setting the search filter.`,displayName:"SetSearchFilterContext",props:{}}}catch{}try{h.displayName="ProvideSearchFilter",h.__docgenInfo={description:"ProvideSearchFilter is a React context provider for the search filter input.",displayName:"ProvideSearchFilter",props:{}}}catch{}const C=()=>{const t=a.useContext(n);return e.jsx(w,{value:new F(t.address)})};try{C.displayName="NodeNameCell",C.__docgenInfo={description:`NameNodeCell displays the wallet address of a validator node. It is
actually intended to show the name, and an icon for the validator,
but it's currently unclear how we would source this information.`,displayName:"NodeNameCell",props:{}}}catch{}const j=()=>{const t=a.useContext(n),r=a.useContext(V),s=t.addressText,o=r.get(s);return e.jsx(Ce,{number:o??-1})};try{j.displayName="RankCell",j.__docgenInfo={description:`RankCell is a component that displays
the rank of the current validator node.`,displayName:"RankCell",props:{}}}catch{}function _(t){return t.text.trim()===""?()=>!0:r=>r.addressText.indexOf(t.text.toLowerCase())>=0}try{_.displayName="applySearchTermNodeFilter",_.__docgenInfo={description:"applySearchTermNodeFilter creates a filter function based on the search term.",displayName:"applySearchTermNodeFilter",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},selection:{defaultValue:null,description:"",name:"selection",required:!0,type:{name:"TextSelection"}},composing:{defaultValue:null,description:"",name:"composing",required:!0,type:{name:"TextRange"}},copyWith:{defaultValue:null,description:"",name:"copyWith",required:!0,type:{name:"({ text, selection, composing, }?: Partial<TextEditingValue>) => TextEditingValue"}}}}}catch{}const f=()=>{const t=a.useContext(l),r=a.useContext(x);return e.jsxs("div",{className:"search-node-container",children:[e.jsx(he,{className:"search-node",value:t,onChange:(s,o)=>r(o),placeholder:"Search Validator"}),e.jsx(pe,{})]})};try{f.displayName="SearchValidator",f.__docgenInfo={description:`SearchValidator is a React component that renders a search input for
filtering validators.`,displayName:"SearchValidator",props:{}}}catch{}const v=({children:t})=>e.jsx(k,{children:e.jsx(B,{children:e.jsx(G,{children:e.jsx(q,{children:e.jsx(D,{children:e.jsx(U,{children:e.jsx(H,{children:e.jsx(O,{children:e.jsx(P,{children:t})})})})})})})})});try{v.displayName="ProvideCurrentStakingInformation",v.__docgenInfo={description:"",displayName:"ProvideCurrentStakingInformation",props:{}}}catch{}const y=()=>e.jsxs(e.Fragment,{children:[e.jsxs(X,{children:[e.jsx(J,{children:e.jsx(d,{text:"Select a Validator"})}),e.jsx(Q,{})]}),e.jsx($,{children:e.jsx(je,{})})]}),je=()=>e.jsxs("div",{className:"validator-selection-split",children:[e.jsx(h,{children:e.jsx(_e,{children:e.jsxs("div",{className:"validator-selection-split-start",children:[e.jsx(f,{}),e.jsx(fe,{})]})})}),e.jsx(Se,{})]}),m=a.createContext([]),_e=({children:t})=>{const s=a.useContext(S)?.nodes??[];return e.jsx(m.Provider,{value:s,children:t})},fe=()=>e.jsx("div",{className:"validator-selection-list",children:e.jsx(ve,{children:e.jsx(ye,{})})}),ve=({children:t})=>{const r=a.useContext(m),s=a.useContext(l),o=a.useContext(V),i=Array.from(W(r,_(s))).sort((I,b)=>{const E=o.get(I.addressText)??Number.MAX_SAFE_INTEGER,M=o.get(b.addressText)??Number.MAX_SAFE_INTEGER;return E-M});return e.jsx(m.Provider,{value:i,children:t})},ye=()=>{const t=a.useContext(m);return e.jsx("table",{className:"validator-list",children:e.jsx("tbody",{children:t.map((r,s)=>e.jsx(n.Provider,{value:r,children:e.jsx(Ne,{})},s))})})},Ne=()=>{const t=a.useContext(n),r=a.useContext(p),s=a.useContext(T),o=r instanceof c&&N(r.validatorAddress,t.address)===0,i=()=>{s.replace(new c(t.address))};return e.jsxs("tr",{"data-selected":o,onClick:i,children:[e.jsx("td",{className:"node-rank",onClick:i,children:e.jsx(j,{})}),e.jsx("td",{className:"node-name",onClick:i,children:e.jsx(C,{})}),e.jsx("td",{className:"node-selected",onClick:i,children:e.jsx(me,{})})]})},Se=()=>e.jsx(ge,{children:e.jsx("div",{className:"selection-details",children:e.jsxs(Ve,{children:[e.jsx("div",{className:"node-summary-area",children:e.jsx(z,{})}),e.jsx(ke,{}),e.jsx("div",{className:"flex"}),e.jsx(Pe,{})]})})}),ge=({children:t})=>{const r=a.useContext(p),s=a.useContext(S),o=!(r instanceof c)||!s?null:s.nodes.find(i=>N(i.address,r.validatorAddress)===0)??null;return o?e.jsx(n.Provider,{value:o,children:t}):t},Ve=({children:t})=>a.useContext(n).address.byteLength<=0?null:t,ke=()=>e.jsxs("div",{className:"staking-modal-staking-overview-area",children:[e.jsx(Te,{}),e.jsx(Ae,{}),e.jsx(we,{}),e.jsx(Fe,{})]}),Pe=()=>{const t=a.useContext(p),r=a.useContext(T);return le(t instanceof c),e.jsx("div",{className:"validator-confirm-area",children:e.jsx(K,{onClick:()=>r.push(new A(t.validatorAddress)),children:e.jsx(d,{text:"Next"})})})},Te=()=>{const t=a.useContext(n);return e.jsxs(u,{children:[e.jsx(d,{text:"Total Stake"}),e.jsx(ce,{money:ue.ESP(t.stake)})]})},Ae=()=>{const t=a.useContext(n);return e.jsxs(u,{children:[e.jsx(d,{text:"Commission"}),e.jsx(xe,{percentage:t.commission.ratio})]})},we=()=>{const t=a.useContext(n);return e.jsxs(u,{children:[e.jsx(d,{text:"Address"}),e.jsx(w,{value:new F(t.address)})]})},Fe=()=>e.jsxs(u,{children:[e.jsx(d,{text:"Website"}),e.jsx(d,{text:"-"})]});try{y.displayName="ValidatorSelectionNeededContent",y.__docgenInfo={description:"",displayName:"ValidatorSelectionNeededContent",props:{}}}catch{}const g=()=>{const t=a.useContext(S),r=a.useContext(p);if(r instanceof Y)return e.jsx(k,{children:e.jsx(P,{children:e.jsx(Z,{})})});if(r instanceof A||r instanceof ee||r instanceof te||r instanceof re||r instanceof ae){const s=t?.nodes.find(o=>N(o.address,r.validatorAddress)===0)??new se(r.validatorAddress,new L("",new ArrayBuffer(0)),0n,new oe(0));return e.jsx(n.Provider,{value:s,children:e.jsx(ne.Provider,{value:r.validatorAddress,children:e.jsx(ie,{children:e.jsx(v,{children:e.jsx(de,{})})})})})}return e.jsx(y,{})};try{g.displayName="StakingModalContent",g.__docgenInfo={description:"",displayName:"StakingModalContent",props:{}}}catch{}export{C as N,h as P,j as R,g as S,f as a,l as b,_ as c};
