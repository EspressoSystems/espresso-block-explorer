import{j as m}from"./jsx-runtime-C8OW3RLV.js";import{B as w,a as A,T as b,b as N,R as I,c as Q,L as q,E as z}from"./StoryBookPathResolver-CndSoiBF.js";import{T as E}from"./TaggedBase64-MUE_Sjuq.js";import{b as d,c as U,d as g,e as v,f as y,g as S,h as H}from"./CappuccinoHotShotQueryServiceAPIContext-CeXTtBtb.js";import{R as h}from"./index-BwDkhjyp.js";const f=e=>{const c=h.useContext(d);return m(w.Provider,{...e,value:{async retrieve(p){const{blockDetail:a}=await c.explorer.getBlockDetail(U.height(p));return{hash:a.hash,height:a.height,time:a.time,transactions:a.numTransactions,proposer:a.proposerID,recipient:a.feeRecipient,size:a.size,rewards:a.blockReward}}}})},_=({children:e,blocksPerPage:c=20,...p})=>{const a=h.useContext(d);return m(A.Provider,{...p,value:{async retrieve(o){const{blocksPerPage:s=c,startAtBlock:i=null}=o,t=i===null?g.latest(s):g.from(i,s),n=await a.explorer.getBlockSummaries(t),{blockSummaries:r}=n;return r.map(u=>({height:u.height,proposer:u.proposerID,transactions:u.numTransactions,size:u.size,time:u.time}))}},children:e})},C=({children:e,transactionsPerPage:c=20,...p})=>{const a=h.useContext(d);return m(b.Provider,{...p,value:{async retrieve(o){const{startAtBlock:s=null,offset:i=null,transactionsPerPage:t=c}=o;let n;s===null||i===null?n=new v(y.latest(t),S.none()):n=new v(y.heightAndOffset(s,i,t),S.none());const r=await a.explorer.getTransactionSummaries(n),{transactionSummaries:u}=r;return u.map(l=>({hash:l.hash,namespaces:l.rollups,block:l.height,offset:l.offset,time:l.time}))}},children:e})},D=({children:e,transactionsPerPage:c=20,...p})=>{const a=h.useContext(d);return m(b.Provider,{...p,value:{async retrieve(o){const{startAtBlock:s=0,offset:i=null,transactionsPerPage:t=c}=o;let n;s===null||i===null?n=new v(y.latest(t),S.block(s)):n=new v(y.heightAndOffset(s,i,t),S.block(s));const r=await a.explorer.getTransactionSummaries(n),{transactionSummaries:u}=r;return u.map(l=>({hash:l.hash,namespaces:l.rollups,block:l.height,offset:l.offset,time:l.time}))}},children:e})},k=e=>{const c=h.useContext(d);return m(N.Provider,{...e,value:{async retrieve(p){const{height:a,offset:o}=p,s=H.heightAndOffset(a,o),i=await c.explorer.getTransactionDetail(s),{transactionDetail:t}=i;return{block:t.details.height,index:t.details.offset,total:t.details.numTransactions,size:t.details.size,hash:t.details.hash,time:t.details.time,sender:new E("",new ArrayBuffer(0)),tree:{namespace:t.data[0].namespace,data:t.data[0].payload}}}}})},R=({children:e,transactionsPerPage:c=20,...p})=>{const a=h.useContext(d);return m(I.Provider,{...p,value:{async retrieve(o){const{namespace:s,height:i=null,offset:t=null,transactionsPerPage:n=c}=o;let r;i===null||t===null?r=new v(y.latest(n),S.namespace(s)):r=new v(y.heightAndOffset(i,t,n),S.namespace(s));const u=await a.explorer.getTransactionSummaries(r),{transactionSummaries:l}=u;return l.map(P=>({hash:P.hash,namespaces:P.rollups,block:P.height,offset:P.offset,time:P.time}))}},children:e})},x=e=>m(Q.Provider,{...e,value:{async retrieve(){return[]}}}),T=e=>{const c=h.useContext(d);return m(q.Provider,{...e,value:{async retrieve(){const a=(await c.explorer.getExplorerOverview()).explorerSummary.latestBlock;return{height:a.height,proposer:a.proposerID,transactions:a.numTransactions,size:a.size,time:a.time}}}})},B=e=>{const c=h.useContext(d);return m(z.Provider,{...e,value:{async retrieve(){const p=await c.explorer.getExplorerOverview(),{explorerSummary:a}=p,{latestBlock:o,latestTransactions:s,latestBlocks:i,genesisOverview:t,histograms:n}=a;return{latestBlock:{hash:o.hash,height:o.height,time:o.time,transactions:o.numTransactions,proposer:o.proposerID,recipient:o.feeRecipient,size:o.size,rewards:o.blockReward},genesisOverview:{rollups:t.rollups,transactions:t.transactions,blocks:t.blocks},latestBlocks:i.map(r=>({height:r.height,time:r.time,transactions:r.numTransactions,size:r.size,proposer:r.proposerID})),latestTransactions:s.map(r=>({hash:r.hash,block:r.height,time:r.time,offset:r.offset,namespaces:r.rollups})),histograms:{blockTime:n.blockTime,blockSize:n.blockSize,blockTransactions:n.blockTransactions,blockThroughput:[],blocks:n.blockHeights}}}}})};try{f.displayName="ProvideCappuccinoBlockDetailDataSource",f.__docgenInfo={description:`ProvideCappuccinoBlockDetailDataSource is a component that converts
the HotShot Query Service for Cappuccino into a BlockDetailAsyncRetriever.`,displayName:"ProvideCappuccinoBlockDetailDataSource",props:{}}}catch{}try{_.displayName="ProvideCappuccinoBlocksSummaryDataSource",_.__docgenInfo={description:`ProvideCappuccinoBlocksSummaryDataSource is a component that converts
the HotShot Query Service for Cappuccino into a BlockSummaryAsyncRetriever.`,displayName:"ProvideCappuccinoBlocksSummaryDataSource",props:{blocksPerPage:{defaultValue:null,description:"",name:"blocksPerPage",required:!1,type:{name:"number"}}}}}catch{}try{C.displayName="ProvideCappuccinoTransactionsSummaryDataSource",C.__docgenInfo={description:`ProvideCappuccinoTransactionsSummaryDataSource is a component that converts
the HotShot Query Service for Cappuccino into a
TransactionSummaryAsyncRetriever.`,displayName:"ProvideCappuccinoTransactionsSummaryDataSource",props:{transactionsPerPage:{defaultValue:null,description:"",name:"transactionsPerPage",required:!1,type:{name:"number"}}}}}catch{}try{D.displayName="ProvideCappuccinoTransactionsForBlockSummaryDataSource",D.__docgenInfo={description:"",displayName:"ProvideCappuccinoTransactionsForBlockSummaryDataSource",props:{transactionsPerPage:{defaultValue:null,description:"",name:"transactionsPerPage",required:!1,type:{name:"number"}}}}}catch{}try{k.displayName="ProvideCappuccinoTransactionDetailDataSource",k.__docgenInfo={description:`ProvideCappuccinoTransactionDetailDataSource is a component that converts
the HotShot Query Service for Cappuccino into a
TransactionDetailAsyncRetriever.`,displayName:"ProvideCappuccinoTransactionDetailDataSource",props:{}}}catch{}try{R.displayName="ProvideCappuccinoRollUpDetailDataSource",R.__docgenInfo={description:`ProvideCappuccinoRollUpDetailDataSource is a component that converts
the HotShot Query Service for Cappuccino into a RollUpDetailAsyncRetriever.`,displayName:"ProvideCappuccinoRollUpDetailDataSource",props:{transactionsPerPage:{defaultValue:null,description:"",name:"transactionsPerPage",required:!1,type:{name:"number"}}}}}catch{}try{x.displayName="ProvideCappuccinoRollUpsSummaryDataSource",x.__docgenInfo={description:`ProvideCappuccinoRollUpsSummaryDataSource is a component that converts
the HotShot Query Service for Cappuccino into a RollUpSummaryAsyncRetriever.`,displayName:"ProvideCappuccinoRollUpsSummaryDataSource",props:{transactionsPerPage:{defaultValue:null,description:"",name:"transactionsPerPage",required:!1,type:{name:"number"}}}}}catch{}try{T.displayName="ProvideCappuccinoLatestBlockDetails",T.__docgenInfo={description:"",displayName:"ProvideCappuccinoLatestBlockDetails",props:{}}}catch{}try{B.displayName="ProvideCappuccinoExplorerSummary",B.__docgenInfo={description:"",displayName:"ProvideCappuccinoExplorerSummary",props:{}}}catch{}export{f as P,_ as a,R as b,x as c,k as d,D as e,C as f,B as g};
