import{j as t,a as n,F as m}from"./jsx-runtime-5BUNAZ9W.js";import"./DateTimeFormattersProvider-ewg8uyWm.js";import"./LocaleProvider-pqvxCw-R.js";import{P as E}from"./RelativeTimeText-fhTpamBm.js";import"./NumberFormattersProvider-qGn07z_Y.js";import{P as R,D as k}from"./PromiseResolver-3CMncE_b.js";import{W as g,P as F,g as B,a as A,F as I,S as z}from"./StoryBookPathResolver-Y0wOuZxD.js";import"./DataTable-QvRX8GIE.js";import"./AnchorButton-otSsAsSc.js";import"./Button-nGjelwSV.js";import"./IconAnchorButton-yD9LQ3N1.js";import"./IconButton-yAenjv_7.js";import"./LabeledAnchorButton-WaSb0fXE.js";import"./LabeledButton-GV2hMMJ7.js";import{C as W}from"./Card-h8BJV9JH.js";import{a as L,H as M}from"./Heading2-n3LYvQdK.js";import{R as o}from"./index-4g5l5LRQ.js";import{T as s}from"./TabledLabeledValue-uTjZB1fd.js";import{a as O,O as U,P as j,b as $}from"./NavBar-5ZfW7IMA.js";import{L as V}from"./Link-cIG_z142.js";import"./SocialMediaLinks-nhbEFc0o.js";import{H as q}from"./Header-hVJZ_isK.js";import{H as G}from"./HexDump-Ie7aeshY.js";import{B as J}from"./ByteSizeText-SEJ34lc5.js";import"./DateTimeText-NncPoZU5.js";import{N as K}from"./NumberText-8xcSHIjc.js";import{T as i}from"./Text-qj7igP2-.js";import{T as Q}from"./TimeText-8FjMkkS3.js";import{h as X}from"./typography-_ddOfzBO.js";import"./SearchGlass-rctca2Bz.js";import"./ArrowRight-7jy2AcIh.js";import"./ChevronUp-YOF9PRnX.js";import"./TwitterIcon-tGO7qkG5.js";import"./EspressoLogo-i5IlZ4vG.js";import"./EspressoLogoAndTitle-S8HsCgCD.js";import"./Menu-Jn2Xkq9w.js";import"./SVGIconBase-1gvIJeM1.js";import{T as Y,c as Z}from"./TaggedBase64-ByXDuNC9.js";import{F as ee}from"./FullHexText-GBC23OeJ.js";import{H as te}from"./HexText-thVAn2iS.js";import{T as re}from"./TaggedBase64Text-taRMAtIn.js";import{R as ae}from"./RollUpSimple-FlJSqFtX.js";import{c as ne}from"./functional-Rm0aYQEK.js";import{b as oe,e as ie,m as se}from"./functional_async-JuRM1DQH.js";import{F as ce}from"./Footer-AFE7v-kV.js";import"./higher_order-VtSBvwoq.js";import"./data-ULOTxPbU.js";import"./_commonjsHelpers-4gQjN7DL.js";const P=g(W),le=X("label"),l=o.createContext(new ArrayBuffer(0)),h=()=>{const e=o.useContext(l);return t(le,{className:"sub-heading",children:t(ee,{value:e})})},T=o.createContext({block:0,index:0,total:0,size:0,hash:new ArrayBuffer(0),time:new Date,sender:new Y("ERR",new ArrayBuffer(0)),tree:[]}),p=o.createContext({async retrieve(){throw new Error("unimplemented")}}),de=e=>{const r=o.useContext(T),a=o.useContext(O);return o.createElement(P,e,n(s,{children:[t(i,{text:"Block"}),t(V,{href:a.block(r.block),children:t(K,{number:r.block})})]}),n(s,{children:[t(i,{text:"Transaction index in block"}),t(i,{text:`index ${r.index} out of ${r.total} transactions`})]}),n(s,{children:[t(i,{text:"Transaction Size"}),t(J,{bytes:r.size})]}),n(s,{children:[t(i,{text:"Espresso Sequencer Hash"}),t(te,{value:r.hash})]}),n(s,{children:[t(i,{text:"Time"}),t(Q,{date:r.time})]}),n(s,{children:[t(i,{text:"Sender"}),t(re,{value:r.sender})]}))},me=e=>{const r=o.useContext(k);return r?t(T.Provider,{value:r,children:e.children}):t(F,{children:t(i,{text:"No Data Found"})})},pe=g(L),he=()=>{const r=o.useContext(T).tree;return r.length<=0?null:n(m,{children:[t(pe,{children:t(i,{text:"Data"})}),r.map((a,c)=>t(P,{children:n(m,{children:[n(s,{children:[t(i,{text:"Rollup"}),t(m,{children:t(ae,{namespace:a.namespace})})]}),n(s,{children:[t(i,{text:"Transaction data"}),t(G,{value:a.data})]})]})},c))]})},ue=e=>n(me,{children:[o.createElement(de,e),t(he,{})]}),u=e=>{const r=o.useContext(l),a=o.useContext(p);return t(R,{promise:a.retrieve(r),children:o.createElement(ue,e)})};try{l.displayName="TransactionCommitContext",l.__docgenInfo={description:"TransactionCommitContext represents the current hash for a Transaction.",displayName:"TransactionCommitContext",props:{}}}catch{}try{h.displayName="TransactionSubHeading",h.__docgenInfo={description:`TransactionSubHeading represents a sub heading for the Transaction Detail
Header.`,displayName:"TransactionSubHeading",props:{}}}catch{}try{p.displayName="RetrieverContext",p.__docgenInfo={description:`RetrieverContext is a context for retrieving the TransactionDetail
response.`,displayName:"RetrieverContext",props:{}}}catch{}try{u.displayName="TransactionDetailContent",u.__docgenInfo={description:`TransactionDetailContent uses the retriever from the RetrieverContext
to retrieve the data using the hash retrieved from the
TransactionCommitContext`,displayName:"TransactionDetailContent",props:{}}}catch{}function w(e){if(e.startsWith("0x"))return w(e.substring(2));if(e.length&1)throw new Error("Hex string invalid, not a multiple of 2");const r=new ArrayBuffer(e.length/2);return xe(Z(e),r),r}function xe(e,r){const a=new DataView(r);let c=0;for(;c<r.byteLength;){const _=e.next(),y=e.next();if(_.done||y.done)throw new Error("hex encoding terminated early");const H=v(_.value),S=v(y.value),N=H<<4|S;a.setUint8(c,N),c++}}function v(e){if(e>=48&&e<=57)return e-48;if(e>=97&&e<=102)return e-97+10;if(e>=65&&e<=70)return e-65+10;throw new TypeError(`invalid hex value "${e}"`)}async function*fe(){for await(const e of ie(B(),r=>se(r.transactions,a=>Promise.resolve({block:a.block,index:a.index,total:r.numTransactions,size:a.size,hash:a.hash,time:a.time,sender:a.sender,tree:a.tree}))))yield e}const x=e=>t(p.Provider,{...e,value:{async retrieve(r){const a=await oe(fe(),c=>ne(c.hash,r)===0);if(!a)throw new Error("Not Found");return a}}});try{x.displayName="ProvideFakeTransactionDetailDataSource",x.__docgenInfo={description:"",displayName:"ProvideFakeTransactionDetailDataSource",props:{}}}catch{}const ge=g(A),f=e=>n(U,{page:j.transactions,children:[t(q,{}),n(ge,{children:[t(M,{children:t(i,{text:"Transaction Details"})}),t(h,{})]}),o.createElement(u,e),t(ce,{})]});try{f.displayName="TransactionPage",f.__docgenInfo={description:"",displayName:"TransactionPage",props:{}}}catch{}const Te=({hash:e,...r})=>n(m,{children:[t(I,{}),t(E,{children:t($,{pathResolver:new z,children:t(l.Provider,{value:w(e),children:t(x,{children:t(f,{...r})})})})})]}),ht={title:"Pages/Transaction",component:Te,parameters:{layout:"fullscreen"}},d={args:{hash:"0xdeadbeef"}};var C,b,D;d.parameters={...d.parameters,docs:{...(C=d.parameters)==null?void 0:C.docs,source:{originalSource:`{
  args: {
    hash: '0xdeadbeef'
  }
}`,...(D=(b=d.parameters)==null?void 0:b.docs)==null?void 0:D.source}}};const ut=["Transaction"];export{d as Transaction,ut as __namedExportsOrder,ht as default};
