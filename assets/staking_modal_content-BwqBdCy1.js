import{R as r,j as e}from"./iframe-CsosU7ok.js";import{e as B,p as g}from"./functional-45VDB5x3.js";import{T as D}from"./TaggedBase64-CL6rcPDn.js";import{t as i,_ as V,u as w,$ as G,a0 as q,a1 as H,a2 as O,a3 as U,a4 as X,a5 as J,a6 as b,a7 as Q,a8 as $,a9 as z,aa as K,l as S,ab as Y,V as h,M as l,ac as P,ad as Z,J as T,ae as u,C as ee,B as te,O as ae,Q as re,T as oe,G as se,N as ne,R as ie,p as de,af as ce,I as le}from"./staking_modal_validator_confirmed_content-CLfQiKCO.js";import{a as pe}from"./assert-BI051aL8.js";import{M as xe}from"./MoneyText-Q5mfBi_X.js";import{P as me}from"./VariableByteSizeText-DJyF7P_s.js";import{T as d}from"./Text-BU7JBOLk.js";import{W as A}from"./deserializer-CHgBcVNX.js";import{b as he}from"./Payments-CoKnyUm5.js";import"./TwitterIcon-BtZtkQ17.js";import"./ArrowRight-CvTXYKiy.js";import"./CheckCircleFilled-CUm5i6Tt.js";import"./ChevronUp-8Q-iejUM.js";import"./Close-C5i8Q5Io.js";import"./Copy-oqk4lSc-.js";import"./MediumIcon-_xR99Btw.js";import"./EspressoLogo-Cb_xAmPy.js";import"./EspressoLogoAndTitle-DzjT5-iJ.js";import"./Menu-CiMW3Lqg.js";import{S as ue}from"./SearchGlass-BWeOul3U.js";import{S as I}from"./SVGIconBase-DLBQdslh.js";import"./XIcon-D9EF8Ho5.js";import{M as ye}from"./monetary_value-q68MMcLV.js";import{W as F}from"./wallet_address-JyvO5_Lr.js";import{T as R,a as _e}from"./text-BPEU8hba.js";import{a as p}from"./higher_order-DCgqxpyS.js";import{N as Ce}from"./NowProvider-fe9o8zdM.js";import{N as fe}from"./NumberText-mFShU_q1.js";const c=r.createContext(new R("")),x=r.createContext(()=>{}),y=({children:t})=>{const[a,o]=r.useState(new R(""));return e.jsx(c.Provider,{value:a,children:e.jsx(x.Provider,{value:o,children:t})})};try{c.displayName="SearchFilterContext",c.__docgenInfo={description:`ProvideSearchFilter is a React context that provides the context
for filtering using a search term.`,displayName:"SearchFilterContext",props:{}}}catch{}try{x.displayName="SetSearchFilterContext",x.__docgenInfo={description:`SetSearchFilterContext is a React context that provides the context
for setting the search filter.`,displayName:"SetSearchFilterContext",props:{}}}catch{}try{y.displayName="ProvideSearchFilter",y.__docgenInfo={description:"ProvideSearchFilter is a React context provider for the search filter input.",displayName:"ProvideSearchFilter",props:{}}}catch{}const je=t=>r.createElement(I,{...t,className:p(t.className,"stroked")},e.jsxs("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-check-circle",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}));try{checkcircle.displayName="checkcircle",checkcircle.__docgenInfo={description:"CheckCircle represents a check mark inside a circle.",displayName:"checkcircle",props:{}}}catch{}const ve=t=>r.createElement(I,{...t,className:p(t.className,"stroked")},e.jsxs("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-copy",children:[e.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),e.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}));try{copy.displayName="copy",copy.__docgenInfo={description:"Copy represents an icon indicating a copy action.",displayName:"copy",props:{}}}catch{}const Ne=1e3,ge=t=>{const a=r.useContext(Ce),[o,s]=r.useState(new Date(0));return a.valueOf()-o.valueOf()<Ne?e.jsx("button",{...t,className:p(t.className,"bbtn--copy copied"),title:"Copy Contents",children:e.jsx(je,{})}):e.jsx("button",{...t,className:p(t.className,"bbtn--copy"),onClick:n=>{n.preventDefault(),n.stopPropagation(),!(typeof window>"u"||!navigator||!navigator.clipboard)&&(s(new Date),navigator.clipboard.writeText(t.content))},title:"Copy Contents",children:e.jsx(ve,{})})};try{copybutton.displayName="copybutton",copybutton.__docgenInfo={description:`CopyButton is a button that allows the user to copy it's given text contents
into the text clipboard.  It handles the clipboard interaction for you, while
allowing the user the ability to override this behavior should that be
desired.

It is recommended to not overwrite this behavior, however, as some extra
features are provided that help indicate to the user that their desired
copy was provided without issue.

When interacted with, the button will copy the content passed to the
component via the content prop.  The content must be a string for it to be
able to be copied.`,displayName:"copybutton",props:{content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"string"}}}}}catch{}const Se=t=>e.jsxs("span",{children:[t.children,e.jsx(ge,{content:t.value.toString()})]});try{copywalletaddress.displayName="copywalletaddress",copywalletaddress.__docgenInfo={description:"CopyWalletAddress is a component that will display a `CopyButton` with the\ncontents for the `CopyButton` the EIP-55 Formatted Wallet Address",displayName:"copywalletaddress",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"WalletAddress"}}}}}catch{}const _=()=>{const t=r.useContext(i),a=new F(t.address);return e.jsx(Se,{value:a,children:e.jsx(A,{value:a})})};try{_.displayName="NodeNameCell",_.__docgenInfo={description:`NameNodeCell displays the wallet address of a validator node. It is
actually intended to show the name, and an icon for the validator,
but it's currently unclear how we would source this information.`,displayName:"NodeNameCell",props:{}}}catch{}const C=()=>{const t=r.useContext(i),a=r.useContext(V),o=t.addressText,s=a.get(o);return e.jsx(fe,{number:s??-1})};try{C.displayName="RankCell",C.__docgenInfo={description:`RankCell is a component that displays
the rank of the current validator node.`,displayName:"RankCell",props:{}}}catch{}function f(t){return t.text.trim()===""?()=>!0:a=>a.addressText.indexOf(t.text.toLowerCase())>=0}try{f.displayName="applySearchTermNodeFilter",f.__docgenInfo={description:"applySearchTermNodeFilter creates a filter function based on the search term.",displayName:"applySearchTermNodeFilter",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},selection:{defaultValue:null,description:"",name:"selection",required:!0,type:{name:"TextSelection"}},composing:{defaultValue:null,description:"",name:"composing",required:!0,type:{name:"TextRange"}},copyWith:{defaultValue:null,description:"",name:"copyWith",required:!0,type:{name:"({ text, selection, composing, }?: Partial<TextEditingValue>) => TextEditingValue"}}}}}catch{}const j=()=>{const t=r.useContext(c),a=r.useContext(x);return e.jsxs("div",{className:"search-node-container",children:[e.jsx(_e,{className:"search-node",value:t,onChange:(o,s)=>a(s),placeholder:"Search Validator"}),e.jsx(ue,{})]})};try{j.displayName="SearchValidator",j.__docgenInfo={description:`SearchValidator is a React component that renders a search input for
filtering validators.`,displayName:"SearchValidator",props:{}}}catch{}const v=({children:t})=>e.jsx(w,{children:e.jsx(G,{children:e.jsx(q,{children:e.jsx(H,{children:e.jsx(O,{children:e.jsx(U,{children:e.jsx(X,{children:e.jsx(J,{children:e.jsx(b,{children:t})})})})})})})})});try{v.displayName="ProvideCurrentStakingInformation",v.__docgenInfo={description:"",displayName:"ProvideCurrentStakingInformation",props:{}}}catch{}const N=()=>e.jsxs(e.Fragment,{children:[e.jsxs(Q,{children:[e.jsx($,{children:e.jsx(d,{text:"Select a Validator"})}),e.jsx(z,{})]}),e.jsx(K,{children:e.jsx(ke,{})})]}),ke=()=>e.jsxs("div",{className:"validator-selection-split",children:[e.jsx(y,{children:e.jsx(Ve,{children:e.jsxs("div",{className:"validator-selection-split-start",children:[e.jsx(j,{}),e.jsx(we,{})]})})}),e.jsx(Ae,{})]}),m=r.createContext([]),Ve=({children:t})=>{const o=r.useContext(S)?.nodes??[];return e.jsx(m.Provider,{value:o,children:t})},we=()=>e.jsx("div",{className:"validator-selection-list",children:e.jsx(be,{children:e.jsx(Pe,{})})}),be=({children:t})=>{const a=r.useContext(m),o=r.useContext(c),s=r.useContext(V),n=Array.from(B(a,f(o))).sort((E,M)=>{const W=s.get(E.addressText)??Number.MAX_SAFE_INTEGER,L=s.get(M.addressText)??Number.MAX_SAFE_INTEGER;return W-L});return e.jsx(m.Provider,{value:n,children:t})},Pe=()=>{const t=r.useContext(m);return e.jsx("table",{className:"validator-list",children:e.jsx("tbody",{children:t.map((a,o)=>e.jsx(i.Provider,{value:a,children:e.jsx(Te,{})},o))})})},Te=()=>{const t=r.useContext(i),a=r.useContext(h),o=r.useContext(P),s=a instanceof l&&g(a.validatorAddress,t.address)===0,n=()=>{o.replace(new l(t.address))};return e.jsxs("tr",{"data-selected":s,onClick:n,children:[e.jsx("td",{className:"node-rank",onClick:n,children:e.jsx(C,{})}),e.jsx("td",{className:"node-name",onClick:n,children:e.jsx(_,{})}),e.jsx("td",{className:"node-selected",onClick:n,children:e.jsx(he,{})})]})},Ae=()=>e.jsx(Ie,{children:e.jsx("div",{className:"selection-details",children:e.jsxs(Fe,{children:[e.jsx("div",{className:"node-summary-area",children:e.jsx(Y,{})}),e.jsx(Re,{}),e.jsx("div",{className:"flex"}),e.jsx(Ee,{})]})})}),Ie=({children:t})=>{const a=r.useContext(h),o=r.useContext(S),s=!(a instanceof l)||!o?null:o.nodes.find(n=>g(n.address,a.validatorAddress)===0)??null;return s?e.jsx(i.Provider,{value:s,children:t}):t},Fe=({children:t})=>r.useContext(i).address.byteLength<=0?null:t,Re=()=>e.jsxs("div",{className:"staking-modal-staking-overview-area",children:[e.jsx(Me,{}),e.jsx(We,{}),e.jsx(Le,{}),e.jsx(Be,{})]}),Ee=()=>{const t=r.useContext(h),a=r.useContext(P);return pe(t instanceof l),e.jsx("div",{className:"validator-confirm-area",children:e.jsx(Z,{onClick:()=>a.push(new T(t.validatorAddress)),children:e.jsx(d,{text:"Next"})})})},Me=()=>{const t=r.useContext(i);return e.jsxs(u,{children:[e.jsx(d,{text:"Total Stake"}),e.jsx(xe,{money:ye.ESP(t.stake)})]})},We=()=>{const t=r.useContext(i);return e.jsxs(u,{children:[e.jsx(d,{text:"Commission"}),e.jsx(me,{percentage:t.commission.ratio})]})},Le=()=>{const t=r.useContext(i);return e.jsxs(u,{children:[e.jsx(d,{text:"Address"}),e.jsx(A,{value:new F(t.address)})]})},Be=()=>e.jsxs(u,{children:[e.jsx(d,{text:"Website"}),e.jsx(d,{text:"-"})]});try{N.displayName="ValidatorSelectionNeededContent",N.__docgenInfo={description:"",displayName:"ValidatorSelectionNeededContent",props:{}}}catch{}const k=()=>{const t=r.useContext(S),a=r.useContext(h);if(a instanceof ee)return e.jsx(w,{children:e.jsx(b,{children:e.jsx(te,{})})});if(a instanceof T||a instanceof ae||a instanceof re||a instanceof oe||a instanceof se){const o=t?.nodes.find(s=>g(s.address,a.validatorAddress)===0)??new ne(a.validatorAddress,new D("",new ArrayBuffer(0)),0n,new ie(0));return e.jsx(i.Provider,{value:o,children:e.jsx(de.Provider,{value:a.validatorAddress,children:e.jsx(ce,{children:e.jsx(v,{children:e.jsx(le,{})})})})})}return e.jsx(N,{})};try{k.displayName="StakingModalContent",k.__docgenInfo={description:"",displayName:"StakingModalContent",props:{}}}catch{}export{_ as N,y as P,C as R,k as S,j as a,c as b,f as c};
