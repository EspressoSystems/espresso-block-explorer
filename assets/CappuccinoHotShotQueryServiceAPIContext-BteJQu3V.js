import{R as zo,j as hs}from"./iframe-BYhJ0elB.js";import{B as ps}from"./explorer-9dy3tY29.js";import{U as w}from"./UnimplementedError-BGJ4_cDZ.js";import{g as S}from"./blocks-CwOn2-KH.js";import{g as ge,h as ee,i as ms,j as Ce,t as be,k as Mo,l as oe,o as Ho,r as Lo,p as V,q as ws,m as q,v as re,w as Qo,x as je,y as fs,z as Bo,A as Ve,B as Ue}from"./LoadingProvider-Bn4-uxSH.js";import{t as l,T as k}from"./TaggedBase64-DlPC3yRR.js";import{c as i,b as Cs,a as E}from"./assert-B20_bgky.js";import{T as d,b as a,N as xe,s as h,h as Ie,j as _e,A as B,k as A,l as D,C as b,v as bs,I as M,g as dr,w as gs,x,y as I,B as O,e as Re,c as _,r as R,a as Te,u as jo,o as Be,d as ys,f as vs}from"./string-DO2hqbbz.js";import{n as s,d as Q,e as F}from"./base64-Dpbg5EzT.js";import{h as v,u as Vo,b as W,s as Uo}from"./array_buffer-CXxOH-jd.js";import{a as Ko,b as J,n as Ao}from"./bigint-Rw5otYDY.js";import{m as Ye}from"./functional-By_9lidy.js";import"./url-BkzmLfUb.js";import{I as G,m as $o}from"./monetary_value-CGCIrnLJ.js";import"./FetchError-DuIs0boE.js";import{M as Es}from"./MissingElementError-Bky0HlCJ.js";import{N as Ss}from"./NotFoundError-bihNLxJz.js";import{n as Do,P as ir,a as Yo}from"./nodes-TxP0qWmy.js";import{M as Xo,d as Zo,e as et,f as rt,C as ks}from"./validator-NVaijjF0.js";class lr{r;s;v;constructor(e,o,t){this.r=e,this.s=o,this.v=t}toJSON(){return ur.encode(this)}}class xs{convert(e){return a(e,"r","s","v"),new lr(v.decode(e.r),v.decode(e.s),s.decode(e.v))}}class Is{convert(e){return i(e,lr),{r:v.encode(e.r),s:v.encode(e.s),v:s.encode(e.v)}}}class _s extends d{encoder=new Is;decoder=new xs}const ur=new _s;class hr{account;amount;constructor(e,o){this.account=e,this.amount=o}toJSON(){return pr.encode(this)}}class Rs{convert(e){return a(e,"account","amount"),new hr(v.decode(e.account),v.decode(e.amount))}}class Ts{convert(e){return i(e,hr),{account:v.encode(e.account),amount:v.encode(e.amount)}}}class Bs extends d{encoder=new Ts;decoder=new Rs}const pr=new Bs;class mr{number;timestamp;hash;constructor(e,o,t){this.number=e,this.timestamp=o,this.hash=t}toJSON(){return Xe.encode(this)}}class As{convert(e){return a(e,"number","timestamp","hash"),new mr(s.decode(e.number),h.decode(e.timestamp),h.decode(e.hash))}}class Ds{convert(e){return i(e,mr),{number:s.encode(e.number),timestamp:h.encode(e.timestamp),hash:h.encode(e.hash)}}}class Ps extends d{encoder=new Ds;decoder=new As}const Xe=new Ps,ot=new xe(new Ie(Xe),new _e(Xe));class wr{bytes;constructor(e){this.bytes=e}toJSON(){return fr.encode(this)}}class Os{convert(e){return a(e,"bytes"),new wr(Vo.decode(e.bytes))}}class Ns{convert(e){return i(e,wr),{bytes:Vo.encode(e.bytes)}}}class qs extends d{encoder=new Ns;decoder=new Os}const fr=new qs;class Cr{height;timestamp;l1_head;l1_finalized;payload_commitment;ns_table;block_merkle_root;fee_merkle_root;builder_signature;fee_info;constructor(e,o,t,n,c,u,p,f,C,g){this.height=e,this.timestamp=o,this.l1_head=t,this.l1_finalized=n,this.payload_commitment=c,this.ns_table=u,this.block_merkle_root=p,this.fee_merkle_root=f,this.builder_signature=C,this.fee_info=g}toJSON(){return N.encode(this)}}class Fs{convert(e){return a(e,"height","timestamp","l1_head","l1_finalized","payload_commitment","ns_table","block_merkle_root","fee_merkle_root","builder_signature","fee_info"),new Cr(s.decode(e.height),s.decode(e.timestamp),s.decode(e.l1_head),ot.decode(e.l1_finalized),Q.decode(e.payload_commitment),fr.decode(e.ns_table),l.decode(e.block_merkle_root),l.decode(e.fee_merkle_root),ur.decode(e.builder_signature),pr.decode(e.fee_info))}}class Ws{convert(e){return i(e,Cr),{height:s.encode(e.height),timestamp:s.encode(e.timestamp),l1_head:s.encode(e.l1_head),l1_finalized:ot.encode(e.l1_finalized),payload_commitment:Q.encode(e.payload_commitment),ns_table:fr.encode(e.ns_table),block_merkle_root:l.encode(e.block_merkle_root),fee_merkle_root:l.encode(e.fee_merkle_root),builder_signature:ur.encode(e.builder_signature),fee_info:pr.encode(e.fee_info)}}}class Js extends d{encoder=new Ws;decoder=new Fs}const N=new Js;class ae{vm;payload;constructor(e,o){this.vm=e,this.payload=o}toJSON(){return H.encode(this)}}class Gs{convert(e){return a(e,"vm","payload"),new ae(s.decode(e.vm),Q.decode(e.payload))}}class zs{convert(e){return i(e,ae),{vm:s.encode(e.vm),payload:Q.encode(e.payload)}}}class Ms extends d{encoder=new zs;decoder=new Gs}const H=new Ms,tt=new B(new A(H),new D(H));class br{transaction_nmt;constructor(e){this.transaction_nmt=e}toJSON(){return de.encode(this)}}class Hs{convert(e){return a(e,"transaction_nmt"),new br(tt.decode(e.transaction_nmt))}}class Ls{convert(e){return i(e,br),{transaction_nmt:tt.encode(e.transaction_nmt)}}}class Qs extends d{encoder=new Ls;decoder=new Hs}const de=new Qs;class gr{header;payload;hash;size;numTransactions;constructor(e,o,t,n,c){this.header=e,this.payload=o,this.hash=t,this.size=n,this.numTransactions=c}toJSON(){return st.encode(this)}}class js{convert(e){return a(e,"header","payload","hash","size","num_transactions"),new gr(N.decode(e.header),de.decode(e.payload),l.decode(e.hash),s.decode(e.size),s.decode(e.num_transactions))}}class Vs{convert(e){return i(e,gr),{header:N.encode(e.header),payload:de.encode(e.payload),hash:l.encode(e.hash),size:s.encode(e.size),num_transactions:s.encode(e.numTransactions)}}}class Us extends b{encoder=new Vs;decoder=new js}const st=new Us;class yr{header;hash;size;num_transactions;proposer_id;constructor(e,o,t,n,c){this.header=e,this.hash=o,this.size=t,this.num_transactions=n,this.proposer_id=c}toJSON(){return Ze.encode(this)}}class Ks{convert(e){return a(e,"header","hash","size","num_transactions","proposer_id"),new yr(N.decode(e.header),l.decode(e.hash),s.decode(e.size),s.decode(e.num_transactions),W.decode(e.proposer_id))}}class $s{convert(e){return i(e,yr),{header:N.encode(e.header),hash:l.encode(e.hash),size:s.encode(e.size),num_transactions:s.encode(e.num_transactions),proposer_id:W.encode(e.proposer_id)}}}class Ys extends d{encoder=new $s;decoder=new Ks}const Ze=new Ys,Xs=new B(new A(Ze),new D(Ze));class vr{hash;header;offset;transaction;constructor(e,o,t,n){this.hash=e,this.header=o,this.offset=t,this.transaction=n}toJSON(){return er.encode(this)}}class Zs{convert(e){return a(e,"hash","header","offset","transaction"),new vr(l.decode(e.hash),N.decode(e.header),s.decode(e.offset),H.decode(e.transaction))}}class ec{convert(e){return i(e,vr),{hash:l.encode(e.hash),header:N.encode(e.header),offset:s.encode(e.offset),transaction:H.encode(e.transaction)}}}class rc extends d{encoder=new ec;decoder=new Zs}const er=new rc,Po=new B(new A(er),new D(er));class oc{convert(e){if(!bs(e))throw new M(typeof e,"boolean");return e}}class tc{convert(e){return Cs(e,"boolean"),e}}class sc extends d{encoder=new tc;decoder=new oc}const ie=new sc;class ye{leaf_commit;constructor(e){this.leaf_commit=e}toJSON(){return Er.encode(this)}}class cc{convert(e){return a(e,"leaf_commit"),new ye(l.decode(e.leaf_commit))}}class nc{convert(e){return i(e,ye),{leaf_commit:l.encode(e.leaf_commit)}}}class ac extends d{encoder=new nc;decoder=new cc}const Er=new ac;class dc{convert(e){if(!dr(e))throw new M(typeof e,"string");const o=new Date(e);if(Number.isNaN(o.valueOf()))throw new M("NaN","number");return o}}class ic{convert(e){return i(e,Date),e.toISOString()}}class lc extends d{encoder=new ic;decoder=new dc}const z=new lc;class ct{width;index;constructor(e,o){this.width=e,this.index=o}toJSON(){return Sr.encode(this)}}class uc{convert(e){return a(e,"width","index"),new ct(s.decode(e.width),s.decode(e.index))}}class hc{convert(e){return i(e,ct),{width:s.encode(e.width),index:s.encode(e.index)}}}class pc extends d{encoder=new hc;decoder=new uc}const Sr=new pc;class se{static get lsb0(){return wc}static get msb0(){return Cc}valueOf(){return this.toString()}toJSON(){return this.toString()}}const nt="bitvec::order::Lsb0",at="bitvec::order::Msb0";class mc extends se{toString(){return nt}}const wc=new mc;class fc extends se{toString(){return at}}const Cc=new fc;class bc{convert(e){if(typeof e!="string")throw new M(typeof e,"string");switch(e){case nt:return se.lsb0;case at:return se.msb0;default:throw new M(e,"CappuccinoAPIBitVecOrder")}}}class gc{convert(e){return e.toString()}}class yc extends d{encoder=new gc;decoder=new bc}const dt=new yc;class it{order;head;bits;data;constructor(e,o,t,n){this.order=e,this.head=o,this.bits=t,this.data=n}getBitVecIndexIterable(){return this.order===se.lsb0?new Ic(this.head.width,this.bits):new Rc(this.head.width,this.bits)}[Symbol.iterator](){const e=this.getBitVecIndexIterable();return Ye(e,o=>kc(this.data,o))[Symbol.iterator]()}toJSON(){return ce.encode(this)}}class vc{convert(e){return a(e,"order","head","bits","data"),new it(dt.decode(e.order),Sr.decode(e.head),s.decode(e.bits),Ko.decode(e.data))}}class Ec{convert(e){return i(e,it),{order:dt.encode(e.order),head:Sr.encode(e.head),bits:s.encode(e.bits),data:Ko.encode(e.data)}}}class Sc extends d{encoder=new Ec;decoder=new vc}const ce=new Sc,gl=new B(new A(ce),new D(ce));function kc(r,e){return(r[e.bucket]>>e.bitOffset&1n)===1n}class lt{constructor(e,o){this.bucket=e,this.bitOffset=o}}function ut(r){switch(E(r===8||r===16||r===32||r===64,"bit width should be a power of two that is supported"),r){case 8:return 3;case 16:return 4;case 32:return 5;case 64:return 6;default:throw new w}}class xc{totalBits;bitWidthMask;bitWidthShift;offset=0n;constructor(e,o){this.totalBits=o;const t=BigInt(ut(e));this.bitWidthMask=BigInt(e)-1n,this.bitWidthShift=t}next(){if(this.offset>=this.totalBits)return{done:!0,value:void 0};const e=this.offset>>this.bitWidthShift,o=this.offset&this.bitWidthMask;return this.offset+=1n,{done:!1,value:new lt(Number(e),o)}}}class Ic{bitWidth;totalBits;constructor(e,o){this.bitWidth=e,this.totalBits=o}[Symbol.iterator](){return new xc(this.bitWidth,this.totalBits)}}class _c{bitWidth;totalBits;bitWidthMask;bitWidthShift;offset=0n;constructor(e,o){this.bitWidth=BigInt(e),this.totalBits=BigInt(o);const t=BigInt(ut(e));this.bitWidthMask=BigInt(e)-1n,this.bitWidthShift=t}next(){if(this.offset>=this.totalBits)return{done:!0,value:void 0};const e=this.offset>>this.bitWidthShift,o=this.bitWidth-1n-(this.offset&this.bitWidthMask);return this.offset+=1n,{done:!1,value:new lt(Number(e),o)}}}class Rc{bitWidth;totalBits;constructor(e,o){this.bitWidth=e,this.totalBits=o}[Symbol.iterator](){return new _c(this.bitWidth,this.totalBits)}}class ht{signature;bitvec;constructor(e,o){this.signature=e,this.bitvec=o}toJSON(){return rr.encode(this)}}class Tc{convert(e){if(!gs(e)||e.length!==2)throw new M(typeof e,"Array");return new ht(l.decode(e[0]),ce.decode(e[1]))}}class Bc{convert(e){return i(e,ht),[l.encode(e.signature),ce.encode(e.bitvec)]}}class Ac extends d{encoder=new Bc;decoder=new Tc}const rr=new Ac,pt=new xe(new Ie(rr),new _e(rr));class ve{data;vote_commitment;view_number;signatures;is_genesis;_pd;constructor(e,o,t,n,c,u){this.data=e,this.vote_commitment=o,this.view_number=t,this.signatures=n,this.is_genesis=c,this._pd=u}toJSON(){return le.encode(this)}}class Dc{convert(e){return a(e,"data","vote_commitment","view_number","signatures","is_genesis","_pd"),new ve(Er.decode(e.data),l.decode(e.vote_commitment),s.decode(e.view_number),pt.decode(e.signatures),ie.decode(e.is_genesis),null)}}class Pc{convert(e){return i(e,ve),{data:Er.encode(e.data),vote_commitment:l.encode(e.vote_commitment),view_number:s.encode(e.view_number),signatures:pt.encode(e.signatures),is_genesis:ie.encode(e.is_genesis),_pd:null}}}class Oc extends d{encoder=new Pc;decoder=new Dc}const le=new Oc;class kr{view_number;justify_qc;parent_commitment;block_header;block_payload;rejected;timestamp;proposer_id;constructor(e,o,t,n,c,u,p,f){this.view_number=e,this.justify_qc=o,this.parent_commitment=t,this.block_header=n,this.block_payload=c,this.rejected=u,this.timestamp=p,this.proposer_id=f}toJSON(){return xr.encode(this)}}class Nc{convert(e){return a(e,"view_number","justify_qc","parent_commitment","block_header","block_payload","rejected","timestamp","proposer_id"),new kr(s.decode(e.view_number),le.decode(e.justify_qc),l.decode(e.parent_commitment),N.decode(e.block_header),de.decode(e.block_payload),Q.decode(e.rejected),s.decode(e.timestamp),v.decode(e.proposer_id))}}class qc{convert(e){return i(e,kr),{view_number:s.encode(e.view_number),justify_qc:le.encode(e.justify_qc),parent_commitment:l.encode(e.parent_commitment),block_header:N.encode(e.block_header),block_payload:de.encode(e.block_payload),rejected:Q.encode(e.rejected),timestamp:s.encode(e.timestamp),proposer_id:v.encode(e.proposer_id)}}}class Fc extends d{encoder=new qc;decoder=new Nc}const xr=new Fc;class Ir{leaf;qc;constructor(e,o){this.leaf=e,this.qc=o}toJSON(){return mt.encode(this)}}class Wc{convert(e){return a(e,"leaf","qc"),new Ir(xr.decode(e.leaf),le.decode(e.qc))}}class Jc{convert(e){return i(e,Ir),{leaf:xr.encode(e.leaf),qc:le.encode(e.qc)}}}class Gc extends d{encoder=new Jc;decoder=new Wc}const mt=new Gc;class ue{}class _r extends ue{toJSON(){return Rr.encode(this)}}class zc{convert(e){if(!dr(e)||e!=="Empty")throw new G;return new _r}}class Mc{convert(e){return i(e,_r),"Empty"}}class Hc extends d{encoder=new Mc;decoder=new zc}const Rr=new Hc;class Tr extends ue{value;pos;elem;constructor(e,o,t){super(),this.value=e,this.pos=o,this.elem=t}toJSON(){return Br.encode(this)}}class Lc{convert(e){a(e,"Leaf");const o=e.Leaf;return a(o,"value","pos","elem"),new Tr(l.decode(o.value),l.decode(o.pos),l.decode(o.elem))}}class Qc{convert(e){return i(e,Tr),{Leaf:{value:l.encode(e.value),pos:l.encode(e.pos),elem:l.encode(e.elem)}}}}class jc extends b{encoder=new Qc;decoder=new Lc}const Br=new jc;class Ar extends ue{value;constructor(e){super(),this.value=e}toJSON(){return Dr.encode(this)}}class Vc{convert(e){a(e,"ForgettenSubtree");const o=e.ForgettenSubtree;return a(o,"value"),new Ar(l.decode(o.value))}}class Uc{convert(e){return i(e,Ar),{ForgettenSubtree:{value:l.encode(e.value)}}}}class Kc extends b{encoder=new Uc;decoder=new Vc}const Dr=new Kc;class Ae extends ue{value;children;constructor(e,o){super(),this.value=e,this.children=o}toJSON(){return Pr.encode(this)}}class $c{convert(e){a(e,"Branch");const o=e.Branch;return a(o,"value","children"),new Ae(l.decode(o.value),De.decode(o.children))}}class Yc{convert(e){return i(e,Ae),{Branch:{value:l.encode(e.value),children:De.encode(e.children)}}}}class Xc extends d{encoder=new Yc;decoder=new $c}const Pr=new Xc;class Zc{convert(e){if(x(e,"Leaf",I))return Br.decoder.convert(e);if(x(e,"Branch",I))return Pr.decoder.convert(e);if(x(e,"ForgettenSubtree",I))return Dr.decoder.convert(e);if(dr(e))return Rr.decoder.convert(e);throw new G}}class en{convert(e){if(i(e,ue),e instanceof Tr)return Br.encode(e);if(e instanceof Ae)return Pr.encode(e);if(e instanceof Ar)return Dr.encode(e);if(e instanceof _r)return Rr.encode(e);throw new G}}class rn extends d{encoder=new en;decoder=new Zc}const Oo=new rn,De=new B(new A(Oo),new D(Oo));class Or{pos;proof;constructor(e,o){this.pos=e,this.proof=o}toJSON(){return Nr.encode(this)}}class on{convert(e){return a(e,"pos","proof"),new Or(l.decode(e.pos),De.decode(e.proof))}}class tn{convert(e){return i(e,Or),{pos:l.encode(e.pos),proof:De.encode(e.proof)}}}class sn extends d{encoder=new tn;decoder=new on}const Nr=new sn;class qr{transaction;block_hash;proof;height;hash;constructor(e,o,t,n,c){this.transaction=e,this.block_hash=o,this.proof=t,this.height=n,this.hash=c}toJSON(){return wt.encode(this)}}class cn{convert(e){return a(e,"transaction","block_hash","proof","height","hash"),new qr(H.decoder.convert(e.transaction),l.decode(e.block_hash),Nr.decoder.convert(e.proof),s.decode(e.height),l.decode(e.hash))}}class nn{convert(e){return i(e,qr),{transaction:H.encode(e.transaction),block_hash:l.encode(e.block_hash),proof:Nr.encode(e.proof),height:s.encode(e.height),hash:l.encode(e.hash)}}}class an extends d{encoder=new nn;decoder=new cn}const wt=new an;function Pe(r){return new Cr(r.height,r.time.valueOf()/1e3,0,new mr(0,"00","00"),[],new wr(new ArrayBuffer(0)),new k("MERKLE_COMM",new Uint8Array([0,0,0,0]).buffer),new k("MERKLE_COMM",new Uint8Array([0,0,0,0]).buffer),new lr(new ArrayBuffer(0),new ArrayBuffer(0),0),new hr(new ArrayBuffer(0),new ArrayBuffer(0)))}async function dn(r){return new gr(Pe(r),new br(await oe(q(r.transactions,async e=>new ae(e.tree.namespace,Array.from(new Uint8Array(e.tree.data)))))),new k("BLOCK",new Uint8Array([0,0,0,0]).buffer),r.size,r.numTransactions)}function ln(r){return new yr(Pe(r),new k("BLOCK",new Uint8Array([0,0,0,0]).buffer),r.size,r.numTransactions,r.proposer)}function un(r){const e=r.transactions,o=Pe(r);return q(e,async t=>new vr(t.hash,o,t.index,new ae(t.tree.namespace,Array.from(new Uint8Array(t.tree.data)))))}async function*hn(r){const e=Pe(r),o=r.transactions;yield*q(o,async t=>new qr(new ae(t.tree.namespace,Array.from(new Uint8Array(t.tree.data))),new k("BLOCK",new Uint8Array([0,0,0,0]).buffer),new Or(new k("POS",new Uint8Array([0,0,0,0]).buffer),[new Ae(new k("EMPTY",new Uint8Array([0,0,0,0]).buffer),[])]),e.height,new k("COMMIT",t.tree.data.slice(0,32))))}class pn{async getLeafFromHeight(e){const o=await this.getBlockFromHeight(e);return new Ir(new kr(e,new ve(new ye(new k("EMPTY",new Uint8Array([0,0,0,0]).buffer)),new k("EMPTY",new Uint8Array([0,0,0,0]).buffer),e,null,!1,null),new k("LEAF",new Uint8Array([0,0,0,0]).buffer),o.header,o.payload,[],o.header.timestamp,o.header.fee_info.account),new ve(new ye(new k("EMPTY",new Uint8Array([0,0,0,0]).buffer)),new k("EMPTY",new Uint8Array([0,0,0,0]).buffer),e,null,!1,null))}async getTransactionFromHeightAndOffset(e,o){const t=await ge(ee(S(),e)),n=hn(t);return await ms(Ce(n,o))}async getBlockSummaries(e,o){const t=ee(S(),e),n=be(t,o-e),c=Mo(n,async u=>ln(u));return await oe(c)}async getBlockFromHeight(e){const o=ee(S(),e),t=await ge(o);return dn(t)}async*streamTransactionSummaries(e){const o=Ho(S(),c=>c.height<=e),t=Lo(o);yield*V(t,c=>re(un(c)))}async getTransactionSummaryRange(e,o,t){const n=this.streamTransactionSummaries(e),c=ee(n,o),u=be(c,t);return await oe(u)}async getTransactionSummaryRangeForRollup(e,o,t,n){const c=this.streamTransactionSummaries(o),u=ws(c,C=>C.transaction.vm===e),p=ee(u,t),f=be(p,n);return await oe(f)}}class he extends O{response;status;constructor(e,o,t){super(t),this.status=e,this.response=o}toJSON(){return ft.convert(this)}}class Oe{convert(e){return i(e,he),{...Re.convert(e),status:e.status}}}const ft=new Oe,Fr="BadResponseClientError";class mn extends he{constructor(e,o,t="bad server response: client error"){super(e,o,t),Object.freeze(this)}get code(){return Fr}toJSON(){return Ct.encode(this)}}class wn{convert(e){return a(e,"code","message","status"),_(e,Fr),new mn(Number(e.status),null,h.decode(e.message))}}class fn extends Oe{}class Cn extends d{encoder=new fn;decoder=new wn}const Ct=new Cn;R(Fr,Ct);const Wr="BadResponseError";class bn extends he{constructor(e,o,t="bad server response"){super(e,o,t),Object.freeze(this)}get code(){return Wr}toJSON(){return bt.encode(this)}}class gn{convert(e){return a(e,"code","message","status"),_(e,Wr),new bn(Number(e.status),null,h.decode(e.message))}}class yn extends Oe{}class vn extends d{encoder=new yn;decoder=new gn}const bt=new vn;R(Wr,bt);class En extends he{constructor(e,o,t="bad server response: server error"){super(e,o,t),Object.freeze(this)}get code(){return Jr}}const Jr="BadResponseServerError";class Sn{convert(e){return a(e,"code","message","status"),_(e,Jr),new En(Number(e.status),null,h.decode(e.message))}}class kn extends Oe{}class xn extends d{encoder=new kn;decoder=new Sn}const In=new xn;R(Jr,In);const Gr="ChannelClosedError";class _n extends O{constructor(e="channel closed"){super(e),Object.freeze(this)}get code(){return Gr}}class Rn{convert(e){return a(e,"code","message"),_(e,Gr),new _n(h.decode(e.message))}}class Tn extends Te{}class Bn extends d{encoder=new Tn;decoder=new Rn}const An=new Bn;R(Gr,An);class zr extends O{constructor(e="completer has already been completed"){super(e),Object.freeze(this)}get code(){return gt}}const gt="CompleterAlreadyCompletedError";class Dn{convert(e){return a(e,"code","message"),_(e,gt),new zr(h.decode(e.message))}}class Pn extends Te{}class On extends d{encoder=new Pn;decoder=new Dn}const Nn=new On;R(zr.name,Nn);const Mr="InvalidStringValueError";class yt extends O{have;want;constructor(e,o,t=`invalid string value: have "${e}", want "${o}"`){super(t),this.have=e,this.want=o,Object.freeze(this)}toJSON(){return vt.encode(this)}get code(){return Mr}}class qn{convert(e){return a(e,"code","have","want","message"),_(e,Mr),new yt(h.decode(e.have),h.decode(e.want),h.decode(e.message))}}class Fn{convert(e){return i(e,yt),{...Re.convert(e),have:h.encode(e.have),want:h.encode(e.want)}}}class Wn extends d{encoder=new Fn;decoder=new qn}const vt=new Wn;R(Mr,vt);const Hr="NoCompleterFoundForRequestID";class Ee extends O{requestID;constructor(e,o=`no completer found for request id "${e}"`){super(o),this.requestID=e,Object.freeze(this)}toJSON(){return Et.encode(this)}get code(){return Hr}}class Jn{convert(e){return a(e,"code","requestID","message"),_(e,Hr),new Ee(jo.decode(e.requestID),h.decode(e.message))}}class Gn{convert(e){return i(e,Ee),{...Re.convert(e),requestID:jo.encode(e.requestID)}}}class zn extends d{encoder=new Gn;decoder=new Jn}const Et=new zn;R(Hr,Et);const Lr="NoURLProvidedError";class Mn extends O{constructor(e="no url provided"){super(e),Object.freeze(this)}get code(){return Lr}}class Hn{convert(e){return a(e,"code","message"),_(e,Lr),new Mn(h.decode(e.message))}}class Ln extends Te{}class Qn extends d{encoder=new Ln;decoder=new Hn}const jn=new Qn;R(Lr,jn);const Qr="QUERY_ERROR";class Vn extends O{error;constructor(e,o="missing element"){super(o),this.error=e,Object.freeze(this)}get code(){return Qr}}class Un{convert(e){return a(e,"code","error","message"),_(e,Qr),new Vn(It.decode(e.error),h.decode(e.message))}}class Kn{convert(e){return{code:e.code,error:It.encode(e.error),message:h.encode(e.message)}}}class $n extends d{encoder=new Kn;decoder=new Un}const Yn=new $n;class jr{}const Vr="NotFound";class St extends jr{constructor(){super(),Object.freeze(this)}valueOf(){return Vr}toJSON(){return this.valueOf()}}const Xn=new St,Ur="Missing";class kt extends jr{constructor(){super(),Object.freeze(this)}valueOf(){return Ur}toJSON(){return this.valueOf()}}const Zn=new kt;class xt extends jr{error;constructor(e){super(),this.error=e,Object.freeze(this)}toJSON(){return $r.encode(this)}}class ea{message;constructor(e){this.message=e,Object.freeze(this)}toJSON(){return Kr.encode(this)}}class ra{convert(e){return a(e,"message"),new ea(h.decode(e.message))}}class oa{convert(e){return{message:h.encode(e.message)}}}class ta extends d{encoder=new oa;decoder=new ra}const Kr=new ta;class sa{convert(e){return a(e,"Error"),new xt(Kr.decode(e.Error))}}class ca{convert(e){return{Error:Kr.encode(e.error)}}}class na extends d{encoder=new ca;decoder=new sa}const $r=new na;class aa{convert(e){return e===Vr?Xn:e===Ur?Zn:$r.decode(e)}}class da{convert(e){if(e instanceof St)return Vr;if(e instanceof kt)return Ur;if(e instanceof xt)return $r.encode(e);throw new w}}class ia extends d{encoder=new da;decoder=new aa}const It=new ia;R(Qr,Yn);const _t="ResponseContentTypeIsNotApplicationJSONError";class Ne extends he{haveHeaderType;constructor(e,o,t,n="response content type is not application/json"){super(o,t,n),this.haveHeaderType=e,Object.freeze(this)}static fromResponse(e,o){return new Ne(e.headers.get("content-type")??"undefined",e.status,e,o)}toJSON(){return Rt.encode(this)}get code(){return _t}}class la{convert(e){return a(e,"code","status","have","want","message"),_(e,_t),new Ne(h.decode(e.code),s.decode(e.status),null,h.decode(e.message))}}class ua{convert(e){return{...ft.convert(e),have:h.encode(e.haveHeaderType),want:h.encode("application/json")}}}class ha extends d{encoder=new ua;decoder=new la}const Rt=new ha;R(Ne.name,Rt);const Yr="WebWorkerErrorResponse";class Tt extends O{error;constructor(e,o="error in web worker"){super(o),this.error=e,Object.freeze(this)}toJSON(){return Bt.encode(this)}get code(){return Yr}}class pa{convert(e){return a(e,"code","error","message"),_(e,Yr),new Tt(Be.decode(e.error),h.decode(e.message))}}class ma{convert(e){return{...Re.convert(e),error:Be.encode(e.error)}}}class wa extends d{encoder=new ma;decoder=new pa}const Bt=new wa;R(Yr,Bt);var At=(r=>(r[r.success=0]="success",r[r.full=1]="full",r[r.failed=2]="failed",r))(At||{});class fa{getFromEmpty(){}}class Ca{getFromEmpty(){throw new Es}}const ba={returnUndefined:new fa,throwMissingElement:new Ca};class ga{maxSize;constructor(e){E(!Number.isNaN(e),"maxSize must not be NaN"),E(Number.isInteger(e),"maxSize must be an integer"),E(e>0,"maxSize must be greater than 0"),this.maxSize=e}nextIndex(e){return E(e>=0,"index must be greater than or equal to 0"),(e+1)%this.maxSize}}class ya{preComputedSizeMinus1;constructor(e){E(!Number.isNaN(e),"maxSize must not be NaN"),E(Number.isInteger(e),"maxSize must be an integer"),E(e>0,"maxSize must be greater than 0"),E(Dt(e),"maxSize must be a power of two"),this.preComputedSizeMinus1=e-1}nextIndex(e){return E(e>=0,"index must be greater than or equal to 0"),e+1&this.preComputedSizeMinus1}}function Dt(r){return(r&r-1)===0}const Xr="BufferFullError";class Pt extends O{constructor(e="buffer full"){super(e),Object.freeze(this)}get code(){return Xr}}class va{convert(e){return a(e,"code","message"),_(e,Xr),new Pt(h.decode(e.message))}}class Ea extends Te{}class Sa extends d{encoder=new Ea;decoder=new va}const ka=new Sa;R(Xr,ka);class xa{putToFull(e,o){return e.get(),e.put(o)}}class Ia{putToFull(){throw new Pt}}const _a={overwriteOldest:new xa,throw:new Ia};function Ra(r){return Dt(r)?new ya(r):new ga(r)}class Ta{readIndex=0;writeIndex=0;buffer;nextIndex;getOnEmpty;putOnFull;constructor(e,o,t){E(!Number.isNaN(e),"maxSize must not be NaN"),this.buffer=new Array(e),this.nextIndex=Ra(e),this.getOnEmpty=o,this.putOnFull=t}get maxSize(){return this.buffer.length}get length(){return this.writeIndex<this.readIndex?this.writeIndex+this.maxSize-this.readIndex:this.writeIndex-this.readIndex}put(e){const o=this.nextIndex.nextIndex(this.writeIndex);return o===this.readIndex?this.putOnFull.putToFull(this,e):(this.buffer[this.writeIndex]=e,this.writeIndex=o,At.success)}get(){if(this.readIndex===this.writeIndex)return this.getOnEmpty.getFromEmpty(this);const e=this.buffer[this.readIndex];return this.readIndex=this.nextIndex.nextIndex(this.readIndex),e}[Symbol.iterator](){return new Ba(this)}immutableIterable(){return{[Symbol.iterator]:()=>this.immutableIterator()}}immutableIterator(){return new Aa(this.readIndex,this.writeIndex,this.buffer,this.nextIndex)}}class Ba{buffer;constructor(e){this.buffer=e}next(){const e=this.buffer.get();return e==null?{value:void 0,done:!0}:{value:e,done:!1}}}class Aa{readIndex;writeIndex;buffer;nextIndex;constructor(e,o,t,n){this.readIndex=e,this.writeIndex=o,this.buffer=t,this.nextIndex=n}next(){if(this.readIndex===this.writeIndex)return{value:void 0,done:!0};const e=this.buffer[this.readIndex];return this.readIndex=this.nextIndex.nextIndex(this.readIndex),{value:e,done:!1}}}function P(r=32,e=ba.returnUndefined,o=_a.overwriteOldest){return new Ta(r,e,o)}class Zr{hash;height;time;numTransactions;proposerID;feeRecipient;size;blockReward;constructor(e,o,t,n,c,u,p,f){this.hash=e,this.height=o,this.time=t,this.numTransactions=n,this.proposerID=c,this.feeRecipient=u,this.size=p,this.blockReward=f}toJSON(){return L.encode(this)}}class Da{convert(e){return a(e,"hash","height","time","num_transactions","proposer_id","fee_recipient","size","block_reward"),new Zr(l.decode(e.hash),s.decode(e.height),z.decode(e.time),s.decode(e.num_transactions),W.decode(e.proposer_id),W.decode(e.fee_recipient),s.decode(e.size),$o.decode(e.block_reward))}}class Pa{convert(e){return i(e,Zr),{hash:l.encode(e.hash),height:s.encode(e.height),time:z.encode(e.time),num_transactions:s.encode(e.numTransactions),proposer_id:W.encode(e.proposerID),fee_recipient:W.encode(e.feeRecipient),size:s.encode(e.size),block_reward:$o.encode(e.blockReward)}}}class Oa extends b{encoder=new Pa;decoder=new Da}const L=new Oa,yl=new B(new A(L),new D(L));class eo{hash;height;proposerID;numTransactions;size;time;constructor(e,o,t,n,c,u){this.hash=e,this.height=o,this.proposerID=t,this.numTransactions=n,this.size=c,this.time=u}toJSON(){return or.encode(this)}}class Na{convert(e){return a(e,"hash","height","proposer_id","num_transactions","size","time"),new eo(l.decode(e.hash),s.decode(e.height),W.decode(e.proposer_id),s.decode(e.num_transactions),s.decode(e.size),z.decode(e.time))}}class qa{convert(e){return i(e,eo),{hash:l.encode(e.hash),height:s.encode(e.height),proposer_id:W.encode(e.proposerID),num_transactions:s.encode(e.numTransactions),size:s.encode(e.size),time:z.encode(e.time)}}}class Fa extends b{encoder=new qa;decoder=new Na}const or=new Fa,K=new B(new A(or),new D(or)),U="latest";class ro{rollups;transactions;blocks;constructor(e,o,t){this.rollups=e,this.transactions=o,this.blocks=t}toJSON(){return oo.encode(this)}}class Wa{convert(e){return a(e,"rollups","transactions","blocks"),new ro(s.decode(e.rollups),s.decode(e.transactions),s.decode(e.blocks))}}class Ja{convert(e){return i(e,ro),{rollups:s.encode(e.rollups),transactions:s.encode(e.transactions),blocks:s.encode(e.blocks)}}}class Ga extends d{encoder=new Ja;decoder=new Wa}const oo=new Ga;function za(r,e){return r.blockHeights-e.blockHeights}class to{blockTime;blockSize;blockTransactions;blockHeights;constructor(e,o,t,n){const c=[],u=Math.min(e.length,o.length,t.length,n.length);for(let T=0;T<u;T++){const X=n[T];X!==null&&c.push({blockTime:e[T],blockSize:o[T],blockTransactions:t[T],blockHeights:X})}c.sort(za);const p=c[0].blockHeights,f=c[c.length-1].blockHeights,C=[],g=[],m=[],y=[];for(let T=p,X=0;T<=f;T++){const Z=c[X];if(Z.blockHeights!==T){C.push(null),g.push(null),m.push(null),y.push(null);continue}C.push(Z.blockTime),g.push(Z.blockSize),m.push(Z.blockTransactions),y.push(Z.blockHeights),X++}const j=Math.max(0,y.length-50);this.blockTime=C.slice(j),this.blockSize=g.slice(j),this.blockTransactions=m.slice(j),this.blockHeights=y.slice(j)}toJSON(){return so.encode(this)}}class Ma{convert(e){return a(e,"block_time","block_size","block_transactions","block_heights"),new to(F.decode(e.block_time),F.decode(e.block_size),F.decode(e.block_transactions),F.decode(e.block_heights))}}class Ha{convert(e){return i(e,to),{block_time:F.encode(e.blockTime),block_size:F.encode(e.blockSize),block_transactions:F.encode(e.blockTransactions),block_heights:F.encode(e.blockHeights)}}}class La extends d{encoder=new Ha;decoder=new Ma}const so=new La,Ot=Q;class qe{hash;rollups;height;time;offset;numTransactions;constructor(e,o,t,n,c,u){this.hash=e,this.rollups=o,this.height=t,this.time=n,this.offset=c,this.numTransactions=u}toJSON(){return tr.encode(this)}}class Qa{convert(e){return a(e,"hash","rollups","height","time","offset","num_transactions"),new qe(l.decode(e.hash),Ot.decode(e.rollups),s.decode(e.height),z.decode(e.time),s.decode(e.offset),s.decode(e.num_transactions))}}class ja{convert(e){return i(e,qe),{hash:l.encode(e.hash),rollups:Ot.encode(e.rollups),height:s.encode(e.height),time:z.encode(e.time),offset:s.encode(e.offset),num_transactions:s.encode(e.numTransactions)}}}class Va extends d{encoder=new ja;decoder=new Qa}const tr=new Va,$=new B(new A(tr),new D(tr));class co{latestBlock;genesisOverview;latestBlocks;latestTransactions;histograms;constructor(e,o,t,n,c){this.latestBlock=e,this.genesisOverview=o,this.latestBlocks=t,this.latestTransactions=n,this.histograms=c}toJSON(){return no.encode(this)}}class Ua{convert(e){return a(e,"latest_block","genesis_overview","latest_blocks","latest_transactions","histograms"),new co(L.decode(e.latest_block),oo.decode(e.genesis_overview),K.decode(e.latest_blocks),$.decode(e.latest_transactions),so.decode(e.histograms))}}class Ka{convert(e){return i(e,co),{latest_block:L.encode(e.latestBlock),genesis_overview:oo.encode(e.genesisOverview),latest_blocks:K.encode(e.latestBlocks),latest_transactions:$.encode(e.latestTransactions),histograms:so.encode(e.histograms)}}}class $a extends d{encoder=new Ka;decoder=new Ua}const no=new $a;class ao{blockDetail;constructor(e){this.blockDetail=e}toJSON(){return Nt.encode(this)}}class Ya{convert(e){return a(e,"block_detail"),new ao(L.decode(e.block_detail))}}class Xa{convert(e){return i(e,ao),{block_detail:L.encode(e.blockDetail)}}}class Za extends b{encoder=new Xa;decoder=new Ya}const Nt=new Za;class io{blockSummaries;constructor(e){this.blockSummaries=e}toJSON(){return qt.encode(this)}}class ed{convert(e){return a(e,"block_summaries"),new io(K.decode(e.block_summaries))}}class rd{convert(e){return i(e,io),{block_summaries:K.encode(e.blockSummaries)}}}class od extends b{encoder=new rd;decoder=new ed}const qt=new od;class lo{explorerSummary;constructor(e){this.explorerSummary=e}toJSON(){return Ft.encode(this)}}class td{convert(e){return a(e,"explorer_summary"),new lo(no.decode(e.explorer_summary))}}class sd{convert(e){return i(e,lo),{explorer_summary:no.encode(e.explorerSummary)}}}class cd extends d{encoder=new sd;decoder=new td}const Ft=new cd;class uo{blocks;transactions;constructor(e,o){this.blocks=e,this.transactions=o}toJSON(){return ho.encode(this)}}class nd{convert(e){return a(e,"blocks","transactions"),new uo(K.decode(e.blocks),$.decode(e.transactions))}}class ad{convert(e){return i(e,uo),{blocks:K.encode(e.blocks),transactions:$.encode(e.transactions)}}}class dd extends b{encoder=new ad;decoder=new nd}const ho=new dd;class po{searchResults;constructor(e){this.searchResults=e}toJSON(){return Wt.encode(this)}}class id{convert(e){return a(e,"search_results"),new po(ho.decode(e.search_results))}}class ld{convert(e){return i(e,po),{search_results:ho.encode(e.searchResults)}}}class ud extends b{encoder=new ld;decoder=new id}const Wt=new ud;class mo{static heightAndOffset(e,o){return new Fe(e,o)}static hash(e){return new We(e)}toJSON(){return Jt.encode(this)}}class hd{convert(e){if(i(e,mo),e instanceof Fe)return{height:s.encode(e.height),offset:s.encode(e.offset)};if(e instanceof We)return{hash:l.encode(e.hash)};throw new G}}class pd{convert(e){if(x(e,"height",I)&&x(e,"offset",I))return new Fe(s.decode(e.height),s.decode(e.offset));if(x(e,"hash",I))return new We(l.decode(e.hash));throw new G}}class md extends d{encoder=new hd;decoder=new pd}const Jt=new md;class Fe extends mo{height;offset;constructor(e,o){super(),this.height=e,this.offset=o}}class We extends mo{hash;constructor(e){super(),this.hash=e}}const Gt=s;class wo{namespace;payload;constructor(e,o){this.namespace=e,this.payload=o}toJSON(){return sr.encode(this)}}class wd{convert(e){return a(e,"namespace","payload"),new wo(Gt.decode(e.namespace),Uo.decode(e.payload))}}class fd{convert(e){return i(e,wo),{namespace:Gt.encode(e.namespace),payload:Uo.encode(e.payload)}}}class Cd extends d{encoder=new fd;decoder=new wd}const sr=new Cd,zt=new B(new A(sr),new D(sr));class fo{hash;height;blockConfirmed;offset;numTransactions;size;time;sequencingFees;feeDetails;constructor(e,o,t,n,c,u,p,f,C){this.hash=e,this.height=o,this.blockConfirmed=t,this.offset=n,this.numTransactions=c,this.size=u,this.time=p,this.sequencingFees=f,this.feeDetails=C}toJSON(){return Co.encode(this)}}class bd{convert(e){return a(e,"hash","height","block_confirmed","offset","num_transactions","size","time","sequencing_fees","fee_details"),new fo(l.decode(e.hash),s.decode(e.height),ie.decode(e.block_confirmed),s.decode(e.offset),s.decode(e.num_transactions),s.decode(e.size),z.decode(e.time),[],[])}}class gd{convert(e){return i(e,fo),{hash:l.encode(e.hash),height:s.encode(e.height),block_confirmed:ie.encode(e.blockConfirmed),offset:s.encode(e.offset),num_transactions:s.encode(e.numTransactions),size:s.encode(e.size),time:z.encode(e.time),sequencing_fees:[],fee_details:[]}}}class yd extends d{encoder=new gd;decoder=new bd}const Co=new yd;class bo{details;data;constructor(e,o){this.details=e,this.data=o}toJSON(){return go.encode(this)}}class vd{convert(e){return a(e,"details","data"),new bo(Co.decode(e.details),zt.decode(e.data))}}class Ed{convert(e){return i(e,bo),{details:Co.encode(e.details),data:zt.encode(e.data)}}}class Sd extends d{encoder=new Ed;decoder=new vd}const go=new Sd;class Se{transactionDetail;constructor(e){this.transactionDetail=e}toJSON(){return Mt.encode(this)}}class kd{convert(e){return a(e,"transaction_detail"),new Se(go.decode(e.transaction_detail))}}class xd{convert(e){return i(e,Se),{transaction_detail:go.encode(e.transactionDetail)}}}class Id extends b{encoder=new xd;decoder=new kd}const Mt=new Id;class Je{constructor(){}static block(e){return new Ge(e)}static namespace(e){return new ze(e)}static none(){return new vo}toJSON(){return yo.encode(this)}}class _d{convert(e){return x(e,"block",I)?new Ge(s.decode(e.block)):x(e,"namespace",I)?new ze(s.decode(e.namespace)):new vo}}class Rd{convert(e){if(i(e,Je),e instanceof vo)return{};if(e instanceof Ge)return{block:s.encode(e.block)};if(e instanceof ze)return{namespace:s.encode(e.namespace)};throw new G}}class Td extends b{encoder=new Rd;decoder=new _d}const yo=new Td;class vo extends Je{constructor(){super()}convertURL(e){return e}}class Ge extends Je{block;constructor(e){super(),this.block=e}convertURL(e){return new URL(`${e.pathname}/block/${this.block}`,e)}}class ze extends Je{namespace;constructor(e){super(),this.namespace=e}convertURL(e){return new URL(`${e.pathname}/namespace/${this.namespace}`,e)}}class te{transactionSummaries;constructor(e){this.transactionSummaries=e}toJSON(){return Ht.encode(this)}}class Bd{convert(e){return a(e,"transaction_summaries"),new te($.decode(e.transaction_summaries))}}class Ad{convert(e){return i(e,te),{transaction_summaries:$.encode(e.transactionSummaries)}}}class Dd extends b{encoder=new Ad;decoder=new Bd}const Ht=new Dd;class Me{limit;constructor(e){this.limit=e}static latest(e){return new He(e)}static heightAndOffset(e,o,t){return new Le(e,o,t)}static hash(e,o){return new Qe(e,o)}toJSON(){return Eo.encode(this)}}class Pd{convert(e){return a(e,"limit"),x(e,"height",I)&&x(e,"offset",I)?new Le(s.decode(e.height),s.decode(e.offset),s.decode(e.limit)):x(e,"hash",I)?new Qe(l.decode(e.hash),s.decode(e.limit)):new He(s.decode(e.limit))}}class Od{convert(e){if(i(e,Me),e instanceof He)return{limit:s.encode(e.limit)};if(e instanceof Le)return{height:s.encode(e.height),offset:s.encode(e.offset),limit:s.encode(e.limit)};if(e instanceof Qe)return{hash:l.encode(e.hash),limit:s.encode(e.limit)};throw new G}}class Nd extends b{encoder=new Od;decoder=new Pd}const Eo=new Nd;class He extends Me{constructor(e){super(e)}convertURL(e){return new URL(`transactions/latest/${this.limit}`,e)}}class Le extends Me{height;offset;constructor(e,o,t){super(t),this.height=e,this.offset=o}convertURL(e){return new URL(`transactions/from/${this.height}/${this.offset}/${this.limit}`,e)}}class Qe extends Me{hash;constructor(e,o){super(o),this.hash=e}convertURL(e){return new URL(`transactions/hash/${this.hash}/${this.limit}`,e)}}function No(r){return new Zr(r.hash,r.height,r.time,r.numTransactions,r.proposer,r.proposer,r.size,r.fees)}function Ke(r){return new eo(r.hash,r.height,r.proposer,r.numTransactions,r.size,r.time)}function qo(r,e){return new bo(new fo(e.hash,e.block,!0,e.index,r.numTransactions,e.size,e.time,[],[]),[new wo(e.tree.namespace,e.tree.data)])}function pe(r,e){return new qe(e.hash,[e.tree.namespace],e.block,e.time,e.index,r.numTransactions)}class qd{async getBlockDetail(e){const o=e.target,t=await(o===U?Qo(S()):ge(Ce(S(),o)));return new ao(No(t))}async getBlockSummaries(e){const o=Ho(S(),p=>e.from===U||p.height<=e.from),t=Lo(o),n=be(t,e.limit),c=Mo(n,async p=>Ke(p)),u=await oe(c);return new io(u)}async getTransactionDetail(e){const o=S();if(e instanceof Fe){const t=je(o,p=>p.height<=e.height),n=V(t,p=>q(p.transactions,async f=>qo(p,f))),c=Ce(re(n),e.offset),u=await ge(c);return new Se(u)}if(e instanceof We){const t=V(o,c=>q(c.transactions,async u=>qo(c,u))),n=await fs(t,c=>c.details.hash===e.hash);if(!n)throw new Ss(e.hash);return new Se(n)}throw new w}applyFilter(e,o){return o instanceof Ge?Bo(e,t=>t.height==o.block):o instanceof ze?Bo(e,t=>t.rollups.indexOf(o.namespace)>=0):e}async getTransactionSummaries(e){const o=S(),{target:t,filter:n}=e;if(t instanceof He){const u=V(o,g=>q(g.transactions,async m=>pe(g,m))),p=re(u),f=this.applyFilter(p,n),C=await Ve(Ue(f,t.limit));return new te(C)}if(t instanceof Le){const c=je(o,m=>m.height<=t.height),u=V(c,m=>q(m.transactions,async y=>pe(m,y))),p=re(u),f=Ce(p,t.offset),C=this.applyFilter(f,n),g=await Ve(Ue(C,t.limit));return new te(g)}if(t instanceof Qe){const c=S(),u=V(c,m=>q(m.transactions,async y=>new qe(y.hash,[y.tree.namespace],y.block,y.time,y.index,m.numTransactions))),p=je(u,m=>m.hash!==t.hash),f=re(p),C=this.applyFilter(f,n),g=await Ve(Ue(C,t.limit));return new te(g)}throw new w}async getExplorerOverview(){let e;const o=P(11),t=P(51),n=P(51),c=P(51),u=P(51),p=P(11);let f=0,C=0;const g=new Map;for await(const m of S()){e=No(m),o.put(Ke(m)),t.put(m.size),n.put(Math.round(m.genTime/1e3)),c.put(m.numTransactions),u.put(m.height),f++,C+=m.numTransactions;for await(const y of m.transactions){p.put(pe(m,y));const j=g.get(y.tree.namespace)||0;g.set(y.tree.namespace,j+1)}}return new lo(new co(e,new ro(Array.from(g.keys()).length,C,f),Array.from(o),Array.from(p),new to(Array.from(n),Array.from(t),Array.from(c),Array.from(u))))}async getSearchResult(e){const o=P(101),t=P(10),n=P(10);for await(const c of S())o.put(c);for(const c of o){c.hash.toString().startsWith(e.query)&&t.put(Ke(c));for await(const u of c.transactions)u.hash.toString().startsWith(e.query)&&n.put(pe(c,u))}return new po(new uo(Array.from(t),Array.from(n)))}}class Lt{constructor(e,o,t,n,c,u){this.address=e,this.stakeTableKey=o,this.stakeKey=t,this.stake=n,this.comission=c,this.delegators=u,Object.freeze(this)}toJSON(){return cr.encode(this)}}const Qt=new Xo(new et(h,J),new rt(h,J));class Fd{convert(e){return a(e,"account","stake_table_key","state_ver_key","stake","commission","delegators"),new Lt(v.decode(e.account),l.decode(e.stake_table_key),l.decode(e.state_ver_key),J.decode(e.stake),Zo.decode(e.commission),Qt.decode(e.delegators))}}class Wd{convert(e){return{account:v.encode(e.address),stake_table_key:l.encode(e.stakeTableKey),state_ver_key:l.encode(e.stakeKey),stake:J.encode(e.stake),commission:Zo.encode(e.comission),delegators:Qt.encode(e.delegators)}}}class Jd extends d{encoder=new Wd;decoder=new Fd}const cr=new Jd;class jt{constructor(e){this.validators=e,Object.freeze(this)}toJSON(){return Ut.encode(this)}}const Vt=new Xo(new et(h,cr),new rt(h,cr));class Gd{convert(e){return new jt(Vt.decode(e))}}class zd{convert(e){return Vt.encode(e.validators)}}class Md extends d{encoder=new zd;decoder=new Gd}const Ut=new Md;class Kt{constructor(e,o){this.stakeKey=e,this.stakeAmount=o,Object.freeze(this)}toJSON(){return So.encode(this)}}class Hd{convert(e){return a(e,"stake_key","stake_amount"),new Kt(l.decode(e.stake_key),J.decode(e.stake_amount))}}class Ld{convert(e){return{stake_key:l.encode(e.stakeKey),stake_amount:J.encode(e.stakeAmount)}}}class Qd extends d{encoder=new Ld;decoder=new Hd}const So=new Qd;class $t{constructor(e,o){this.stakeTableEntry=e,this.stateVerKey=o,Object.freeze(this)}}class jd{convert(e){return a(e,"stake_table_entry","state_ver_key"),new $t(So.decode(e.stake_table_entry),l.decode(e.state_ver_key))}}class Vd{convert(e){return{stake_table_entry:So.encode(e.stakeTableEntry),state_ver_key:l.encode(e.stateVerKey)}}}class Ud extends d{encoder=new Vd;decoder=new jd}const Fo=new Ud,Yt=new B(new A(Fo),new D(Fo));class Xt{constructor(e){this.entries=e,Object.freeze(this)}}class Kd{convert(e){return new Xt(Yt.decode(e))}}class $d{convert(e){return Yt.encode(e.entries)}}class Yd extends d{encoder=new $d;decoder=new Kd}const Xd=new Yd;class Zd{async getStakeTableForEpoch(){return new Xt(Array.from(Ye(Do,e=>new $t(new Kt(e.pubkey,e.stake),e.stateVerKey))))}async getValidatorsAtEpoch(){return new jt(new Map(Ye(Do,e=>[v.encode(e.address),new Lt(e.address,e.pubkey,e.stateVerKey,e.stake,new ks(e.commission),new Map([[v.encode(e.address),e.stake]]))])))}}class ke{constructor(e,o){this.lifetimeRewards=e,this.authData=o,Object.freeze(this)}toJSON(){return nr.encode(this)}}class ei{convert(e){return a(e,"lifetime_rewards","auth_data"),new ke(J.decode(e.lifetime_rewards),v.decode(e.auth_data))}}class ri{convert(e){return i(e,ke),{lifetime_rewards:J.encode(e.lifetimeRewards),auth_data:v.encode(e.authData)}}}class oi extends d{encoder=new ri;decoder=new ei}const nr=new oi,Wo=new xe(new Ie(nr),new _e(nr)),ti=new ir(Yo());class si{async getLatestRewardBalance(){return 123000000000000000000n}async getLatestRewardClaimInput(){return new ke(123000000000000000000n,ti.fillBytes(5344))}async getRewardBalance(){return 123000000000000000000n}async getRewardClaimInput(e){const o=new ir(e.height);return new ke(123000000000000000000n,o.fillBytes(5344))}}class ci{async blockHeight(){const e=Date.now(),o=new ir(Yo());return(await Qo(S(o,e))).height}}class ni{availability=new pn;status=new ci;explorer=new qd;rewardState=new si;node=new Zd;async setURL(){throw new w}}class ai{async getLeafFromHeight(){throw new w}async getTransactionFromHeightAndOffset(){throw new w}async getBlockFromHeight(){throw new w}async getBlockSummaries(){throw new w}async getTransactionSummaryRange(){throw new w}async getTransactionSummaryRangeForRollup(){throw new w}}class di{async getBlockDetail(){throw new w}async getBlockSummaries(){throw new w}async getTransactionDetail(){throw new w}async getTransactionSummaries(){throw new w}async getExplorerOverview(){throw new w}async getSearchResult(){throw new w}}class ii{getStakeTableForEpoch(){throw new w}getValidatorsAtEpoch(){throw new w}}class li{async getLatestRewardBalance(){throw new w}async getLatestRewardClaimInput(){throw new w}async getRewardBalance(){throw new w}async getRewardClaimInput(){throw new w}}class ui{async blockHeight(){throw new w}}class hi{availability=new ai;status=new ui;explorer=new di;rewardState=new li;node=new ii;setURL(){throw new w}}function me(){E(!1,"completer is not ready, this should never be reached")}function we(){throw new zr}class pi{resolve=me;reject=me;completed=!1;promise;get isCompleted(){return this.completed}constructor(){this.promise=new Promise((e,o)=>{this.resolve=e,this.reject=o}),E(this.resolve!==me,"resolve should be set"),E(this.reject!==me,"resolve should be set")}complete(e){const o=this.resolve,t=this.reject;if(this.completed=!0,this.resolve=we,this.reject=we,e instanceof Promise){e.then(o,t);return}o(e)}completeError(e){this.reject(e),this.completed=!0,this.resolve=we,this.reject=we}}function mi(){return new pi}const Y=s;class ko{requestID;api;method;param;constructor(e,o,t,n){this.requestID=e,this.api=o,this.method=t,this.param=n}toJSON(){return{requestID:this.requestID,api:this.api,method:this.method,param:this.param}}}class wi{convert(e){return a(e,"requestID","api","method","param"),new ko(Y.decode(e.requestID),h.decode(e.api),h.decode(e.method),e.param)}}class fi{convert(e){return i(e,ko),{requestID:Y.encode(e.requestID),api:h.encode(e.api),method:h.encode(e.method),param:e.param}}}class Ci extends d{encoder=new fi;decoder=new wi}const bi=new Ci;class xo{requestID;constructor(e){this.requestID=e}}class Io extends xo{response;constructor(e,o){super(e),this.response=o}toJSON(){return Zt.encode(this)}}class gi{convert(e){return a(e,"requestID","response"),new Io(Y.decode(e.requestID),e.response)}}class yi{convert(e){return i(e,Io),{requestID:Y.encode(e.requestID),response:e.response}}}class vi extends d{encoder=new yi;decoder=new gi}const Zt=new vi;class _o extends xo{error;constructor(e,o){super(e),this.error=o}toJSON(){return es.encode(this)}}class Ei{convert(e){return a(e,"requestID","error"),new _o(Y.decode(e.requestID),Be.decode(e.error))}}class Si{convert(e){return i(e,_o),{requestID:Y.encode(e.requestID),error:Be.encode(e.error)}}}class ki extends d{encoder=new Si;decoder=new Ei}const es=new ki;class xi{convert(e){if(x(e,"response",I))return Zt.decode(e);if(x(e,"error",I))return es.decode(e);throw new G}}class Ii{convert(e){return i(e,xo),e.toJSON()}}class _i extends d{encoder=new Ii;decoder=new xi}const Jo=new _i;class Ri{worker;nextRequestID=0;requestCompleters=new Map;constructor(e){this.worker=e,e.addEventListener("message",this.handleMessage.bind(this)),e.addEventListener("messageerror",this.handleMessageError.bind(this)),e.addEventListener("error",this.handleError.bind(this))}async submitRequest(e,o,t,n){const[c,u]=this.nextRequest();try{return this.worker.postMessage(bi.encode(new ko(c,o,t,n))),await u.promise.then(p=>{if(p instanceof _o)throw new Tt(p.error);if(p instanceof Io){const{response:f}=p;return e.decode(f)}throw new M(typeof p,"WebWorkerResponse")})}finally{this.requestCompleters.delete(c)}}nextRequest(){const e=this.nextRequestID++,o=mi();return this.requestCompleters.set(e,o),[e,o]}handleMessage(e){const o=Jo.decode(e.data),t=this.requestCompleters.get(o.requestID);if(t===void 0)throw new Ee(o.requestID);t.complete(o)}handleMessageError(e){const o=Jo.decode(e.data),t=this.requestCompleters.get(o.requestID);if(t===void 0)throw new Ee(o.requestID);t.completeError(o)}handleError(e){ys(),console.error("encountered error setting up Web worker",e)}}class Ti{helper;constructor(e){this.helper=e}async sendRequest(e,o,...t){return this.helper.submitRequest(e,"availability",o,t)}async getLeafFromHeight(e){return await this.sendRequest(mt,"getLeafFromHeight",e)}async getTransactionFromHeightAndOffset(e,o){return await this.sendRequest(wt,"getTransactionFromHeightAndOffset",e,o)}async getBlockSummaries(e,o){return await this.sendRequest(Xs,"getBlockSummaries",e,o)}async getBlockFromHeight(e){return await this.sendRequest(st,"getBlockFromHeight",e)}async getTransactionSummaryRange(e,o,t){return await this.sendRequest(Po,"getTransactionSummaryRange",e,o,t)}async getTransactionSummaryRangeForRollup(e,o,t,n){return await this.sendRequest(Po,"getTransactionSummaryRangeForRollup",e,o,t,n)}}class Ro{target;constructor(e){this.target=e}static latest(){return new os}static height(e){return new ts(e)}toJSON(){return rs.encode(this)}}class Bi{convert(e){return i(e,Ro),typeof e.target=="number"?s.encode(e.target):h.encode(e.target)}}class Ai{convert(e){return e===U?new os:new ts(s.decode(e))}}class Di extends b{encoder=new Bi;decoder=new Ai}const rs=new Di;class os extends Ro{constructor(){super(U)}}class ts extends Ro{constructor(e){super(e)}}class To{limit;constructor(e){this.limit=e}static latest(e){return new cs(e)}static from(e,o){return new ns(e,o)}toJSON(){return ss.encode(this)}}class Pi{convert(e){return i(e,To),vs(e.from)?{from:s.encode(e.from),limit:s.encode(e.limit)}:{from:h.encode(e.from),limit:s.encode(e.limit)}}}class Oi{convert(e){return a(e,"from","limit"),e.from===U?new cs(s.decode(e.limit)):new ns(s.decode(e.from),s.decode(e.limit))}}class Ni extends b{encoder=new Pi;decoder=new Oi}const ss=new Ni;class cs extends To{constructor(e){super(e)}get from(){return U}}class ns extends To{from;constructor(e,o){super(o),this.from=e}}class as{query;constructor(e){this.query=e}toJSON(){return ds.encode(this)}}class qi{convert(e){return i(e,as),h.encode(e.query)}}class Fi{convert(e){return new as(h.decode(e))}}class Wi extends b{encoder=new qi;decoder=new Fi}const ds=new Wi;class is{target;filter;constructor(e,o){this.target=e,this.filter=o}toJSON(){return ls.encode(this)}}class Ji{convert(e){return a(e,"filter","target"),new is(Eo.decode(e.target),yo.decode(e.filter))}}class Gi{convert(e){return i(e,is),{filter:yo.encode(e.filter),target:Eo.encode(e.target)}}}class zi extends b{encoder=new Gi;decoder=new Ji}const ls=new zi;class Mi{helper;constructor(e){this.helper=e}async sendRequest(e,o,...t){return this.helper.submitRequest(e,"explorer",o,t)}async getBlockDetail(e){return await this.sendRequest(Nt,"getBlockDetail",rs.encode(e))}async getBlockSummaries(e){return await this.sendRequest(qt,"getBlockSummaries",ss.encode(e))}async getTransactionDetail(e){return await this.sendRequest(Mt,"getTransactionDetail",Jt.encode(e))}async getTransactionSummaries(e){return await this.sendRequest(Ht,"getTransactionSummaries",ls.encode(e))}async getExplorerOverview(){return await this.sendRequest(Ft,"getExplorerOverview",null)}async getSearchResult(e){return await this.sendRequest(Wt,"getSearchResult",ds.encode(e))}}function Hi(r){return new Worker(""+new URL("hotshot_query_service_web_worker_api.js-NKnaIE3v.js",import.meta.url).href,{name:r?.name})}class Li{helper;constructor(e){this.helper=e}async getStakeTableForEpoch(e){return await this.sendRequest(Xd,"getStakeTableForEpoch",s.encode(e))}async getValidatorsAtEpoch(e){return await this.sendRequest(Ut,"getValidatorsAtEpoch",s.encode(e))}async sendRequest(e,o,...t){return this.helper.submitRequest(e,"node",o,t)}}class us{constructor(e,o){this.height=e,this.address=o,Object.freeze(this)}toJSON(){return ne.encode(this)}}class Qi{convert(e){return a(e,"height","address"),new us(s.decode(e.height),h.decode(e.address))}}class ji{convert(e){return i(e,us),{height:s.encode(e.height),address:h.encode(e.address)}}}class Vi extends d{encoder=new ji;decoder=new Qi}const ne=new Vi;new xe(new Ie(ne),new _e(ne));class Ui{helper;constructor(e){this.helper=e}async sendRequest(e,o,...t){return this.helper.submitRequest(e,"reward-state",o,t)}async getLatestRewardBalance(e){return await this.sendRequest(Ao,"getLatestRewardBalance",h.encode(e))}async getLatestRewardClaimInput(e){return await this.sendRequest(Wo,"getLatestRewardClaimInput",h.encode(e))}async getRewardBalance(e){return await this.sendRequest(Ao,"getRewardBalance",ne.encode(e))}async getRewardClaimInput(e){return await this.sendRequest(Wo,"getRewardClaimInput",ne.encode(e))}}class Ki{helper;constructor(e){this.helper=e}async sendRequest(e,o,...t){return this.helper.submitRequest(e,"status",o,t)}async blockHeight(){return await this.sendRequest(s,"blockHeight")}}let $e=null;function $i(){return $e||($e=new Hi),$e}class Yi{availability;status;explorer;rewardState;node;helper;constructor(){const e=$i(),o=new Ri(e);this.helper=o,this.availability=new Ti(o),this.status=new Ki(o),this.explorer=new Mi(o),this.rewardState=new Ui(o),this.node=new Li(o)}async sendRequest(e,o,...t){return this.helper.submitRequest(e,"proxy",o,t)}async setURL(e){return await this.sendRequest(ie,"set-url",h.encode(e))}}const ar=zo.createContext(new hi);let fe=null;function Xi(r){return fe===null&&(fe=new Yi),r&&fe.setURL(r).then(e=>{e||console.warn("unable to set the url for the hotshot query service",r)},e=>{console.error("unable to set the url for the hotshot query service",r,e)}),fe}function Zi(r){return typeof window<"u"&&"Worker"in window||typeof self<"u"&&"Worker"in self?Xi(r):new ni}const Go=r=>{const o=zo.useContext(ps)?.hotshotQueryServiceURL;return hs.jsx(ar.Provider,{value:Zi(o),children:r.children})};try{ar.displayName="CappuccinoHotShotQueryServiceAPIContext",ar.__docgenInfo={description:"",displayName:"CappuccinoHotShotQueryServiceAPIContext",props:{}}}catch{}try{Go.displayName="ProvideCappuccinoHotShotQueryServiceAPIContext",Go.__docgenInfo={description:`ProvideCappuccinoHotShotQueryServiceAPIContext is a component that provides a
Cappuccino HotShot Query Service API using a default implementation that is
dependent on the environment that the code is being run within.`,displayName:"ProvideCappuccinoHotShotQueryServiceAPIContext",props:{}}}catch{}export{Ri as A,mn as B,ar as C,To as D,ni as F,us as H,Go as P,ke as R,Tt as W,po as a,uo as b,eo as c,qe as d,as as e,P as f,_a as g,ba as h,mi as i,_n as j,yl as k,so as l,L as m,ce as n,gl as o,it as p,se as q,ct as r,to as s,Zr as t,ie as u,is as v,Me as w,Je as x,Ro as y,mo as z};
