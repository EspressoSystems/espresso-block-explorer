import{j as t,a as n,F as p}from"./jsx-runtime-5BUNAZ9W.js";import"./DateTimeFormattersProvider-ew7zMQJ5.js";import"./LocaleProvider-pqvxCw-R.js";import{P as F}from"./RelativeTimeText-YyUKPtxp.js";import"./NumberFormattersProvider-qGn07z_Y.js";import{P as B,D as A}from"./PromiseResolver-3CMncE_b.js";import{W as T,h as I,g as z,P as W,F as L,S as U}from"./StoryBookPathResolver-vjSVlBqV.js";import"./DataTable-QvRX8GIE.js";import"./AnchorButton-otSsAsSc.js";import"./Button-nGjelwSV.js";import"./IconAnchorButton-yD9LQ3N1.js";import"./IconButton-yAenjv_7.js";import"./LabeledAnchorButton-WaSb0fXE.js";import"./LabeledButton-GV2hMMJ7.js";import{C as M}from"./Card-h8BJV9JH.js";import{a as O,H as j}from"./Heading2-n3LYvQdK.js";import{R as o}from"./index-4g5l5LRQ.js";import{T as c}from"./TabledLabeledValue-uTjZB1fd.js";import{b as P,O as $,P as V,a as q}from"./NavBar-0mq2-Ida.js";import{L as w}from"./Link-cIG_z142.js";import"./SocialMediaLinks-nhbEFc0o.js";import{H as G}from"./Header-BwOAaso_.js";import{H as J}from"./HexDump-Ie7aeshY.js";import{R as K}from"./RollUpSimple-Bmohx6DO.js";import{B as Q}from"./ByteSizeText-SEJ34lc5.js";import{D as X}from"./DateTimeText-0M6T_ChF.js";import{N as H}from"./NumberText-8xcSHIjc.js";import{T as i}from"./Text-qj7igP2-.js";import"./TimeText-XfKpDBzb.js";import{h as Y}from"./typography-_ddOfzBO.js";import"./SearchGlass-rctca2Bz.js";import"./ArrowRight-7jy2AcIh.js";import"./ChevronUp-YOF9PRnX.js";import"./TwitterIcon-tGO7qkG5.js";import"./EspressoLogo-i5IlZ4vG.js";import"./EspressoLogoAndTitle-S8HsCgCD.js";import"./Menu-Jn2Xkq9w.js";import"./SVGIconBase-1gvIJeM1.js";import{T as Z,c as ee}from"./TaggedBase64-ByXDuNC9.js";import{F as te}from"./FullHexText-GBC23OeJ.js";import{H as re}from"./HexText-thVAn2iS.js";import{T as ae}from"./TaggedBase64Text-taRMAtIn.js";import{c as ne}from"./functional-Rm0aYQEK.js";import{c as oe,e as ie,m as se}from"./functional_async-GTj58yym.js";import{F as ce}from"./Footer-AFE7v-kV.js";import"./higher_order-VtSBvwoq.js";import"./_commonjsHelpers-4gQjN7DL.js";const S=T(M),le=Y("label"),l=o.createContext(new ArrayBuffer(0)),u=()=>{const e=o.useContext(l);return t(le,{className:"sub-heading",children:t(te,{value:e})})},_=o.createContext({block:0,index:0,total:0,size:0,hash:new ArrayBuffer(0),time:new Date,sender:new Z("ERR",new ArrayBuffer(0)),tree:[]}),h=o.createContext({async retrieve(){throw new Error("unimplemented")}}),me=e=>{const r=o.useContext(_),a=o.useContext(P);return o.createElement(S,e,n(c,{children:[t(i,{text:"Block"}),t(w,{href:a.block(r.block),children:t(H,{number:r.block})})]}),n(c,{children:[t(i,{text:"Transaction index in block"}),t(i,{text:`index ${r.index} out of ${r.total} transactions`})]}),n(c,{children:[t(i,{text:"Transaction Size"}),t(Q,{bytes:r.size})]}),n(c,{children:[t(i,{text:"Espresso Sequencer Hash"}),t(re,{value:r.hash})]}),n(c,{children:[t(i,{text:"Time"}),t(X,{date:r.time})]}),n(c,{children:[t(i,{text:"Sender"}),t(ae,{value:r.sender})]}))},de=e=>{const r=o.useContext(A);return r?t(_.Provider,{value:r,children:e.children}):t(I,{children:t(i,{text:"No Data Found"})})},pe=T(O),he=()=>{const e=o.useContext(_),r=o.useContext(P),a=e.tree;return a.length<=0?null:n(p,{children:[t(pe,{children:t(i,{text:"Data"})}),a.map((s,m)=>t(S,{children:n(p,{children:[n(c,{children:[t(i,{text:"Rollup"}),n(p,{children:[t(K,{namespace:s.namespace}),t("br",{}),t(w,{href:r.rollUp(s.namespace),children:t(H,{number:s.namespace})})]})]}),n(c,{children:[t(i,{text:"Transaction data"}),t(J,{value:s.data})]})]})},m))]})},ue=e=>n(de,{children:[o.createElement(me,e),t(he,{})]}),x=e=>{const r=o.useContext(l),a=o.useContext(h);return t(B,{promise:a.retrieve(r),children:o.createElement(ue,e)})};try{l.displayName="TransactionCommitContext",l.__docgenInfo={description:"TransactionCommitContext represents the current hash for a Transaction.",displayName:"TransactionCommitContext",props:{}}}catch{}try{u.displayName="TransactionSubHeading",u.__docgenInfo={description:`TransactionSubHeading represents a sub heading for the Transaction Detail
Header.`,displayName:"TransactionSubHeading",props:{}}}catch{}try{h.displayName="RetrieverContext",h.__docgenInfo={description:`RetrieverContext is a context for retrieving the TransactionDetail
response.`,displayName:"RetrieverContext",props:{}}}catch{}try{x.displayName="TransactionDetailContent",x.__docgenInfo={description:`TransactionDetailContent uses the retriever from the RetrieverContext
to retrieve the data using the hash retrieved from the
TransactionCommitContext`,displayName:"TransactionDetailContent",props:{}}}catch{}function N(e){if(e.startsWith("0x"))return N(e.substring(2));if(e.length&1)throw new Error("Hex string invalid, not a multiple of 2");const r=new ArrayBuffer(e.length/2);return xe(ee(e),r),r}function xe(e,r){const a=new DataView(r);let s=0;for(;s<r.byteLength;){const m=e.next(),v=e.next();if(m.done||v.done)throw new Error("hex encoding terminated early");const R=y(m.value),E=y(v.value),k=R<<4|E;a.setUint8(s,k),s++}}function y(e){if(e>=48&&e<=57)return e-48;if(e>=97&&e<=102)return e-97+10;if(e>=65&&e<=70)return e-65+10;throw new TypeError(`invalid hex value "${e}"`)}async function*fe(){for await(const e of ie(z(),r=>se(r.transactions,a=>Promise.resolve({block:a.block,index:a.index,total:r.numTransactions,size:a.size,hash:a.hash,time:a.time,sender:a.sender,tree:a.tree}))))yield e}const f=e=>t(h.Provider,{...e,value:{async retrieve(r){const a=await oe(fe(),s=>ne(s.hash,r)===0);if(!a)throw new Error("Not Found");return a}}});try{f.displayName="ProvideFakeTransactionDetailDataSource",f.__docgenInfo={description:"",displayName:"ProvideFakeTransactionDetailDataSource",props:{}}}catch{}const ge=T(W),g=e=>n($,{page:V.transactions,children:[t(G,{}),n(ge,{children:[t(j,{children:t(i,{text:"Transaction Details"})}),t(u,{})]}),o.createElement(x,e),t(ce,{})]});try{g.displayName="TransactionPage",g.__docgenInfo={description:"",displayName:"TransactionPage",props:{}}}catch{}const Te=({hash:e,...r})=>n(p,{children:[t(L,{}),t(F,{children:t(q,{pathResolver:new U,children:t(l.Provider,{value:N(e),children:t(f,{children:t(g,{...r})})})})})]}),pt={title:"Pages/Transaction",component:Te,parameters:{layout:"fullscreen"}},d={args:{hash:"0xdeadbeef"}};var C,b,D;d.parameters={...d.parameters,docs:{...(C=d.parameters)==null?void 0:C.docs,source:{originalSource:`{
  args: {
    hash: '0xdeadbeef'
  }
}`,...(D=(b=d.parameters)==null?void 0:b.docs)==null?void 0:D.source}}};const ht=["Transaction"];export{d as Transaction,ht as __namedExportsOrder,pt as default};
