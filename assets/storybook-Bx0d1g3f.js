import{g as vt,j as E,R as F,r as Tt}from"./iframe-C4ZPvz3S.js";import{a as rt,E as V}from"./environment_banner-BsPCvtAV.js";import{E as te}from"./espresso-CGX_h02j.js";import{B as Ct}from"./explorer-Dq5uI5k4.js";import{C as xt,h as Et,j as It,U as St,T as kt,s as me,k as De,H as he,A as ot,m as Mt,r as Pt,B as ct,p as ut,n as oe,o as Nt,q as _t,t as Bt,L as At,u as Ot,v as Ft,w as Rt,x as fe,y as Ut,z as Vt,D as Dt,E as qt,R as ce,F as jt,G as Kt,I as q,P as H,S as Ie,J as de,K as le,M as B,N as Lt,O as ge,Q as Qt,V as qe,W as zt,X as Wt,Y as Ht,Z as we,_ as L,$ as Gt,a0 as $t,a1 as Jt,a2 as dt,a3 as Zt,a4 as O,a5 as je,a6 as U,a7 as lt,a8 as Xt,a9 as Ke,aa as Yt,ab as Le,ac as Qe,ad as en,ae as ze,af as We,ag as tn,ah as ne,ai as M,aj as Fe,ak as nn,al as an,am as sn,an as rn,ao as on,ap as pt,aq as cn,ar as un,as as dn,at as ln,au as pn}from"./en_US-RFN65H63-Cap129iG.js";import{c as Q,w as He}from"./wallet_address-_-ZG_Jzi.js";import{h as j}from"./array_buffer-D67g0v0K.js";import{b as z}from"./url-B2hYd5U-.js";import"./string-IJEBdhwx.js";import"./UnimplementedError-CdIPpzwU.js";import"./MissingElementError-CbV3pOXz.js";import"./base64-KHURY7_E.js";import{d as yn,a as mn}from"./assert-BI051aL8.js";import{m as yt,k as hn,g as fn}from"./functional-g5wG3Azh.js";import"./blocks-M9CpjV-n.js";import{n as gn}from"./nodes-oXhyEVah.js";function wn({chain:n,currentChainId:e}){if(!n)throw new xt;if(e!==n.id)throw new Et({chain:n,currentChainId:e})}function bn(n,{docsPath:e,...t}){const a=(()=>{const i=It(n,t);return i instanceof St?n:i})();return new kt(a,{docsPath:e,...t})}function mt(n,{errorInstance:e=new Error("timed out"),timeout:t,signal:a}){return new Promise((i,s)=>{(async()=>{let d;try{const u=new AbortController;t>0&&(d=setTimeout(()=>{a?u.abort():s(e)},t)),i(await n({signal:u?.signal||null}))}catch(u){u?.name==="AbortError"&&s(e),s(u)}finally{clearTimeout(d)}})()})}function vn(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Ge=vn();function ht(n,e={}){return{async request(t){const{body:a,fetchFn:i=e.fetchFn??fetch,onRequest:s=e.onRequest,onResponse:d=e.onResponse,timeout:u=e.timeout??1e4}=t,o={...e.fetchOptions??{},...t.fetchOptions??{}},{headers:r,method:c,signal:p}=o;try{const h=await mt(async({signal:f})=>{const y={...o,body:Array.isArray(a)?me(a.map(v=>({jsonrpc:"2.0",id:v.id??Ge.take(),...v}))):me({jsonrpc:"2.0",id:a.id??Ge.take(),...a}),headers:{"Content-Type":"application/json",...r},method:c||"POST",signal:p||(u>0?f:null)},m=new Request(n,y),C=await s?.(m,y)??{...y,url:n};return await i(C.url??n,C)},{errorInstance:new De({body:a,url:n}),timeout:u,signal:!0});d&&await d(h);let b;if(h.headers.get("Content-Type")?.startsWith("application/json"))b=await h.json();else{b=await h.text();try{b=JSON.parse(b||"{}")}catch(f){if(h.ok)throw f;b={error:b}}}if(!h.ok)throw new he({body:a,details:me(b.error)||h.statusText,headers:h.headers,status:h.status,url:n});return b}catch(h){throw h instanceof he||h instanceof De?h:new he({body:a,cause:h,url:n})}}}}function Tn(n,{body:e,onError:t,onResponse:a}){return n.request({body:e,onError:t,onResponse:a}),n}async function Cn(n,{body:e,timeout:t=1e4}){return n.requestAsync({body:e,timeout:t})}const be={http(n,e){return ht(n).request(e)},webSocket:Tn,webSocketAsync:Cn},ve=new At(128);async function xn(n,e){const{account:t=n.account,chain:a=n.chain,accessList:i,authorizationList:s,blobs:d,data:u,gas:o,gasPrice:r,maxFeePerBlobGas:c,maxFeePerGas:p,maxPriorityFeePerGas:h,nonce:b,type:f,value:y,...m}=e;if(typeof t>"u")throw new ot({docsPath:"/docs/actions/wallet/sendTransaction"});const C=t?ut(t):null;try{Mt(e);const T=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await Pt({authorization:s[0]}).catch(()=>{throw new ct("`to` is required. Could not infer from `authorizationList`.")})})();if(C?.type==="json-rpc"||C===null){let v;a!==null&&(v=await oe(n,Nt,"getChainId")({}),wn({currentChainId:v,chain:a}));const S=n.chain?.formatters?.transactionRequest?.format,g=(S||_t)({...Bt(m,{format:S}),accessList:i,authorizationList:s,blobs:d,chainId:v,data:u,from:C?.address,gas:o,gasPrice:r,maxFeePerBlobGas:c,maxFeePerGas:p,maxPriorityFeePerGas:h,nonce:b,to:T,type:f,value:y},"sendTransaction"),w=ve.get(n.uid),I=w?"wallet_sendTransaction":"eth_sendTransaction";try{return await n.request({method:I,params:[g]},{retryCount:0})}catch(x){if(w===!1)throw x;const k=x;if(k.name==="InvalidInputRpcError"||k.name==="InvalidParamsRpcError"||k.name==="MethodNotFoundRpcError"||k.name==="MethodNotSupportedRpcError")return await n.request({method:"wallet_sendTransaction",params:[g]},{retryCount:0}).then(P=>(ve.set(n.uid,!0),P)).catch(P=>{const N=P;throw N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError"?(ve.set(n.uid,!1),k):N});throw k}}if(C?.type==="local"){const v=await oe(n,Ot,"prepareTransactionRequest")({account:C,accessList:i,authorizationList:s,blobs:d,chain:a,data:u,gas:o,gasPrice:r,maxFeePerBlobGas:c,maxFeePerGas:p,maxPriorityFeePerGas:h,nonce:b,nonceManager:C.nonceManager,parameters:[...Ft,"sidecars"],type:f,value:y,...m,to:T}),S=a?.serializers?.transaction,l=await C.signTransaction(v,{serializer:S});return await oe(n,Rt,"sendRawTransaction")({serializedTransaction:l})}throw C?.type==="smart"?new fe({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new fe({docsPath:"/docs/actions/wallet/sendTransaction",type:C?.type})}catch(T){throw T instanceof fe?T:bn(T,{...e,account:C,chain:e.chain||void 0})}}async function En(n,e){const{abi:t,account:a=n.account,address:i,args:s,dataSuffix:d,functionName:u,...o}=e;if(typeof a>"u")throw new ot({docsPath:"/docs/contract/writeContract"});const r=a?ut(a):null,c=Ut({abi:t,args:s,functionName:u});try{return await oe(n,xn,"sendTransaction")({data:`${c}${d?d.replace("0x",""):""}`,to:i,account:r,...o})}catch(p){throw Vt(p,{abi:t,address:i,args:s,docsPath:"/docs/contract/writeContract",functionName:u,sender:r?.address})}}class In extends ct{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function $(n,e={}){const{batch:t,fetchFn:a,fetchOptions:i,key:s="http",methods:d,name:u="HTTP JSON-RPC",onFetchRequest:o,onFetchResponse:r,retryDelay:c,raw:p}=e;return({chain:h,retryCount:b,timeout:f})=>{const{batchSize:y=1e3,wait:m=0}=typeof t=="object"?t:{},C=e.retryCount??b,T=f??e.timeout??1e4,v=h?.rpcUrls.default.http[0];if(!v)throw new In;const S=ht(v,{fetchFn:a,fetchOptions:i,onRequest:o,onResponse:r,timeout:T});return Dt({key:s,methods:d,name:u,async request({method:l,params:g}){const w={method:l,params:g},{schedule:I}=qt({id:v,wait:m,shouldSplitBatch(N){return N.length>y},fn:N=>S.request({body:N}),sort:(N,A)=>N.id-A.id}),x=async N=>t?I(N):[await S.request({body:N})],[{error:k,result:P}]=await x(w);if(p)return{error:k,result:P};if(k)throw new ce({body:w,error:k,url:v});return P},retryCount:C,retryDelay:c,timeout:T,type:"http"},{fetchOptions:i,url:v})}}async function D(n,e){const{account:t,chainId:a,connector:i,...s}=e;let d;return typeof t=="object"&&t?.type==="local"?d=n.getClient({chainId:a}):d=await jt(n,{account:t??void 0,assertChainId:!1,chainId:a,connector:i}),await Kt(d,En,"writeContract")({...s,...t?{account:t}:{},chain:a?{id:a}:null})}Re.type="injected";function Re(n={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:t}=n;function a(){const o=n.target;if(typeof o=="function"){const r=o();if(r)return r}return typeof o=="object"?o:typeof o=="string"?{...Sn[o]??{id:o,name:`${o[0].toUpperCase()}${o.slice(1)}`,provider:`is${o[0].toUpperCase()}${o.slice(1)}`}}:{id:"injected",name:"Injected",provider(r){return r?.ethereum}}}let i,s,d,u;return o=>({get icon(){return a().icon},get id(){return a().id},get name(){return a().name},get supportsSimulation(){return!0},type:Re.type,async setup(){const r=await this.getProvider();r?.on&&n.target&&(d||(d=this.onConnect.bind(this),r.on("connect",d)),i||(i=this.onAccountsChanged.bind(this),r.on("accountsChanged",i)))},async connect({chainId:r,isReconnecting:c,withCapabilities:p}={}){const h=await this.getProvider();if(!h)throw new H;let b=[];if(c)b=await this.getAccounts().catch(()=>[]);else if(e)try{b=(await h.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(y=>q(y)),b.length>0&&(b=await this.getAccounts())}catch(f){const y=f;if(y.code===B.code)throw new B(y);if(y.code===ge.code)throw y}try{!b?.length&&!c&&(b=(await h.request({method:"eth_requestAccounts"})).map(m=>q(m))),d&&(h.removeListener("connect",d),d=void 0),i||(i=this.onAccountsChanged.bind(this),h.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),h.on("chainChanged",s)),u||(u=this.onDisconnect.bind(this),h.on("disconnect",u));let f=await this.getChainId();return r&&f!==r&&(f=(await this.switchChain({chainId:r}).catch(m=>{if(m.code===B.code)throw m;return{id:f}}))?.id??f),e&&await o.storage?.removeItem(`${this.id}.disconnected`),n.target||await o.storage?.setItem("injected.connected",!0),{accounts:p?b.map(y=>({address:y,capabilities:{}})):b,chainId:f}}catch(f){const y=f;throw y.code===B.code?new B(y):y.code===ge.code?new ge(y):y}},async disconnect(){const r=await this.getProvider();if(!r)throw new H;s&&(r.removeListener("chainChanged",s),s=void 0),u&&(r.removeListener("disconnect",u),u=void 0),d||(d=this.onConnect.bind(this),r.on("connect",d));try{await mt(()=>r.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await o.storage?.setItem(`${this.id}.disconnected`,!0),n.target||await o.storage?.removeItem("injected.connected")},async getAccounts(){const r=await this.getProvider();if(!r)throw new H;return(await r.request({method:"eth_accounts"})).map(p=>q(p))},async getChainId(){const r=await this.getProvider();if(!r)throw new H;const c=await r.request({method:"eth_chainId"});return Number(c)},async getProvider(){if(typeof window>"u")return;let r;const c=a();return typeof c.provider=="function"?r=c.provider(window):typeof c.provider=="string"?r=ue(window,c.provider):r=c.provider,r&&!r.removeListener&&("off"in r&&typeof r.off=="function"?r.removeListener=r.off:r.removeListener=()=>{}),r},async isAuthorized(){try{if(e&&await o.storage?.getItem(`${this.id}.disconnected`)||!n.target&&!await o.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(t!==void 0&&t!==!1){const h=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",h),!!await this.getProvider()),b=typeof t=="number"?t:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(y=>window.addEventListener("ethereum#initialized",()=>y(h()),{once:!0}))]:[],new Promise(y=>setTimeout(()=>y(h()),b))]))return!0}throw new H}return!!(await Lt(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:r,chainId:c}){const p=await this.getProvider();if(!p)throw new H;const h=o.chains.find(f=>f.id===c);if(!h)throw new Ie(new de);const b=new Promise(f=>{const y=(m=>{"chainId"in m&&m.chainId===c&&(o.emitter.off("change",y),f())});o.emitter.on("change",y)});try{return await Promise.all([p.request({method:"wallet_switchEthereumChain",params:[{chainId:le(c)}]}).then(async()=>{await this.getChainId()===c&&o.emitter.emit("change",{chainId:c})}),b]),h}catch(f){const y=f;if(y.code===4902||y?.data?.originalError?.code===4902)try{const{default:m,...C}=h.blockExplorers??{};let T;r?.blockExplorerUrls?T=r.blockExplorerUrls:m&&(T=[m.url,...Object.values(C).map(l=>l.url)]);let v;r?.rpcUrls?.length?v=r.rpcUrls:v=[h.rpcUrls.default?.http[0]??""];const S={blockExplorerUrls:T,chainId:le(c),chainName:r?.chainName??h.name,iconUrls:r?.iconUrls,nativeCurrency:r?.nativeCurrency??h.nativeCurrency,rpcUrls:v};return await Promise.all([p.request({method:"wallet_addEthereumChain",params:[S]}).then(async()=>{if(await this.getChainId()===c)o.emitter.emit("change",{chainId:c});else throw new B(new Error("User rejected switch after adding network."))}),b]),h}catch(m){throw new B(m)}throw y.code===B.code?new B(y):new Ie(y)}},async onAccountsChanged(r){if(r.length===0)this.onDisconnect();else if(o.emitter.listenerCount("connect")){const c=(await this.getChainId()).toString();this.onConnect({chainId:c}),e&&await o.storage?.removeItem(`${this.id}.disconnected`)}else o.emitter.emit("change",{accounts:r.map(c=>q(c))})},onChainChanged(r){const c=Number(r);o.emitter.emit("change",{chainId:c})},async onConnect(r){const c=await this.getAccounts();if(c.length===0)return;const p=Number(r.chainId);o.emitter.emit("connect",{accounts:c,chainId:p});const h=await this.getProvider();h&&(d&&(h.removeListener("connect",d),d=void 0),i||(i=this.onAccountsChanged.bind(this),h.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),h.on("chainChanged",s)),u||(u=this.onDisconnect.bind(this),h.on("disconnect",u)))},async onDisconnect(r){const c=await this.getProvider();r&&r.code===1013&&c&&(await this.getAccounts()).length||(o.emitter.emit("disconnect"),c&&(s&&(c.removeListener("chainChanged",s),s=void 0),u&&(c.removeListener("disconnect",u),u=void 0),d||(d=this.onConnect.bind(this),c.on("connect",d))))}})}const Sn={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(n){return n?.coinbaseWalletExtension?n.coinbaseWalletExtension:ue(n,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(n){return ue(n,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const t=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const a of t)if(e[a])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(n){return n?.phantom?.ethereum?n.phantom?.ethereum:ue(n,"isPhantom")}}};function ue(n,e){function t(i){return typeof e=="function"?e(i):typeof e=="string"?i[e]:!0}const a=n.ethereum;if(a?.providers)return a.providers.find(i=>t(i));if(a&&t(a))return a}Ue.type="mock";function Ue(n){const e=new Map,t=n.features??{defaultConnected:!1};let a=t.defaultConnected,i;return s=>({id:"mock",name:"Mock Connector",type:Ue.type,async setup(){i=s.chains[0].id},async connect({chainId:d,withCapabilities:u}={}){if(t.connectError)throw typeof t.connectError=="boolean"?new B(new Error("Failed to connect.")):t.connectError;const r=await(await this.getProvider()).request({method:"eth_requestAccounts"});let c=await this.getChainId();return d&&c!==d&&(c=(await this.switchChain({chainId:d})).id),a=!0,{accounts:u?r.map(p=>({address:q(p),capabilities:{foo:{bar:p}}})):r.map(p=>q(p)),chainId:c}},async disconnect(){a=!1},async getAccounts(){if(!a)throw new zt;return(await(await this.getProvider()).request({method:"eth_accounts"})).map(o=>q(o))},async getChainId(){const u=await(await this.getProvider()).request({method:"eth_chainId"});return qe(u,"number")},async isAuthorized(){return!t.reconnect||!a?!1:!!(await this.getAccounts()).length},async switchChain({chainId:d}){const u=await this.getProvider(),o=s.chains.find(r=>r.id===d);if(!o)throw new Ie(new de);return await u.request({method:"wallet_switchEthereumChain",params:[{chainId:le(d)}]}),o},onAccountsChanged(d){d.length===0?this.onDisconnect():s.emitter.emit("change",{accounts:d.map(u=>q(u))})},onChainChanged(d){const u=Number(d);s.emitter.emit("change",{chainId:u})},async onDisconnect(d){s.emitter.emit("disconnect"),a=!1},async getProvider({chainId:d}={}){const o=(s.chains.find(c=>c.id===d)??s.chains[0]).rpcUrls.default.http[0];return Qt({request:async({method:c,params:p})=>{if(c==="eth_chainId")return le(i);if(c==="eth_requestAccounts")return n.accounts;if(c==="eth_signTypedData_v4"&&t.signTypedDataError)throw typeof t.signTypedDataError=="boolean"?new B(new Error("Failed to sign typed data.")):t.signTypedDataError;if(c==="wallet_switchEthereumChain"){if(t.switchChainError)throw typeof t.switchChainError=="boolean"?new B(new Error("Failed to switch chain.")):t.switchChainError;i=qe(p[0].chainId,"number"),this.onChainChanged(i.toString());return}if(c==="wallet_watchAsset"){if(t.watchAssetError)throw typeof t.watchAssetError=="boolean"?new B(new Error("Failed to switch chain.")):t.watchAssetError;return a}if(c==="wallet_getCapabilities")return{"0x2105":{paymasterService:{supported:p[0]==="0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266"},sessionKeys:{supported:!0}},"0x14A34":{paymasterService:{supported:p[0]==="0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266"}}};if(c==="wallet_sendCalls"){const y=[],m=p[0].calls,C=p[0].from;for(const v of m){const{result:S,error:l}=await be.http(o,{body:{method:"eth_sendTransaction",params:[{...v,...typeof C<"u"?{from:C}:{}}]}});if(l)throw new ce({body:{method:c,params:p},error:l,url:o});y.push(S)}const T=Wt(Ht(JSON.stringify(m)));return e.set(T,y),{id:T}}if(c==="wallet_getCallsStatus"){const y=e.get(p[0]);if(!y)return{atomic:!1,chainId:"0x1",id:p[0],status:100,receipts:[],version:"2.0.0"};const C=(await Promise.all(y.map(async T=>{const{result:v,error:S}=await be.http(o,{body:{method:"eth_getTransactionReceipt",params:[T],id:0}});if(S)throw new ce({body:{method:c,params:p},error:S,url:o});return v?{blockHash:v.blockHash,blockNumber:v.blockNumber,gasUsed:v.gasUsed,logs:v.logs,status:v.status,transactionHash:v.transactionHash}:null}))).filter(T=>T!==null);return C.length===0?{atomic:!1,chainId:"0x1",id:p[0],status:100,receipts:[],version:"2.0.0"}:{atomic:!1,chainId:"0x1",id:p[0],status:200,receipts:C,version:"2.0.0"}}if(c==="wallet_showCallsStatus")return;if(c==="personal_sign"){if(t.signMessageError)throw typeof t.signMessageError=="boolean"?new B(new Error("Failed to sign message.")):t.signMessageError;c="eth_sign",p=[p[1],p[0]]}const h={method:c,params:p},{error:b,result:f}=await be.http(o,{body:h});if(b)throw new ce({body:h,error:b,url:o});return f}})({retryCount:0})}})}function kn(n){if(typeof window>"u")return;const e=t=>n(t.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function Mn(){const n=new Set;let e=[];const t=()=>kn(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],n.forEach(s=>s(e,{added:[i]})))});let a=t();return{_listeners(){return n},clear(){n.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),n.clear(),a?.()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),a?.(),a=t()},subscribe(i,{emitImmediately:s}={}){return n.add(i),s&&i(e,{added:e}),()=>n.delete(i)}}}const Pn=n=>(e,t,a)=>{const i=a.subscribe;return a.subscribe=(d,u,o)=>{let r=d;if(u){const c=o?.equalityFn||Object.is;let p=d(a.getState());r=h=>{const b=d(h);if(!c(p,b)){const f=p;u(p=b,f)}},o?.fireImmediately&&u(p,p)}return i(r)},n(e,t,a)},Nn=Pn;function _n(n,e){let t;try{t=n()}catch{return}return{getItem:i=>{var s;const d=o=>o===null?null:JSON.parse(o,void 0),u=(s=t.getItem(i))!=null?s:null;return u instanceof Promise?u.then(d):d(u)},setItem:(i,s)=>t.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>t.removeItem(i)}}const Se=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(a){return Se(a)(t)},catch(a){return this}}}catch(t){return{then(a){return this},catch(a){return Se(a)(t)}}}},Bn=(n,e)=>(t,a,i)=>{let s={storage:_n(()=>localStorage),partialize:y=>y,version:0,merge:(y,m)=>({...m,...y}),...e},d=!1;const u=new Set,o=new Set;let r=s.storage;if(!r)return n((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...y)},a,i);const c=()=>{const y=s.partialize({...a()});return r.setItem(s.name,{state:y,version:s.version})},p=i.setState;i.setState=(y,m)=>{p(y,m),c()};const h=n((...y)=>{t(...y),c()},a,i);i.getInitialState=()=>h;let b;const f=()=>{var y,m;if(!r)return;d=!1,u.forEach(T=>{var v;return T((v=a())!=null?v:h)});const C=((m=s.onRehydrateStorage)==null?void 0:m.call(s,(y=a())!=null?y:h))||void 0;return Se(r.getItem.bind(r))(s.name).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==s.version){if(s.migrate)return[!0,s.migrate(T.state,T.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,T.state];return[!1,void 0]}).then(T=>{var v;const[S,l]=T;if(b=s.merge(l,(v=a())!=null?v:h),t(b,!0),S)return c()}).then(()=>{C?.(b,void 0),b=a(),d=!0,o.forEach(T=>T(b))}).catch(T=>{C?.(void 0,T)})};return i.persist={setOptions:y=>{s={...s,...y},y.storage&&(r=y.storage)},clearStorage:()=>{r?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>f(),hasHydrated:()=>d,onHydrate:y=>(u.add(y),()=>{u.delete(y)}),onFinishHydration:y=>(o.add(y),()=>{o.delete(y)})},s.skipHydration||f(),b||h},An=Bn,$e=n=>{let e;const t=new Set,a=(r,c)=>{const p=typeof r=="function"?r(e):r;if(!Object.is(p,e)){const h=e;e=c??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(b=>b(e,h))}},i=()=>e,u={setState:a,getState:i,getInitialState:()=>o,subscribe:r=>(t.add(r),()=>t.delete(r))},o=e=n(a,i,u);return u},Te=n=>n?$e(n):$e;var Ce={exports:{}},Je;function On(){return Je||(Je=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(t=!1));function i(o,r,c){this.fn=o,this.context=r,this.once=c||!1}function s(o,r,c,p,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var b=new i(c,p||o,h),f=t?t+r:r;return o._events[f]?o._events[f].fn?o._events[f]=[o._events[f],b]:o._events[f].push(b):(o._events[f]=b,o._eventsCount++),o}function d(o,r){--o._eventsCount===0?o._events=new a:delete o._events[r]}function u(){this._events=new a,this._eventsCount=0}u.prototype.eventNames=function(){var r=[],c,p;if(this._eventsCount===0)return r;for(p in c=this._events)e.call(c,p)&&r.push(t?p.slice(1):p);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(c)):r},u.prototype.listeners=function(r){var c=t?t+r:r,p=this._events[c];if(!p)return[];if(p.fn)return[p.fn];for(var h=0,b=p.length,f=new Array(b);h<b;h++)f[h]=p[h].fn;return f},u.prototype.listenerCount=function(r){var c=t?t+r:r,p=this._events[c];return p?p.fn?1:p.length:0},u.prototype.emit=function(r,c,p,h,b,f){var y=t?t+r:r;if(!this._events[y])return!1;var m=this._events[y],C=arguments.length,T,v;if(m.fn){switch(m.once&&this.removeListener(r,m.fn,void 0,!0),C){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,c),!0;case 3:return m.fn.call(m.context,c,p),!0;case 4:return m.fn.call(m.context,c,p,h),!0;case 5:return m.fn.call(m.context,c,p,h,b),!0;case 6:return m.fn.call(m.context,c,p,h,b,f),!0}for(v=1,T=new Array(C-1);v<C;v++)T[v-1]=arguments[v];m.fn.apply(m.context,T)}else{var S=m.length,l;for(v=0;v<S;v++)switch(m[v].once&&this.removeListener(r,m[v].fn,void 0,!0),C){case 1:m[v].fn.call(m[v].context);break;case 2:m[v].fn.call(m[v].context,c);break;case 3:m[v].fn.call(m[v].context,c,p);break;case 4:m[v].fn.call(m[v].context,c,p,h);break;default:if(!T)for(l=1,T=new Array(C-1);l<C;l++)T[l-1]=arguments[l];m[v].fn.apply(m[v].context,T)}}return!0},u.prototype.on=function(r,c,p){return s(this,r,c,p,!1)},u.prototype.once=function(r,c,p){return s(this,r,c,p,!0)},u.prototype.removeListener=function(r,c,p,h){var b=t?t+r:r;if(!this._events[b])return this;if(!c)return d(this,b),this;var f=this._events[b];if(f.fn)f.fn===c&&(!h||f.once)&&(!p||f.context===p)&&d(this,b);else{for(var y=0,m=[],C=f.length;y<C;y++)(f[y].fn!==c||h&&!f[y].once||p&&f[y].context!==p)&&m.push(f[y]);m.length?this._events[b]=m.length===1?m[0]:m:d(this,b)}return this},u.prototype.removeAllListeners=function(r){var c;return r?(c=t?t+r:r,this._events[c]&&d(this,c)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=t,u.EventEmitter=u,n.exports=u})(Ce)),Ce.exports}var Fn=On();const Rn=vt(Fn);class Un{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new Rn})}on(e,t){this._emitter.on(e,t)}once(e,t){this._emitter.once(e,t)}off(e,t){this._emitter.off(e,t)}emit(e,...t){const a=t[0];this._emitter.emit(e,{uid:this.uid,...a})}listenerCount(e){return this._emitter.listenerCount(e)}}function Vn(n){return new Un(n)}function Dn(n,e){return JSON.parse(n,(t,a)=>{let i=a;return i?.__type==="bigint"&&(i=BigInt(i.value)),i?.__type==="Map"&&(i=new Map(i.value)),e?.(t,i)??i})}function Ze(n,e){return n.slice(0,e).join(".")||"."}function Xe(n,e){const{length:t}=n;for(let a=0;a<t;++a)if(n[a]===e)return a+1;return 0}function qn(n,e){const t=typeof n=="function",a=typeof e=="function",i=[],s=[];return function(u,o){if(typeof o=="object")if(i.length){const r=Xe(i,this);r===0?i[i.length]=this:(i.splice(r),s.splice(r)),s[s.length]=u;const c=Xe(i,o);if(c!==0)return a?e.call(this,u,o,Ze(s,c)):`[ref=${Ze(s,c)}]`}else i[0]=o,s[0]=u;return t?n.call(this,u,o):o}}function jn(n,e,t,a){return JSON.stringify(n,qn((i,s)=>{let d=s;return typeof d=="bigint"&&(d={__type:"bigint",value:s.toString()}),d instanceof Map&&(d={__type:"Map",value:Array.from(s.entries())}),e?.(i,d)??d},a),t??void 0)}function Kn(n){const{deserialize:e=Dn,key:t="wagmi",serialize:a=jn,storage:i=ft}=n;function s(d){return d instanceof Promise?d.then(u=>u).catch(()=>null):d}return{...i,key:t,async getItem(d,u){const o=i.getItem(`${t}.${d}`),r=await s(o);return r?e(r)??null:u??null},async setItem(d,u){const o=`${t}.${d}`;u===null?await s(i.removeItem(o)):await s(i.setItem(o,a(u)))},async removeItem(d){await s(i.removeItem(`${t}.${d}`))}}}const ft={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function Ln(){const n=typeof window<"u"&&window.localStorage?window.localStorage:ft;return{getItem(e){return n.getItem(e)},removeItem(e){n.removeItem(e)},setItem(e,t){try{n.setItem(e,t)}catch{}}}}const ke=256;let ie=ke,se;function Qn(n=11){if(!se||ie+n>ke*2){se="",ie=0;for(let e=0;e<ke;e++)se+=(256+Math.random()*256|0).toString(16).substring(1)}return se.substring(ie,ie+++n)}function J(n){const{multiInjectedProviderDiscovery:e=!0,storage:t=Kn({storage:Ln()}),syncConnectedChain:a=!0,ssr:i=!1,...s}=n,d=typeof window<"u"&&e?Mn():void 0,u=Te(()=>s.chains),o=Te(()=>{const l=[],g=new Set;for(const w of s.connectors??[]){const I=r(w);if(l.push(I),!i&&I.rdns){const x=typeof I.rdns=="string"?[I.rdns]:I.rdns;for(const k of x)g.add(k)}}if(!i&&d){const w=d.getProviders();for(const I of w)g.has(I.info.rdns)||l.push(r(c(I)))}return l});function r(l){const g=Vn(Qn()),w={...l({emitter:g,chains:u.getState(),storage:t,transports:s.transports}),emitter:g,uid:g.uid};return g.on("connect",v),w.setup?.(),w}function c(l){const{info:g}=l,w=l.provider;return Re({target:{...g,id:g.rdns,provider:w}})}const p=new Map;function h(l={}){const g=l.chainId??m.getState().chainId,w=u.getState().find(x=>x.id===g);if(l.chainId&&!w)throw new de;{const x=p.get(m.getState().chainId);if(x&&!w)return x;if(!w)throw new de}{const x=p.get(g);if(x)return x}let I;if(s.client)I=s.client({chain:w});else{const x=w.id,k=u.getState().map(A=>A.id),P={},N=Object.entries(s);for(const[A,W]of N)if(!(A==="chains"||A==="client"||A==="connectors"||A==="transports"))if(typeof W=="object")if(x in W)P[A]=W[x];else{if(k.some(bt=>bt in W))continue;P[A]=W}else P[A]=W;I=L({...P,chain:w,batch:P.batch??{multicall:!0},transport:A=>s.transports[x]({...A,connectors:o})})}return p.set(g,I),I}function b(){return{chainId:u.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let f;const y="0.0.0-canary-";we.startsWith(y)?f=Number.parseInt(we.replace(y,""),10):f=Number.parseInt(we.split(".")[0]??"0",10);const m=Te(Nn(t?An(b,{migrate(l,g){if(g===f)return l;const w=b(),I=C(l,w.chainId);return{...w,chainId:I}},name:"store",partialize(l){return{connections:{__type:"Map",value:Array.from(l.connections.entries()).map(([g,w])=>{const{id:I,name:x,type:k,uid:P}=w.connector;return[g,{...w,connector:{id:I,name:x,type:k,uid:P}}]})},chainId:l.chainId,current:l.current}},merge(l,g){typeof l=="object"&&l&&"status"in l&&delete l.status;const w=C(l,g.chainId);return{...g,...l,chainId:w}},skipHydration:i,storage:t,version:f}):b));m.setState(b());function C(l,g){return l&&typeof l=="object"&&"chainId"in l&&typeof l.chainId=="number"&&u.getState().some(w=>w.id===l.chainId)?l.chainId:g}a&&m.subscribe(({connections:l,current:g})=>g?l.get(g)?.chainId:void 0,l=>{if(u.getState().some(w=>w.id===l))return m.setState(w=>({...w,chainId:l??w.chainId}))}),d?.subscribe(l=>{const g=new Set,w=new Set;for(const x of o.getState())if(g.add(x.id),x.rdns){const k=typeof x.rdns=="string"?[x.rdns]:x.rdns;for(const P of k)w.add(P)}const I=[];for(const x of l){if(w.has(x.info.rdns))continue;const k=r(c(x));g.has(k.id)||I.push(k)}t&&!m.persist.hasHydrated()||o.setState(x=>[...x,...I],!0)});function T(l){m.setState(g=>{const w=g.connections.get(l.uid);return w?{...g,connections:new Map(g.connections).set(l.uid,{accounts:l.accounts??w.accounts,chainId:l.chainId??w.chainId,connector:w.connector})}:g})}function v(l){m.getState().status==="connecting"||m.getState().status==="reconnecting"||m.setState(g=>{const w=o.getState().find(I=>I.uid===l.uid);return w?(w.emitter.listenerCount("connect")&&w.emitter.off("connect",T),w.emitter.listenerCount("change")||w.emitter.on("change",T),w.emitter.listenerCount("disconnect")||w.emitter.on("disconnect",S),{...g,connections:new Map(g.connections).set(l.uid,{accounts:l.accounts,chainId:l.chainId,connector:w}),current:l.uid,status:"connected"}):g})}function S(l){m.setState(g=>{const w=g.connections.get(l.uid);if(w){const x=w.connector;x.emitter.listenerCount("change")&&w.connector.emitter.off("change",T),x.emitter.listenerCount("disconnect")&&w.connector.emitter.off("disconnect",S),x.emitter.listenerCount("connect")||w.connector.emitter.on("connect",v)}if(g.connections.delete(l.uid),g.connections.size===0)return{...g,connections:new Map,current:null,status:"disconnected"};const I=g.connections.values().next().value;return{...g,connections:new Map(g.connections),current:I.connector.uid}})}return{get chains(){return u.getState()},get connectors(){return o.getState()},storage:t,getClient:h,get state(){return m.getState()},setState(l){let g;typeof l=="function"?g=l(m.getState()):g=l;const w=b();typeof g!="object"&&(g=w),Object.keys(w).some(x=>!(x in g))&&(g=w),m.setState(g,!0)},subscribe(l,g,w){return m.subscribe(l,g,w?{...w,fireImmediately:w.emitImmediately}:void 0)},_internal:{mipd:d,async revalidate(){const l=m.getState(),g=l.connections;let w=l.current;for(const[,I]of g){const x=I.connector;x.isAuthorized&&await x.isAuthorized()||(g.delete(x.uid),w===x.uid&&(w=null))}m.setState(I=>({...I,connections:g,current:w}))},store:m,ssr:!!i,syncConnectedChain:a,transports:s.transports,chains:{setState(l){const g=typeof l=="function"?l(u.getState()):l;if(g.length!==0)return u.setState(g,!0)},subscribe(l){return u.subscribe(l)}},connectors:{providerDetailToConnector:c,setup:r,setState(l){return o.setState(typeof l=="function"?l(o.getState()):l,!0)},subscribe(l){return o.subscribe(l)}},events:{change:T,connect:v,disconnect:S}}}}function Ye(n){return{onFetch:(e,t)=>{const a=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],d=e.state.data?.pageParams||[];let u={pages:[],pageParams:[]},o=0;const r=async()=>{let c=!1;const p=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},h=Gt(e.options,e.fetchOptions),b=async(f,y,m)=>{if(c)return Promise.reject();if(y==null&&f.pages.length)return Promise.resolve(f);const T=(()=>{const g={client:e.client,queryKey:e.queryKey,pageParam:y,direction:m?"backward":"forward",meta:e.options.meta};return p(g),g})(),v=await h(T),{maxPages:S}=e.options,l=m?$t:Jt;return{pages:l(f.pages,v,S),pageParams:l(f.pageParams,y,S)}};if(i&&s.length){const f=i==="backward",y=f?zn:et,m={pages:s,pageParams:d},C=y(a,m);u=await b(m,C,f)}else{const f=n??s.length;do{const y=o===0?d[0]??a.initialPageParam:et(a,u);if(o>0&&y==null)break;u=await b(u,y),o++}while(o<f)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(r,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=r}}}function et(n,{pages:e,pageParams:t}){const a=e.length-1;return e.length>0?n.getNextPageParam(e[a],e,t[a],t):void 0}function zn(n,{pages:e,pageParams:t}){return e.length>0?n.getPreviousPageParam?.(e[0],e,t[0],t):void 0}var Wn=class extends dt{constructor(n={}){super(),this.config=n,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(n,e,t){const a=new Zt({client:n,mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(e),state:t});return this.add(a),a}add(n){this.#e.add(n);const e=re(n);if(typeof e=="string"){const t=this.#t.get(e);t?t.push(n):this.#t.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#e.delete(n)){const e=re(n);if(typeof e=="string"){const t=this.#t.get(e);if(t)if(t.length>1){const a=t.indexOf(n);a!==-1&&t.splice(a,1)}else t[0]===n&&this.#t.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=re(n);if(typeof e=="string"){const a=this.#t.get(e)?.find(i=>i.state.status==="pending");return!a||a===n}else return!0}runNext(n){const e=re(n);return typeof e=="string"?this.#t.get(e)?.find(a=>a!==n&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){O.batch(()=>{this.#e.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(n){const e={exact:!0,...n};return this.getAll().find(t=>je(e,t))}findAll(n={}){return this.getAll().filter(e=>je(n,e))}notify(n){O.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return O.batch(()=>Promise.all(n.map(e=>e.continue().catch(U))))}};function re(n){return n.options.scope?.id}var Hn=class extends dt{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,e,t){const a=e.queryKey,i=e.queryHash??lt(a,e);let s=this.get(i);return s||(s=new Xt({client:n,queryKey:a,queryHash:i,options:n.defaultQueryOptions(e),state:t,defaultOptions:n.getQueryDefaults(a)}),this.add(s)),s}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#e.get(n.queryHash);e&&(n.destroy(),e===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){O.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(t=>Ke(e,t))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(t=>Ke(n,t)):e}notify(n){O.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){O.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){O.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},Gn=class{#e;#t;#n;#i;#s;#a;#r;#o;constructor(n={}){this.#e=n.queryCache||new Hn,this.#t=n.mutationCache||new Wn,this.#n=n.defaultOptions||{},this.#i=new Map,this.#s=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#r=Yt.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=Le.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#r?.(),this.#r=void 0,this.#o?.(),this.#o=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=this.#e.build(this,e),a=t.state.data;return a===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Qe(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(a))}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:e,state:t})=>{const a=t.data;return[e,a]})}setQueryData(n,e,t){const a=this.defaultQueryOptions({queryKey:n}),s=this.#e.get(a.queryHash)?.state.data,d=en(e,s);if(d!==void 0)return this.#e.build(this,a).setData(d,{...t,manual:!0})}setQueriesData(n,e,t){return O.batch(()=>this.#e.findAll(n).map(({queryKey:a})=>[a,this.setQueryData(a,e,t)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state}removeQueries(n){const e=this.#e;O.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=this.#e;return O.batch(()=>(t.findAll(n).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},a=O.batch(()=>this.#e.findAll(n).map(i=>i.cancel(t)));return Promise.all(a).then(U).catch(U)}invalidateQueries(n,e={}){return O.batch(()=>(this.#e.findAll(n).forEach(t=>{t.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},a=O.batch(()=>this.#e.findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,t);return t.throwOnError||(s=s.catch(U)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(a).then(U)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=this.#e.build(this,e);return t.isStaleByTime(Qe(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(U).catch(U)}fetchInfiniteQuery(n){return n.behavior=Ye(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(U).catch(U)}ensureInfiniteQueryData(n){return n.behavior=Ye(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Le.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#i.set(ze(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#i.values()],t={};return e.forEach(a=>{We(n,a.queryKey)&&Object.assign(t,a.defaultOptions)}),t}setMutationDefaults(n,e){this.#s.set(ze(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#s.values()],t={};return e.forEach(a=>{We(n,a.mutationKey)&&Object.assign(t,a.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=lt(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===tn&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}};const $n=ne({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0}),R=[{type:"constructor",inputs:[],stateMutability:"nonpayable"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"allowance",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"spender",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"decimals",inputs:[],outputs:[{name:"",type:"uint8",internalType:"uint8"}],stateMutability:"view"},{type:"function",name:"getVersion",inputs:[],outputs:[{name:"majorVersion",type:"uint8",internalType:"uint8"},{name:"minorVersion",type:"uint8",internalType:"uint8"},{name:"patchVersion",type:"uint8",internalType:"uint8"}],stateMutability:"pure"},{type:"function",name:"initialize",inputs:[{name:"_owner",type:"address",internalType:"address"},{name:"_initialGrantRecipient",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"newImplementation",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Upgrade",inputs:[{name:"implementation",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"ERC20InsufficientAllowance",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"allowance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ERC20InsufficientBalance",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"balance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ERC20InvalidApprover",inputs:[{name:"approver",type:"address",internalType:"address"}]},{type:"error",name:"ERC20InvalidReceiver",inputs:[{name:"receiver",type:"address",internalType:"address"}]},{type:"error",name:"ERC20InvalidSender",inputs:[{name:"sender",type:"address",internalType:"address"}]},{type:"error",name:"ERC20InvalidSpender",inputs:[{name:"spender",type:"address",internalType:"address"}]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]}];class Jn{constructor(e,t,a){this.config=e,this.chainID=t,this.address=a,this.address=a,this.chainID=t,this.config=e}async getVersion(){return M(this.config,{abi:R,address:this.address,chainId:this.chainID,functionName:"getVersion"})}async name(){return M(this.config,{abi:R,address:this.address,chainId:this.chainID,functionName:"name"})}async symbol(){return M(this.config,{abi:R,address:this.address,chainId:this.chainID,functionName:"symbol"})}async decimals(){return M(this.config,{abi:R,address:this.address,chainId:this.chainID,functionName:"decimals"})}async totalSupply(){return M(this.config,{abi:R,address:this.address,chainId:this.chainID,functionName:"totalSupply"})}async balanceOf(e){return M(this.config,{abi:R,address:this.address,chainId:this.chainID,functionName:"balanceOf",args:[e]})}async allowance(e,t){return M(this.config,{abi:R,address:this.address,chainId:this.chainID,functionName:"allowance",args:[e,t]})}async transfer(e,t){return D(this.config,{abi:R,address:this.address,chainId:this.chainID,functionName:"transfer",args:[e,t]})}async approve(e,t){return D(this.config,{abi:R,address:this.address,chainId:this.chainID,functionName:"approve",args:[e,t]})}async transferFrom(e,t,a){return D(this.config,{abi:R,address:this.address,chainId:this.chainID,functionName:"transferFrom",args:[e,t,a]})}}const X=F.createContext(null),Me=({children:n})=>E.jsx(Zn,{children:n}),Zn=({children:n})=>{const e=Fe(),t=F.useContext(te);if(!t||!t.espTokenContractAddress)return E.jsx(E.Fragment,{children:n});const a=new Jn(e,e.chains[0].id,t.espTokenContractAddress);return E.jsx(X.Provider,{value:a,children:n})};try{X.displayName="ESPTokenContractContext",X.__docgenInfo={description:`ESPTokenContractContext provides a React Context
for the ESP token contract.`,displayName:"ESPTokenContractContext",props:{}}}catch{}try{Me.displayName="ProvideESPTokenContract",Me.__docgenInfo={description:`ProvideESPTokenContract is a React component that provides
the ESP token contract via ESPTokenContractContext.`,displayName:"ProvideESPTokenContract",props:{}}}catch{}const _=[{type:"constructor",inputs:[],stateMutability:"nonpayable"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"_hashBlsKey",inputs:[{name:"blsVK",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"blsKeys",inputs:[{name:"blsKeyHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"used",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"claimValidatorExit",inputs:[{name:"validator",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"claimWithdrawal",inputs:[{name:"validator",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegate",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegations",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"deregisterValidator",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"exitEscrowPeriod",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getVersion",inputs:[],outputs:[{name:"majorVersion",type:"uint8",internalType:"uint8"},{name:"minorVersion",type:"uint8",internalType:"uint8"},{name:"patchVersion",type:"uint8",internalType:"uint8"}],stateMutability:"pure"},{type:"function",name:"initialize",inputs:[{name:"_tokenAddress",type:"address",internalType:"address"},{name:"_lightClientAddress",type:"address",internalType:"address"},{name:"_exitEscrowPeriod",type:"uint256",internalType:"uint256"},{name:"_initialOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"initializedAtBlock",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"lightClient",inputs:[],outputs:[{name:"",type:"address",internalType:"contract LightClientV2"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"registerValidator",inputs:[{name:"blsVK",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVK",type:"tuple",internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"blsSig",type:"tuple",internalType:"struct BN254.G1Point",components:[{name:"x",type:"uint256",internalType:"BN254.BaseField"},{name:"y",type:"uint256",internalType:"BN254.BaseField"}]},{name:"commission",type:"uint16",internalType:"uint16"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"token",inputs:[],outputs:[{name:"",type:"address",internalType:"contract ERC20"}],stateMutability:"view"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"undelegate",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"undelegations",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"},{name:"unlocksAt",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"updateConsensusKeys",inputs:[{name:"newBlsVK",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"newSchnorrVK",type:"tuple",internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"newBlsSig",type:"tuple",internalType:"struct BN254.G1Point",components:[{name:"x",type:"uint256",internalType:"BN254.BaseField"},{name:"y",type:"uint256",internalType:"BN254.BaseField"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"newImplementation",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"validatorExits",inputs:[{name:"validator",type:"address",internalType:"address"}],outputs:[{name:"unlocksAt",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"validators",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"delegatedAmount",type:"uint256",internalType:"uint256"},{name:"status",type:"uint8",internalType:"enum StakeTable.ValidatorStatus"}],stateMutability:"view"},{type:"event",name:"ConsensusKeysUpdated",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"blsVK",type:"tuple",indexed:!1,internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVK",type:"tuple",indexed:!1,internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]}],anonymous:!1},{type:"event",name:"Delegated",inputs:[{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"validator",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Undelegated",inputs:[{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"validator",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Upgrade",inputs:[{name:"implementation",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ValidatorExit",inputs:[{name:"validator",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ValidatorRegistered",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"blsVk",type:"tuple",indexed:!1,internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVk",type:"tuple",indexed:!1,internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"commission",type:"uint16",indexed:!1,internalType:"uint16"}],anonymous:!1},{type:"event",name:"Withdrawal",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"BLSSigVerificationFailed",inputs:[]},{type:"error",name:"BlsKeyAlreadyUsed",inputs:[]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InsufficientAllowance",inputs:[{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"}]},{type:"error",name:"InsufficientBalance",inputs:[{name:"",type:"uint256",internalType:"uint256"}]},{type:"error",name:"InvalidCommission",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"InvalidSchnorrVK",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"NothingToWithdraw",inputs:[]},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"PrematureWithdrawal",inputs:[]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"UndelegationAlreadyExists",inputs:[]},{type:"error",name:"ValidatorAlreadyExited",inputs:[]},{type:"error",name:"ValidatorAlreadyRegistered",inputs:[]},{type:"error",name:"ValidatorInactive",inputs:[]},{type:"error",name:"ValidatorNotExited",inputs:[]},{type:"error",name:"ZeroAddress",inputs:[]},{type:"error",name:"ZeroAmount",inputs:[]}];class gt{constructor(e,t,a){this.config=e,this.chainID=t,this.address=a,this.address=a,this.chainID=t,this.config=e}async lightClient(){return M(this.config,{abi:_,address:this.address,chainId:this.chainID,functionName:"lightClient"})}async token(){return M(this.config,{abi:_,address:this.address,chainId:this.chainID,functionName:"token"})}async validator(e){return await M(this.config,{abi:_,address:this.address,chainId:this.chainID,functionName:"validators",args:[e]})}async blsKey(e){return M(this.config,{abi:_,address:this.address,chainId:this.chainID,functionName:"blsKeys",args:[e]})}async validatorExit(e){return M(this.config,{abi:_,address:this.address,chainId:this.chainID,functionName:"validatorExits",args:[e]})}async delegation(e,t){return M(this.config,{abi:_,address:this.address,chainId:this.chainID,functionName:"delegations",args:[e,t]})}async undelegation(e,t){return M(this.config,{abi:_,address:this.address,chainId:this.chainID,functionName:"undelegations",args:[e,t]})}async exitEscrowPeriod(){return M(this.config,{abi:_,address:this.address,chainId:this.chainID,functionName:"exitEscrowPeriod"})}async getVersion(){return M(this.config,{abi:_,address:this.address,chainId:this.chainID,functionName:"getVersion"})}async deregisterValidator(){return D(this.config,{abi:_,address:this.address,chainId:this.chainID,functionName:"deregisterValidator"})}async delegate(e,t){return D(this.config,{abi:_,address:this.address,chainId:this.chainID,functionName:"delegate",args:[e,t]})}async undelegate(e,t){return D(this.config,{abi:_,address:this.address,chainId:this.chainID,functionName:"undelegate",args:[e,t]})}async claimWithdrawal(e){return D(this.config,{abi:_,address:this.address,chainId:this.chainID,functionName:"claimWithdrawal",args:[e]})}async claimValidatorExit(e){return D(this.config,{abi:_,address:this.address,chainId:this.chainID,functionName:"claimValidatorExit",args:[e]})}}const G=[{type:"constructor",inputs:[],stateMutability:"nonpayable"},{type:"function",name:"DEFAULT_ADMIN_ROLE",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"PAUSER_ROLE",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"_hashBlsKey",inputs:[{name:"blsVK",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"activeStake",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"blsKeys",inputs:[{name:"blsKeyHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"used",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"claimValidatorExit",inputs:[{name:"validator",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"claimWithdrawal",inputs:[{name:"validator",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"commissionTracking",inputs:[{name:"validator",type:"address",internalType:"address"}],outputs:[{name:"commission",type:"uint16",internalType:"uint16"},{name:"lastIncreaseTime",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"delegate",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegations",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"deregisterValidator",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"exitEscrowPeriod",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getRoleAdmin",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getVersion",inputs:[],outputs:[{name:"majorVersion",type:"uint8",internalType:"uint8"},{name:"minorVersion",type:"uint8",internalType:"uint8"},{name:"patchVersion",type:"uint8",internalType:"uint8"}],stateMutability:"pure"},{type:"function",name:"grantRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"hasRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"_tokenAddress",type:"address",internalType:"address"},{name:"_lightClientAddress",type:"address",internalType:"address"},{name:"_exitEscrowPeriod",type:"uint256",internalType:"uint256"},{name:"_timelock",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"initializeV2",inputs:[{name:"pauser",type:"address",internalType:"address"},{name:"admin",type:"address",internalType:"address"},{name:"initialActiveStake",type:"uint256",internalType:"uint256"},{name:"initialCommissions",type:"tuple[]",internalType:"struct StakeTableV2.InitialCommission[]",components:[{name:"validator",type:"address",internalType:"address"},{name:"commission",type:"uint16",internalType:"uint16"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"initializedAtBlock",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"lightClient",inputs:[],outputs:[{name:"",type:"address",internalType:"contract ILightClient"}],stateMutability:"view"},{type:"function",name:"maxCommissionIncrease",inputs:[],outputs:[{name:"",type:"uint16",internalType:"uint16"}],stateMutability:"view"},{type:"function",name:"minCommissionIncreaseInterval",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"pause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"paused",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"registerValidator",inputs:[{name:"",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"",type:"tuple",internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"",type:"tuple",internalType:"struct BN254.G1Point",components:[{name:"x",type:"uint256",internalType:"BN254.BaseField"},{name:"y",type:"uint256",internalType:"BN254.BaseField"}]},{name:"",type:"uint16",internalType:"uint16"}],outputs:[],stateMutability:"pure"},{type:"function",name:"registerValidatorV2",inputs:[{name:"blsVK",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVK",type:"tuple",internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"blsSig",type:"tuple",internalType:"struct BN254.G1Point",components:[{name:"x",type:"uint256",internalType:"BN254.BaseField"},{name:"y",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrSig",type:"bytes",internalType:"bytes"},{name:"commission",type:"uint16",internalType:"uint16"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"renounceRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"callerConfirmation",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"revokeRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"schnorrKeys",inputs:[{name:"schnorrKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"used",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"setMaxCommissionIncrease",inputs:[{name:"newMaxIncrease",type:"uint16",internalType:"uint16"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setMinCommissionUpdateInterval",inputs:[{name:"newInterval",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"token",inputs:[],outputs:[{name:"",type:"address",internalType:"contract ERC20"}],stateMutability:"view"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"undelegate",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"undelegations",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"},{name:"unlocksAt",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"unpause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateCommission",inputs:[{name:"newCommission",type:"uint16",internalType:"uint16"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateConsensusKeys",inputs:[{name:"",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"",type:"tuple",internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"",type:"tuple",internalType:"struct BN254.G1Point",components:[{name:"x",type:"uint256",internalType:"BN254.BaseField"},{name:"y",type:"uint256",internalType:"BN254.BaseField"}]}],outputs:[],stateMutability:"pure"},{type:"function",name:"updateConsensusKeysV2",inputs:[{name:"blsVK",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVK",type:"tuple",internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"blsSig",type:"tuple",internalType:"struct BN254.G1Point",components:[{name:"x",type:"uint256",internalType:"BN254.BaseField"},{name:"y",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrSig",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateExitEscrowPeriod",inputs:[{name:"newExitEscrowPeriod",type:"uint64",internalType:"uint64"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"newImplementation",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"validatorExits",inputs:[{name:"validator",type:"address",internalType:"address"}],outputs:[{name:"unlocksAt",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"validators",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"delegatedAmount",type:"uint256",internalType:"uint256"},{name:"status",type:"uint8",internalType:"enum StakeTable.ValidatorStatus"}],stateMutability:"view"},{type:"event",name:"CommissionUpdated",inputs:[{name:"validator",type:"address",indexed:!0,internalType:"address"},{name:"timestamp",type:"uint256",indexed:!1,internalType:"uint256"},{name:"oldCommission",type:"uint16",indexed:!1,internalType:"uint16"},{name:"newCommission",type:"uint16",indexed:!1,internalType:"uint16"}],anonymous:!1},{type:"event",name:"ConsensusKeysUpdated",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"blsVK",type:"tuple",indexed:!1,internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVK",type:"tuple",indexed:!1,internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]}],anonymous:!1},{type:"event",name:"ConsensusKeysUpdatedV2",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"blsVK",type:"tuple",indexed:!1,internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVK",type:"tuple",indexed:!1,internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"blsSig",type:"tuple",indexed:!1,internalType:"struct BN254.G1Point",components:[{name:"x",type:"uint256",internalType:"BN254.BaseField"},{name:"y",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrSig",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"Delegated",inputs:[{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"validator",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"ExitEscrowPeriodUpdated",inputs:[{name:"newExitEscrowPeriod",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"MaxCommissionIncreaseUpdated",inputs:[{name:"newMaxIncrease",type:"uint16",indexed:!1,internalType:"uint16"}],anonymous:!1},{type:"event",name:"MinCommissionUpdateIntervalUpdated",inputs:[{name:"newInterval",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Paused",inputs:[{name:"account",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"RoleAdminChanged",inputs:[{name:"role",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"previousAdminRole",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"newAdminRole",type:"bytes32",indexed:!0,internalType:"bytes32"}],anonymous:!1},{type:"event",name:"RoleGranted",inputs:[{name:"role",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"sender",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"RoleRevoked",inputs:[{name:"role",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"sender",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Undelegated",inputs:[{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"validator",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Unpaused",inputs:[{name:"account",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ValidatorExit",inputs:[{name:"validator",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ValidatorRegistered",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"blsVk",type:"tuple",indexed:!1,internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVk",type:"tuple",indexed:!1,internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"commission",type:"uint16",indexed:!1,internalType:"uint16"}],anonymous:!1},{type:"event",name:"ValidatorRegisteredV2",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"blsVK",type:"tuple",indexed:!1,internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVK",type:"tuple",indexed:!1,internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"commission",type:"uint16",indexed:!1,internalType:"uint16"},{name:"blsSig",type:"tuple",indexed:!1,internalType:"struct BN254.G1Point",components:[{name:"x",type:"uint256",internalType:"BN254.BaseField"},{name:"y",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrSig",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"Withdrawal",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"AccessControlBadConfirmation",inputs:[]},{type:"error",name:"AccessControlUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"},{name:"neededRole",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"BLSSigVerificationFailed",inputs:[]},{type:"error",name:"BN254PairingProdFailed",inputs:[]},{type:"error",name:"BlsKeyAlreadyUsed",inputs:[]},{type:"error",name:"CommissionAlreadyInitialized",inputs:[{name:"validator",type:"address",internalType:"address"}]},{type:"error",name:"CommissionIncreaseExceedsMax",inputs:[]},{type:"error",name:"CommissionUnchanged",inputs:[]},{type:"error",name:"CommissionUpdateTooSoon",inputs:[]},{type:"error",name:"DeprecatedFunction",inputs:[]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"EnforcedPause",inputs:[]},{type:"error",name:"ExitEscrowPeriodInvalid",inputs:[]},{type:"error",name:"ExpectedPause",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InitialActiveStakeExceedsBalance",inputs:[]},{type:"error",name:"InsufficientAllowance",inputs:[{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"}]},{type:"error",name:"InsufficientBalance",inputs:[{name:"",type:"uint256",internalType:"uint256"}]},{type:"error",name:"InvalidCommission",inputs:[]},{type:"error",name:"InvalidG1",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"InvalidRateLimitParameters",inputs:[]},{type:"error",name:"InvalidSchnorrSig",inputs:[]},{type:"error",name:"InvalidSchnorrVK",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"NothingToWithdraw",inputs:[]},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"PowPrecompileFailed",inputs:[]},{type:"error",name:"PrematureWithdrawal",inputs:[]},{type:"error",name:"SchnorrKeyAlreadyUsed",inputs:[]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"UndelegationAlreadyExists",inputs:[]},{type:"error",name:"ValidatorAlreadyExited",inputs:[]},{type:"error",name:"ValidatorAlreadyRegistered",inputs:[]},{type:"error",name:"ValidatorInactive",inputs:[]},{type:"error",name:"ValidatorNotExited",inputs:[]},{type:"error",name:"ZeroAddress",inputs:[]},{type:"error",name:"ZeroAmount",inputs:[]}];class Xn extends gt{constructor(e,t,a){super(e,t,a)}async PAUSER_ROLE(){return M(this.config,{abi:G,address:this.address,chainId:this.chainID,functionName:"PAUSER_ROLE"})}async minCommissionIncreaseInterval(){return M(this.config,{abi:G,address:this.address,chainId:this.chainID,functionName:"minCommissionIncreaseInterval"})}async maxCommissionIncrease(){return M(this.config,{abi:G,address:this.address,chainId:this.chainID,functionName:"maxCommissionIncrease"})}async activeStake(){return M(this.config,{abi:G,address:this.address,chainId:this.chainID,functionName:"activeStake"})}async commissionTracking(e){return M(this.config,{abi:G,address:this.address,chainId:this.chainID,functionName:"commissionTracking",args:[e]})}async updateConsensusKeysV2(e,t,a,i){return D(this.config,{abi:G,address:this.address,chainId:this.chainID,functionName:"updateConsensusKeysV2",args:[e,t,a,i]})}}const Y=F.createContext(null),tt=({children:n})=>E.jsx(Yn,{children:n}),Yn=({children:n})=>{const e=Fe(),t=F.useContext(te);if(!t||!t.stakeTableContractAddress)return E.jsx(E.Fragment,{children:n});const a=new gt(e,e.chains[0].id,t.stakeTableContractAddress);return E.jsx(Y.Provider,{value:a,children:n})};try{Y.displayName="StakeTableContractContext",Y.__docgenInfo={description:"",displayName:"StakeTableContractContext",props:{}}}catch{}try{tt.displayName="ProvideStakeTableContract",tt.__docgenInfo={description:`ProvideESPTokenContract is a React component that provides
the ESP token contract via ESPTokenContractContext.`,displayName:"ProvideStakeTableContract",props:{}}}catch{}const pe=F.createContext(null),Pe=({children:n})=>E.jsx(ea,{children:n}),ea=({children:n})=>{const e=Fe(),t=F.useContext(te);if(!t||!t.stakeTableContractAddress)return E.jsx(E.Fragment,{children:n});const a=new Xn(e,e.chains[0].id,t.stakeTableContractAddress);return E.jsx(Y.Provider,{value:a,children:E.jsx(pe.Provider,{value:a,children:n})})};try{pe.displayName="StakeTableV2ContractContext",pe.__docgenInfo={description:"",displayName:"StakeTableV2ContractContext",props:{}}}catch{}try{Pe.displayName="ProvideStakeTableV2Contract",Pe.__docgenInfo={description:`ProvideStakeTableV2Contract is a React component that provides
the Stake Table V2 contract via StakeTableV2ContractContext.`,displayName:"ProvideStakeTableV2Contract",props:{}}}catch{}const ye="0xdeadc0dedeadc0dedeadc0dedeadc0dedeadc0de",ta={address:ye,displayName:"mocked_account.eth",hasPendingTransactions:!1},nt={id:31337,hasIcon:!1};function na(){const[n,e]=Tt.useState({account:null,chain:null});return{openAccountModal:()=>{e(t=>({...t,account:null,chain:null}))},openChainModal:()=>{e(t=>({...t,chain:nt}))},openConnectModal:()=>{e(t=>({...t,account:ta,chain:nt}))},accountModalOpen:!1,chainModalOpen:!1,connectModalOpen:!1,account:n.account,chain:n.chain,authenticationStatus:n.account===null?"unauthenticated":"authenticated"}}const Ne=({children:n})=>{const{openAccountModal:e,openChainModal:t,openConnectModal:a,accountModalOpen:i,chainModalOpen:s,connectModalOpen:d,account:u,chain:o,authenticationStatus:r}=na();return E.jsx(nn.Provider,{value:!0,children:E.jsx(an.Provider,{value:{openAccountModal:e,openChainModal:t,openConnectModal:a,accountModalOpen:i,chainModalOpen:s,connectModalOpen:d},children:E.jsx(sn,{value:u??null,children:E.jsx(rn.Provider,{value:o??null,children:E.jsx(on.Provider,{value:r??null,children:n})})})})})};try{ye.displayName="MockAddress",ye.__docgenInfo={description:`MockAddress is a predefined mock address used in the
MockRainbowKit component.`,displayName:"MockAddress",props:{}}}catch{}try{Ne.displayName="MockRainbowKit",Ne.__docgenInfo={description:`MockRainbowKit is a React component that provides
mock implementations of RainbowKit contexts for testing
and development purposes.

When it comes to testing UI / UX and layout of current designs, it is
helpful to have a mock implementation of RainbowKit components available
and ready to use in order to generate a predefined controllable state.

Such configurations allow for the accounting of various edge cases
and scenarios that may arise during actual usage of the application.`,displayName:"MockRainbowKit",props:{}}}catch{}function xe(n,e){n(t=>({...e.applyToState(t),actions:[...t.actions,e],actionMap:new Map(t.actionMap).set(e.hash(),e),lastUpdate:e.ts}))}class wt{ts=new Date}class at extends wt{constructor(e,t,a){super(),this.from=e,this.to=t,this.amount=a,this.from=e,this.to=t,this.amount=a}hash(){const e=Q("keccak256"),t=new TextEncoder;return e.update(t.encode("Transfer").buffer),e.update(t.encode(this.ts.toISOString()).buffer),e.update(t.encode(this.from).buffer),e.update(t.encode(this.to).buffer),e.update(t.encode(z.encoder.convert(this.amount)).buffer),j.encode(e.digest())}applyToState(e){const t=new Map(e.balances),a=t.get(this.from)??0n,i=t.get(this.to)??0n;return t.set(this.from,a-this.amount),t.set(this.to,i+this.amount),{...e,balances:t}}}class aa extends wt{constructor(e,t,a){super(),this.owner=e,this.spender=t,this.amount=a,this.owner=e,this.spender=t,this.amount=a}hash(){const e=Q("keccak256"),t=new TextEncoder;return e.update(t.encode("Approve").buffer),e.update(t.encode(this.ts.toISOString()).buffer),e.update(t.encode(this.owner).buffer),e.update(t.encode(this.spender).buffer),e.update(t.encode(z.encoder.convert(this.amount)).buffer),j.encode(e.digest())}applyToState(e){const t=new Map(e.allowances),a=new Map(t.get(this.owner)??new Map);return a.set(this.spender,this.amount),t.set(this.owner,a),{...e,allowances:t}}}class K{constructor(e,t,a){this.state=e,this.mutate=t,this.accountAddress=a,this.state=e,this.mutate=t,this.accountAddress=a}replaceAccountAddress(e){return new K(this.state,this.mutate,e)}get lastUpdate(){return this.state.lastUpdate}get address(){return this.state.contractAddress}async getVersion(){return this.state.version}async name(){return this.state.name}async symbol(){return this.state.symbol}async decimals(){return this.state.decimals}async totalSupply(){return this.state.totalSupply}async balanceOf(e){return this.state.balances.get(e)??0n}async allowance(e,t){return this.state.allowances.get(e)?.get(t)??0n}async transfer(e,t){if(!this.accountAddress)throw new Error("No account address available for transfer.");const a=this.accountAddress;if(t<0n)throw new Error("Transfer value cannot be negative.");if(t>await this.balanceOf(a))throw new Error("Insufficient balance for transfer.");const i=new at(a,e,t);return xe(this.mutate,i),i.hash()}async approve(e,t){if(!this.accountAddress)throw new Error("No account address available for approve.");const a=new aa(this.accountAddress,e,t);return xe(this.mutate,a),a.hash()}async transferFrom(e,t,a){if(a<0n)throw new Error("Transfer value cannot be negative.");if(await this.allowance(e,t)<a)throw new Error("Insufficient allowance for transfer.");if(a>await this.balanceOf(e))throw new Error("Insufficient balance for transfer.");const s=new at(e,t,a);return xe(this.mutate,s),s.hash()}}function ia(){return F.useState({contractAddress:"0x0000000000000000000000000000000000000001",version:[1,0,0],name:"Espresso Token",symbol:"ESP",decimals:18,totalSupply:12345678900n*10n**18n,balances:new Map([[ye,100000000000000000000n]]),allowances:new Map,actions:[],actionMap:new Map,lastUpdate:new Date})}const _e=({children:n})=>{const[e,t]=ia(),a=F.useContext(pt),i=new K(e,t,a);return E.jsx(X.Provider,{value:i,children:n})};try{K.displayName="MockESPTokenContractImpl",K.__docgenInfo={description:`MockESPTokenContractImpl is a mock implementation of the ESPTokenContract
interface for testing and development purposes.

It simulates the behavior of an actual ESPTokenContract by maintaining
an internal state and providing methods to interact with that state.
This is done to simulate some consistency of the expected behavior of the
real contract without needing to connect to a live blockchain.`,displayName:"MockESPTokenContractImpl",props:{}}}catch{}try{_e.displayName="MockESPTokenContract",_e.__docgenInfo={description:`MockESPTokenContract is a React component that provides
a mock ESPTokenContract implementation via context for
testing and development purposes.

It will overwrite the ESPTokenContractContext with a mock
implementation that simulates the behavior of an actual
ESPTokenContract.`,displayName:"MockESPTokenContract",props:{}}}catch{}var Ve=(n=>(n[n.unknown=0]="unknown",n[n.active=1]="active",n[n.exited=2]="exited",n))(Ve||{});class ae{ts=new Date}function Z(n,e){n(t=>({...e.applyToState(t),actions:[...t.actions,e],actionMap:new Map(t.actionMap).set(e.hash(),e),lastUpdate:e.ts}))}class sa extends ae{constructor(e,t,a){super(),this.validator=e,this.delegator=t,this.amount=a,this.validator=e,this.delegator=t,this.amount=a}hash(){const e=Q("keccak256"),t=new TextEncoder;return e.update(t.encode("Delegate").buffer),e.update(t.encode(this.ts.toISOString()).buffer),e.update(t.encode(this.validator).buffer),e.update(t.encode(this.delegator).buffer),e.update(t.encode(z.encoder.convert(this.amount)).buffer),j.encode(e.digest())}applyToState(e){const t=new Map(e.delegations),a=t.get(this.validator)??new Map,i=new Map(e.validators),s=i.get(this.validator)??[0n,0],d=a.get(this.delegator)??0n;return a.set(this.delegator,d+this.amount),t.set(this.validator,a),i.set(this.validator,[s[0]+this.amount,s[1]]),{...e,validators:i,delegations:t}}}class ra extends ae{constructor(e,t,a){super(),this.validator=e,this.delegator=t,this.amount=a,this.validator=e,this.delegator=t,this.amount=a}hash(){const e=Q("keccak256"),t=new TextEncoder;return e.update(t.encode("Undelegate").buffer),e.update(t.encode(this.ts.toISOString()).buffer),e.update(t.encode(this.validator).buffer),e.update(t.encode(this.delegator).buffer),e.update(t.encode(z.encoder.convert(this.amount)).buffer),j.encode(e.digest())}applyToState(e){const t=new Map(e.delegations),a=t.get(this.validator)??new Map,i=a.get(this.delegator)??0n,s=new Map(e.validators);a.set(this.delegator,i-this.amount),t.set(this.validator,a);const d=s.get(this.validator)??[0n,0];s.set(this.validator,[d[0]-this.amount,d[1]]);const u=new Map(e.undelegations),o=u.get(this.validator)??new Map;return o.set(this.delegator,[this.amount,BigInt(this.ts.valueOf())+e.exitEscrowPeriod]),u.set(this.validator,o),{...e,validators:s,delegations:t,undelegations:u}}}class oa extends ae{constructor(e,t,a){super(),this.validator=e,this.delegator=t,this.amount=a,this.validator=e,this.delegator=t,this.amount=a}hash(){const e=Q("keccak256"),t=new TextEncoder;return e.update(t.encode("ClaimWithdrawal").buffer),e.update(t.encode(this.ts.toISOString()).buffer),e.update(t.encode(this.validator).buffer),e.update(t.encode(this.delegator).buffer),e.update(t.encode(z.encoder.convert(this.amount)).buffer),j.encode(e.digest())}applyToState(e){const t=new Map(e.undelegations),a=t.get(this.validator)??new Map;return a.delete(this.delegator),t.set(this.validator,a),{...e,undelegations:t}}}class ca extends ae{constructor(e,t,a){super(),this.validator=e,this.delegator=t,this.amount=a,this.validator=e,this.delegator=t,this.amount=a}hash(){const e=Q("keccak256"),t=new TextEncoder;return e.update(t.encode("ClaimValidatorExit").buffer),e.update(t.encode(this.ts.toISOString()).buffer),e.update(t.encode(this.validator).buffer),e.update(t.encode(this.delegator).buffer),e.update(t.encode(z.encoder.convert(this.amount)).buffer),j.encode(e.digest())}applyToState(e){const t=new Map(e.validatorExits);t.delete(this.validator);const a=new Map(e.delegations),i=a.get(this.validator)??new Map;return i.delete(this.delegator),a.set(this.validator,i),{...e,delegations:a,validatorExits:t}}}class ua extends ae{constructor(e,t){super(),this.validator=e,this.exitTime=t,this.validator=e,this.exitTime=t}hash(){const e=Q("keccak256"),t=new TextEncoder;return e.update(t.encode("ValidatorExit").buffer),e.update(t.encode(this.ts.toISOString()).buffer),e.update(t.encode(this.validator).buffer),e.update(t.encode(z.encoder.convert(this.exitTime)).buffer),j.encode(e.digest())}applyToState(e){const t=new Map(e.validatorExits);t.set(this.validator,this.exitTime);const a=new Map(e.validators),i=a.get(this.validator)??[0n,0];return a.set(this.validator,[i[0],Ve.exited]),{...e,validatorExits:t,validators:a}}}class ee{constructor(e,t,a){this.state=e,this.mutate=t,this.accountAddress=a,this.state=e,this.mutate=t,this.accountAddress=a}replaceAccountAddress(e){return new ee(this.state,this.mutate,e)}get lastUpdate(){return this.state.lastUpdate}get address(){return this.state.contractAddress}async PAUSER_ROLE(){return this.state.pauserRole}async minCommissionIncreaseInterval(){return this.state.minCommissionIncreaseInterval}async maxCommissionIncrease(){return this.state.maxCommissionIncrease}async activeStake(){return hn((e,t)=>e+t,0n,fn(this.state.delegations,([,e])=>yt(e,([,t])=>t)))}async commissionTracking(e){return this.state.commissionTracking.get(e)??[0,0n]}async lightClient(){return"0xLIGHT_CLIENT_ADDRESS"}async token(){return this.state.espToken.address}async validator(e){return this.state.validators.get(e)??[0n,0]}async blsKey(){throw new Error("Method not implemented.")}async validatorExit(e){return this.state.validatorExits.get(e)??0n}async delegation(e,t){return this.state.delegations.get(e)?.get(t)??0n}async undelegation(e,t){return this.state.undelegations.get(e)?.get(t)??[0n,0n]}async exitEscrowPeriod(){return this.state.exitEscrowPeriod}async getVersion(){return[2,0,0]}async updateConsensusKeysV2(){throw new Error("Method not implemented.")}async deregisterValidator(){if(!this.accountAddress)throw new Error("No account address available for deregistering validator.");const e=new ua(this.accountAddress,BigInt(Date.now())+this.state.exitEscrowPeriod);return Z(this.mutate,e),e.hash()}async delegate(e,t){if(t<=0n)throw new Error("Amount must be greater than zero");if(!this.accountAddress)throw new Error("No account address available for delegation.");if((await this.validator(e))[1]!==Ve.active)throw new Error("Validator is not active");if(await this.state.espToken.balanceOf(this.accountAddress)<t)throw new Error("Insufficient balance");await this.state.espToken.transferFrom(this.accountAddress,this.address,t);const i=new sa(e,this.accountAddress,t);return Z(this.mutate,i),i.hash()}async undelegate(e,t){if(!this.accountAddress)throw new Error("No account address available for undelegation.");if(t<=0n)throw new Error("Amount must be greater than zero");if(await this.delegation(e,this.accountAddress)<t)throw new Error("Insufficient delegated amount");if(this.state.validatorExits.has(e))throw new Error("Validator is exiting, cannot undelegate");if(this.state.undelegations.get(e)?.has(this.accountAddress))throw new Error("Existing undelegation in progress");const i=new ra(e,this.accountAddress,t);return Z(this.mutate,i),i.hash()}async claimWithdrawal(e){const t=BigInt(Date.now());if(!this.accountAddress)throw new Error("No account address available for claim withdrawal.");const a=await this.undelegation(e,this.accountAddress);if(!a[0])throw new Error("No undelegation found for this delegator and validator.");const[i,s]=a;if(t<s)throw new Error("Undelegation period has not yet elapsed.");await this.state.espToken.transfer(this.accountAddress,i);const d=new oa(e,this.accountAddress,i);return Z(this.mutate,d),d.hash()}async claimValidatorExit(e){const t=BigInt(Date.now());if(!this.accountAddress)throw new Error("No account address available for claim validator exit.");const a=await this.validatorExit(e);if(!a)throw new Error("Validator is not exiting.");const i=await this.delegation(e,this.accountAddress);if(i<=0n)throw new Error("No stake found for this delegator and validator.");if(t<a)throw new Error("Validator exit period has not yet elapsed.");await this.state.espToken.transfer(this.accountAddress,i);const s=new ca(e,this.accountAddress,i);return Z(this.mutate,s),s.hash()}}function da(n,e=new Map){const t="0x0000000000000000000000000000000000000002",[a,i]=F.useState({contractAddress:t,espToken:n,validators:new Map,blsKeys:new Set,validatorExits:new Map,delegations:e,undelegations:new Map,exitEscrowPeriod:2000n,pauserRole:"0xPAUSER_ROLE",minCommissionIncreaseInterval:2000n,maxCommissionIncrease:1,commissionTracking:new Map,schnorrKeys:new Set,actions:[],actionMap:new Map,lastUpdate:new Date});return mn(a.espToken instanceof K&&n instanceof K,"expected espTokenContract to be an instance of MockESPTokenContractImpl"),(a.espToken.accountAddress!==a.contractAddress||n.lastUpdate.valueOf()>a.espToken.lastUpdate.valueOf())&&i(s=>({...s,espToken:n.replaceAccountAddress(s.contractAddress)})),[a,i]}const Be=({children:n})=>{const e=F.useContext(pt),t=F.useContext(X);yn(t);const a=new Map(yt(gn,u=>{const o=j.encode(u.address);return[o,new Map([[o,u.stake]])]})),[i,s]=da(t,a),d=new ee(i,s,e);return E.jsx(pe.Provider,{value:d,children:E.jsx(Y.Provider,{value:d,children:n})})};try{ee.displayName="MockStakeTableV2ContractImpl",ee.__docgenInfo={description:`MockStakeTableV2ContractImpl is a mock implementation of the
StakeTableV2Contract interface for testing and development purposes.`,displayName:"MockStakeTableV2ContractImpl",props:{}}}catch{}try{Be.displayName="MockStakeTableV2Contract",Be.__docgenInfo={description:`MockStakeTableV2Contract is a React component that provides
a mock StakeTableV2Contract implementation via context for
testing and development purposes.

It will overwrite the StakeTableV2ContractContext with a mock
implementation that simulates the behavior of an actual
StakeTableV2Contract.

It **MUST** be given a valid ESPTokenContract via the
\`ESPTokenContractContext\` context.

It pre-populates the delegations mapping with initial stakes
derived from the \`nodeList\` fake data.`,displayName:"MockStakeTableV2Contract",props:{}}}catch{}const Ae=({children:n})=>{const e=F.useContext(rt),t=F.useContext(te);return e!==V.fakeData||t?.espTokenContractAddress||t?.stakeTableContractAddress?E.jsx(E.Fragment,{children:n}):E.jsx(Ne,{children:E.jsx(_e,{children:E.jsx(Be,{children:n})})})};try{Ae.displayName="FakeDataMockOverrides",Ae.__docgenInfo={description:`FakeDataMockOverrides is a React component that provides
mock overrides for various contexts when the environment
is set to FakeData and the relevant contracts are not
already provided in the Espresso configuration.`,displayName:"FakeDataMockOverrides",props:{}}}catch{}function la(n=null,e=null){return{espTokenContractAddress:n??null,stakeTableContractAddress:e??null}}const pa=J({chains:[cn],client({chain:n}){return L({chain:n,transport:$()})}}),ya=J({chains:[$n],client({chain:n}){return L({chain:n,transport:$()})}}),ma=J({chains:[ne({id:900,name:"GETH (water)",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://geth.water.devnet.espresso.network"],webSocket:["wss://wsgeth.water.devnet.espresso.network"]}},testnet:!0})],client({chain:n}){return L({chain:n,transport:$()})}}),ha=J({chains:[ne({id:900,name:"GETH (milk)",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://geth.milk.devnet.espresso.network"],webSocket:["wss://wsgeth.milk.devnet.espresso.network"]}},testnet:!0})],client({chain:n}){return L({chain:n,transport:$()})}}),fa=J({chains:[ne({id:31337,name:"GETH (Local DevNet)",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["http://localhost:8545"],webSocket:["ws://localhost:8546"]}},testnet:!0})],client({chain:n}){return L({chain:n,transport:$()})}}),ga=J({chains:[ne({id:31337,name:"GETH (Fake Data)",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["http://localhost:8545"],webSocket:["ws://localhost:8546"]}},testnet:!0,connectors:[Ue({accounts:["0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266","0x70997970c51812dc3a010c7d01b50e0d17dc79c8","0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC"]})]})],client({chain:n}){return L({chain:n,transport:$()})}});function wa(n){switch(n){case V.mainnet:return pa;case V.decaf:return ya;case V.water:return ma;case V.milk:return ha;case V.fakeData:return ga;case V.localDevNet:return fa;default:throw new Error(`Unsupported environment: ${n}`)}}const ba=new Gn;function Ee(n){if(n==null||n==="")return null;try{return new URL(n).toString()}catch(e){return console.error("Invalid URL provided:",n,e),null}}const Oe=({environment:n=V.fakeData,hotshotQueryServiceURL:e,nodeValidatorWebSocketURL:t,l1ValidatorServiceURL:a,children:i})=>{const s={hotshotQueryServiceURL:Ee(e??null),nodeValidatorServiceURL:Ee(t??null),l1ValidatorServiceURL:Ee(a??null)};return E.jsx(rt.Provider,{value:n,children:E.jsx(Ct.Provider,{value:s,children:i})})};function it(n){if(n==null||n===""||!n.startsWith("0x"))return null;const e=He.decode(n);return He.encode(e)}const st=({environment:n=V.fakeData,hotshotQueryServiceURL:e,nodeValidatorWebSocketURL:t,espTokenContractAddress:a,stakeTableContractAddress:i,l1ValidatorServiceURL:s,children:d})=>{const u=wa(n),o=la(it(a),it(i));return E.jsx(Oe,{environment:n,hotshotQueryServiceURL:e,nodeValidatorWebSocketURL:t,l1ValidatorServiceURL:s,children:E.jsx(te.Provider,{value:o,children:E.jsx(un,{config:u,children:E.jsx(dn,{client:ba,children:E.jsx(ln,{children:E.jsx(pn,{children:E.jsx(Me,{children:E.jsx(Pe,{children:E.jsx(Ae,{children:d})})})})})})})})})};try{Oe.displayName="StoryBookSpecifyEnvironment",Oe.__docgenInfo={description:"",displayName:"StoryBookSpecifyEnvironment",props:{environment:{defaultValue:{value:"Environment.fakeData"},description:"",name:"environment",required:!1,type:{name:"enum",value:[{value:'"mainnet"'},{value:'"decaf"'},{value:'"milk"'},{value:'"water"'},{value:'"fakeData"'},{value:'"localDevNet"'}]}},hotshotQueryServiceURL:{defaultValue:null,description:"",name:"hotshotQueryServiceURL",required:!1,type:{name:"string"}},nodeValidatorWebSocketURL:{defaultValue:null,description:"",name:"nodeValidatorWebSocketURL",required:!1,type:{name:"string"}},l1ValidatorServiceURL:{defaultValue:null,description:"",name:"l1ValidatorServiceURL",required:!1,type:{name:"string"}}}}}catch{}try{st.displayName="StoryBookSpecifyEnvironmentAndContracts",st.__docgenInfo={description:"",displayName:"StoryBookSpecifyEnvironmentAndContracts",props:{espTokenContractAddress:{defaultValue:null,description:"",name:"espTokenContractAddress",required:!1,type:{name:"string"}},stakeTableContractAddress:{defaultValue:null,description:"",name:"stakeTableContractAddress",required:!1,type:{name:"string"}},environment:{defaultValue:{value:"Environment.fakeData"},description:"",name:"environment",required:!1,type:{name:"enum",value:[{value:'"mainnet"'},{value:'"decaf"'},{value:'"milk"'},{value:'"water"'},{value:'"fakeData"'},{value:'"localDevNet"'}]}},hotshotQueryServiceURL:{defaultValue:null,description:"",name:"hotshotQueryServiceURL",required:!1,type:{name:"string"}},nodeValidatorWebSocketURL:{defaultValue:null,description:"",name:"nodeValidatorWebSocketURL",required:!1,type:{name:"string"}},l1ValidatorServiceURL:{defaultValue:null,description:"",name:"l1ValidatorServiceURL",required:!1,type:{name:"string"}}}}}catch{}export{X as E,Oe as S,st as a,R as b};
