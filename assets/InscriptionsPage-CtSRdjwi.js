var Lt=Object.defineProperty;var Le=t=>{throw TypeError(t)};var Yt=(t,e,n)=>e in t?Lt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var l=(t,e,n)=>Yt(t,typeof e!="symbol"?e+"":e,n),Ye=(t,e,n)=>e.has(t)||Le("Cannot "+n);var o=(t,e,n)=>(Ye(t,e,"read from private field"),n?n.call(t):e.get(t)),y=(t,e,n)=>e.has(t)?Le("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),f=(t,e,n,r)=>(Ye(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var J=(t,e,n,r)=>({set _(i){f(t,e,i,n)},get _(){return o(t,e,r)}});import{j as s}from"./jsx-runtime-BlAj40OV.js";import{J as Ht,K as Kt,a as Bt,r as Jt,d as j,w as Ut,e as Gt,F as Xt,W as Vt,f as zt,g as $t,E as Zt,i as at,j as en,l as tn,u as nn,h as sn,H as rn,I as on}from"./ErrorStreamConsumer-BscVHsjq.js";import{s as an}from"./sleep-CW-vxfof.js";import{U as _,u as cn,c as dn,d as ln,e as un,m as pn,E as ct,L as hn,D as mn}from"./LoadingProvider-BbWjDjJb.js";import{A as fn,q as gn,v as xn,r as yn,t as Cn,u as vn,w as In,S as dt,x as lt,y as Sn,z as x,C as He,M as bn,D as Ke,F as b,G as jn,I as wn,J as kn,K as An,N as Be,O as Je,P as Pn,T as Ue,U as Ge,V as _n,X as Nn,Z as On,_ as ut,$ as pt,a0 as ht,a1 as Tn,c as Mn,g as Rn,m as En,W as Dn,Q as Wn,R as qn,a as Fn,a2 as Qn,L as Ln,a3 as mt,b as se,f as ge,a4 as Yn,a5 as Hn,a6 as Kn,d as Bn}from"./provider-DFuvBOXd.js";import{B as ft,R as Jn,b as Un,d as Gn}from"./Completer-4eUr9S2j.js";import{R as d,r as gt}from"./index-Cs7sjTYM.js";import{k as Xn,c as Vn}from"./functional-Bu4SNxPm.js";import{T as a}from"./Text-BU7JBOLk.js";import{W as zn,E as $n}from"./ErrorDisplay-BzyffaFq.js";import{a as Y}from"./higher_order-DnPEgWEz.js";import{T as Zn,D as es}from"./TwitterLink-DySGzitr.js";import{A as ts}from"./AsyncIterableResolver-tTLoi5TP.js";import{T as C,s as G,a as I,m as xt,h as ns,I as Xe,q as ie,N as ss,f as rs,g as is}from"./string-CcoL8872.js";import{n as T}from"./base64-pX9cPfQ1.js";import"./DateTimeFormattersProvider-UwNlAqY8.js";import"./LocaleProvider-B0_30C1H.js";import"./NavDrawerStateProvider-HpepdHmi.js";import"./NowProvider-D4xjbY-7.js";import"./NumberFormattersProvider-DANbX_lC.js";import"./PathResolverProvider-Xv58eOQd.js";import{N as oe}from"./NumberText-C4Z_0tU7.js";import{A as ae}from"./ArrowRight-BpPdMFVT.js";import{C as os}from"./ExternalLink-DiyMX6Il.js";import{M as yt}from"./Close-pUpeZMtg.js";import{E as as}from"./EspressoLogo-DwD84bVM.js";import{T as cs}from"./TwitterIcon-Dh1ClDTH.js";import{b as Ve}from"./boolean-G714bpgs.js";import{p as ze}from"./array_buffer-B1tGIozn.js";import{F as Ct}from"./FetchError-C1VXamgN.js";import"./monetary_value-B2EGCn_o.js";import"./TaggedBase64-D45f0-Ll.js";import"./NotFoundError-C6Rvypd-.js";async function ds(t,e){const{account:n=t.account,domain:r,message:i,primaryType:c}=e;if(!n)throw new fn({docsPath:"/docs/actions/wallet/signTypedData"});const u=Cn(n),h={EIP712Domain:gn({domain:r}),...e.types};if(xn({domain:r,message:i,primaryType:c,types:h}),u.signTypedData)return u.signTypedData({domain:r,message:i,primaryType:c,types:h});const m=yn({domain:r,message:i,primaryType:c,types:h});return t.request({method:"eth_signTypedData_v4",params:[u.address,m]},{retryCount:0})}async function ls(t,e){const{account:n,connector:r,...i}=e;let c;return typeof n=="object"&&n.type==="local"?c=t.getClient():c=await vn(t,{account:n,connector:r}),In(c,ds,"signTypedData")({...i,...n?{account:n}:{}})}var S,rt,us=(rt=class extends dt{constructor(e={}){super();y(this,S);this.config=e,f(this,S,new Map)}build(e,n,r){const i=n.queryKey,c=n.queryHash??lt(i,n);let u=this.get(c);return u||(u=new Sn({cache:this,queryKey:i,queryHash:c,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){o(this,S).has(e.queryHash)||(o(this,S).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=o(this,S).get(e.queryHash);n&&(e.destroy(),n===e&&o(this,S).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){x.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return o(this,S).get(e)}getAll(){return[...o(this,S).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>He(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>He(e,r)):n}notify(e){x.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){x.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){x.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},S=new WeakMap,rt),g,L,it,ps=(it=class extends dt{constructor(e={}){super();y(this,g);y(this,L);this.config=e,f(this,g,new Map),f(this,L,Date.now())}build(e,n,r){const i=new bn({mutationCache:this,mutationId:++J(this,L)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=U(e),r=o(this,g).get(n)??[];r.push(e),o(this,g).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=U(e);if(o(this,g).has(n)){const i=(r=o(this,g).get(n))==null?void 0:r.filter(c=>c!==e);i&&(i.length===0?o(this,g).delete(n):o(this,g).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=o(this,g).get(U(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=o(this,g).get(U(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){x.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...o(this,g).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Ke(n,r))}findAll(e={}){return this.getAll().filter(n=>Ke(e,n))}notify(e){x.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return x.batch(()=>Promise.all(e.map(n=>n.continue().catch(b))))}},g=new WeakMap,L=new WeakMap,it);function U(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function $e(t){return{onFetch:(e,n)=>{var Me,Re,Ee,De,We;const r=e.options,i=(Ee=(Re=(Me=e.fetchOptions)==null?void 0:Me.meta)==null?void 0:Re.fetchMore)==null?void 0:Ee.direction,c=((De=e.state.data)==null?void 0:De.pages)||[],u=((We=e.state.data)==null?void 0:We.pageParams)||[];let h={pages:[],pageParams:[]},m=0;const N=async()=>{let O=!1;const K=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?O=!0:e.signal.addEventListener("abort",()=>{O=!0}),e.signal)})},Ft=jn(e.options,e.fetchOptions),qe=async(v,w,q)=>{if(O)return Promise.reject();if(w==null&&v.pages.length)return Promise.resolve(v);const B={queryKey:e.queryKey,pageParam:w,direction:q?"backward":"forward",meta:e.options.meta};K(B);const Qt=await Ft(B),{maxPages:Fe}=e.options,Qe=q?wn:kn;return{pages:Qe(v.pages,Qt,Fe),pageParams:Qe(v.pageParams,w,Fe)}};if(i&&c.length){const v=i==="backward",w=v?hs:Ze,q={pages:c,pageParams:u},B=w(r,q);h=await qe(q,B,v)}else{const v=t??c.length;do{const w=m===0?u[0]??r.initialPageParam:Ze(r,h);if(m>0&&w==null)break;h=await qe(h,w),m++}while(m<v)}return h};e.options.persister?e.fetchFn=()=>{var O,K;return(K=(O=e.options).persister)==null?void 0:K.call(O,N,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=N}}}function Ze(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function hs(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var p,k,A,M,R,P,E,D,ot,ms=(ot=class{constructor(t={}){y(this,p);y(this,k);y(this,A);y(this,M);y(this,R);y(this,P);y(this,E);y(this,D);f(this,p,t.queryCache||new us),f(this,k,t.mutationCache||new ps),f(this,A,t.defaultOptions||{}),f(this,M,new Map),f(this,R,new Map),f(this,P,0)}mount(){J(this,P)._++,o(this,P)===1&&(f(this,E,An.subscribe(async t=>{t&&(await this.resumePausedMutations(),o(this,p).onFocus())})),f(this,D,Be.subscribe(async t=>{t&&(await this.resumePausedMutations(),o(this,p).onOnline())})))}unmount(){var t,e;J(this,P)._--,o(this,P)===0&&((t=o(this,E))==null||t.call(this),f(this,E,void 0),(e=o(this,D))==null||e.call(this),f(this,D,void 0))}isFetching(t){return o(this,p).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return o(this,k).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=o(this,p).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=o(this,p).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Je(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return o(this,p).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=o(this,p).get(r.queryHash),c=i==null?void 0:i.state.data,u=Pn(e,c);if(u!==void 0)return o(this,p).build(this,r).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return x.batch(()=>o(this,p).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=o(this,p).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=o(this,p);x.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=o(this,p),r={type:"active",...t};return x.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=x.batch(()=>o(this,p).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(b).catch(b)}invalidateQueries(t={},e={}){return x.batch(()=>{if(o(this,p).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=x.batch(()=>o(this,p).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let c=i.fetch(void 0,n);return n.throwOnError||(c=c.catch(b)),i.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(r).then(b)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=o(this,p).build(this,e);return n.isStaleByTime(Je(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(b).catch(b)}fetchInfiniteQuery(t){return t.behavior=$e(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(b).catch(b)}ensureInfiniteQueryData(t){return t.behavior=$e(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Be.isOnline()?o(this,k).resumePausedMutations():Promise.resolve()}getQueryCache(){return o(this,p)}getMutationCache(){return o(this,k)}getDefaultOptions(){return o(this,A)}setDefaultOptions(t){f(this,A,t)}setQueryDefaults(t,e){o(this,M).set(Ue(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...o(this,M).values()];let n={};return e.forEach(r=>{Ge(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){o(this,R).set(Ue(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...o(this,R).values()];let n={};return e.forEach(r=>{Ge(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...o(this,A).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=lt(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===_n&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...o(this,A).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){o(this,p).clear(),o(this,k).clear()}},p=new WeakMap,k=new WeakMap,A=new WeakMap,M=new WeakMap,R=new WeakMap,P=new WeakMap,E=new WeakMap,D=new WeakMap,ot);function fs(t){return{mutationFn(e){return ls(t,e)},mutationKey:["signTypedData"]}}function gs(t={}){const{mutation:e}=t,n=Nn(t),r=fs(n),{mutate:i,mutateAsync:c,...u}=On({...e,...r});return{...u,signTypedData:i,signTypedDataAsync:c}}function xs(t){return new Worker(""+new URL("inscription_web_worker_api.js-DZ_SG3XT.js",import.meta.url).href,{name:t==null?void 0:t.name})}class vt{}const xe="PutInscription";class ye extends vt{constructor(n){super();l(this,"inscriptionAndSignature");this.inscriptionAndSignature=n,Object.freeze(this)}toJSON(){return Ce.encode(this)}}class ys{convert(e){return{type:G.encode(xe),inscription_and_signature:ut.encode(e.inscriptionAndSignature)}}}class Cs{convert(e){return I(e,"type","inscription_and_signature"),xt(e,xe),new ye(ut.decode(e.inscription_and_signature))}}class vs extends C{constructor(){super(...arguments);l(this,"encoder",new ys);l(this,"decoder",new Cs)}}const Ce=new vs,ve="RetrieveInscriptionsForAddress";class It extends vt{constructor(n){super();l(this,"address");this.address=n,Object.freeze(this)}toJSON(){return Ie.encode(this)}}class Is{convert(e){return{type:G.encode(ve),address:G.encode(e.address)}}}class Ss{convert(e){return I(e,"type","address"),xt(e,ve),new It(G.decode(e.address))}}class bs extends C{constructor(){super(...arguments);l(this,"encoder",new Is);l(this,"decoder",new Ss)}}const Ie=new bs;class js{convert(e){return e instanceof ye?Ce.encode(e):e instanceof It?Ie.encode(e):e.toJSON()}}class ws{convert(e){if(I(e,"type"),!ns(e.type))throw new Xe(typeof e.type,"string");switch(e.type){case xe:return Ce.decode(e);case ve:return Ie.decode(e);default:throw new Xe(e.type,"CappuccinoInscriptionRequest")}}}class ks extends C{constructor(){super(...arguments);l(this,"encoder",new js);l(this,"decoder",new ws)}}const St=new ks,F="Inscription";class bt extends Ht{constructor(n){super();l(this,"request");this.request=n}get type(){return F}toJson(){return jt.encode(this)}}class As{convert(e){return{[F]:St.encode(e.request)}}}class Ps{convert(e){I(e,F);const n=e[F];return new bt(St.decode(n))}}class _s extends C{constructor(){super(...arguments);l(this,"encoder",new As);l(this,"decoder",new Ps)}}const jt=new _s;class Se{}const X="LatestInscription";class be extends Se{constructor(n){super();l(this,"inscriptionAndChainDetails");this.inscriptionAndChainDetails=n}toJSON(){return je.encode(this)}}class Ns{convert(e){I(e,X);const n=e[X];return new be(pt.decode(n))}}class Os{convert(e){return{[X]:pt.encode(e.inscriptionAndChainDetails)}}}class Ts extends C{constructor(){super(...arguments);l(this,"encoder",new Os);l(this,"decoder",new Ns)}}const je=new Ts,V="RetrievedInscriptionsForWalletAddress";class we extends Se{constructor(n){super();l(this,"inscriptionAndChainDetails");this.inscriptionAndChainDetails=n}toJSON(){return ke.encode(this)}}class Ms{convert(e){I(e,V);const n=e[V];return new we(ht.decode(n))}}class Rs{convert(e){return{[V]:ht.encode(e.inscriptionAndChainDetails)}}}class Es extends C{constructor(){super(...arguments);l(this,"encoder",new Rs);l(this,"decoder",new Ms)}}const ke=new Es;class wt{constructor(e,n,r){l(this,"numBlocks");l(this,"numTransactions");l(this,"numInscriptions");this.numBlocks=e,this.numTransactions=n,this.numInscriptions=r}}class Ds{convert(e){return{num_blocks:T.encode(e.numBlocks),num_transactions:T.encode(e.numTransactions),num_inscriptions:T.encode(e.numInscriptions)}}}class Ws{convert(e){return I(e,"num_blocks","num_transactions","num_inscriptions"),new wt(T.decode(e.num_blocks),T.decode(e.num_transactions),T.decode(e.num_inscriptions))}}class qs extends C{constructor(){super(...arguments);l(this,"encoder",new Ds);l(this,"decoder",new Ws)}}const kt=new qs,z="Stats";class Ae extends Se{constructor(n){super();l(this,"stats");this.stats=n}toJSON(){return Pe.encode(this)}}class Fs{convert(e){I(e,z);const n=e[z];return new Ae(kt.decode(n))}}class Qs{convert(e){return{[z]:kt.encode(e.stats)}}}class Ls extends C{constructor(){super(...arguments);l(this,"encoder",new Qs);l(this,"decoder",new Fs)}}const Pe=new Ls;class Ys{convert(e){if(ie(e,X))return je.decode(e);if(ie(e,z))return Pe.decode(e);if(ie(e,V))return ke.decode(e);throw new _}}class Hs{convert(e){if(e instanceof be)return je.encode(e);if(e instanceof Ae)return Pe.encode(e);if(e instanceof we)return ke.encode(e);throw new _}}class Ks extends C{constructor(){super(...arguments);l(this,"encoder",new Hs);l(this,"decoder",new Ys)}}const At=new Ks,Q="InscriptionResponse";class Pt extends Kt{constructor(n){super();l(this,"response");this.response=n}get type(){return Q}toJson(){return _t.encode(this)}}class Bs{convert(e){return{[Q]:At.encode(e.response)}}}class Js{convert(e){I(e,Q);const n=e[Q];return new Pt(At.decode(n))}}class Us extends C{constructor(){super(...arguments);l(this,"encoder",new Bs);l(this,"decoder",new Js)}}const _t=new Us;Bt(Q,_t);Jt(F,jt);{const t=[Ct,_,ft,Jn,zn],e=null;for(const n of t)if(e instanceof n)break}let ce=null;function Gs(){return ce||(ce=new xs),ce}class Xs{constructor(e=j(1024),n=j(1024)){l(this,"requestChannel");l(this,"responseChannel");const r=Gs();this.requestChannel=e,this.responseChannel=n,r.addEventListener("message",this.handleMessage.bind(this)),r.addEventListener("messageerror",this.handleMessageError.bind(this)),r.addEventListener("error",this.handleError.bind(this)),Vs(r,e)}get stream(){return this.responseChannel}async send(e){this.requestChannel.publish(e)}handleMessage(e){const n=Ut.decode(e.data);this.responseChannel.publish(n)}handleMessageError(){}handleError(){}}async function Vs(t,e){for await(const n of e)t.postMessage(Gt.encode(n))}const zs="An Infinite Garden has no walls";class $s{get stream(){throw new _}async send(){throw new _}}const _e=d.createContext(new $s);let de=null;function Zs(){return de===null&&(de=new Xs),de}function er(){return typeof window<"u"&&"Worker"in window||typeof self<"u"&&"Worker"in self?Zs():new Xt(j(1024),j(1024))}const et=t=>{const e=d.useMemo(()=>er(),[]);return s.jsx(_e.Provider,{value:e,children:t.children})};try{et.displayName="ProvideWebWorkerCappuccinoInscriptionServiceAPIContext",et.__docgenInfo={description:`ProvideWebWorkerCappuccinoInscriptionServiceAPIContext is a component that
provides a Cappuccino Inscription Service API using a default implementation
that is dependent on the environment that the code is being run within.`,displayName:"ProvideWebWorkerCappuccinoInscriptionServiceAPIContext",props:{}}}catch{}const $=d.createContext(new wt(0,0,0)),Z=d.createContext(cn()),pe=t=>{const e=d.useContext(Z);return s.jsx(dn,{children:s.jsx(ts,{asyncIterable:e,children:s.jsx(ln,{children:t.children})})})};try{$.displayName="InscriptionStatsProvider",$.__docgenInfo={description:`The InscriptionStatsProvider is a React context that is used to store the
Inscription Stats.  This context can be used to retrieve the most recent
inscription service stats. It is expected to be used to retrieve the data
asynchronously.`,displayName:"InscriptionStatsProvider",props:{}}}catch{}try{Z.displayName="InscriptionsStatsStreamContext",Z.__docgenInfo={description:`The InscriptionsStatsStreamContext is a React context that is used to
store the latest Inscriptions List.  This data can be used to stream
the latest Inscriptions List.`,displayName:"InscriptionsStatsStreamContext",props:{}}}catch{}try{pe.displayName="InscriptionsStatsStreamConsumer",pe.__docgenInfo={description:"InscriptionsStatsStreamConsumer is a component that is used to consume\nthe `AsyncIterable` stream of data that is defined by the current context.\nIt does this via an `AsyncIterableResolver`.  Any children passed into this\ncomponent will be passed the resolved contexts of the `AsyncIterableResolver`.",displayName:"InscriptionsStatsStreamConsumer",props:{}}}catch{}const tr=100;function nr(){return{latestInscriptions:Un(tr+1)}}function Nt(t,e){const n=t.block-e.block;return n!==0?n:t.offset-e.offset}function sr(t,e){const n=Nt(t.chainDetails,e.chainDetails);return n!==0?n:t.inscription.time.valueOf()-e.inscription.time.valueOf()}function rr(t){return(e,n)=>-t(e,n)}async function ir(t,e,n){const r=Xn(t.latestInscriptions.immutableIterable(),c=>Nt(c.chainDetails,n.inscriptionAndChainDetails.chainDetails)===0);if(!r){t.latestInscriptions.put(n.inscriptionAndChainDetails),e.latestInscriptions.publish(Array.from(t.latestInscriptions.immutableIterable()));return}const i=Array.from(Vn(t.latestInscriptions,c=>c!==r));i.push(n.inscriptionAndChainDetails),i.sort(rr(sr));for(const c of i)t.latestInscriptions.put(c);e.latestInscriptions.publish(Array.from(t.latestInscriptions.immutableIterable()))}async function or(t,e,n){if(n instanceof be)return ir(t,e,n);n instanceof we&&e.yourInscriptions.publish(n.inscriptionAndChainDetails),n instanceof Ae&&await e.stats.publish(n.stats)}async function ar(t,e,n){const r=t.status;if(r instanceof nn){e.reconnectAttempt=0,e.errors.publish(null);return}if(!(r instanceof sn)||!e.mounted)return;e.reconnectAttempt+=1;const i=Math.min(4**e.reconnectAttempt,4e3)*(Math.random()+1);console.info("disconnected from inscriptions web socket, attempting to reconnect","attempting reconnect, attempt",e.reconnectAttempt,"sleeping for",i),await an(i),n.send(new at)}async function cr(t,e,n){const r=nr();for await(const i of e.stream){if(i instanceof Pt){await or(r,t,i.response),await t.errors.publish(null);continue}if(i instanceof $t){await t.lifecycle.publish(i),ar(i,t,n);continue}if(i instanceof Zt){await t.errors.publish(i);continue}}}async function dr(t){await t.send(new at)}function lr(){return{latestInscriptions:j(4),yourInscriptions:j(4),stats:j(4),errors:j(4),lifecycle:j(4),mounted:!0,reconnectAttempt:0}}const tt=t=>{const e=d.useContext(_e),n=lr();return d.useEffect(()=>{const r=en(e,tn);return cr(n,e,r),(t.connectToWebSocket??!0)&&dr(r),()=>{r.send(new Vt),n.mounted=!1}}),s.jsx(Tn.Provider,{value:n.latestInscriptions,children:s.jsx(Mn.Provider,{value:n.yourInscriptions,children:s.jsx(Z.Provider,{value:n.stats,children:s.jsx(zt.Provider,{value:n.lifecycle,children:s.jsx(un.Provider,{value:pn(n.errors,async r=>(r==null?void 0:r.error)??null),children:t.children})})})})})};try{tt.displayName="ProvideCappuccinoInscriptionStreams",tt.__docgenInfo={description:"",displayName:"ProvideCappuccinoInscriptionStreams",props:{connectToWebSocket:{defaultValue:null,description:"",name:"connectToWebSocket",required:!1,type:{name:"boolean"}}}}}catch{}const he=()=>s.jsx(s.Fragment,{}),me=()=>{const t=d.useContext($);return s.jsxs("section",{className:"inscription-stats",children:[s.jsx("span",{children:s.jsx(a,{text:"Espresso Mainnet status"})}),s.jsxs("div",{className:"chip",children:[s.jsx(oe,{number:t.numBlocks}),s.jsx(a,{text:" "}),s.jsx(a,{text:"Blocks"})]}),s.jsxs("div",{className:"chip",children:[s.jsx(oe,{number:t.numTransactions}),s.jsx(a,{text:" "}),s.jsx(a,{text:"transactions"})]}),s.jsxs("div",{className:"chip",children:[s.jsx(oe,{number:t.numInscriptions}),s.jsx(a,{text:" "}),s.jsx(a,{text:"inscriptions"})]})]})},fe=t=>{const e=d.useContext(ct),n=d.useContext(hn),r=d.useContext(mn);return e&&!r?s.jsx(s.Fragment,{}):n?s.jsx(he,{...t}):s.jsx($.Provider,{value:r,children:s.jsx(me,{...t})})};try{he.displayName="InscriptionStatsSummaryPlaceholder",he.__docgenInfo={description:`InscriptionStatsSummaryPlaceholder is a placeholder component that is used
to display a loading state for the InscriptionStatsSummary component.

At the moment this displays nothing.`,displayName:"InscriptionStatsSummaryPlaceholder",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}try{me.displayName="InscriptionStatsSummaryContent",me.__docgenInfo={description:"",displayName:"InscriptionStatsSummaryContent",props:{}}}catch{}try{fe.displayName="InscriptionStatsSummaryAsyncHandler",fe.__docgenInfo={description:"",displayName:"InscriptionStatsSummaryAsyncHandler",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const ur=Rn({appName:"Espresso Inscriptions",projectId:"9538d52db1aab41aa364a1a95cd57b2a",chains:[En],ssr:!0}),pr=new ms,hr=t=>d.createElement("h1",t),W=t=>d.createElement("h2",t),mr=(t,e)=>s.jsx("section",{ref:e,className:Y(t.className,"guided-story"),children:t.children}),H=d.forwardRef(mr),fr=t=>d.useContext(Bn)?s.jsx(s.Fragment,{children:t.children}):s.jsx(s.Fragment,{}),gr=()=>{const t=d.useContext(se),e=d.useContext(ge);return t?s.jsx(s.Fragment,{}):s.jsx("button",{className:"btn--connect-wallet",onClick:e.openConnectModal,children:s.jsx(a,{text:"Connect Wallet"})})},xr=()=>{const t=d.useContext(se),e=d.useContext(ge);if(!t)return s.jsx(s.Fragment,{});t.ensName,t.ensAvatar;const{displayName:n}=t;return s.jsx("button",{className:"btn--connected-account",onClick:e.openAccountModal,children:s.jsx(a,{text:n})})},yr=()=>s.jsx("a",{href:"https://espressosys.com/about",target:"_blank",rel:"noreferrer",children:s.jsx(a,{text:"About Us"})}),Cr=()=>s.jsx("nav",{className:"inscription-links",children:s.jsx(yr,{})}),vr=t=>s.jsx("div",{className:"icon-nav",children:t.children}),Ir=()=>s.jsxs("div",{className:"inscriptions--header--actions",children:[s.jsx(Cr,{}),s.jsxs(vr,{children:[s.jsx(Zn,{}),s.jsx(es,{}),s.jsxs(fr,{children:[s.jsx(gr,{}),s.jsx(xr,{})]})]})]});function Sr(){return gt.useState({theme:""})}const Ot=d.createContext([{theme:""},()=>{}]),br=t=>{const e=Sr();return s.jsx(Ot.Provider,{value:e,children:t.children})};function re(){return d.useContext(Ot)}const jr=()=>{const[t]=re();return s.jsxs("div",{className:Y(t.theme,"inscriptions--header"),children:[s.jsx("a",{href:"https://espressosys.com/",target:"_blank",rel:"noreferrer",children:s.jsx(as,{})}),s.jsx(Ir,{})]})},wr=()=>{const[t]=re();return s.jsx("div",{className:Y(t.theme,"inscriptions--footer"),children:s.jsx(Jr,{})})},kr=t=>s.jsx("div",{className:"inscriptions--content",children:t.children}),le=t=>{const[e,n,r]=t.children;return s.jsxs("div",{className:"engage-step",children:[s.jsx("span",{children:e}),s.jsx("span",{children:n}),r]})},ue=t=>s.jsxs("div",{className:"engage-step--status","data-completed":t.done,onClick:t.onClick,children:[t.children,t.done?s.jsxs("div",{className:"done",children:[s.jsx(os,{}),s.jsx(a,{text:"Done"})]}):s.jsx(s.Fragment,{})]});function Ar(t,e,n,r,i){if(!t)return e?async()=>{try{const c=new Date,u=new Date(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes()),h=new Yn(new Hn(ze(e.address)),u,zs),m=await r.signTypedDataAsync({account:e.address,domain:{name:"Espresso Inscription"},types:{EspressoInscription:[{name:"address",type:"address"},{name:"message",type:"string"},{name:"time",type:"uint64"}]},primaryType:"EspressoInscription",message:{address:e.address,message:h.message,time:BigInt(Math.floor(h.time.getTime()/1e3))}});i(new Kn(h,ze(m)))}catch(c){console.error(c)}}:()=>{n.openConnectModal()}}class Pr{convert(e){return{inscribed:e.inscribeYourCommitmentActivated,post:e.makeANewPostOnXActivated}}}class _r{convert(e){return I(e,"inscribed","post"),{inscribeYourCommitmentActivated:Ve.decode(e.inscribed),makeANewPostOnXActivated:Ve.decode(e.post)}}}class Nr extends C{constructor(){super(...arguments);l(this,"decoder",new _r);l(this,"encoder",new Pr)}}const Tt=new Nr;class Or{convert(e){return{engageSteps:Tt.encode(e.engageSteps),inscriptions:mt.encode(e.inscriptions)}}}class Tr{convert(e){return I(e,"engageSteps","inscriptions"),{engageSteps:Tt.decode(e.engageSteps),inscriptions:mt.decode(e.inscriptions)}}}class Mr extends C{constructor(){super(...arguments);l(this,"decoder",new Tr);l(this,"encoder",new Or)}}const ee=new Mr,Rr=new ss(new rs(ee),new is(ee));class Er{constructor(){l(this,"map");this.map=new Map}removeItem(e){this.map.delete(e)}getItem(e){return this.map.get(e)??null}setItem(e,n){this.map.set(e,n)}}const te=d.createContext(new Er),nt=t=>typeof localStorage>"u"?t.children:s.jsx(te.Provider,{value:localStorage,children:t.children});function Dr(){const t=d.useContext(te),[,e]=gt.useState(new Date),n=d.useContext(se),r={engageSteps:{inscribeYourCommitmentActivated:!1,makeANewPostOnXActivated:!1},inscriptions:[]};if(!n)return[r,()=>{}];const i=`engageSteps-${n.address}`;t.getItem(i)||t.setItem(i,JSON.stringify(ee.encode(r)));const u=t.getItem(i);if(!u)throw new _;const h=Rr.decode(JSON.parse(u));if(!h)throw new _;return[h,m=>{t.setItem(i,JSON.stringify(ee.encode(m))),e(new Date)}]}function Wr(){const[t,e]=Dr();return[t.engageSteps,n=>{e({...t,engageSteps:n})}]}const Mt=d.createContext([{inscribeYourCommitmentActivated:!1,makeANewPostOnXActivated:!1},()=>{}]),qr=t=>{const e=Wr();return s.jsx(Mt.Provider,{value:e,children:t.children})};function Ne(){return d.useContext(Mt)}function Rt(t){const e=new URL("https://twitter.com/intent/tweet");return t!==null?(e.searchParams.set("text","Join me in the Infinite Garden: https://infinitegarden.espressosys.com"),e.searchParams.set("url",t.toString())):e.searchParams.set("text",`Safeguard against silos in the Infinite Garden: https://infinitegarden.espressosys.com

Join me in making sure all chains work together as one. Inscribe Espresso Mainnet now.`),e}const Fr=()=>{const t=d.useContext(ne),e=d.useContext(se),n=d.useContext(ge),r=gs(),i=d.useContext(_e),c=Te(),[u,h]=Ne();if(u.makeANewPostOnXActivated&&u.inscribeYourCommitmentActivated)return s.jsxs("p",{className:"engage-steps-thank-you",children:[s.jsx(a,{text:"Thank you! "}),s.jsx(Et,{})]});const m=s.jsx(ue,{done:u.makeANewPostOnXActivated,children:s.jsxs(le,{children:[s.jsx(a,{text:"3"}),s.jsx(a,{text:"Share on X"}),s.jsx(ae,{})]})});return s.jsxs("div",{className:"engage-steps",children:[s.jsx(ue,{done:e!==null,onClick:e!==null?void 0:()=>{n.openConnectModal()},children:s.jsxs(le,{children:[s.jsx(a,{text:"1"}),s.jsx(a,{text:"Connect Wallet"}),s.jsx(ae,{})]})}),s.jsx(ue,{done:u.inscribeYourCommitmentActivated,onClick:Ar(u.inscribeYourCommitmentActivated,e,n,r,N=>{h({...u,inscribeYourCommitmentActivated:!0}),i.send(new bt(new ye(N))),c.openThankYouModal()}),children:s.jsxs(le,{children:[s.jsx(a,{text:"2"}),s.jsx(a,{text:"Inscribe and Leave Your Mark on Espresso Mainnet"}),s.jsx(ae,{})]})}),u.makeANewPostOnXActivated?m:s.jsx("a",{href:Rt(t).toString(),target:"_blank",rel:"noreferrer",onClick:N=>{N.button===0&&h({...u,makeANewPostOnXActivated:!0})},children:m})]})},Qr=()=>{const t=d.useContext(ct),e=d.useContext(Oe),[n,r]=Ne();return t?(t instanceof Ct&&e.isThankYouModalOpen&&r({...n,inscribeYourCommitmentActivated:!1}),t instanceof Gn?(e.isThankYouModalOpen&&r({...n,inscribeYourCommitmentActivated:!1}),t.status===429&&!e.isOverCapacityModalOpen&&e.openOverCapacityModal(),s.jsx(s.Fragment,{})):t instanceof ft?(e.isThankYouModalOpen&&r({...n,inscribeYourCommitmentActivated:!1}),s.jsx(s.Fragment,{})):s.jsx($n,{className:"edge-margin"})):s.jsx(s.Fragment,{})},Lr=()=>{const t=qt("transparent",{root:null,rootMargin:"0px",threshold:1e-4});return s.jsxs(H,{ref:t,className:"inscription-wall",children:[s.jsx(jr,{}),s.jsx(Qr,{}),s.jsxs(kr,{children:[s.jsx(W,{children:s.jsx(a,{text:"An Infinite Garden has no walls"})}),s.jsxs("p",{children:[s.jsx(a,{text:"Join us on our mission to safeguard against silos, ensuring all chains work together as one."}),s.jsx("br",{}),s.jsx(a,{text:"Leave your mark on Espresso Mainnet by signing with your wallet."}),s.jsx("br",{}),s.jsx("span",{style:{fontSize:"0.8em",opacity:"0.8"},children:s.jsx(a,{text:"(No transaction fees required)"})})]}),s.jsx(Fr,{}),s.jsx(pe,{children:s.jsx(fe,{})}),s.jsx(Qn,{children:s.jsx(Ln,{})})]})]})},Et=()=>s.jsxs(s.Fragment,{children:[s.jsx(a,{text:"Your support is now being inscribed on the Espresso Mainnet in perpetuity. To learn more about how Espresso is working to safeguard the Infinite Garden, visit our "}),s.jsx("a",{href:"https://espressosys.com/",target:"_blank",rel:"noreferrer",children:s.jsx(a,{text:"website"})}),s.jsx(a,{text:" and "}),s.jsx("a",{href:"https://docs.espressosys.com/",target:"_blank",rel:"noreferrer",children:s.jsx(a,{text:"documentation"})}),s.jsx(a,{text:"."})]}),Dt=t=>s.jsx("div",{className:"modal-barrier","data-display":t.display,children:t.children}),Wt=t=>s.jsx("div",{className:"dialog-inline-padding dialog-block-start-padding dialog--heading",children:t.children}),Oe=d.createContext({openThankYouModal:()=>{},closeThankYouModal:()=>{},openOverCapacityModal:()=>{},closeOverCapacityModal:()=>{},isThankYouModalOpen:!1,isOverCapacityModalOpen:!1});function Yr(){const[t,e]=d.useState({isThankYouModalOpen:!1,isOverCapacityModalOpen:!1});return{...t,openThankYouModal:()=>{e({...t,isThankYouModalOpen:!0,isOverCapacityModalOpen:!1})},closeThankYouModal:()=>{e({...t,isThankYouModalOpen:!1})},openOverCapacityModal:()=>{e({...t,isOverCapacityModalOpen:!0,isThankYouModalOpen:!1})},closeOverCapacityModal:()=>{e({...t,isOverCapacityModalOpen:!1})}}}const Hr=t=>{const e=Yr();return s.jsx(Oe.Provider,{value:e,children:t.children})};function Te(){return d.useContext(Oe)}const Kr=()=>{const t=Te(),e=d.useContext(ne),[n,r]=Ne();return s.jsx(Dt,{display:t.isThankYouModalOpen,children:s.jsxs("dialog",{open:!0,children:[s.jsxs(Wt,{children:[s.jsx(W,{children:s.jsx(a,{text:"Thank you"})}),s.jsx("button",{className:"btn-close",title:"Close",children:s.jsx(yt,{onClick:i=>{i.button===0&&t.closeThankYouModal()}})})]}),s.jsx("p",{className:"dialog-inline-padding dialog-block-end-padding",children:s.jsx(Et,{})}),s.jsx("hr",{}),s.jsx("div",{className:"dialog--footer",children:s.jsxs("a",{href:Rt(e).toString(),className:"btn--dialog",target:"_blank",rel:"noreferrer",onClick:i=>{i.button===0&&(r({...n,makeANewPostOnXActivated:!0}),t.closeThankYouModal())},children:[s.jsx(cs,{}),s.jsx(a,{text:"Share"})]})})]})})},Br=()=>{const t=Te();return s.jsx(Dt,{display:t.isOverCapacityModalOpen,children:s.jsxs("dialog",{open:!0,children:[s.jsxs(Wt,{children:[s.jsx(W,{children:s.jsx(a,{text:"We're over capacity"})}),s.jsx("button",{className:"btn-close",title:"Close",children:s.jsx(yt,{onClick:e=>{e.button===0&&t.closeOverCapacityModal()}})})]}),s.jsx("p",{className:"dialog-inline-padding dialog-block-end-padding",children:s.jsx(a,{text:"Your inscription has not gone through. Espresso Mainnet is currently in beta and is under heavy load.  Please try again later."})}),s.jsx("hr",{}),s.jsx("div",{className:"dialog--footer",children:s.jsx("button",{className:"btn--dialog",onClick:t.closeOverCapacityModal,title:"Close",children:s.jsx(a,{text:"OK"})})})]})})},Jr=t=>s.jsx("div",{className:Y(t.className,"scroll-to-continue-section"),children:s.jsx(a,{text:"Scroll to continue"})}),Ur=t=>s.jsx(H,{className:"escape-the-walled-garden",children:s.jsxs("div",{className:"guided-story--content",children:[s.jsx("div",{className:"background-image",children:t.backgroundImage}),s.jsxs(hr,{children:[s.jsx(a,{text:"Escape the"}),s.jsx(a,{text:" "}),s.jsx("br",{}),s.jsx(a,{text:"Walled Gardens"})]})]})}),Gr=()=>s.jsx(H,{className:"our-data",children:s.jsxs("div",{className:"guided-story--content",children:[s.jsxs(W,{children:[s.jsx(a,{text:"Our assets. Our apps. Our data."}),s.jsx(a,{text:" "}),s.jsx("br",{}),s.jsx(a,{text:"All exist in walled gardens."}),s.jsx(a,{text:" "}),s.jsx("br",{}),s.jsx(a,{text:"Silos created by corporate giants."})]}),s.jsx("p",{children:s.jsx(a,{text:"Controlling our experiences, deciding what we build, limiting how we interact."})})]})});function qt(t,e={root:null,rootMargin:"0px",threshold:.5}){const n=d.useRef(null),[r,i]=re();return d.useEffect(()=>{if(!("IntersectionObserver"in window))return()=>{};const c=new IntersectionObserver(h=>{const[m]=h;m.isIntersecting&&r.theme!==t&&i({...r,theme:t}),!m.isIntersecting&&r.theme===t&&i({...r,theme:""})},e);if(!n.current)return()=>{};const{current:u}=n;return c.observe(u),()=>{c.unobserve(u)}},[n,e,r,i,t]),n}const Xr=()=>{const t=qt("light");return s.jsx(H,{ref:t,className:"there-is-a-better-way",children:s.jsx("div",{className:"guided-story--content",children:s.jsx(W,{children:s.jsx(a,{text:"There is a better way."})})})})},Vr=()=>s.jsx(H,{className:"infinite-garden",children:s.jsxs("div",{className:"guided-story--content",children:[s.jsx(W,{children:s.jsx(a,{text:"The Infinite Garden"})}),s.jsx("p",{children:s.jsx(a,{text:"Escape onchain, where anyone can contribute, anything can be built, and everyone has access. Join the enterprises, artists, degens, and dreamers who make their home in the infinite garden. Scaling across hundreds of chains, there is room for all of us."})})]})}),zr=({children:t,...e})=>{const[n]=re();return s.jsx("main",{className:Y(n.theme,"inscriptions"),...e,children:t})},ne=d.createContext(null),st=({backgroundImage:t,escapeTheWalledGardensImage:e,...n})=>s.jsx(Dn,{config:ur,children:s.jsx(Wn,{client:pr,children:s.jsx(qn,{children:s.jsx(Fn,{children:s.jsx(rn,{children:s.jsx(on,{children:s.jsx(qr,{children:s.jsx(Hr,{children:s.jsxs(br,{children:[s.jsxs(zr,{...n,children:[s.jsx("div",{className:"background-image",children:t}),s.jsx(wr,{}),s.jsx(Ur,{backgroundImage:e}),s.jsx(Gr,{}),s.jsx(Xr,{}),s.jsx(Vr,{}),s.jsx(Lr,{})]}),s.jsx(Kr,{}),s.jsx(Br,{})]})})})})})})})})});try{te.displayName="ReducedStorageProvider",te.__docgenInfo={description:`ReducedStorageProvider is a context that provides the storage mechanism that
the EngageSteps will use to persist their state.`,displayName:"ReducedStorageProvider",props:{}}}catch{}try{nt.displayName="ProvideLocalStorage",nt.__docgenInfo={description:`ProvideLocalStorage is a component that provides the ReducedStorageProvider
of the localStorage.`,displayName:"ProvideLocalStorage",props:{}}}catch{}try{ne.displayName="TweetURLProvider",ne.__docgenInfo={description:`TweetURLProvider is a context that provides the URL of the tweet that the
user is meant to share as part of the guided engagement journey.`,displayName:"TweetURLProvider",props:{}}}catch{}try{st.displayName="InscriptionsPage",st.__docgenInfo={description:`InscriptionsPage represents the entire Inscriptions page.  This is the main
entry point for the Inscriptions page.`,displayName:"InscriptionsPage",props:{backgroundImage:{defaultValue:null,description:"",name:"backgroundImage",required:!0,type:{name:"ReactNode"}},escapeTheWalledGardensImage:{defaultValue:null,description:"",name:"escapeTheWalledGardensImage",required:!0,type:{name:"ReactNode"}}}}}catch{}export{_e as C,st as I,et as P,ms as Q,It as R,ne as T,tt as a,nt as b,bt as c};
