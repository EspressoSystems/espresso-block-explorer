import{R as a,j as e}from"./iframe-BYhJ0elB.js";import{h as D}from"./array_buffer-CXxOH-jd.js";import{c as q,p as v}from"./functional-By_9lidy.js";import{T as k}from"./TaggedBase64-DlPC3yRR.js";import{t as i,_ as T,$ as G,a0 as H,a1 as O,a2 as U,l as g,a3 as X,V as l,M as p,a4 as A,a5 as J,J as P,a6 as h,p as Q,C as $,B as z,I as K,N as w,R as V,O as Y,Q as Z,T as ee,G as te}from"./staking_modal_validator_confirmed_content-D6Q4eCpQ.js";import{a as re}from"./assert-B20_bgky.js";import{M as ae}from"./MoneyText-CfP9eB4o.js";import{P as oe}from"./TransactionsPerSecondText-DYcNORHL.js";import{T as c}from"./Text-BU7JBOLk.js";import{W as F}from"./deserializer-B2Gg0rhF.js";import{b as se}from"./Payments-PUYEGv5h.js";import"./TwitterIcon-BxQrwveJ.js";import"./ArrowRight-CdQE6Vdq.js";import"./CheckCircleFilled-BTQ9yhTR.js";import"./ChevronUp-BTdUourD.js";import"./Close-CMmUJDGo.js";import"./Copy-B8g8a5_A.js";import"./MediumIcon-DKHlDRtH.js";import"./EspressoLogo-Bfy1xbVf.js";import"./EspressoLogoAndTitle-BTinMqNr.js";import"./Menu-CF49AHer.js";import{S as ne}from"./SearchGlass-D51lCh_Z.js";import{S as R}from"./SVGIconBase-aGBMO4fP.js";import"./XIcon-DKvTYBsW.js";import{M as ie}from"./monetary_value-CGCIrnLJ.js";import{W as I}from"./wallet_address-Bz0sM43W.js";import{T as M,a as ce}from"./text-CHQPLxzn.js";import{a as u}from"./higher_order-CiFIqkYR.js";import{N as de}from"./NowProvider-DPFdN-s-.js";import{N as le}from"./NumberText-BsD_8CBR.js";const d=a.createContext(new M("")),m=a.createContext(()=>{}),y=({children:t})=>{const[r,o]=a.useState(new M(""));return e.jsx(d.Provider,{value:r,children:e.jsx(m.Provider,{value:o,children:t})})};try{d.displayName="SearchFilterContext",d.__docgenInfo={description:`ProvideSearchFilter is a React context that provides the context
for filtering using a search term.`,displayName:"SearchFilterContext",props:{}}}catch{}try{m.displayName="SetSearchFilterContext",m.__docgenInfo={description:`SetSearchFilterContext is a React context that provides the context
for setting the search filter.`,displayName:"SetSearchFilterContext",props:{}}}catch{}try{y.displayName="ProvideSearchFilter",y.__docgenInfo={description:"ProvideSearchFilter is a React context provider for the search filter input.",displayName:"ProvideSearchFilter",props:{}}}catch{}const pe=t=>a.createElement(R,{...t,className:u(t.className,"stroked")},e.jsxs("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-check-circle",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}));try{checkcircle.displayName="checkcircle",checkcircle.__docgenInfo={description:"CheckCircle represents a check mark inside a circle.",displayName:"checkcircle",props:{}}}catch{}const ue=t=>a.createElement(R,{...t,className:u(t.className,"stroked")},e.jsxs("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-copy",children:[e.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),e.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}));try{copy.displayName="copy",copy.__docgenInfo={description:"Copy represents an icon indicating a copy action.",displayName:"copy",props:{}}}catch{}const me=1e3,xe=t=>{const r=a.useContext(de),[o,s]=a.useState(new Date(0));return r.valueOf()-o.valueOf()<me?e.jsx("button",{...t,className:u(t.className,"bbtn--copy copied"),title:"Copy Contents",children:e.jsx(pe,{})}):e.jsx("button",{...t,className:u(t.className,"bbtn--copy"),onClick:n=>{n.preventDefault(),n.stopPropagation(),!(typeof window>"u"||!navigator||!navigator.clipboard)&&(s(new Date),navigator.clipboard.writeText(t.content))},title:"Copy Contents",children:e.jsx(ue,{})})};try{copybutton.displayName="copybutton",copybutton.__docgenInfo={description:`CopyButton is a button that allows the user to copy it's given text contents
into the text clipboard.  It handles the clipboard interaction for you, while
allowing the user the ability to override this behavior should that be
desired.

It is recommended to not overwrite this behavior, however, as some extra
features are provided that help indicate to the user that their desired
copy was provided without issue.

When interacted with, the button will copy the content passed to the
component via the content prop.  The content must be a string for it to be
able to be copied.`,displayName:"copybutton",props:{content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"string"}}}}}catch{}const he=t=>e.jsxs("span",{children:[t.children,e.jsx(xe,{content:t.value.toString()})]});try{copywalletaddress.displayName="copywalletaddress",copywalletaddress.__docgenInfo={description:"CopyWalletAddress is a component that will display a `CopyButton` with the\ncontents for the `CopyButton` the EIP-55 Formatted Wallet Address",displayName:"copywalletaddress",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"WalletAddress"}}}}}catch{}const f=()=>{const t=a.useContext(i),r=new I(t.address);return e.jsx(he,{value:r,children:e.jsx(F,{value:r})})};try{f.displayName="NodeNameCell",f.__docgenInfo={description:`NameNodeCell displays the wallet address of a validator node. It is
actually intended to show the name, and an icon for the validator,
but it's currently unclear how we would source this information.`,displayName:"NodeNameCell",props:{}}}catch{}const _=()=>{const t=a.useContext(i),r=a.useContext(T),o=t.addressText,s=r.get(o);return e.jsx(le,{number:s??-1})};try{_.displayName="RankCell",_.__docgenInfo={description:`RankCell is a component that displays
the rank of the current validator node.`,displayName:"RankCell",props:{}}}catch{}function C(t){return t.text.trim()===""?()=>!0:r=>r.addressText.indexOf(t.text.toLowerCase())>=0}try{C.displayName="applySearchTermNodeFilter",C.__docgenInfo={description:"applySearchTermNodeFilter creates a filter function based on the search term.",displayName:"applySearchTermNodeFilter",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},selection:{defaultValue:null,description:"",name:"selection",required:!0,type:{name:"TextSelection"}},composing:{defaultValue:null,description:"",name:"composing",required:!0,type:{name:"TextRange"}},copyWith:{defaultValue:null,description:"",name:"copyWith",required:!0,type:{name:"({ text, selection, composing, }?: Partial<TextEditingValue>) => TextEditingValue"}}}}}catch{}const j=()=>{const t=a.useContext(d),r=a.useContext(m);return e.jsxs("div",{className:"search-node-container",children:[e.jsx(ce,{className:"search-node",value:t,onChange:(o,s)=>r(s),placeholder:"Search Validator"}),e.jsx(ne,{})]})};try{j.displayName="SearchValidator",j.__docgenInfo={description:`SearchValidator is a React component that renders a search input for
filtering validators.`,displayName:"SearchValidator",props:{}}}catch{}const N=()=>e.jsxs(e.Fragment,{children:[e.jsxs(G,{children:[e.jsx(H,{children:e.jsx(c,{text:"Select a Validator"})}),e.jsx(O,{})]}),e.jsx(U,{children:e.jsx(ye,{})})]}),ye=()=>e.jsxs("div",{className:"validator-selection-split",children:[e.jsx(y,{children:e.jsx(fe,{children:e.jsxs("div",{className:"validator-selection-split-start",children:[e.jsx(j,{}),e.jsx(_e,{})]})})}),e.jsx(ve,{})]}),x=a.createContext([]),fe=({children:t})=>{const o=a.useContext(g)?.nodes??[];return e.jsx(x.Provider,{value:o,children:t})},_e=()=>e.jsx("div",{className:"validator-selection-list",children:e.jsx(Ce,{children:e.jsx(je,{})})}),Ce=({children:t})=>{const r=a.useContext(x),o=a.useContext(d),s=a.useContext(T),n=Array.from(q(r,C(o))).sort((E,W)=>{const L=s.get(E.addressText)??Number.MAX_SAFE_INTEGER,B=s.get(W.addressText)??Number.MAX_SAFE_INTEGER;return L-B});return e.jsx(x.Provider,{value:n,children:t})},je=()=>{const t=a.useContext(x);return e.jsx("table",{className:"validator-list",children:e.jsx("tbody",{children:t.map((r,o)=>e.jsx(i.Provider,{value:r,children:e.jsx(Ne,{})},o))})})},Ne=()=>{const t=a.useContext(i),r=a.useContext(l),o=a.useContext(A),s=r instanceof p&&v(r.validatorAddress,t.address)===0,n=()=>{o.replace(new p(t.address))};return e.jsxs("tr",{"data-selected":s,onClick:n,children:[e.jsx("td",{className:"node-rank",onClick:n,children:e.jsx(_,{})}),e.jsx("td",{className:"node-name",onClick:n,children:e.jsx(f,{})}),e.jsx("td",{className:"node-selected",onClick:n,children:e.jsx(se,{})})]})},ve=()=>e.jsx(ge,{children:e.jsx("div",{className:"selection-details",children:e.jsxs(Se,{children:[e.jsx("div",{className:"node-summary-area",children:e.jsx(X,{})}),e.jsx(ke,{}),e.jsx("div",{className:"flex"}),e.jsx(we,{})]})})}),ge=({children:t})=>{const r=a.useContext(l),o=a.useContext(g),s=!(r instanceof p)||!o?null:o.nodes.find(n=>v(n.address,r.validatorAddress)===0)??null;return s?e.jsx(i.Provider,{value:s,children:t}):t},Se=({children:t})=>a.useContext(i).address.byteLength<=0?null:t,ke=()=>e.jsxs("div",{className:"staking-modal-staking-overview-area",children:[e.jsx(Ve,{}),e.jsx(be,{}),e.jsx(Te,{}),e.jsx(Ae,{})]}),we=()=>{const t=a.useContext(l),r=a.useContext(A);return re(t instanceof p),e.jsx("div",{className:"validator-confirm-area",children:e.jsx(J,{onClick:()=>r.push(new P(t.validatorAddress)),children:e.jsx(c,{text:"Next"})})})},Ve=()=>{const t=a.useContext(i);return e.jsxs(h,{children:[e.jsx(c,{text:"Total Stake"}),e.jsx(ae,{money:ie.ESP(t.stake)})]})},be=()=>{const t=a.useContext(i);return e.jsxs(h,{children:[e.jsx(c,{text:"Commission"}),e.jsx(oe,{percentage:t.commission.ratio})]})},Te=()=>{const t=a.useContext(i);return e.jsxs(h,{children:[e.jsx(c,{text:"Address"}),e.jsx(F,{value:new I(t.address)})]})},Ae=()=>e.jsxs(h,{children:[e.jsx(c,{text:"Website"}),e.jsx(c,{text:"-"})]});try{N.displayName="ValidatorSelectionNeededContent",N.__docgenInfo={description:"",displayName:"ValidatorSelectionNeededContent",props:{}}}catch{}const Pe=({children:t})=>{const r=a.useContext(g),o=a.useContext(l),s=Fe(r,o),n=Re(o);return e.jsx(i.Provider,{value:s,children:e.jsx(Q.Provider,{value:n,children:t})})};function S(t){return t instanceof P||t instanceof Y||t instanceof Z||t instanceof ee||t instanceof te}function Fe(t,r){return S(r)?t?.nodes.find(o=>v(o.address,r.validatorAddress)===0)??new w(r.validatorAddress,new k("",new ArrayBuffer(0)),0n,V.floatingPoint(0)):new w(new ArrayBuffer(0),new k("",new ArrayBuffer(0)),0n,V.floatingPoint(0))}function Re(t){return S(t)?D.encode(t.validatorAddress):"0x"}const Ie=()=>{const t=a.useContext(l);return t instanceof $?e.jsx(z,{}):S(t)?e.jsx(K,{}):e.jsx(N,{})},b=()=>e.jsx(Pe,{children:e.jsx(Ie,{})});try{b.displayName="StakingModalContent",b.__docgenInfo={description:"",displayName:"StakingModalContent",props:{}}}catch{}export{f as N,y as P,_ as R,b as S,j as a,d as b,C as c};
