var Rr=Object.defineProperty;var Fr=(r,e,s)=>e in r?Rr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s;var o=(r,e,s)=>Fr(r,typeof e!="symbol"?e+"":e,s);import{T as a,i as ne,I as O,g as u,A as b,h as E,j as v,C as L,a as n,r as p,B as g,b as f,s as i,d as Q,o as m,u as Me,c as q,p as Je,N as We,e as Ve,f as He,q as zr,t as K,v as Y}from"./string-Cg6lWpsr.js";import{b as I,h as y,u as je,s as Le}from"./array_buffer-BUW1Ia8h.js";import{n as t,b as S,d as x}from"./base64-Do8ItC4e.js";import{t as l}from"./TaggedBase64-BMRJSBWP.js";import"./url-JK4c_hib.js";import{U as Qe}from"./LoadingProvider-Cu0dkHek.js";import{m as Mr,M as Jr}from"./functional-BZC-Q2QA.js";import{I as ae,m as qe}from"./monetary_value-VO_rcuFQ.js";import"./FetchError-BbxpOD7A.js";import"./NotFoundError-zYtPBSyK.js";class Wr{convert(e){if(!ne(e))throw new O(typeof e,"string");const s=new Date(e);if(Number.isNaN(s.valueOf()))throw new O("NaN","number");return s}}class Vr{convert(e){return u(e,Date),e.toISOString()}}class Hr extends a{constructor(){super(...arguments);o(this,"encoder",new Vr);o(this,"decoder",new Wr)}}const k=new Hr;class Ue{constructor(e,s,c,d,h,C){o(this,"hash");o(this,"height");o(this,"proposerID");o(this,"numTransactions");o(this,"size");o(this,"time");this.hash=e,this.height=s,this.proposerID=c,this.numTransactions=d,this.size=h,this.time=C}toJSON(){return X.encode(this)}}class jr{convert(e){return n(e,"hash","height","proposer_id","num_transactions","size","time"),new Ue(l.decode(e.hash),t.decode(e.height),I.decode(e.proposer_id),t.decode(e.num_transactions),t.decode(e.size),k.decode(e.time))}}class Lr{convert(e){return u(e,Ue),{hash:l.encode(e.hash),height:t.encode(e.height),proposer_id:I.encode(e.proposerID),num_transactions:t.encode(e.numTransactions),size:t.encode(e.size),time:k.encode(e.time)}}}class Qr extends L{constructor(){super(...arguments);o(this,"encoder",new Lr);o(this,"decoder",new jr)}}const X=new Qr,qc=new b(new E(X),new v(X)),Ge=S;class $e{constructor(e,s,c,d,h,C){o(this,"hash");o(this,"rollups");o(this,"height");o(this,"time");o(this,"offset");o(this,"numTransactions");this.hash=e,this.rollups=s,this.height=c,this.time=d,this.offset=h,this.numTransactions=C}toJSON(){return Z.encode(this)}}class qr{convert(e){return n(e,"hash","rollups","height","time","offset","num_transactions"),new $e(l.decode(e.hash),Ge.decode(e.rollups),t.decode(e.height),k.decode(e.time),t.decode(e.offset),t.decode(e.num_transactions))}}class Ur{convert(e){return u(e,$e),{hash:l.encode(e.hash),rollups:Ge.encode(e.rollups),height:t.encode(e.height),time:k.encode(e.time),offset:t.encode(e.offset),num_transactions:t.encode(e.numTransactions)}}}class Gr extends a{constructor(){super(...arguments);o(this,"encoder",new Ur);o(this,"decoder",new qr)}}const Z=new Gr,Uc=new b(new E(Z),new v(Z));class de extends g{constructor(e="completer has already been completed"){super(e),Object.freeze(this)}get code(){return Ke}}const Ke="CompleterAlreadyCompletedError";class $r{convert(e){return n(e,"code","message"),f(e,Ke),new de(i.decode(e.message))}}class Kr extends Q{}class Yr extends a{constructor(){super(...arguments);o(this,"encoder",new Kr);o(this,"decoder",new $r)}}const Xr=new Yr;p(de.name,Xr);function H(){return m(!1,"completer is not ready, this should never be reached")}function j(){throw new de}class Zr{constructor(){o(this,"resolve",H);o(this,"reject",H);o(this,"completed",!1);o(this,"promise");this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s}),m(this.resolve!==H,"resolve should be set"),m(this.reject!==H,"resolve should be set")}get isCompleted(){return this.completed}complete(e){const s=this.resolve,c=this.reject;if(this.completed=!0,this.resolve=j,this.reject=j,e instanceof Promise){e.then(s,c);return}s(e)}completeError(e){this.reject(e),this.completed=!0,this.resolve=j,this.reject=j}}function Gc(){return new Zr}const ie="NoCompleterFoundForRequestID";class Ye extends g{constructor(s,c=`no completer found for request id "${s}"`){super(c);o(this,"requestID");this.requestID=s,Object.freeze(this)}toJSON(){return Xe.encode(this)}get code(){return ie}}class eo{convert(e){return n(e,"code","requestID","message"),f(e,ie),new Ye(Me.decode(e.requestID),i.decode(e.message))}}class ro{convert(e){return u(e,Ye),{...q.convert(e),requestID:Me.encode(e.requestID)}}}class oo extends a{constructor(){super(...arguments);o(this,"encoder",new ro);o(this,"decoder",new eo)}}const Xe=new oo;p(ie,Xe);const le="WebWorkerErrorResponse";class so extends g{constructor(s,c="error in web worker"){super(c);o(this,"error");this.error=s,Object.freeze(this)}toJSON(){return Ze.encode(this)}get code(){return le}}class co{convert(e){return n(e,"code","error","message"),f(e,le),new so(Je.decode(e.error),i.decode(e.message))}}class to{convert(e){return{...q.convert(e),error:Je.encode(e.error)}}}class no extends a{constructor(){super(...arguments);o(this,"encoder",new to);o(this,"decoder",new co)}}const Ze=new no;p(le,Ze);class er{constructor(e,s,c){o(this,"r");o(this,"s");o(this,"v");this.r=e,this.s=s,this.v=c}toJSON(){return ue.encode(this)}}class ao{convert(e){return n(e,"r","s","v"),new er(y.decode(e.r),y.decode(e.s),t.decode(e.v))}}class io{convert(e){return u(e,er),{r:y.encode(e.r),s:y.encode(e.s),v:t.encode(e.v)}}}class lo extends a{constructor(){super(...arguments);o(this,"encoder",new io);o(this,"decoder",new ao)}}const ue=new lo;class rr{constructor(e,s){o(this,"account");o(this,"amount");this.account=e,this.amount=s}toJSON(){return he.encode(this)}}class uo{convert(e){return n(e,"account","amount"),new rr(y.decode(e.account),y.decode(e.amount))}}class ho{convert(e){return u(e,rr),{account:y.encode(e.account),amount:y.encode(e.amount)}}}class mo extends a{constructor(){super(...arguments);o(this,"encoder",new ho);o(this,"decoder",new uo)}}const he=new mo;class or{constructor(e,s,c){o(this,"number");o(this,"timestamp");o(this,"hash");this.number=e,this.timestamp=s,this.hash=c}toJSON(){return ee.encode(this)}}class po{convert(e){return n(e,"number","timestamp","hash"),new or(t.decode(e.number),i.decode(e.timestamp),i.decode(e.hash))}}class fo{convert(e){return u(e,or),{number:t.encode(e.number),timestamp:i.encode(e.timestamp),hash:i.encode(e.hash)}}}class wo extends a{constructor(){super(...arguments);o(this,"encoder",new fo);o(this,"decoder",new po)}}const ee=new wo,sr=new We(new Ve(ee),new He(ee));class cr{constructor(e){o(this,"bytes");this.bytes=e}toJSON(){return me.encode(this)}}class Co{convert(e){return n(e,"bytes"),new cr(je.decode(e.bytes))}}class bo{convert(e){return u(e,cr),{bytes:je.encode(e.bytes)}}}class Eo extends a{constructor(){super(...arguments);o(this,"encoder",new bo);o(this,"decoder",new Co)}}const me=new Eo;class tr{constructor(e,s,c,d,h,C,B,N,_,T){o(this,"height");o(this,"timestamp");o(this,"l1_head");o(this,"l1_finalized");o(this,"payload_commitment");o(this,"ns_table");o(this,"block_merkle_root");o(this,"fee_merkle_root");o(this,"builder_signature");o(this,"fee_info");this.height=e,this.timestamp=s,this.l1_head=c,this.l1_finalized=d,this.payload_commitment=h,this.ns_table=C,this.block_merkle_root=B,this.fee_merkle_root=N,this.builder_signature=_,this.fee_info=T}toJSON(){return z.encode(this)}}class vo{convert(e){return n(e,"height","timestamp","l1_head","l1_finalized","payload_commitment","ns_table","block_merkle_root","fee_merkle_root","builder_signature","fee_info"),new tr(t.decode(e.height),t.decode(e.timestamp),t.decode(e.l1_head),sr.decode(e.l1_finalized),S.decode(e.payload_commitment),me.decode(e.ns_table),l.decode(e.block_merkle_root),l.decode(e.fee_merkle_root),ue.decode(e.builder_signature),he.decode(e.fee_info))}}class go{convert(e){return u(e,tr),{height:t.encode(e.height),timestamp:t.encode(e.timestamp),l1_head:t.encode(e.l1_head),l1_finalized:sr.encode(e.l1_finalized),payload_commitment:S.encode(e.payload_commitment),ns_table:me.encode(e.ns_table),block_merkle_root:l.encode(e.block_merkle_root),fee_merkle_root:l.encode(e.fee_merkle_root),builder_signature:ue.encode(e.builder_signature),fee_info:he.encode(e.fee_info)}}}class xo extends a{constructor(){super(...arguments);o(this,"encoder",new go);o(this,"decoder",new vo)}}const z=new xo;class nr{constructor(e,s){o(this,"vm");o(this,"payload");this.vm=e,this.payload=s}toJSON(){return P.encode(this)}}class Io{convert(e){return n(e,"vm","payload"),new nr(t.decode(e.vm),S.decode(e.payload))}}class yo{convert(e){return u(e,nr),{vm:t.encode(e.vm),payload:S.encode(e.payload)}}}class So extends a{constructor(){super(...arguments);o(this,"encoder",new yo);o(this,"decoder",new Io)}}const P=new So,$c=new b(new E(P),new v(P));class ar{constructor(e,s,c,d,h){o(this,"header");o(this,"hash");o(this,"size");o(this,"num_transactions");o(this,"proposer_id");this.header=e,this.hash=s,this.size=c,this.num_transactions=d,this.proposer_id=h}toJSON(){return re.encode(this)}}class ko{convert(e){return n(e,"header","hash","size","num_transactions","proposer_id"),new ar(z.decode(e.header),l.decode(e.hash),t.decode(e.size),t.decode(e.num_transactions),I.decode(e.proposer_id))}}class Bo{convert(e){return u(e,ar),{header:z.encode(e.header),hash:l.encode(e.hash),size:t.encode(e.size),num_transactions:t.encode(e.num_transactions),proposer_id:I.encode(e.proposer_id)}}}class No extends a{constructor(){super(...arguments);o(this,"encoder",new Bo);o(this,"decoder",new ko)}}const re=new No,Kc=new b(new E(re),new v(re));class dr{constructor(e,s,c,d){o(this,"hash");o(this,"header");o(this,"offset");o(this,"transaction");this.hash=e,this.header=s,this.offset=c,this.transaction=d}toJSON(){return oe.encode(this)}}class _o{convert(e){return n(e,"hash","header","offset","transaction"),new dr(l.decode(e.hash),z.decode(e.header),t.decode(e.offset),P.decode(e.transaction))}}class To{convert(e){return u(e,dr),{hash:l.encode(e.hash),header:z.encode(e.header),offset:t.encode(e.offset),transaction:P.encode(e.transaction)}}}class Ao extends a{constructor(){super(...arguments);o(this,"encoder",new To);o(this,"decoder",new _o)}}const oe=new Ao,Yc=new b(new E(oe),new v(oe));class ir{constructor(e,s){o(this,"width");o(this,"index");this.width=e,this.index=s}toJSON(){return pe.encode(this)}}class Do{convert(e){return n(e,"width","index"),new ir(t.decode(e.width),t.decode(e.index))}}class Oo{convert(e){return u(e,ir),{width:t.encode(e.width),index:t.encode(e.index)}}}class Po extends a{constructor(){super(...arguments);o(this,"encoder",new Oo);o(this,"decoder",new Do)}}const pe=new Po;class R{static get lsb0(){return Fo}static get msb0(){return Mo}valueOf(){return this.toString()}toJSON(){return this.toString()}}const lr="bitvec::order::Lsb0",ur="bitvec::order::Msb0";class Ro extends R{toString(){return lr}}const Fo=new Ro;class zo extends R{toString(){return ur}}const Mo=new zo;class Jo{convert(e){if(typeof e!="string")throw new O(typeof e,"string");switch(e){case lr:return R.lsb0;case ur:return R.msb0;default:throw new O(e,"CappuccinoAPIBitVecOrder")}}}class Wo{convert(e){return e.toString()}}class Vo extends a{constructor(){super(...arguments);o(this,"encoder",new Wo);o(this,"decoder",new Jo)}}const hr=new Vo;class mr{constructor(e,s,c,d){o(this,"order");o(this,"head");o(this,"bits");o(this,"data");this.order=e,this.head=s,this.bits=c,this.data=d}getBitVecIndexIterable(){return this.order===R.lsb0?new Uo(this.head.width,this.bits):new $o(this.head.width,this.bits)}[Symbol.iterator](){const e=this.getBitVecIndexIterable();return Mr(e,s=>Qo(this.data,s))[Symbol.iterator]()}toJSON(){return F.encode(this)}}class Ho{convert(e){return n(e,"order","head","bits","data"),new mr(hr.decode(e.order),pe.decode(e.head),t.decode(e.bits),S.decode(e.data))}}class jo{convert(e){return u(e,mr),{order:hr.encode(e.order),head:pe.encode(e.head),bits:t.encode(e.bits),data:S.encode(e.data)}}}class Lo extends a{constructor(){super(...arguments);o(this,"encoder",new jo);o(this,"decoder",new Ho)}}const F=new Lo,Xc=new b(new E(F),new v(F));function Qo(r,e){return(r[e.bucket]>>e.bitOffset&1)===1}class pr{constructor(e,s){o(this,"bucket");o(this,"bitOffset");this.bucket=e,this.bitOffset=s}}function fr(r){switch(m(r===8||r===16||r===32,"bit width should be a power of two that is supported"),r){case 8:return 3;case 16:return 4;case 32:return 5;default:throw new Qe}}class qo{constructor(e,s){o(this,"totalBits");o(this,"bitWidthMask");o(this,"bitWidthShift");o(this,"offset",0);this.totalBits=s;const c=fr(e);this.bitWidthMask=e-1,this.bitWidthShift=c}next(){if(this.offset>=this.totalBits)return{done:!0,value:void 0};const e=this.offset>>this.bitWidthShift,s=this.offset&this.bitWidthMask;return this.offset+=1,{done:!1,value:new pr(e,s)}}}class Uo{constructor(e,s){o(this,"bitWidth");o(this,"totalBits");this.bitWidth=e,this.totalBits=s}[Symbol.iterator](){return new qo(this.bitWidth,this.totalBits)}}class Go{constructor(e,s){o(this,"bitWidth");o(this,"totalBits");o(this,"bitWidthMask");o(this,"bitWidthShift");o(this,"offset",0);this.bitWidth=e,this.totalBits=s;const c=fr(e);this.bitWidthMask=e-1,this.bitWidthShift=c}next(){if(this.offset>=this.totalBits)return{done:!0,value:void 0};const e=this.offset>>this.bitWidthShift,s=this.bitWidth-1-(this.offset&this.bitWidthMask);return this.offset+=1,{done:!1,value:new pr(e,s)}}}class $o{constructor(e,s){o(this,"bitWidth");o(this,"totalBits");this.bitWidth=e,this.totalBits=s}[Symbol.iterator](){return new Go(this.bitWidth,this.totalBits)}}class wr{constructor(e,s){o(this,"signature");o(this,"bitvec");this.signature=e,this.bitvec=s}toJSON(){return se.encode(this)}}class Ko{convert(e){if(!zr(e)||e.length!==2)throw new O(typeof e,"Array");return new wr(l.decode(e[0]),F.decode(e[1]))}}class Yo{convert(e){return u(e,wr),[l.encode(e.signature),F.encode(e.bitvec)]}}class Xo extends a{constructor(){super(...arguments);o(this,"encoder",new Yo);o(this,"decoder",new Ko)}}const se=new Xo,Zc=new We(new Ve(se),new He(se));class M{}class fe extends M{toJSON(){return we.encode(this)}}class Zo{convert(e){if(!ne(e)||e!=="Empty")throw new ae;return new fe}}class es{convert(e){return u(e,fe),"Empty"}}class rs extends a{constructor(){super(...arguments);o(this,"encoder",new es);o(this,"decoder",new Zo)}}const we=new rs;class Ce extends M{constructor(s,c,d){super();o(this,"value");o(this,"pos");o(this,"elem");this.value=s,this.pos=c,this.elem=d}toJSON(){return be.encode(this)}}class os{convert(e){n(e,"Leaf");const s=e.Leaf;return n(s,"value","pos","elem"),new Ce(l.decode(s.value),l.decode(s.pos),l.decode(s.elem))}}class ss{convert(e){return u(e,Ce),{Leaf:{value:l.encode(e.value),pos:l.encode(e.pos),elem:l.encode(e.elem)}}}}class cs extends L{constructor(){super(...arguments);o(this,"encoder",new ss);o(this,"decoder",new os)}}const be=new cs;class Ee extends M{constructor(s){super();o(this,"value");this.value=s}toJSON(){return ve.encode(this)}}class ts{convert(e){n(e,"ForgettenSubtree");const s=e.ForgettenSubtree;return n(s,"value"),new Ee(l.decode(s.value))}}class ns{convert(e){return u(e,Ee),{ForgettenSubtree:{value:l.encode(e.value)}}}}class as extends L{constructor(){super(...arguments);o(this,"encoder",new ns);o(this,"decoder",new ts)}}const ve=new as;class ge extends M{constructor(s,c){super();o(this,"value");o(this,"children");this.value=s,this.children=c}toJSON(){return xe.encode(this)}}class ds{convert(e){n(e,"Branch");const s=e.Branch;return n(s,"value","children"),new ge(l.decode(s.value),Cr.decode(s.children))}}class is{convert(e){return u(e,ge),{Branch:{value:l.encode(e.value),children:Cr.encode(e.children)}}}}class ls extends a{constructor(){super(...arguments);o(this,"encoder",new is);o(this,"decoder",new ds)}}const xe=new ls;class us{convert(e){if(K(e,"Leaf",Y))return be.decoder.convert(e);if(K(e,"Branch",Y))return xe.decoder.convert(e);if(K(e,"ForgettenSubtree",Y))return ve.decoder.convert(e);if(ne(e))return we.decoder.convert(e);throw new ae}}class hs{convert(e){if(u(e,M),e instanceof Ce)return be.encode(e);if(e instanceof ge)return xe.encode(e);if(e instanceof Ee)return ve.encode(e);if(e instanceof fe)return we.encode(e);throw new ae}}class ms extends a{constructor(){super(...arguments);o(this,"encoder",new hs);o(this,"decoder",new us)}}const ze=new ms,Cr=new b(new E(ze),new v(ze));class br{constructor(e,s,c,d,h,C,B,N){o(this,"hash");o(this,"height");o(this,"time");o(this,"numTransactions");o(this,"proposerID");o(this,"feeRecipient");o(this,"size");o(this,"blockReward");this.hash=e,this.height=s,this.time=c,this.numTransactions=d,this.proposerID=h,this.feeRecipient=C,this.size=B,this.blockReward=N}toJSON(){return ce.encode(this)}}class ps{convert(e){return n(e,"hash","height","time","num_transactions","proposer_id","fee_recipient","size","block_reward"),new br(l.decode(e.hash),t.decode(e.height),k.decode(e.time),t.decode(e.num_transactions),I.decode(e.proposer_id),I.decode(e.fee_recipient),t.decode(e.size),qe.decode(e.block_reward))}}class fs{convert(e){return u(e,br),{hash:l.encode(e.hash),height:t.encode(e.height),time:k.encode(e.time),num_transactions:t.encode(e.numTransactions),proposer_id:I.encode(e.proposerID),fee_recipient:I.encode(e.feeRecipient),size:t.encode(e.size),block_reward:qe.encode(e.blockReward)}}}class ws extends L{constructor(){super(...arguments);o(this,"encoder",new fs);o(this,"decoder",new ps)}}const ce=new ws,et=new b(new E(ce),new v(ce));function Cs(r,e){return r.blockHeights-e.blockHeights}class Er{constructor(e,s,c,d){o(this,"blockTime");o(this,"blockSize");o(this,"blockTransactions");o(this,"blockHeights");const h=[],C=Math.min(e.length,s.length,c.length,d.length);for(let w=0;w<C;w++){const A=d[w];A!==null&&h.push({blockTime:e[w],blockSize:s[w],blockTransactions:c[w],blockHeights:A})}h.sort(Cs);const B=h[0].blockHeights,N=h[h.length-1].blockHeights,_=[],T=[],$=[],W=[];for(let w=B,A=0;w<=N;w++){const D=h[A];if(D.blockHeights!==w){_.push(null),T.push(null),$.push(null),W.push(null);continue}_.push(D.blockTime),T.push(D.blockSize),$.push(D.blockTransactions),W.push(D.blockHeights),A++}const V=Math.max(0,W.length-50);this.blockTime=_.slice(V),this.blockSize=T.slice(V),this.blockTransactions=$.slice(V),this.blockHeights=W.slice(V)}toJSON(){return gs.encode(this)}}class bs{convert(e){return n(e,"block_time","block_size","block_transactions","block_heights"),new Er(x.decode(e.block_time),x.decode(e.block_size),x.decode(e.block_transactions),x.decode(e.block_heights))}}class Es{convert(e){return u(e,Er),{block_time:x.encode(e.blockTime),block_size:x.encode(e.blockSize),block_transactions:x.encode(e.blockTransactions),block_heights:x.encode(e.blockHeights)}}}class vs extends a{constructor(){super(...arguments);o(this,"encoder",new Es);o(this,"decoder",new bs)}}const gs=new vs,vr=t;class gr{constructor(e,s){o(this,"namespace");o(this,"payload");this.namespace=e,this.payload=s}toJSON(){return te.encode(this)}}class xs{convert(e){return n(e,"namespace","payload"),new gr(vr.decode(e.namespace),Le.decode(e.payload))}}class Is{convert(e){return u(e,gr),{namespace:vr.encode(e.namespace),payload:Le.encode(e.payload)}}}class ys extends a{constructor(){super(...arguments);o(this,"encoder",new Is);o(this,"decoder",new xs)}}const te=new ys,rt=new b(new E(te),new v(te));class J extends g{constructor(s,c,d){super(d);o(this,"response");o(this,"status");this.status=s,this.response=c}toJSON(){return xr.convert(this)}}class U{convert(e){return u(e,J),{...q.convert(e),status:e.status}}}const xr=new U,Ie="BadResponseClientError";class Ss extends J{constructor(e,s,c="bad server response: client error"){super(e,s,c),Object.freeze(this)}get code(){return Ie}toJSON(){return Ir.encode(this)}}class ks{convert(e){return n(e,"code","message","status"),f(e,Ie),new Ss(Number(e.status),null,i.decode(e.message))}}class Bs extends U{}class Ns extends a{constructor(){super(...arguments);o(this,"encoder",new Bs);o(this,"decoder",new ks)}}const Ir=new Ns;p(Ie,Ir);const ye="BadResponseError";class _s extends J{constructor(e,s,c="bad server response"){super(e,s,c),Object.freeze(this)}get code(){return ye}toJSON(){return yr.encode(this)}}class Ts{convert(e){return n(e,"code","message","status"),f(e,ye),new _s(Number(e.status),null,i.decode(e.message))}}class As extends U{}class Ds extends a{constructor(){super(...arguments);o(this,"encoder",new As);o(this,"decoder",new Ts)}}const yr=new Ds;p(ye,yr);class Os extends J{constructor(e,s,c="bad server response: server error"){super(e,s,c),Object.freeze(this)}get code(){return Se}}const Se="BadResponseServerError";class Ps{convert(e){return n(e,"code","message","status"),f(e,Se),new Os(Number(e.status),null,i.decode(e.message))}}class Rs extends U{}class Fs extends a{constructor(){super(...arguments);o(this,"encoder",new Rs);o(this,"decoder",new Ps)}}const zs=new Fs;p(Se,zs);const ke="ChannelClosedError";class Ms extends g{constructor(e="channel closed"){super(e),Object.freeze(this)}get code(){return ke}}class Js{convert(e){return n(e,"code","message"),f(e,ke),new Ms(i.decode(e.message))}}class Ws extends Q{}class Vs extends a{constructor(){super(...arguments);o(this,"encoder",new Ws);o(this,"decoder",new Js)}}const Hs=new Vs;p(ke,Hs);const Be="InvalidStringValueError";class Sr extends g{constructor(s,c,d=`invalid string value: have "${s}", want "${c}"`){super(d);o(this,"have");o(this,"want");this.have=s,this.want=c,Object.freeze(this)}toJSON(){return kr.encode(this)}get code(){return Be}}class js{convert(e){return n(e,"code","have","want","message"),f(e,Be),new Sr(i.decode(e.have),i.decode(e.want),i.decode(e.message))}}class Ls{convert(e){return u(e,Sr),{...q.convert(e),have:i.encode(e.have),want:i.encode(e.want)}}}class Qs extends a{constructor(){super(...arguments);o(this,"encoder",new Ls);o(this,"decoder",new js)}}const kr=new Qs;p(Be,kr);const Ne="NoURLProvidedError";class qs extends g{constructor(e="no url provided"){super(e),Object.freeze(this)}get code(){return Ne}}class Us{convert(e){return n(e,"code","message"),f(e,Ne),new qs(i.decode(e.message))}}class Gs extends Q{}class $s extends a{constructor(){super(...arguments);o(this,"encoder",new Gs);o(this,"decoder",new Us)}}const Ks=new $s;p(Ne,Ks);const _e="QUERY_ERROR";class Ys extends g{constructor(s,c="missing element"){super(c);o(this,"error");this.error=s,Object.freeze(this)}get code(){return _e}}class Xs{convert(e){return n(e,"code","error","message"),f(e,_e),new Ys(Tr.decode(e.error),i.decode(e.message))}}class Zs{convert(e){return{code:e.code,error:Tr.encode(e.error),message:i.encode(e.message)}}}class ec extends a{constructor(){super(...arguments);o(this,"encoder",new Zs);o(this,"decoder",new Xs)}}const rc=new ec;class Te{}const Ae="NotFound";class Br extends Te{constructor(){super(),Object.freeze(this)}valueOf(){return Ae}toJSON(){return this.valueOf()}}const oc=new Br,De="Missing";class Nr extends Te{constructor(){super(),Object.freeze(this)}valueOf(){return De}toJSON(){return this.valueOf()}}const sc=new Nr;class _r extends Te{constructor(s){super();o(this,"error");this.error=s,Object.freeze(this)}toJSON(){return Pe.encode(this)}}class cc{constructor(e){o(this,"message");this.message=e,Object.freeze(this)}toJSON(){return Oe.encode(this)}}class tc{convert(e){return n(e,"message"),new cc(i.decode(e.message))}}class nc{convert(e){return{message:i.encode(e.message)}}}class ac extends a{constructor(){super(...arguments);o(this,"encoder",new nc);o(this,"decoder",new tc)}}const Oe=new ac;class dc{convert(e){return n(e,"Error"),new _r(Oe.decode(e.Error))}}class ic{convert(e){return{Error:Oe.encode(e.error)}}}class lc extends a{constructor(){super(...arguments);o(this,"encoder",new ic);o(this,"decoder",new dc)}}const Pe=new lc;class uc{convert(e){return e===Ae?oc:e===De?sc:Pe.decode(e)}}class hc{convert(e){if(e instanceof Br)return Ae;if(e instanceof Nr)return De;if(e instanceof _r)return Pe.encode(e);throw new Qe}}class mc extends a{constructor(){super(...arguments);o(this,"encoder",new hc);o(this,"decoder",new uc)}}const Tr=new mc;p(_e,rc);const Ar="ResponseContentTypeIsNotApplicationJSONError";class G extends J{constructor(s,c,d,h="response content type is not application/json"){super(c,d,h);o(this,"haveHeaderType");this.haveHeaderType=s,Object.freeze(this)}static fromResponse(s,c){return new G(s.headers.get("content-type")??"undefined",s.status,s,c)}toJSON(){return Dr.encode(this)}get code(){return Ar}}class pc{convert(e){return n(e,"code","status","have","want","message"),f(e,Ar),new G(i.decode(e.code),t.decode(e.status),null,i.decode(e.message))}}class fc{convert(e){return{...xr.convert(e),have:i.encode(e.haveHeaderType),want:i.encode("application/json")}}}class wc extends a{constructor(){super(...arguments);o(this,"encoder",new fc);o(this,"decoder",new pc)}}const Dr=new wc;p(G.name,Dr);var Re=(r=>(r[r.success=0]="success",r[r.full=1]="full",r[r.failed=2]="failed",r))(Re||{});class Cc{getFromEmpty(){}}class bc{getFromEmpty(){return null}}class Ec{getFromEmpty(){throw new Jr}}const vc={returnNull:new bc,returnUndefined:new Cc,throwMissingElement:new Ec};class gc{constructor(e){o(this,"maxSize");m(!Number.isNaN(e),"maxSize must not be NaN"),m(Number.isInteger(e),"maxSize must be an integer"),m(e>0,"maxSize must be greater than 0"),this.maxSize=e}nextIndex(e){return m(e>=0,"index must be greater than or equal to 0"),(e+1)%this.maxSize}}class xc{constructor(e){o(this,"preComputedSizeMinus1");m(!Number.isNaN(e),"maxSize must not be NaN"),m(Number.isInteger(e),"maxSize must be an integer"),m(e>0,"maxSize must be greater than 0"),m(Or(e),"maxSize must be a power of two"),this.preComputedSizeMinus1=e-1}nextIndex(e){return m(e>=0,"index must be greater than or equal to 0"),e+1&this.preComputedSizeMinus1}}function Or(r){return(r&r-1)===0}const Fe="BufferFullError";class Pr extends g{constructor(e="buffer full"){super(e),Object.freeze(this)}get code(){return Fe}}class Ic{convert(e){return n(e,"code","message"),f(e,Fe),new Pr(i.decode(e.message))}}class yc extends Q{}class Sc extends a{constructor(){super(...arguments);o(this,"encoder",new yc);o(this,"decoder",new Ic)}}const kc=new Sc;p(Fe,kc);class Bc{putToFull(e,s){return e.get(),e.put(s)}}class Nc{putToFull(){return Re.full}}class _c{putToFull(){throw new Pr}}const Tc={overwriteOldest:new Bc,returnFull:new Nc,throw:new _c};function Ac(r){return Or(r)?new xc(r):new gc(r)}class Dc{constructor(e,s,c){o(this,"readIndex",0);o(this,"writeIndex",0);o(this,"buffer");o(this,"nextIndex");o(this,"getOnEmpty");o(this,"putOnFull");m(!Number.isNaN(e),"maxSize must not be NaN"),this.buffer=new Array(e),this.nextIndex=Ac(e),this.getOnEmpty=s,this.putOnFull=c}get maxSize(){return this.buffer.length}get length(){return this.writeIndex<this.readIndex?this.writeIndex+this.maxSize-this.readIndex:this.writeIndex-this.readIndex}put(e){const s=this.nextIndex.nextIndex(this.writeIndex);return s===this.readIndex?this.putOnFull.putToFull(this,e):(this.buffer[this.writeIndex]=e,this.writeIndex=s,Re.success)}get(){if(this.readIndex===this.writeIndex)return this.getOnEmpty.getFromEmpty(this);const e=this.buffer[this.readIndex];return this.readIndex=this.nextIndex.nextIndex(this.readIndex),e}[Symbol.iterator](){return new Oc(this)}immutableIterable(){return{[Symbol.iterator]:()=>this.immutableIterator()}}immutableIterator(){return new Pc(this.readIndex,this.writeIndex,this.buffer,this.nextIndex)}}class Oc{constructor(e){o(this,"buffer");this.buffer=e}next(){const e=this.buffer.get();return e==null?{value:void 0,done:!0}:{value:e,done:!1}}}class Pc{constructor(e,s,c,d){o(this,"readIndex");o(this,"writeIndex");o(this,"buffer");o(this,"nextIndex");this.readIndex=e,this.writeIndex=s,this.buffer=c,this.nextIndex=d}next(){if(this.readIndex===this.writeIndex)return{value:void 0,done:!0};const e=this.buffer[this.readIndex];return this.readIndex=this.nextIndex.nextIndex(this.readIndex),{value:e,done:!1}}}function ot(r=32,e=vc.returnUndefined,s=Tc.overwriteOldest){return new Dc(r,e,s)}export{br as A,gr as B,Ue as C,Os as D,Ss as E,_s as F,Tc as G,vc as H,Ms as I,et as J,F as K,Xc as L,mr as M,Ye as N,R as O,ir as P,G as R,so as W,$e as a,Uc as b,qc as c,$c as d,z as e,P as f,ce as g,gs as h,rt as i,Gc as j,Kc as k,Cr as l,Yc as m,Zc as n,nr as o,ge as p,tr as q,k as r,or as s,cr as t,er as u,rr as v,ar as w,dr as x,ot as y,Er as z};
