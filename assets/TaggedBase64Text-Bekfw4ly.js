var O=Object.defineProperty;var j=(n,e,t)=>e in n?O(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var c=(n,e,t)=>(j(n,typeof e!="symbol"?e+"":e,t),t);import{a as A,j as N}from"./jsx-runtime-5BUNAZ9W.js";import{B as D}from"./inline-54z6-ie8.js";const P=new TextEncoder;function E(n){return P.encode(n)}const V=new TextDecoder;function z(n){return V.decode(n)}function*L(n){yield*E(n)}function*I(){for(let n=0;n<256;n++)yield 255}const w=-1,J=61;class x extends Error{constructor(t,r=`alphabet needs to be 64 characters, received ${t}`){super(r);c(this,"length");this.length=t,Object.freeze(this)}toJSON(){return{name:x.name,length:this.length,message:this.message}}}class f extends Error{constructor(t,r=`corrupt input error at ${t}`){super(r);c(this,"offset");this.offset=t,Object.freeze(this)}toJSON(){return{name:f.name,offset:this.offset,message:this.message}}}class k extends Error{constructor(e="incorrect padding"){super(e),Object.freeze(this)}}class p{constructor(e,t,r=J,a=!1){c(this,"encodeMap");c(this,"decodeMap");c(this,"padChar");c(this,"strict");this.encodeMap=e,this.decodeMap=t,this.padChar=r,this.strict=a}static withAlphabet(e){const t=e.length;if(t!==64)throw new x(t);const r=Array.from(L(e)),a=Array.from(I());for(let h=0;h<t;h++)a[r[h]]=h;return new p(r,a)}withPadding(e){return new p(this.encodeMap,this.decodeMap,e,this.strict)}encode(e){if(e.byteLength===0)return new ArrayBuffer(0);let t=0,r=0;const a=Math.floor(e.byteLength/3)*3,h=Math.ceil(e.byteLength/3)*4,u=new ArrayBuffer(h),i=new DataView(e),o=new DataView(u);for(;r<a;){const l=i.getUint8(r+0)<<16|i.getUint8(r+1)<<8|i.getUint8(r+2);o.setUint8(t+0,this.encodeMap[l>>18&63]),o.setUint8(t+1,this.encodeMap[l>>12&63]),o.setUint8(t+2,this.encodeMap[l>>6&63]),o.setUint8(t+3,this.encodeMap[l&63]),r+=3,t+=4}const s=e.byteLength-r;if(s===0)return u;let g=i.getUint8(r+0)<<16;switch(s===2&&(g|=i.getUint8(r+1)<<8),o.setUint8(t+0,this.encodeMap[g>>18&63]),o.setUint8(t+1,this.encodeMap[g>>12&63]),s){case 2:return o.setUint8(t+2,this.encodeMap[g>>6&63]),this.padChar!==w?(o.setUint8(t+3,this.padChar),u.slice(0,t+4)):u.slice(0,t+3);case 1:if(this.padChar!==w)return o.setUint8(t+2,this.padChar),o.setUint8(t+3,this.padChar),u.slice(0,t+4);break}return u.slice(0,t+2)}decode(e){const t=e.byteLength;if(t===0)return new ArrayBuffer(0);const r=new DataView(e),a=new ArrayBuffer(Math.floor(t/4*3)),h=new DataView(a),u=new ArrayBuffer(4),i=new DataView(u);let o=0,s=0,g=0,l=!1;for(;s<t&&!l;){let y=3,U=4;for(let d=0;d<4;d++){if(s===t){if(d===0)return a;if(d===1||this.padChar!==w)throw new f(s-d);y=d-1,U=d,l=!0;break}const m=r.getUint8(s);s++;const M=this.decodeMap[m];if(M!==255){i.setUint8(d,M);continue}if(m===10||m===13){d--;continue}if(m===this.padChar){switch(d){case 0:case 1:throw new k;case 2:for(;s<t&&(r.getUint8(s)===10||r.getUint8(s)===13);)s++;if(s===t)throw new f(t);s++}for(;s<t&&(r.getUint8(s)===10||r.getUint8(s)===13);)s++;if(s<t)throw new f(s);y=3,U=d,l=!0;break}throw new f(s-1)}const b=i.getUint8(0)<<18|i.getUint8(1)<<12|i.getUint8(2)<<6|i.getUint8(3);switch(i.setUint8(2,b>>0&255),i.setUint8(1,b>>8&255),i.setUint8(0,b>>16&255),U){case 4:h.setUint8(g+2,i.getUint8(2)),i.setUint8(2,0);case 3:if(h.setUint8(g+1,i.getUint8(1)),this.strict&&i.getUint8(2)!==0)throw new f(s-1);case 2:if(h.setUint8(g+0,i.getUint8(0)),this.strict&&(i.getUint8(1)!==0||i.getUint8(2)!==0))throw new f(s-2)}g+=y,o+=U-1}return a.slice(0,o)}decodeString(e){return this.decode(E(e).buffer)}encodeToString(e){return z(this.encode(e))}}const $=p.withAlphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");$.withPadding(w);const F=p.withAlphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),v=F.withPadding(w);class R{encode(e){return this.encoder.convert(e)}decode(e){return this.decoder.convert(e)}}function _(n){return typeof n=="boolean"}function ee(n){return typeof n=="number"}function te(n){return typeof n=="string"}function q(n){return typeof n=="object"&&n!==null}function ne(n){return n!==void 0}function re(n){return n===null}function G(n,e){return Array.isArray(n)&&n.every(e)}function se(n){return e=>G(e,n)}function ie(n,e,t){return q(n)&&e in n&&t(n[e])}class ae extends Error{constructor(e="invalid input"){super(e)}}class S extends Error{constructor(t,r,a=`invalid type: have "${t}", want "${r}"`){super(a);c(this,"have");c(this,"want");this.have=t,this.want=r,Object.freeze(this)}toJSON(){return{name:S.name,have:this.have,want:this.want,message:this.message}}}class B extends Error{constructor(e="invalid tagged base64 encoding"){super(e),Object.freeze(this)}toJSON(){return{name:B.name,message:this.message}}}class T{constructor(e,t){c(this,"tag");c(this,"data");this.tag=e,this.data=t}static fromString(e){const t=e.indexOf("~");if(t<0)throw new B;const r=e.substring(0,t),a=v.decodeString(e.substring(t+1));return new T(r,a)}static inflate(e){return W.decode(e)}toString(){return`${this.tag}~${v.encodeToString(this.data)}`}valueOf(){return this.toString()}toJSON(){return this.toString()}}class H{convert(e){if(typeof e!="string")throw new S(typeof e,"string");return T.fromString(e)}}class K{convert(e){return e.toString()}}class Q extends R{constructor(){super(...arguments);c(this,"encoder",new K);c(this,"decoder",new H)}}const W=new Q,C=n=>{const e=v.encodeToString(n.value.data);return e.length<=16?e:A("span",{className:"inline",children:[A("span",{title:e,children:[e.substring(0,8),"...",e.substring(e.length-8,e.length)]}),N(D,{onClick:t=>{t.stopPropagation(),t.preventDefault(),!(typeof window>"u"||!navigator||!navigator.clipboard)&&navigator.clipboard.writeText(n.value.toString())}})]})};try{C.displayName="TaggedBase64Text",C.__docgenInfo={description:`TaggedBase64Text is a simple Text component that renders a TaggedBase64 value
in it's own way.`,displayName:"TaggedBase64Text",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"TaggedBase64"}}}}}catch{}export{R as C,ae as I,C as T,T as a,ne as b,ee as c,re as d,_ as e,te as f,se as g,S as h,ie as i,W as t,F as u};
