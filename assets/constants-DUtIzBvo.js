import{T as m,b as N,j as we,I as f,o as he,A as v,k as O,l as C,h as Q,N as U,f as Z,g as _,m as j}from"./string-DurhFPzJ.js";import{f as ee,e as te,j as ge,m as E,i as ne}from"./functional-CJQfVQrn.js";import"./array_buffer-C2KvbgUx.js";import"./url-Cp1wsmOC.js";import"./UnimplementedError-DEXMe0kn.js";import"./MissingElementError-C2wrrywP.js";import"./base64-C1KKyByM.js";import{A as p}from"./AffineTransform-UCCpzMIM.js";class b{constructor(e){this.value=e,this.value=e}valueOf(){return Number(this.value)}toString(){return Number(this.value).toString()}}function A(t,e){return t.valueOf()<e.valueOf()}function Ne(t,e){return t.valueOf()<=e.valueOf()}function y(t,e){return t.valueOf()>e.valueOf()}function W(t,e){return Ne(t,e)?t:e}function F(t,e){return y(t,e)?t:e}class R{min;max;constructor(e,n){this.min=e,this.max=n}contains(e){return!(A(e.lat,this.min.lat)||y(e.lat,this.max.lat)||A(e.lng,this.min.lng)||y(e.lng,this.max.lng))}}function B(t){const e=t[Symbol.iterator](),n=ee(e),[o,a]=te(([h,D],g)=>[h.min(g.bbox.min),D.max(g.bbox.max)],[n.bbox.min,n.bbox.max],e);return new R(o,a)}function gt(t){const e=t[Symbol.iterator](),n=ee(e),[o,a]=te(([h,D],g)=>[h.min(g),D.max(g)],[n,n],e);return new R(o,a)}class J{}const oe=new Map;function G(t,e){oe.set(t,e)}function re(t){const e=oe.get(t);if(!e)throw new he(t);return e}class fe{convert(e){return re(e.type).encode(e)}}class be{convert(e){if(N(e,"type","coordinates"),!we(e.type))throw new f(typeof e.type,"string");return re(e.type).decode(e)}}class pe extends m{encoder;decoder;constructor(){super(),this.encoder=new fe,this.decoder=new be}}const V=new pe,Nt=new v(new O(V),new C(V));class d extends b{toString(){return`${Number(this)}Â°`}}class ye{convert(e){return Number(e)}}class Pe{convert(e){if(!Q(e))throw new f(typeof e,"number");return new d(e)}}class Se extends m{encoder;decoder;constructor(){super(),this.encoder=new ye,this.decoder=new Pe}}const xe=new Se;class c extends b{toString(){return`${String(this.value)} lat`}}class i extends b{toString(){return`${String(this.value)} lng`}}class l extends b{toString(){return`${Number(this)} rad`}}class ve{convert(e){return Number(e)}}class Oe{convert(e){if(!Q(e))throw new f(typeof e,"number");return new l(e)}}class Ce extends m{encoder;decoder;constructor(){super(),this.encoder=new ve,this.decoder=new Oe}}const je=new Ce;class r{constructor(e,n){this.lat=e,this.lng=n,this.lat=e,this.lng=n}min(e){return new r(W(this.lat,e.lat),W(this.lng,e.lng))}max(e){return new r(F(this.lat,e.lat),F(this.lng,e.lng))}toString(){return`${this.lat}, ${this.lng}`}}class Je{unitCodec;constructor(e){this.unitCodec=e}convert(e){return[this.unitCodec.encode(e.lat.value),this.unitCodec.encode(e.lng.value)]}}class Ge{unitCodec;constructor(e){this.unitCodec=e}convert(e){if(!(e instanceof Array))throw new f(typeof e,"Array");if(e.length!==2)throw new TypeError(`Expected array of length 2, got ${e.length}`);const[n,o]=e;return new r(new c(this.unitCodec.decode(n)),new i(this.unitCodec.decode(o)))}}class se extends m{encoder;decoder;constructor(e){super(),this.encoder=new Je(e),this.decoder=new Ge(e)}}const q=new se(xe),K=new se(je),ft=new U(new Z(q),new _(q));new U(new Z(K),new _(K));class Le{convert(e){return[Number(e.lng),Number(e.lat)]}}class Ie{convert(e){if(!(e instanceof Array))throw new f(typeof e,"Array");if(e.length!==2)throw new TypeError(`Expected array of length 2, got ${e.length}`);return new r(new c(new d(e[1])),new i(new d(e[0])))}}class De extends m{encoder=new Le;decoder=new Ie}const P=new De,S=new v(new O(P),new C(P)),x=new v(new O(S),new C(S)),X=new v(new O(x),new C(x)),$="Point";class L extends J{type=$;coordinates;bbox;constructor(e){super(),this.coordinates=e,this.bbox=new R(this.coordinates,this.coordinates)}toJSON(){return ce.encode(this)}}class Ae{codec;constructor(e){this.codec=e}convert(e){return{type:e.type,coordinates:this.codec.encode(e.coordinates)}}}class Te{codec;constructor(e){this.codec=e}convert(e){return N(e,"type","coordinates"),j(e,$),new L(this.codec.decode(e.coordinates))}}class Ee extends m{encoder=new Ae(P);decoder=new Te(P)}const ce=new Ee;G($,ce);const z="MultiPoint";class k extends J{type=z;coordinates;bbox;constructor(e){super(),this.coordinates=e,this.bbox=B(e)}[Symbol.iterator](){return this.coordinates[Symbol.iterator]()}toJSON(){return ie.encode(this)}}class Re{codec;constructor(e){this.codec=e}convert(e){return{type:e.type,coordinates:this.codec.encode(e.coordinates.map(n=>n.coordinates))}}}class Be{codec;constructor(e){this.codec=e}convert(e){N(e,"type","coordinates"),j(e,z);const n=this.codec.decode(e.coordinates);return new k(n.map(o=>new L(o)))}}class $e extends m{encoder=new Re(S);decoder=new Be(S)}const ie=new $e;G(z,ie);const H="Polygon";class ae extends J{type=H;coordinates;bbox;constructor(e){super(),this.coordinates=e,this.bbox=B(e)}[Symbol.iterator](){return this.coordinates[Symbol.iterator]()}toJSON(){return de.encode(this)}}class ze{codec;constructor(e){this.codec=e}convert(e){return{type:e.type,coordinates:this.codec.encode(e.coordinates.map(n=>n.coordinates.map(o=>o.coordinates)))}}}class ke{codec;constructor(e){this.codec=e}convert(e){N(e,"type","coordinates"),j(e,H);const n=this.codec.decode(e.coordinates);return new ae(n.map(o=>new k(o.map(a=>new L(a)))))}}class He extends m{encoder=new ze(x);decoder=new ke(x)}const de=new He;G(H,de);const M="MultiPolygon";class Me extends J{type=M;coordinates;bbox;constructor(e){super(),this.coordinates=e,this.bbox=B(e)}[Symbol.iterator](){return this.coordinates[Symbol.iterator]()}toJSON(){return ue.encode(this)}}class We{codec;constructor(e){this.codec=e}convert(e){return{type:e.type,coordinates:this.codec.encode(e.coordinates.map(n=>n.coordinates.map(o=>o.coordinates.map(a=>a.coordinates))))}}}class Fe{codec;constructor(e){this.codec=e}convert(e){N(e,"type","coordinates"),j(e,M);const n=this.codec.decode(e.coordinates);return new Me(n.map(o=>new ae(o.map(a=>new k(a.map(h=>new L(h)))))))}}class Ve extends m{encoder=new We(X);decoder=new Fe(X)}const ue=new Ve;G(M,ue);class le{constructor(e,n){this.projection1=e,this.projection2=n,this.projection1=e,this.projection2=n}get minInput(){return this.projection1.minInput}get maxInput(){return this.projection1.maxInput}get minOutput(){return this.projection2.minOutput}get maxOutput(){return this.projection2.maxOutput}project(e){return this.projection2.project(this.projection1.project(e))}inverseProject(e){return this.projection1.inverseProject(this.projection2.inverseProject(e))}}class u extends b{toString(){return`${Number(this)} dp`}}class qe{minInput;maxInput;minOutput;maxOutput;horizontalAffine;inverseHorizontalAffine;verticalAffine;inverseVerticalAffine;constructor(e,n,o,a){this.minInput=e,this.maxInput=n,this.minOutput=o,this.maxOutput=a,this.horizontalAffine=new p(Number(e.lat),Number(n.lat),Number(o.lat),Number(a.lat)),this.inverseHorizontalAffine=new p(Number(o.lat),Number(a.lat),Number(e.lat),Number(n.lat)),this.verticalAffine=new p(Number(e.lng),Number(n.lng),Number(o.lng),Number(a.lng)),this.inverseVerticalAffine=new p(Number(o.lng),Number(a.lng),Number(e.lng),Number(n.lng))}project(e){return new r(new c(new u(this.horizontalAffine.transform(Number(e.lat)))),new i(new u(this.verticalAffine.transform(Number(e.lng)))))}inverseProject(e){const n=new l(this.inverseHorizontalAffine.transform(Number(e.lat))),o=new l(this.inverseVerticalAffine.transform(Number(e.lng)));return new r(new c(n),new i(o))}}class Ke{minInput=new r(new c(new d(-90)),new i(new d(-180)));maxInput=new r(new c(new d(90)),new i(new d(180)));minOutput=new r(new c(new l(-Math.PI/2)),new i(new l(-Math.PI)));maxOutput=new r(new c(new l(Math.PI/2)),new i(new l(Math.PI)));projectLatitude(e){return new c(this.convertDegreesToRadians(e))}convertDegreesToRadians(e){return new l(Number(e)*(Math.PI/180))}convertRadiansToDegrees(e){return new d(Number(e)*(180/Math.PI))}projectLongitude(e){return new i(this.convertDegreesToRadians(e))}inverseProjectLatitude(e){return new c(this.convertRadiansToDegrees(e))}inverseProjectLongitude(e){return new i(this.convertRadiansToDegrees(e))}project(e){return new r(this.projectLatitude(e.lat),this.projectLongitude(e.lng))}inverseProject(e){return new r(this.inverseProjectLatitude(e.lat),this.inverseProjectLongitude(e.lng))}}const T=new Ke,Y=85.05133;class s{static min=T.project(new r(new c(new d(-Y)),new i(new d(-180))));static max=T.project(new r(new c(new d(Y)),new i(new d(180))));static minProjection=s.staticProject(s.min);static maxProjection=s.staticProject(s.max);minInput=s.min;maxInput=s.max;minOutput=s.minProjection;maxOutput=s.maxProjection;static projectLongitude(e){return new i(Number(e))}static ensureLatitudeBounds(e){return y(e,s.max.lat)?s.max.lat:A(e,s.min.lat)?s.min.lat:e}static projectLatitude(e){return new c(Math.log(Math.tan(Math.PI/4+Number(this.ensureLatitudeBounds(e))/2)))}static inverseProjectLongitude(e){return new i(new l(Number(e)))}static inverseProjectLatitude(e){return new c(new l(2*Math.atan(Math.exp(Number(e)))-Math.PI/2))}static staticProject(e){return new r(this.projectLatitude(e.lat),this.projectLongitude(e.lng))}project(e){return s.staticProject(e)}static staticInverseProject(e){return new r(this.inverseProjectLatitude(e.lat),this.inverseProjectLongitude(e.lng))}inverseProject(e){return s.staticInverseProject(e)}}const Xe=new s,I=new u(1344),Ye=new u(Math.floor(Number(I)*.75)),w=new u(9),bt=new u(Number(w)/2-1),Qe=I,Ue=I,Ze=new qe(s.minProjection,s.maxProjection,new r(new c(Ue),new i(new u(0))),new r(new c(new u(0)),new i(Qe))),_e=new le(Xe,Ze),pt=new le(T,_e),et=I,tt=Ye,me=new u(Math.floor(Number(w)/2)),nt=Math.floor(Number(et)/Number(w)),ot=Math.floor(Number(tt)/Number(w)),rt=Array.from(E(ne(ot),t=>new c(new u(t*Number(w)+Number(me))))),st=Array.from(E(ne(nt),t=>new i(new u(t*Number(w)+Number(me))))),ct=Array.from(ge(st,t=>E(rt,e=>new r(e,t))));Math.ceil(ct.length/8);export{le as C,u as D,Me as G,r as L,s as M,I as a,Xe as b,qe as c,T as d,c as e,i as f,V as g,gt as h,pt as i,ct as j,d as k,w as l,Ye as m,ot as n,nt as o,bt as p,Nt as q,G as r,J as s,B as t,S as u,x as v,ft as w};
