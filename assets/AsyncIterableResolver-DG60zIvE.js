import{R as c,j as l}from"./iframe-zEcEksBb.js";import{b as i,a as r,A as d,P as I}from"./ProvideAsyncStates-xIzp1Eue.js";const y=o=>{const e=o.asyncIterable,[s,u]=c.useState({asyncIterable:e,inFlightPromise:null,state:i.waiting()}),t=s.state;return c.useEffect(()=>{let n=u;if(s.asyncIterable!==e){n({asyncIterable:e,inFlightPromise:null,state:i.waiting()});return}const h=e[Symbol.asyncIterator](),m=a=>{if(a.done){n({asyncIterable:e,inFlightPromise:null,state:i.withData(r.done,t.data)});return}n({asyncIterable:e,inFlightPromise:null,state:i.withData(r.active,a.value)})},p=a=>{n({asyncIterable:e,inFlightPromise:null,state:i.withError(r.done,a)})};if(s.inFlightPromise!==null){s.inFlightPromise.then(m,p);return}if(t.asyncState!==r.done){if(t.asyncState===r.waiting||t.asyncState===r.active){const a=h.next();n({asyncIterable:e,inFlightPromise:a,state:t})}return()=>{n=()=>{}}}},[e,t,t.asyncState,t.data,s.inFlightPromise,s.asyncIterable]),l.jsx(d.Provider,{value:t,children:l.jsx(I,{children:o.children})})};try{y.displayName="AsyncIterableResolver",y.__docgenInfo={description:`AsyncIterableResolver is a component that resolves an AsyncIterable into a series of AsyncSnapshots.
This component is useful for consuming an AsyncIterable in a React component.`,displayName:"AsyncIterableResolver",props:{asyncIterable:{defaultValue:null,description:"",name:"asyncIterable",required:!0,type:{name:"AsyncIterable<unknown>"}}}}}catch{}export{y as A};
