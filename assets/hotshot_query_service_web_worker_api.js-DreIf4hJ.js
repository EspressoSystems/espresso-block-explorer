var pu=Object.defineProperty;var wu=(te,j,oe)=>j in te?pu(te,j,{enumerable:!0,configurable:!0,writable:!0,value:oe}):te[j]=oe;var o=(te,j,oe)=>(wu(te,typeof j!="symbol"?j+"":j,oe),oe);(function(){"use strict";class te{assert(){}}function j(){return new te}const oe=j();function D(r,e){oe.assert(r,e)}function fr(r,e){D(typeof r===e,`type assertion failed: expected "${e}", received "${typeof r}"`)}function Cn(r){D(r!==null,"expected a non-null value, received null")}function h(r,e){D(r instanceof e,`given value is not an instance of "${e.name}", specific type is "${typeof r=="object"&&r!==null?r.constructor.name:typeof r}"`)}class gr extends Error{constructor(t,n,c=`expected object with key: "${n}", instead found ${t}`){super(c);o(this,"key");o(this,"haveType");this.haveType=t,this.key=n,Object.freeze(this)}toJSON(){return{code:gr.name,message:this.message,have:this.haveType,key:this.key}}}class E{encode(e){return this.encoder.convert(e)}decode(e){return this.decoder.convert(e)}}class u extends E{}function vn(r){return typeof r=="boolean"}function Xt(r){return typeof r=="number"}function me(r){return typeof r=="string"}function xn(r){return typeof r=="object"&&r!==null}function P(r){return r!==void 0}function bn(r,e){return Array.isArray(r)&&r.every(e)}function En(r){return e=>bn(e,r)}function U(r,e,t){return xn(r)&&e in r&&t(r[e])}function d(r,...e){if(typeof r!="object")throw new Error("expected object");if(r===null)throw new Error("received null");for(const t of e)if(!(t in r))throw new gr("object",t)}function C(r,e){if(!me(r.code))throw new Error("code must be a string");if(r.code!==e)throw new Error(`expected code to be ${e}, got ${r.code}`)}const Kt=En(P);class Sn{convert(e){return e}}const Yt=new Sn;class kn extends E{constructor(){super(...arguments);o(this,"encoder",Yt);o(this,"decoder",Yt)}}const Be=new kn;class M{constructor(e){o(this,"itemCodec");this.itemCodec=e}convert(e){if(!Kt(e)){const t=typeof e=="object"&&e!==null?e.constructor.name:typeof e,n="array";throw new Error(`invalid array value: have "${t}", want "${n}"`)}return e.map(t=>this.itemCodec.decode(t))}}class F{constructor(e){o(this,"itemCodec");this.itemCodec=e}convert(e){return h(e,Array),e.map(t=>this.itemCodec.encode(t))}}class H extends u{constructor(t,n){super();o(this,"encoder");o(this,"decoder");this.encoder=n,this.decoder=t}}class In{convert(e){if(!me(e))throw new A(typeof e,"string");return e}}class Tn{convert(e){return fr(e,"string"),e}}class Rn extends u{constructor(){super(...arguments);o(this,"encoder",new Tn);o(this,"decoder",new In)}}const m=new Rn;new H(new M(m),new F(m));class b extends Error{constructor(e){super(e)}get code(){return this.constructor.name}toJSON(){return z.convert(this)}}class N{convert(e){return h(e,b),{code:e.code,message:e.message}}}const z=new N;class De extends Error{constructor(t,n=`no codec found for: "${t}"`){super(n);o(this,"codec");this.codec=t,Object.freeze(this);debugger}toJSON(){return{code:m.encode(De.name),message:m.encode(this.message),codec:m.encode(this.codec)}}}const yr=new Map;class Bn{convert(e){d(e,"code");const t=m.decode(e.code),n=yr.get(t);if(!n)throw new De(t);return n.decode(e)}}class Dn{convert(e){const t=yr.get(e.code);if(!t)throw new De(e.code);return t.encode(e)}}class An extends E{constructor(){super(...arguments);o(this,"encoder",new Dn);o(this,"decoder",new Bn)}}const Ae=new An;function v(r,e){yr.set(r,e)}class A extends b{constructor(t,n,c=`invalid type: have "${t}", want "${n}"`){super(c);o(this,"have");o(this,"want");this.have=t,this.want=n,Object.freeze(this)}toJSON(){return Zt.encode(this)}}class _n{convert(e){return d(e,"code","have","want","message"),C(e,A.name),new A(m.decode(e.have),m.decode(e.want),m.decode(e.message))}}class Pn{convert(e){return h(e,A),{...z.convert(e),have:m.encode(e.have),want:m.encode(e.want)}}}class Nn extends u{constructor(){super(...arguments);o(this,"encoder",new Pn);o(this,"decoder",new _n)}}const Zt=new Nn;v(A.name,Zt);class Un{convert(e){if(!Xt(e))throw new A(typeof e,"number");return e}}class On{convert(e){return fr(e,"number"),e}}class Ln extends u{constructor(){super(...arguments);o(this,"encoder",new On);o(this,"decoder",new Un)}}const s=new Ln,I=new H(new M(s),new F(s));class $ extends b{constructor(e="unimplemented"){super(e),Object.freeze(this);debugger}}class Mn{convert(e){return d(e,"code","message"),C(e,$.name),new $(m.decode(e.message))}}class Fn extends N{}class Hn extends u{constructor(){super(...arguments);o(this,"encoder",new Fn);o(this,"decoder",new Mn)}}const zn=new Hn;v($.name,zn);class T extends b{constructor(e="invalid input"){super(e),Object.freeze(this)}}class Gn{convert(e){return d(e,"code","message"),C(e,T.name),new T(m.decode(e.message))}}class Jn extends N{}class qn extends u{constructor(){super(...arguments);o(this,"encoder",new Jn);o(this,"decoder",new Gn)}}const Wn=new qn;v(T.name,Wn);const ae=s;class eo{constructor(e,t,n,c){o(this,"requestID");o(this,"api");o(this,"method");o(this,"param");this.requestID=e,this.api=t,this.method=n,this.param=c}toJSON(){return{requestID:this.requestID,api:this.api,method:this.method,param:this.param}}}class jn{convert(e){return d(e,"requestID","api","method","param"),new eo(ae.decode(e.requestID),m.decode(e.api),m.decode(e.method),e.param)}}class $n{convert(e){return h(e,eo),{requestID:ae.encode(e.requestID),api:m.encode(e.api),method:m.encode(e.method),param:e.param}}}class Vn extends u{constructor(){super(...arguments);o(this,"encoder",new $n);o(this,"decoder",new jn)}}const Qn=new Vn;class ro{constructor(e){o(this,"requestID");this.requestID=e}}class Cr extends ro{constructor(t,n){super(t);o(this,"response");this.response=n}toJSON(){return to.encode(this)}}class Xn{convert(e){return d(e,"requestID","response"),new Cr(ae.decode(e.requestID),e.response)}}class Kn{convert(e){return h(e,Cr),{requestID:ae.encode(e.requestID),response:e.response}}}class Yn extends u{constructor(){super(...arguments);o(this,"encoder",new Kn);o(this,"decoder",new Xn)}}const to=new Yn;class vr extends ro{constructor(t,n){super(t);o(this,"error");this.error=n}toJSON(){return oo.encode(this)}}class Zn{convert(e){return d(e,"requestID","error"),new vr(ae.decode(e.requestID),Ae.decode(e.error))}}class ec{convert(e){return h(e,vr),{requestID:ae.encode(e.requestID),error:Ae.encode(e.error)}}}class rc extends u{constructor(){super(...arguments);o(this,"encoder",new ec);o(this,"decoder",new Zn)}}const oo=new rc;class G extends b{constructor(t,n=`corrupt input error at ${t}`){super(n);o(this,"offset");this.offset=t,Object.freeze(this)}toJSON(){return no.encode(this)}}class tc{convert(e){return d(e,"code","offset","message"),C(e,G.name),new G(s.decode(e.offset),m.decode(e.message))}}class oc{convert(e){return h(e,G),{...z.convert(e),offset:s.encode(e.offset),message:m.encode(e.message)}}}class nc extends u{constructor(){super(...arguments);o(this,"encoder",new oc);o(this,"decoder",new tc)}}const no=new nc;v(G.name,no);class _e extends b{constructor(e="incorrect padding"){super(e),Object.freeze(this)}}class cc{convert(e){return d(e,"code","message"),C(e,_e.name),new _e(m.decode(e.message))}}class sc extends N{}class ac extends u{constructor(){super(...arguments);o(this,"encoder",new sc);o(this,"decoder",new cc)}}const ic=new ac;v(_e.name,ic);class pe extends b{constructor(t,n=`alphabet needs to be 64 characters, received ${t}`){super(n);o(this,"length");this.length=t,Object.freeze(this)}toJSON(){return co.encode(this)}}class dc{convert(e){return d(e,"code","length","message"),C(e,pe.name),new pe(s.decode(e.length),m.decode(e.message))}}class lc{convert(e){return h(e,pe),{...z.convert(e),length:s.encode(e.length)}}}class uc extends u{constructor(){super(...arguments);o(this,"encoder",new lc);o(this,"decoder",new dc)}}const co=new uc;v(pe.name,co);const hc=new TextEncoder;function so(r){return hc.encode(r)}const mc=new TextDecoder;function pc(r){return mc.decode(r)}function*ao(r){yield*so(r)}function*wc(){for(let r=0;r<256;r++)yield 255}const we=-1,fc=61;class fe{constructor(e,t,n=fc,c=!1){o(this,"encodeMap");o(this,"decodeMap");o(this,"padChar");o(this,"strict");this.encodeMap=e,this.decodeMap=t,this.padChar=n,this.strict=c}static withAlphabet(e){const t=e.length;if(t!==64)throw new pe(t);const n=Array.from(ao(e)),c=Array.from(wc());for(let a=0;a<t;a++)c[n[a]]=a;return new fe(n,c)}withPadding(e){return new fe(this.encodeMap,this.decodeMap,e,this.strict)}encode(e){if(e.byteLength===0)return new ArrayBuffer(0);let t=0,n=0;const c=Math.floor(e.byteLength/3)*3,a=Math.ceil(e.byteLength/3)*4,i=new ArrayBuffer(a),l=new DataView(e),f=new DataView(i);for(;n<c;){const g=l.getUint8(n+0)<<16|l.getUint8(n+1)<<8|l.getUint8(n+2);f.setUint8(t+0,this.encodeMap[g>>18&63]),f.setUint8(t+1,this.encodeMap[g>>12&63]),f.setUint8(t+2,this.encodeMap[g>>6&63]),f.setUint8(t+3,this.encodeMap[g&63]),n+=3,t+=4}const p=e.byteLength-n;if(p===0)return i;let y=l.getUint8(n+0)<<16;switch(p===2&&(y|=l.getUint8(n+1)<<8),f.setUint8(t+0,this.encodeMap[y>>18&63]),f.setUint8(t+1,this.encodeMap[y>>12&63]),p){case 2:return f.setUint8(t+2,this.encodeMap[y>>6&63]),this.padChar!==we?(f.setUint8(t+3,this.padChar),i.slice(0,t+4)):i.slice(0,t+3);case 1:if(this.padChar!==we)return f.setUint8(t+2,this.padChar),f.setUint8(t+3,this.padChar),i.slice(0,t+4);break}return i.slice(0,t+2)}decode(e){const t=e.byteLength;if(t===0)return new ArrayBuffer(0);const n=new DataView(e),c=new ArrayBuffer(Math.floor(t/4*3)),a=new DataView(c),i=new ArrayBuffer(4),l=new DataView(i);let f=0,p=0,y=0,g=!1;for(;p<t&&!g;){let S=3,L=4;for(let B=0;B<4;B++){if(p===t){if(B===0)return c;if(B===1||this.padChar!==we)throw new G(p-B);S=B-1,L=B,g=!0;break}const W=n.getUint8(p);p++;const yn=this.decodeMap[W];if(yn!==255){l.setUint8(B,yn);continue}if(W===10||W===13){B--;continue}if(W===this.padChar){switch(B){case 0:case 1:throw new _e;case 2:for(;p<t&&(n.getUint8(p)===10||n.getUint8(p)===13);)p++;if(p===t)throw new G(t);p++}for(;p<t&&(n.getUint8(p)===10||n.getUint8(p)===13);)p++;if(p<t)throw new G(p);S=3,L=B,g=!0;break}throw new G(p-1)}const R=l.getUint8(0)<<18|l.getUint8(1)<<12|l.getUint8(2)<<6|l.getUint8(3);switch(l.setUint8(2,R>>0&255),l.setUint8(1,R>>8&255),l.setUint8(0,R>>16&255),L){case 4:a.setUint8(y+2,l.getUint8(2)),l.setUint8(2,0);case 3:if(a.setUint8(y+1,l.getUint8(1)),this.strict&&l.getUint8(2)!==0)throw new G(p-1);case 2:if(a.setUint8(y+0,l.getUint8(0)),this.strict&&(l.getUint8(1)!==0||l.getUint8(2)!==0))throw new G(p-2)}y+=S,f+=L-1}return c.slice(0,f)}decodeString(e){return this.decode(so(e).buffer)}encodeToString(e){return pc(this.encode(e))}}const io=fe.withAlphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),gc=io.withPadding(we),lo=fe.withAlphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),xr=lo.withPadding(we);class Pe extends b{constructor(e="invalid tagged base64 encoding"){super(e),Object.freeze(this)}toJSON(){return uo.encode(this)}}class yc{convert(e){return d(e,"code","message"),C(e,Pe.name),new Pe(m.decode(e.message))}}class Cc extends N{}class vc extends u{constructor(){super(...arguments);o(this,"encoder",new Cc);o(this,"decoder",new yc)}}const uo=new vc;v(Pe.name,uo);class x{constructor(e,t){o(this,"tag");o(this,"data");this.tag=e,this.data=t}static fromString(e){const t=e.indexOf("~");if(t<0)throw new Pe;const n=e.substring(0,t),c=xr.decodeString(e.substring(t+1));return new x(n,c)}static inflate(e){return w.decode(e)}toString(){return`${this.tag}~${xr.encodeToString(this.data)}`}valueOf(){return this.toString()}toJSON(){return this.toString()}}class xc{convert(e){if(typeof e!="string")throw new A(typeof e,"string");return x.fromString(e)}}class bc{convert(e){return h(e,x),e.toString()}}class Ec extends u{constructor(){super(...arguments);o(this,"encoder",new bc);o(this,"decoder",new xc)}}const w=new Ec;class ge extends b{constructor(e="invalid hex string"){super(e),Object.freeze(this)}}class Sc{convert(e){return d(e,"code","message"),C(e,ge.name),new ge(m.decode(e.message))}}class kc extends N{}class Ic extends u{constructor(){super(...arguments);o(this,"encoder",new kc);o(this,"decoder",new Sc)}}const Tc=new Ic;v(ge.name,Tc);class Ne extends b{constructor(t,n=`invalid hex value "${t}"`){super(n);o(this,"value");this.value=t,Object.freeze(this)}toJSON(){return ho.encode(this)}}class Rc{convert(e){return d(e,"code","value","message"),C(e,Ne.name),new Ne(s.decode(e.value),m.decode(e.message))}}class Bc{convert(e){return{...z.convert(e),value:s.encode(e.value)}}}class Dc extends u{constructor(){super(...arguments);o(this,"encoder",new Bc);o(this,"decoder",new Rc)}}const ho=new Dc;v(Ne.name,ho);class Ac{constructor(e,t){o(this,"value");o(this,"next");this.value=e,this.next=t}[Symbol.iterator](){return mo(this)}}function _c(r,e){return new Ac(e,r)}function*mo(r){if(r!==null)for(let e=r;e!==null;e=e.next)yield e.value}class ne extends b{constructor(e="missing element"){super(e),Object.freeze(this)}}class Pc{convert(e){return d(e,"code","message"),C(e,ne.name),new ne(m.decode(e.message))}}class Nc extends N{}class Uc extends u{constructor(){super(...arguments);o(this,"encoder",new Nc);o(this,"decoder",new Pc)}}const Oc=new Uc;v(ne.name,Oc);function*Lc(r,e){for(let t=r.next();!t.done;t=r.next())e(t.value)&&(yield t.value)}function Mc(r,e){return Lc(r[Symbol.iterator](),e)}function*Fc(r,e){for(let t=r.next();!t.done;t=r.next())yield e(t.value)}function*Hc(r,e){for(let t=0;t<e;t++){const n=r.next();if(n.done)return;yield n.value}}function zc(r,e){return Hc(r[Symbol.iterator](),e)}function Gc(r){let e;for(let t=r.next();!t.done;t=r.next())e=t.value;if(e===void 0)throw new ne;return e}function Jc(r){return Gc(r[Symbol.iterator]())}function*qc(){let r=0;for(;;)yield r++}function Wc(r){return zc(qc(),Math.ceil(r))}function*jc(r,e,t){for(let n=r.next(),c=e.next();!n.done&&!c.done;n=r.next(),c=e.next())yield t(n.value,c.value)}function $c(r,e,t){return jc(r[Symbol.iterator](),e[Symbol.iterator](),t)}function po(r){if(r.startsWith("0x"))return po(r.substring(2));if(r.length&1)throw new ge;const e=new ArrayBuffer(r.length/2);return Vc(ao(r),e),e}function Vc(r,e){const t=new DataView(e);let n=0;for(;n<e.byteLength;){const c=r.next(),a=r.next();if(c.done||a.done)throw new ge;const i=wo(c.value),l=wo(a.value),f=i<<4|l;t.setUint8(n,f),n++}}function wo(r){if(r>=48&&r<=57)return r-48;if(r>=97&&r<=102)return r-97+10;if(r>=65&&r<=70)return r-65+10;throw new Ne(r)}function Qc(r){return r.toString(16).padStart(2,"0")}function*Xc(r){yield*Fc(r,Qc)}function Kc(r){return Xc(r[Symbol.iterator]())}class Yc{convert(e){if(typeof e!="string")throw new A(typeof e,"string");return po(e)}}class Zc{convert(e){return h(e,ArrayBuffer),["0x",...Kc(new Uint8Array(e))].join("")}}class es extends u{constructor(){super(...arguments);o(this,"encoder",new Zc);o(this,"decoder",new Yc)}}const k=new es;class rs{constructor(e){o(this,"encoding");this.encoding=e}convert(e){if(typeof e!="string")throw new A(typeof e,"string");return this.encoding.decodeString(e)}}class ts{constructor(e){o(this,"encoding");this.encoding=e}convert(e){return this.encoding.encodeToString(e)}}class Ue extends u{constructor(t){super();o(this,"encoder");o(this,"decoder");this.encoder=new ts(t),this.decoder=new rs(t)}}new Ue(xr),new Ue(gc);const fo=new Ue(lo),go=new Ue(io);class br{constructor(e,t,n){o(this,"r");o(this,"s");o(this,"v");this.r=e,this.s=t,this.v=n}toJSON(){return Er.encode(this)}}class os{convert(e){return d(e,"r","s","v"),new br(k.decode(e.r),k.decode(e.s),s.decode(e.v))}}class ns{convert(e){return h(e,br),{r:k.encode(e.r),s:k.encode(e.s),v:s.encode(e.v)}}}class cs extends u{constructor(){super(...arguments);o(this,"encoder",new ns);o(this,"decoder",new os)}}const Er=new cs;class Sr{constructor(e,t){o(this,"account");o(this,"amount");this.account=e,this.amount=t}toJSON(){return kr.encode(this)}}class ss{convert(e){return d(e,"account","amount"),new Sr(k.decode(e.account),k.decode(e.amount))}}class as{convert(e){return h(e,Sr),{account:k.encode(e.account),amount:k.encode(e.amount)}}}class is extends u{constructor(){super(...arguments);o(this,"encoder",new as);o(this,"decoder",new ss)}}const kr=new is;class yo{constructor(e){o(this,"itemCodec");this.itemCodec=e}convert(e){return e===null?null:this.itemCodec.decode(e)}}class Co{constructor(e){o(this,"itemCodec");this.itemCodec=e}convert(e){return e===null?null:(Cn(e),this.itemCodec.encode(e))}}class vo extends u{constructor(t,n){super();o(this,"encoder");o(this,"decoder");this.encoder=n,this.decoder=t}}class Ir{constructor(e,t,n){o(this,"number");o(this,"timestamp");o(this,"hash");this.number=e,this.timestamp=t,this.hash=n}toJSON(){return Tr.encode(this)}}class ds{convert(e){return d(e,"number","timestamp","hash"),new Ir(s.decode(e.number),m.decode(e.timestamp),m.decode(e.hash))}}class ls{convert(e){return h(e,Ir),{number:s.encode(e.number),timestamp:m.encode(e.timestamp),hash:m.encode(e.hash)}}}class us extends u{constructor(){super(...arguments);o(this,"encoder",new ls);o(this,"decoder",new ds)}}const Tr=new us,xo=new vo(new yo(Tr),new Co(Tr));class Rr{constructor(e){o(this,"bytes");this.bytes=e}toJSON(){return Br.encode(this)}}class hs{convert(e){return d(e,"bytes"),new Rr(fo.decode(e.bytes))}}class ms{convert(e){return h(e,Rr),{bytes:fo.encode(e.bytes)}}}class ps extends u{constructor(){super(...arguments);o(this,"encoder",new ms);o(this,"decoder",new hs)}}const Br=new ps;class Dr{constructor(e,t,n,c,a,i,l,f,p,y){o(this,"height");o(this,"timestamp");o(this,"l1_head");o(this,"l1_finalized");o(this,"payload_commitment");o(this,"ns_table");o(this,"block_merkle_root");o(this,"fee_merkle_root");o(this,"builder_signature");o(this,"fee_info");this.height=e,this.timestamp=t,this.l1_head=n,this.l1_finalized=c,this.payload_commitment=a,this.ns_table=i,this.block_merkle_root=l,this.fee_merkle_root=f,this.builder_signature=p,this.fee_info=y}toJSON(){return V.encode(this)}}class ws{convert(e){return d(e,"height","timestamp","l1_head","l1_finalized","payload_commitment","ns_table","block_merkle_root","fee_merkle_root","builder_signature","fee_info"),new Dr(s.decode(e.height),s.decode(e.timestamp),s.decode(e.l1_head),xo.decode(e.l1_finalized),I.decode(e.payload_commitment),Br.decode(e.ns_table),w.decode(e.block_merkle_root),w.decode(e.fee_merkle_root),Er.decode(e.builder_signature),kr.decode(e.fee_info))}}class fs{convert(e){return h(e,Dr),{height:s.encode(e.height),timestamp:s.encode(e.timestamp),l1_head:s.encode(e.l1_head),l1_finalized:xo.encode(e.l1_finalized),payload_commitment:I.encode(e.payload_commitment),ns_table:Br.encode(e.ns_table),block_merkle_root:w.encode(e.block_merkle_root),fee_merkle_root:w.encode(e.fee_merkle_root),builder_signature:Er.encode(e.builder_signature),fee_info:kr.encode(e.fee_info)}}}class gs extends u{constructor(){super(...arguments);o(this,"encoder",new fs);o(this,"decoder",new ws)}}const V=new gs;class ye{constructor(e,t){o(this,"vm");o(this,"payload");this.vm=e,this.payload=t}toJSON(){return ce.encode(this)}}class ys{convert(e){return d(e,"vm","payload"),new ye(s.decode(e.vm),I.decode(e.payload))}}class Cs{convert(e){return h(e,ye),{vm:s.encode(e.vm),payload:I.encode(e.payload)}}}class vs extends u{constructor(){super(...arguments);o(this,"encoder",new Cs);o(this,"decoder",new ys)}}const ce=new vs,bo=new H(new M(ce),new F(ce));class Ar{constructor(e){o(this,"transaction_nmt");this.transaction_nmt=e}toJSON(){return Ce.encode(this)}}class xs{convert(e){return d(e,"transaction_nmt"),new Ar(bo.decode(e.transaction_nmt))}}class bs{convert(e){return h(e,Ar),{transaction_nmt:bo.encode(e.transaction_nmt)}}}class Es extends u{constructor(){super(...arguments);o(this,"encoder",new bs);o(this,"decoder",new xs)}}const Ce=new Es;class _r{constructor(e,t,n,c,a){o(this,"header");o(this,"payload");o(this,"hash");o(this,"size");o(this,"numTransactions");this.header=e,this.payload=t,this.hash=n,this.size=c,this.numTransactions=a}toJSON(){return Pr.encode(this)}}class Ss{convert(e){return d(e,"header","payload","hash","size","num_transactions"),new _r(V.decode(e.header),Ce.decode(e.payload),w.decode(e.hash),s.decode(e.size),s.decode(e.num_transactions))}}class ks{convert(e){return h(e,_r),{header:V.encode(e.header),payload:Ce.encode(e.payload),hash:w.encode(e.hash),size:s.encode(e.size),num_transactions:s.encode(e.numTransactions)}}}class Is extends E{constructor(){super(...arguments);o(this,"encoder",new ks);o(this,"decoder",new Ss)}}const Pr=new Is;class Oe{constructor(e,t,n,c,a){o(this,"header");o(this,"hash");o(this,"size");o(this,"num_transactions");o(this,"proposer_id");this.header=e,this.hash=t,this.size=n,this.num_transactions=c,this.proposer_id=a}toJSON(){return Nr.encode(this)}}class Ts{convert(e){return d(e,"header","hash","size","num_transactions","proposer_id"),new Oe(V.decode(e.header),w.decode(e.hash),s.decode(e.size),s.decode(e.num_transactions),k.decode(e.proposer_id))}}class Rs{convert(e){return h(e,Oe),{header:V.encode(e.header),hash:w.encode(e.hash),size:s.encode(e.size),num_transactions:s.encode(e.num_transactions),proposer_id:k.encode(e.proposer_id)}}}class Bs extends u{constructor(){super(...arguments);o(this,"encoder",new Rs);o(this,"decoder",new Ts)}}const Nr=new Bs,Ds=new H(new M(Nr),new F(Nr));class Le{constructor(e,t,n,c){o(this,"hash");o(this,"header");o(this,"offset");o(this,"transaction");this.hash=e,this.header=t,this.offset=n,this.transaction=c}toJSON(){return Ur.encode(this)}}class As{convert(e){return d(e,"hash","header","offset","transaction"),new Le(w.decode(e.hash),V.decode(e.header),s.decode(e.offset),ce.decode(e.transaction))}}class _s{convert(e){return h(e,Le),{hash:w.encode(e.hash),header:V.encode(e.header),offset:s.encode(e.offset),transaction:ce.encode(e.transaction)}}}class Ps extends u{constructor(){super(...arguments);o(this,"encoder",new _s);o(this,"decoder",new As)}}const Ur=new Ps,Eo=new H(new M(Ur),new F(Ur));class Ns{convert(e){if(!vn(e))throw new A(typeof e,"boolean");return e}}class Us{convert(e){return fr(e,"boolean"),e}}class Os extends u{constructor(){super(...arguments);o(this,"encoder",new Us);o(this,"decoder",new Ns)}}const Me=new Os;class Fe{constructor(e){o(this,"leaf_commit");this.leaf_commit=e}toJSON(){return Or.encode(this)}}class Ls{convert(e){return d(e,"leaf_commit"),new Fe(w.decode(e.leaf_commit))}}class Ms{convert(e){return h(e,Fe),{leaf_commit:w.encode(e.leaf_commit)}}}class Fs extends u{constructor(){super(...arguments);o(this,"encoder",new Ms);o(this,"decoder",new Ls)}}const Or=new Fs;class So{constructor(e,t){o(this,"width");o(this,"index");this.width=e,this.index=t}toJSON(){return Lr.encode(this)}}class Hs{convert(e){return d(e,"width","index"),new So(s.decode(e.width),s.decode(e.index))}}class zs{convert(e){return h(e,So),{width:s.encode(e.width),index:s.encode(e.index)}}}class Gs extends u{constructor(){super(...arguments);o(this,"encoder",new zs);o(this,"decoder",new Hs)}}const Lr=new Gs;class ko{constructor(e,t,n,c){o(this,"order");o(this,"head");o(this,"bits");o(this,"data");this.order=e,this.head=t,this.bits=n,this.data=c}toJSON(){return Mr.encode(this)}}class Js{convert(e){return d(e,"order","head","bits","data"),new ko(m.decode(e.order),Lr.decode(e.head),s.decode(e.bits),I.decode(e.data))}}class qs{convert(e){return h(e,ko),{order:m.encode(e.order),head:Lr.encode(e.head),bits:s.encode(e.bits),data:I.encode(e.data)}}}class Ws extends u{constructor(){super(...arguments);o(this,"encoder",new qs);o(this,"decoder",new Js)}}const Mr=new Ws;class Io{constructor(e,t){o(this,"signature");o(this,"bitvec");this.signature=e,this.bitvec=t}toJSON(){return Fr.encode(this)}}class js{convert(e){if(!Kt(e)||e.length!==2)throw new A(typeof e,"Array");return new Io(w.decode(e[0]),Mr.decode(e[1]))}}class $s{convert(e){return h(e,Io),[w.encode(e.signature),Mr.encode(e.bitvec)]}}class Vs extends u{constructor(){super(...arguments);o(this,"encoder",new $s);o(this,"decoder",new js)}}const Fr=new Vs,To=new vo(new yo(Fr),new Co(Fr));class He{constructor(e,t,n,c,a,i){o(this,"data");o(this,"vote_commitment");o(this,"view_number");o(this,"signatures");o(this,"is_genesis");o(this,"_pd");this.data=e,this.vote_commitment=t,this.view_number=n,this.signatures=c,this.is_genesis=a,this._pd=i}toJSON(){return ve.encode(this)}}class Qs{convert(e){return d(e,"data","vote_commitment","view_number","signatures","is_genesis","_pd"),new He(Or.decode(e.data),w.decode(e.vote_commitment),s.decode(e.view_number),To.decode(e.signatures),Me.decode(e.is_genesis),null)}}class Xs{convert(e){return h(e,He),{data:Or.encode(e.data),vote_commitment:w.encode(e.vote_commitment),view_number:s.encode(e.view_number),signatures:To.encode(e.signatures),is_genesis:Me.encode(e.is_genesis),_pd:null}}}class Ks extends u{constructor(){super(...arguments);o(this,"encoder",new Xs);o(this,"decoder",new Qs)}}const ve=new Ks;class Hr{constructor(e,t,n,c,a,i,l,f){o(this,"view_number");o(this,"justify_qc");o(this,"parent_commitment");o(this,"block_header");o(this,"block_payload");o(this,"rejected");o(this,"timestamp");o(this,"proposer_id");this.view_number=e,this.justify_qc=t,this.parent_commitment=n,this.block_header=c,this.block_payload=a,this.rejected=i,this.timestamp=l,this.proposer_id=f}toJSON(){return zr.encode(this)}}class Ys{convert(e){return d(e,"view_number","justify_qc","parent_commitment","block_header","block_payload","rejected","timestamp","proposer_id"),new Hr(s.decode(e.view_number),ve.decode(e.justify_qc),w.decode(e.parent_commitment),V.decode(e.block_header),Ce.decode(e.block_payload),I.decode(e.rejected),s.decode(e.timestamp),k.decode(e.proposer_id))}}class Zs{convert(e){return h(e,Hr),{view_number:s.encode(e.view_number),justify_qc:ve.encode(e.justify_qc),parent_commitment:w.encode(e.parent_commitment),block_header:V.encode(e.block_header),block_payload:Ce.encode(e.block_payload),rejected:I.encode(e.rejected),timestamp:s.encode(e.timestamp),proposer_id:k.encode(e.proposer_id)}}}class ea extends u{constructor(){super(...arguments);o(this,"encoder",new Zs);o(this,"decoder",new Ys)}}const zr=new ea;class Gr{constructor(e,t){o(this,"leaf");o(this,"qc");this.leaf=e,this.qc=t}toJSON(){return Jr.encode(this)}}class ra{convert(e){return d(e,"leaf","qc"),new Gr(zr.decode(e.leaf),ve.decode(e.qc))}}class ta{convert(e){return h(e,Gr),{leaf:zr.encode(e.leaf),qc:ve.encode(e.qc)}}}class oa extends u{constructor(){super(...arguments);o(this,"encoder",new ta);o(this,"decoder",new ra)}}const Jr=new oa;class xe{}class qr extends xe{toJSON(){return Wr.encode(this)}}class na{convert(e){if(!me(e)||e!=="Empty")throw new T;return new qr}}class ca{convert(e){return h(e,qr),"Empty"}}class sa extends u{constructor(){super(...arguments);o(this,"encoder",new ca);o(this,"decoder",new na)}}const Wr=new sa;class jr extends xe{constructor(t,n,c){super();o(this,"value");o(this,"pos");o(this,"elem");this.value=t,this.pos=n,this.elem=c}toJSON(){return $r.encode(this)}}class aa{convert(e){d(e,"Leaf");const t=e.Leaf;return d(t,"value","pos","elem"),new jr(w.decode(t.value),w.decode(t.pos),w.decode(t.elem))}}class ia{convert(e){return h(e,jr),{Leaf:{value:w.encode(e.value),pos:w.encode(e.pos),elem:w.encode(e.elem)}}}}class da extends E{constructor(){super(...arguments);o(this,"encoder",new ia);o(this,"decoder",new aa)}}const $r=new da;class Vr extends xe{constructor(t){super();o(this,"value");this.value=t}toJSON(){return Qr.encode(this)}}class la{convert(e){d(e,"ForgettenSubtree");const t=e.ForgettenSubtree;return d(t,"value"),new Vr(w.decode(t.value))}}class ua{convert(e){return h(e,Vr),{ForgettenSubtree:{value:w.encode(e.value)}}}}class ha extends E{constructor(){super(...arguments);o(this,"encoder",new ua);o(this,"decoder",new la)}}const Qr=new ha;class ze extends xe{constructor(t,n){super();o(this,"value");o(this,"children");this.value=t,this.children=n}toJSON(){return Xr.encode(this)}}class ma{convert(e){d(e,"Branch");const t=e.Branch;return d(t,"value","children"),new ze(w.decode(t.value),Ge.decode(t.children))}}class pa{convert(e){return h(e,ze),{Branch:{value:w.encode(e.value),children:Ge.encode(e.children)}}}}class wa extends u{constructor(){super(...arguments);o(this,"encoder",new pa);o(this,"decoder",new ma)}}const Xr=new wa;class fa{convert(e){if(U(e,"Leaf",P))return $r.decoder.convert(e);if(U(e,"Branch",P))return Xr.decoder.convert(e);if(U(e,"ForgettenSubtree",P))return Qr.decoder.convert(e);if(me(e))return Wr.decoder.convert(e);throw new T}}class ga{convert(e){if(h(e,xe),e instanceof jr)return $r.encode(e);if(e instanceof ze)return Xr.encode(e);if(e instanceof Vr)return Qr.encode(e);if(e instanceof qr)return Wr.encode(e);throw new T}}class ya extends u{constructor(){super(...arguments);o(this,"encoder",new ga);o(this,"decoder",new fa)}}const Ro=new ya,Ge=new H(new M(Ro),new F(Ro));class Kr{constructor(e,t){o(this,"pos");o(this,"proof");this.pos=e,this.proof=t}toJSON(){return Yr.encode(this)}}class Ca{convert(e){return d(e,"pos","proof"),new Kr(w.decode(e.pos),Ge.decode(e.proof))}}class va{convert(e){return h(e,Kr),{pos:w.encode(e.pos),proof:Ge.encode(e.proof)}}}class xa extends u{constructor(){super(...arguments);o(this,"encoder",new va);o(this,"decoder",new Ca)}}const Yr=new xa;class Zr{constructor(e,t,n,c,a){o(this,"transaction");o(this,"block_hash");o(this,"proof");o(this,"height");o(this,"hash");this.transaction=e,this.block_hash=t,this.proof=n,this.height=c,this.hash=a}toJSON(){return et.encode(this)}}class ba{convert(e){return d(e,"transaction","block_hash","proof","height","hash"),new Zr(ce.decoder.convert(e.transaction),w.decode(e.block_hash),Yr.decoder.convert(e.proof),s.decode(e.height),w.decode(e.hash))}}class Ea{convert(e){return h(e,Zr),{transaction:ce.encode(e.transaction),block_hash:w.encode(e.block_hash),proof:Yr.encode(e.proof),height:s.encode(e.height),hash:w.encode(e.hash)}}}class Sa extends u{constructor(){super(...arguments);o(this,"encoder",new Ea);o(this,"decoder",new ba)}}const et=new Sa,ie="latest";class rt{constructor(e){o(this,"target");this.target=e}static latest(){return new Do}static height(e){return new Ao(e)}toJSON(){return Bo.encode(this)}}class ka{convert(e){return h(e,rt),typeof e.target=="number"?s.encode(e.target):m.encode(e.target)}}class Ia{convert(e){return e===ie?new Do:new Ao(s.decode(e))}}class Ta extends E{constructor(){super(...arguments);o(this,"encoder",new ka);o(this,"decoder",new Ia)}}const Bo=new Ta;class Do extends rt{constructor(){super(ie)}}class Ao extends rt{constructor(e){super(e)}}class Ra{convert(e){if(!me(e))throw new A(typeof e,"string");const t=new Date(e);if(Number.isNaN(t.valueOf()))throw new A("NaN","number");return t}}class Ba{convert(e){return h(e,Date),e.toISOString()}}class Da extends u{constructor(){super(...arguments);o(this,"encoder",new Ba);o(this,"decoder",new Ra)}}const Z=new Da;class Q{constructor(e,t,n){o(this,"significantDigitsMultiplier");this.alpha3Code=e,this.code=t,this.significantDigits=n,this.alpha3Code=e,this.code=t,this.significantDigits=n,this.significantDigitsMultiplier=BigInt(10)**BigInt(this.significantDigits)}toJSON(){return Je.encode(this)}}const _o=new Q("JPY",392,0),Aa=new Q("GBP",826,2),Po=new Q("USD",840,2),_a=new Q("EUR",978,2),Pa=new Q("XXX",999,2),No=new Q("ETH",1001,18),tt=new Q("XBT",1002,8),Uo=new Q("ESP",10001,18),Na=[_o,Aa,Po,_a,Pa,No,tt,Uo],Ua=new Map(Na.map(r=>[r.alpha3Code,r]));class Oa{convert(e){if(typeof e!="string")throw new T("CurrencyCodeDecoder: expected string");if(e==="BTC")return tt;const t=Ua.get(e);if(t===void 0)throw new T(`CurrencyCodeDecoder: unknown currency: "${e}"`);return t}}class La{convert(e){return h(e,Q),e.alpha3Code}}class Ma extends u{constructor(){super(...arguments);o(this,"decoder",new Oa);o(this,"encoder",new La)}}const Je=new Ma;class J{constructor(e,t){this.currency=e,this.value=t,this.currency=e,this.value=t}static USD(e){return new J(Po,BigInt(e))}static ETH(e){return new J(No,BigInt(e))}static ESP(e){return new J(Uo,BigInt(e))}static JPY(e){return new J(_o,BigInt(e))}static BTC(e){return new J(tt,BigInt(e))}toString(){return qe.encode(this)}toJSON(){return qe.encode(this)}}function Fa(r){return r==="."||r===","||r===" "}function Ha(r,e){let t=-1;const n=r.length;for(let c=0;c<n;c++)e(r[c])&&(t=c);return t}class za{parseCurrencyCode(e){return Je.decode(e)}parseValue(e,t){let n=1n;t[0]==="-"&&(n=-1n,t=t.substring(1));const c=Ha(t,Fa);if(c===-1){const p=BigInt(t.replace(/\D/g,""))*e.significantDigitsMultiplier;return n*p}const a=t.substring(0,c).replace(/\D/g,""),i=t.substring(c+1).replace(/\D/g,""),l=BigInt(a)*e.significantDigitsMultiplier,f=BigInt(i)*10n**BigInt(e.significantDigits-i.length);return n*(l+f)}convert(e){if(typeof e!="string")throw new T("MonetaryValueDecoder: expected string");const t=e.indexOf(" ");if(t<=-1)throw new T("MonetaryValueDecoder: missing non-breaking space");const n=e.substring(0,t),c=e.substring(t+1);if(/^-?[\d .,]+$/.test(n)){const i=this.parseCurrencyCode(c);return new J(i,this.parseValue(i,n))}const a=this.parseCurrencyCode(n);return new J(a,this.parseValue(a,c))}}class Ga{convert(e){h(e,J);const t=e.value<0n?"-":"",n=e.value<0n?-e.value:e.value,c=n%e.currency.significantDigitsMultiplier,a=n/e.currency.significantDigitsMultiplier,i=String(a),l=String(c);return/^0+$/.test(l)?`${Je.encode(e.currency)} ${t}${i}`:`${Je.encode(e.currency)} ${t}${a}.${String(c).padStart(e.currency.significantDigits,"0")}`}}class Ja extends u{constructor(){super(...arguments);o(this,"decoder",new za);o(this,"encoder",new Ga)}}const qe=new Ja,Oo=new H(new M(qe),new F(qe));class ot{constructor(e,t,n,c,a,i,l,f){o(this,"hash");o(this,"height");o(this,"time");o(this,"numTransactions");o(this,"proposerID");o(this,"feeRecipient");o(this,"size");o(this,"blockReward");this.hash=e,this.height=t,this.time=n,this.numTransactions=c,this.proposerID=a,this.feeRecipient=i,this.size=l,this.blockReward=f}toJSON(){return be.encode(this)}}class qa{convert(e){return d(e,"hash","height","time","num_transactions","proposer_id","fee_recipient","size","block_reward"),new ot(w.decode(e.hash),s.decode(e.height),Z.decode(e.time),s.decode(e.num_transactions),k.decode(e.proposer_id),k.decode(e.fee_recipient),s.decode(e.size),Oo.decode(e.block_reward))}}class Wa{convert(e){return h(e,ot),{hash:w.encode(e.hash),height:s.encode(e.height),time:Z.encode(e.time),num_transactions:s.encode(e.numTransactions),proposer_id:k.encode(e.proposerID),fee_recipient:k.encode(e.feeRecipient),size:s.encode(e.size),block_reward:Oo.encode(e.blockReward)}}}class ja extends E{constructor(){super(...arguments);o(this,"encoder",new Wa);o(this,"decoder",new qa)}}const be=new ja;class nt{constructor(e){o(this,"blockDetail");this.blockDetail=e}toJSON(){return ct.encode(this)}}class $a{convert(e){return d(e,"block_detail"),new nt(be.decode(e.block_detail))}}class Va{convert(e){return h(e,nt),{block_detail:be.encode(e.blockDetail)}}}class Qa extends E{constructor(){super(...arguments);o(this,"encoder",new Va);o(this,"decoder",new $a)}}const ct=new Qa;class st{constructor(e){o(this,"limit");this.limit=e}static latest(e){return new Mo(e)}static from(e,t){return new Fo(e,t)}toJSON(){return Lo.encode(this)}}class Xa{convert(e){return h(e,st),Xt(e.from)?{from:s.encode(e.from),limit:s.encode(e.limit)}:{from:m.encode(e.from),limit:s.encode(e.limit)}}}class Ka{convert(e){return d(e,"from","limit"),e.from===ie?new Mo(s.decode(e.limit)):new Fo(s.decode(e.from),s.decode(e.limit))}}class Ya extends E{constructor(){super(...arguments);o(this,"encoder",new Xa);o(this,"decoder",new Ka)}}const Lo=new Ya;class Mo extends st{constructor(e){super(e)}get from(){return ie}}class Fo extends st{constructor(t,n){super(n);o(this,"from");this.from=t}}class at{constructor(e,t,n,c,a,i){o(this,"hash");o(this,"height");o(this,"proposerID");o(this,"numTransactions");o(this,"size");o(this,"time");this.hash=e,this.height=t,this.proposerID=n,this.numTransactions=c,this.size=a,this.time=i}toJSON(){return it.encode(this)}}class Za{convert(e){return d(e,"hash","height","proposer_id","num_transactions","size","time"),new at(w.decode(e.hash),s.decode(e.height),k.decode(e.proposer_id),s.decode(e.num_transactions),s.decode(e.size),Z.decode(e.time))}}class ei{convert(e){return h(e,at),{hash:w.encode(e.hash),height:s.encode(e.height),proposer_id:k.encode(e.proposerID),num_transactions:s.encode(e.numTransactions),size:s.encode(e.size),time:Z.encode(e.time)}}}class ri extends E{constructor(){super(...arguments);o(this,"encoder",new ei);o(this,"decoder",new Za)}}const it=new ri,de=new H(new M(it),new F(it));class dt{constructor(e){o(this,"blockSummaries");this.blockSummaries=e}toJSON(){return lt.encode(this)}}class ti{convert(e){return d(e,"block_summaries"),new dt(de.decode(e.block_summaries))}}class oi{convert(e){return h(e,dt),{block_summaries:de.encode(e.blockSummaries)}}}class ni extends E{constructor(){super(...arguments);o(this,"encoder",new oi);o(this,"decoder",new ti)}}const lt=new ni;class ut{constructor(e,t,n){o(this,"rollups");o(this,"transactions");o(this,"blocks");this.rollups=e,this.transactions=t,this.blocks=n}toJSON(){return ht.encode(this)}}class ci{convert(e){return d(e,"rollups","transactions","blocks"),new ut(s.decode(e.rollups),s.decode(e.transactions),s.decode(e.blocks))}}class si{convert(e){return h(e,ut),{rollups:s.encode(e.rollups),transactions:s.encode(e.transactions),blocks:s.encode(e.blocks)}}}class ai extends u{constructor(){super(...arguments);o(this,"encoder",new si);o(this,"decoder",new ci)}}const ht=new ai;function We(r){return r!==null}function ii(r,e){return r.blockHeights-e.blockHeights}class mt{constructor(e,t,n,c){o(this,"blockTime");o(this,"blockSize");o(this,"blockTransactions");o(this,"blockHeights");const a=[],i=c.length;for(let R=0;R<i;R++)a.push({blockTime:e[R],blockSize:t[R],blockTransactions:n[R],blockHeights:c[R]});a.sort(ii);const l=a[0].blockHeights,f=a[i-1].blockHeights,p=[],y=[],g=[],S=[];for(let R=l,B=0;R<=f;R++){const W=a[B];if(W.blockHeights!==R){p.push(null),y.push(null),g.push(null),S.push(null);continue}p.push(W.blockTime),y.push(W.blockSize),g.push(W.blockTransactions),S.push(W.blockHeights),B++}const L=Math.max(0,S.length-50);this.blockTime=p.slice(L),this.blockSize=y.slice(L),this.blockTransactions=g.slice(L),this.blockHeights=S.slice(L)}toJSON(){return pt.encode(this)}}class di{convert(e){return d(e,"block_time","block_size","block_transactions","block_heights"),new mt(I.decode(e.block_time),I.decode(e.block_size),I.decode(e.block_transactions),I.decode(e.block_heights))}}class li{convert(e){return h(e,mt),{block_time:I.encode(e.blockTime.filter(We)),block_size:I.encode(e.blockSize.filter(We)),block_transactions:I.encode(e.blockTransactions.filter(We)),block_heights:I.encode(e.blockHeights.filter(We))}}}class ui extends u{constructor(){super(...arguments);o(this,"encoder",new li);o(this,"decoder",new di)}}const pt=new ui,Ho=I;class je{constructor(e,t,n,c,a,i){o(this,"hash");o(this,"rollups");o(this,"height");o(this,"time");o(this,"offset");o(this,"numTransactions");this.hash=e,this.rollups=t,this.height=n,this.time=c,this.offset=a,this.numTransactions=i}toJSON(){return wt.encode(this)}}class hi{convert(e){return d(e,"hash","rollups","height","time","offset","num_transactions"),new je(w.decode(e.hash),Ho.decode(e.rollups),s.decode(e.height),Z.decode(e.time),s.decode(e.offset),s.decode(e.num_transactions))}}class mi{convert(e){return h(e,je),{hash:w.encode(e.hash),rollups:Ho.encode(e.rollups),height:s.encode(e.height),time:Z.encode(e.time),offset:s.encode(e.offset),num_transactions:s.encode(e.numTransactions)}}}class pi extends u{constructor(){super(...arguments);o(this,"encoder",new mi);o(this,"decoder",new hi)}}const wt=new pi,le=new H(new M(wt),new F(wt));class ft{constructor(e,t,n,c,a){o(this,"latestBlock");o(this,"genesisOverview");o(this,"latestBlocks");o(this,"latestTransactions");o(this,"histograms");this.latestBlock=e,this.genesisOverview=t,this.latestBlocks=n,this.latestTransactions=c,this.histograms=a}toJSON(){return gt.encode(this)}}class wi{convert(e){return d(e,"latest_block","genesis_overview","latest_blocks","latest_transactions","histograms"),new ft(be.decode(e.latest_block),ht.decode(e.genesis_overview),de.decode(e.latest_blocks),le.decode(e.latest_transactions),pt.decode(e.histograms))}}class fi{convert(e){return h(e,ft),{latest_block:be.encode(e.latestBlock),genesis_overview:ht.encode(e.genesisOverview),latest_blocks:de.encode(e.latestBlocks),latest_transactions:le.encode(e.latestTransactions),histograms:pt.encode(e.histograms)}}}class gi extends u{constructor(){super(...arguments);o(this,"encoder",new fi);o(this,"decoder",new wi)}}const gt=new gi;class yt{constructor(e){o(this,"explorerSummary");this.explorerSummary=e}toJSON(){return Ct.encode(this)}}class yi{convert(e){return d(e,"explorer_summary"),new yt(gt.decode(e.explorer_summary))}}class Ci{convert(e){return h(e,yt),{explorer_summary:gt.encode(e.explorerSummary)}}}class vi extends u{constructor(){super(...arguments);o(this,"encoder",new Ci);o(this,"decoder",new yi)}}const Ct=new vi;class zo{constructor(e){o(this,"query");this.query=e}toJSON(){return Go.encode(this)}}class xi{convert(e){return h(e,zo),m.encode(e.query)}}class bi{convert(e){return new zo(m.decode(e))}}class Ei extends E{constructor(){super(...arguments);o(this,"encoder",new xi);o(this,"decoder",new bi)}}const Go=new Ei;class vt{constructor(e,t){o(this,"blocks");o(this,"transactions");this.blocks=e,this.transactions=t}toJSON(){return xt.encode(this)}}class Si{convert(e){return d(e,"blocks","transactions"),new vt(de.decode(e.blocks),le.decode(e.transactions))}}class ki{convert(e){return h(e,vt),{blocks:de.encode(e.blocks),transactions:le.encode(e.transactions)}}}class Ii extends E{constructor(){super(...arguments);o(this,"encoder",new ki);o(this,"decoder",new Si)}}const xt=new Ii;class bt{constructor(e){o(this,"searchResults");this.searchResults=e}toJSON(){return Et.encode(this)}}class Ti{convert(e){return d(e,"search_results"),new bt(xt.decode(e.search_results))}}class Ri{convert(e){return h(e,bt),{search_results:xt.encode(e.searchResults)}}}class Bi extends E{constructor(){super(...arguments);o(this,"encoder",new Ri);o(this,"decoder",new Ti)}}const Et=new Bi;class St{static heightAndOffset(e,t){return new Ee(e,t)}static hash(e){return new Se(e)}toJSON(){return Jo.encode(this)}}class Di{convert(e){if(h(e,St),e instanceof Ee)return{height:s.encode(e.height),offset:s.encode(e.offset)};if(e instanceof Se)return{hash:w.encode(e.hash)};throw new T}}class Ai{convert(e){if(U(e,"height",P)&&U(e,"offset",P))return new Ee(s.decode(e.height),s.decode(e.offset));if(U(e,"hash",P))return new Se(w.decode(e.hash));throw new T}}class _i extends u{constructor(){super(...arguments);o(this,"encoder",new Di);o(this,"decoder",new Ai)}}const Jo=new _i;class Ee extends St{constructor(t,n){super();o(this,"height");o(this,"offset");this.height=t,this.offset=n}}class Se extends St{constructor(t){super();o(this,"hash");this.hash=t}}const qo=s;class kt{constructor(e,t){o(this,"namespace");o(this,"payload");this.namespace=e,this.payload=t}toJSON(){return It.encode(this)}}class Pi{convert(e){return d(e,"namespace","payload"),new kt(qo.decode(e.namespace),go.decode(e.payload))}}class Ni{convert(e){return h(e,kt),{namespace:qo.encode(e.namespace),payload:go.encode(e.payload)}}}class Ui extends u{constructor(){super(...arguments);o(this,"encoder",new Ni);o(this,"decoder",new Pi)}}const It=new Ui,Wo=new H(new M(It),new F(It));class Tt{constructor(e,t,n,c,a,i,l,f,p){o(this,"hash");o(this,"height");o(this,"blockConfirmed");o(this,"offset");o(this,"numTransactions");o(this,"size");o(this,"time");o(this,"sequencingFees");o(this,"feeDetails");this.hash=e,this.height=t,this.blockConfirmed=n,this.offset=c,this.numTransactions=a,this.size=i,this.time=l,this.sequencingFees=f,this.feeDetails=p}toJSON(){return Rt.encode(this)}}class Oi{convert(e){return d(e,"hash","height","block_confirmed","offset","num_transactions","size","time","sequencing_fees","fee_details"),new Tt(w.decode(e.hash),s.decode(e.height),Me.decode(e.block_confirmed),s.decode(e.offset),s.decode(e.num_transactions),s.decode(e.size),Z.decode(e.time),[],[])}}class Li{convert(e){return h(e,Tt),{hash:w.encode(e.hash),height:s.encode(e.height),block_confirmed:Me.encode(e.blockConfirmed),offset:s.encode(e.offset),num_transactions:s.encode(e.numTransactions),size:s.encode(e.size),time:Z.encode(e.time),sequencing_fees:[],fee_details:[]}}}class Mi extends u{constructor(){super(...arguments);o(this,"encoder",new Li);o(this,"decoder",new Oi)}}const Rt=new Mi;class Bt{constructor(e,t){o(this,"details");o(this,"data");this.details=e,this.data=t}toJSON(){return Dt.encode(this)}}class Fi{convert(e){return d(e,"details","data"),new Bt(Rt.decode(e.details),Wo.decode(e.data))}}class Hi{convert(e){return h(e,Bt),{details:Rt.encode(e.details),data:Wo.encode(e.data)}}}class zi extends u{constructor(){super(...arguments);o(this,"encoder",new Hi);o(this,"decoder",new Fi)}}const Dt=new zi;class $e{constructor(e){o(this,"transactionDetail");this.transactionDetail=e}toJSON(){return At.encode(this)}}class Gi{convert(e){return d(e,"transaction_detail"),new $e(Dt.decode(e.transaction_detail))}}class Ji{convert(e){return h(e,$e),{transaction_detail:Dt.encode(e.transactionDetail)}}}class qi extends E{constructor(){super(...arguments);o(this,"encoder",new Ji);o(this,"decoder",new Gi)}}const At=new qi;class Ve{constructor(){}static block(e){return new Qe(e)}static namespace(e){return new Xe(e)}static none(){return new Pt}toJSON(){return _t.encode(this)}}class Wi{convert(e){return U(e,"block",P)?new Qe(s.decode(e.block)):U(e,"namespace",P)?new Xe(s.decode(e.namespace)):new Pt}}class ji{convert(e){if(h(e,Ve),e instanceof Pt)return{};if(e instanceof Qe)return{block:s.encode(e.block)};if(e instanceof Xe)return{namespace:s.encode(e.namespace)};throw new T}}class $i extends E{constructor(){super(...arguments);o(this,"encoder",new ji);o(this,"decoder",new Wi)}}const _t=new $i;class Pt extends Ve{constructor(){super()}convertURL(e){return e}}class Qe extends Ve{constructor(t){super();o(this,"block");this.block=t}convertURL(t){return new URL(`${t.pathname}/block/${this.block}`,t)}}class Xe extends Ve{constructor(t){super();o(this,"namespace");this.namespace=t}convertURL(t){return new URL(`${t.pathname}/namespace/${this.namespace}`,t)}}class Ke{constructor(e){o(this,"limit");this.limit=e}static latest(e){return new Ye(e)}static heightAndOffset(e,t,n){return new Ze(e,t,n)}static hash(e,t){return new er(e,t)}toJSON(){return Nt.encode(this)}}class Vi{convert(e){return d(e,"limit"),U(e,"height",P)&&U(e,"offset",P)?new Ze(s.decode(e.height),s.decode(e.offset),s.decode(e.limit)):U(e,"hash",P)?new er(w.decode(e.hash),s.decode(e.limit)):new Ye(s.decode(e.limit))}}class Qi{convert(e){if(h(e,Ke),e instanceof Ye)return{limit:s.encode(e.limit)};if(e instanceof Ze)return{height:s.encode(e.height),offset:s.encode(e.offset),limit:s.encode(e.limit)};if(e instanceof er)return{hash:w.encode(e.hash),limit:s.encode(e.limit)};throw new T}}class Xi extends E{constructor(){super(...arguments);o(this,"encoder",new Qi);o(this,"decoder",new Vi)}}const Nt=new Xi;class Ye extends Ke{constructor(e){super(e)}convertURL(e){return new URL(`transactions/latest/${this.limit}`,e)}}class Ze extends Ke{constructor(t,n,c){super(c);o(this,"height");o(this,"offset");this.height=t,this.offset=n}convertURL(t){return new URL(`transactions/from/${this.height}/${this.offset}/${this.limit}`,t)}}class er extends Ke{constructor(t,n){super(n);o(this,"hash");this.hash=t}convertURL(t){return new URL(`transactions/hash/${this.hash}/${this.limit}`,t)}}class jo{constructor(e,t){o(this,"target");o(this,"filter");this.target=e,this.filter=t}toJSON(){return $o.encode(this)}}class Ki{convert(e){return d(e,"filter","target"),new jo(Nt.decode(e.target),_t.decode(e.filter))}}class Yi{convert(e){return h(e,jo),{filter:_t.encode(e.filter),target:Nt.encode(e.target)}}}class Zi extends E{constructor(){super(...arguments);o(this,"encoder",new Yi);o(this,"decoder",new Ki)}}const $o=new Zi;class ke{constructor(e){o(this,"transactionSummaries");this.transactionSummaries=e}toJSON(){return Ut.encode(this)}}class ed{convert(e){return d(e,"transaction_summaries"),new ke(le.decode(e.transaction_summaries))}}class rd{convert(e){return h(e,ke),{transaction_summaries:le.encode(e.transactionSummaries)}}}class td extends E{constructor(){super(...arguments);o(this,"encoder",new rd);o(this,"decoder",new ed)}}const Ut=new td;class O{constructor(e,t,n,c){o(this,"namespace");o(this,"name");o(this,"site");o(this,"blockExplorer");this.namespace=e,this.name=t,this.site=n,this.blockExplorer=c}}const od=new O(202374881,"Vienna",new URL("https://vienna.caldera.dev/"),new URL("https://vienna.calderaexplorer.xyz/")),nd=new O(202374882,"OP Stack",new URL("https://stack.optimism.io/"),new URL("https://www.blockscout.com/")),cd=new O(33914988448,"Arbitrum",new URL("https://arbitrum.io/"),new URL("https://arbiscan.io/")),sd=new O(33914988449,"Eigen Layer",new URL("https://www.eigenlayer.xyz/"),new URL("https://www.blockscout.com/")),ad=new O(33914988450,"Spire",new URL("https://www.spire.dev/"),new URL("https://www.blockscout.com/")),id=new O(33914988451,"Alt Layer",new URL("https://altlayer.io/"),new URL("https://www.blockscout.com/")),dd=new O(33914988452,"Caldera",new URL("https://www.caldera.xyz/"),new URL("https://www.blockscout.com/")),ld=new O(33914988453,"Vistara Labs",new URL("https://vistara.dev/"),new URL("https://www.blockscout.com/")),ud=new O(33914988454,"Polygon",new URL("https://polygon.technology/"),new URL("https://www.blockscout.com/")),hd=new O(263,"Milan",new URL("https://milan.caldera.dev/"),new URL("https://milan-devnet.explorer.caldera.xyz/")),md=new O(41234687,"Kyoto",new URL("https://example.com/"),new URL("https://kyoto-explorer.altlayer.io/")),pd=new Map([od,nd,cd,ud,sd,ad,id,dd,ld,hd,md].map(r=>[r.namespace,r])),Vo=["Residential","Mobile","Enterprise","AWS","Azure","GCP"],Qo=["Espresso v1.0","Espresso v1.1","Espresso v1.2","Espresso v1.3","Espresso v1.4"],Xo=["Linux","Unix","Windows","MacOS"],Ko=[["Espresso","https://espressosys.com/"],["BlockDaemon","https://www.blockdaemon.com/"],["Unit 410","https://unit410.com/"],["Nethermind","https://www.nethermind.io/"],["Sub7","https://sub7.xyz/"],["KudasaiJP","https://kudasai.co.jp/"],["Informal Systems","https://informal.systems/"],["P2P","https://p2p.org/"],["LinkPool","https://linkpool.com/"],["ZKV","https://zkvalidator.com/"],["Figment","https://figment.io/"]],rr=2147483648,wd=1103515245,fd=12345;class tr{constructor(e){o(this,"state");this.state=e!==void 0?e:Math.floor(Math.random()*(rr-1))}nextInt(){return this.state=(wd*this.state+fd)%rr,this.state}nextFloat(){return this.nextInt()/(rr-1)}nextRange(e,t){const n=t-e,c=this.nextInt()/rr;return e+Math.floor(c*n)}fillBytes(e){const t=new ArrayBuffer(e),n=new DataView(t);let c=0;for(;c<e-4;c+=4)n.setUint32(c,this.nextRange(0,4294967295));for(let a=c;a<e;a++)n.setUint8(a,this.nextRange(0,256));return t}}const gd=[[["Mexico City",19.4333,-99.1333,"MX"],["Guadalajara",20.6767,-103.3475,"MX"],["Monterrey",25.6667,-100.3,"MX"],["Guatemala City",14.6133,-90.5353,"GT"],["Tijuana",32.525,-117.0333,"MX"],["Ecatepec",19.6097,-99.06,"MX"],["Tegucigalpa",14.1058,-87.2047,"HN"],["León de los Aldama",21.1167,-101.6833,"MX"],["San José",9.9325,-84.08,"CR"],["Panama City",8.9833,-79.5167,"PA"],["Juárez",31.745,-106.485,"MX"],["Comayagüela",14.098,-87.21,"HN"],["Mexicali",32.6633,-115.4678,"MX"],["Nezahualcóyotl",19.4081,-99.0186,"MX"],["Managua",12.1364,-86.2514,"NI"],["Morelia",19.7683,-101.1894,"MX"],["Aguascalientes",21.876,-102.296,"MX"],["Mérida",20.97,-89.62,"MX"],["Saltillo",25.4231,-100.9919,"MX"],["Culiacán",24.8069,-107.3939,"MX"]],[["Havana",23.1367,-82.3589,"CU"],["San Juan",18.3985,-66.061,"PR"],["Santiago",19.4572,-70.6889,"DO"],["Santo Domingo",18.4667,-69.95,"DO"],["Port-au-Prince",18.5333,-72.3333,"HT"],["Santo Domingo Este",18.4855,-69.8734,"DO"],["Kingston",17.9714,-76.7931,"JM"],["Carrefour",18.5344,-72.4094,"HT"],["Santiago de Cuba",20.0217,-75.8294,"CU"],["Pétion-Ville",18.5128,-72.2864,"HT"],["Holguín",20.8869,-76.2592,"CU"],["Gonaïves",19.4456,-72.6883,"HT"],["Camagüey",21.3839,-77.9075,"CU"],["Puerto Plata",19.8,-70.6833,"DO"],["Croix-des-Bouquets",18.5761,-72.2269,"HT"],["Nassau",25.0781,-77.3386,"BS"],["Fort-de-France",14.6,-61.0667,"MQ"],["Higüey",18.6167,-68.7,"DO"],["Santa Clara",22.4069,-79.9649,"CU"],["Bayamo",20.3817,-76.6428,"CU"]],[["Cairo",30.0444,31.2358,"EG"],["Lagos",6.455,3.3841,"NG"],["Kinshasa",-4.3219,15.3119,"CD"],["Luanda",-8.8383,13.2344,"AO"],["Johannesburg",-26.2044,28.0456,"ZA"],["Dar es Salaam",-6.8161,39.2803,"TZ"],["Douala",4.05,9.7,"CM"],["Giza",29.987,31.2118,"EG"],["Abidjan",5.3167,-4.0333,"CI"],["Cape Town",-33.9253,18.4239,"ZA"],["Bamako",12.6392,-8.0028,"ML"],["Abuja",9.0667,7.4833,"NG"],["Ibadan",7.3964,3.9167,"NG"],["Addis Ababa",9.03,38.74,"ET"],["Mbuji-Mayi",-6.15,23.6,"CD"],["Mogadishu",2.0392,45.3419,"SO"],["Lusaka",-15.4167,28.2833,"ZM"],["Antananarivo",-18.91,47.525,"MG"],["Awka",6.2069,7.0678,"NG"],["Bamenda",5.9614,10.1517,"CM"]],[["Tokyo",35.6897,139.6922,"JP"],["Delhi",28.61,77.23,"IN"],["Manila",14.5958,120.9772,"PH"],["Dhaka",23.7639,90.3889,"BD"],["Moscow",55.7558,37.6172,"RU"],["Ho Chi Minh City",10.7756,106.7019,"VN"],["Xi’an",34.2611,108.9422,"CN"],["Dongguan",23.021,113.752,"CN"],["Tongshan",34.204,117.284,"CN"],["Jining",35.4151,116.5871,"CN"],["Cangzhou",38.3047,116.8387,"CN"],["Shaoyang",27.2395,111.4679,"CN"],["Dalian",38.9,121.6,"CN"],["Ankara",39.93,32.85,"TR"],["Zhangzhou",24.513,117.647,"CN"],["Changsha",28.228,112.939,"CN"],["Ürümqi",43.8225,87.6125,"CN"],["Ningbo",29.8603,121.6245,"CN"],["Suihua",46.654,126.969,"CN"],["Deyang",31.127,104.398,"CN"]],[["London",51.5072,-.1275,"GB"],["Madrid",40.4169,-3.7033,"ES"],["Berlin",52.52,13.405,"DE"],["Barcelona",41.3828,2.1769,"ES"],["Athens",37.9842,23.7281,"GR"],["Budapest",47.4925,19.0514,"HU"],["Birmingham",52.48,-1.9025,"GB"],["Stuttgart",48.7775,9.18,"DE"],["Munich",48.1375,11.575,"DE"],["Hamburg",53.55,10,"DE"],["Bucharest",44.4325,26.1039,"RO"],["Vienna",48.2083,16.3725,"AT"],["Stockholm",59.3294,18.0686,"SE"],["Minsk",53.9,27.5667,"BY"],["Warsaw",52.23,21.0111,"PL"],["Valencia",39.47,-.3764,"ES"],["Amsterdam",52.3728,4.8936,"NL"],["Copenhagen",55.6761,12.5683,"DK"],["Porto",41.1621,-8.622,"PT"],["Brussels",50.8467,4.3525,"BE"]],[["New York",40.6943,-73.9249,"US"],["Los Angeles",34.1141,-118.4068,"US"],["Chicago",41.8375,-87.6866,"US"],["Miami",25.784,-80.2101,"US"],["Dallas",32.7935,-96.7667,"US"],["Philadelphia",40.0077,-75.1339,"US"],["Atlanta",33.7628,-84.422,"US"],["Boston",42.3188,-71.0852,"US"],["Phoenix",33.5722,-112.0892,"US"],["Detroit",42.3834,-83.1024,"US"],["Seattle",47.6211,-122.3244,"US"],["San Francisco",37.7558,-122.4449,"US"],["San Diego",32.8313,-117.1222,"US"],["Minneapolis",44.9635,-93.2678,"US"],["Brooklyn",40.6501,-73.9496,"US"],["Vancouver",49.25,-123.1,"CA"],["Riverside",33.9381,-117.3949,"US"],["Baltimore",39.3051,-76.6144,"US"],["Portland",45.5371,-122.65,"US"],["Sacramento",38.5677,-121.4685,"US"]],[["Melbourne",-37.8142,144.9631,"AU"],["Sydney",-33.8678,151.21,"AU"],["Brisbane",-27.4678,153.0281,"AU"],["Perth",-31.9559,115.8606,"AU"],["Auckland",-36.8406,174.74,"NZ"],["Adelaide",-34.9275,138.6,"AU"],["Port Moresby",-9.4789,147.1494,"PG"],["Gold Coast",-28.0167,153.4,"AU"],["Cranbourne",-38.0996,145.2834,"AU"],["Christchurch",-43.531,172.6365,"NZ"],["Manukau City",-37,174.885,"NZ"],["Central Coast",-33.3,151.2,"AU"],["Wollongong",-34.4331,150.8831,"AU"],["Ipswich",-27.6144,152.7608,"AU"],["Wellington",-41.2889,174.7772,"NZ"],["Northcote",-36.8019,174.7494,"NZ"],["Hobart",-42.8806,147.325,"AU"],["Lae",-6.7303,147.0008,"PG"],["Suva",-18.1416,178.4419,"FJ"],["Nouméa",-22.2758,166.458,"NC"]],[["São Paulo",-23.55,-46.6333,"BR"],["Buenos Aires",-34.6033,-58.3817,"AR"],["Rio de Janeiro",-22.9111,-43.2056,"BR"],["Lima",-12.06,-77.0375,"PE"],["Bogotá",4.7111,-74.0722,"CO"],["Santiago",-33.4372,-70.6506,"CL"],["Belo Horizonte",-19.9167,-43.9333,"BR"],["Fortaleza",-3.7275,-38.5275,"BR"],["Santa Cruz de la Sierra",-17.7892,-63.1975,"BO"],["La Paz",-16.4958,-68.1333,"BO"],["Guayaquil",-2.19,-79.8875,"EC"],["Medellín",6.2308,-75.5906,"CO"],["Salvador",-12.9747,-38.4767,"BR"],["Caracas",10.4806,-66.9036,"VE"],["Córdoba",-31.4167,-64.1833,"AR"],["Santos",-23.9369,-46.325,"BR"],["Curitiba",-25.4297,-49.2711,"BR"],["Maracaibo",10.6333,-71.6333,"VE"],["Recife",-8.05,-34.9,"BR"],["Porto Alegre",-30.0331,-51.23,"BR"]]],Yo=[0,0,5,26,28,26,9,6],yd=Yo.reduce((r,e)=>r+e,0),Cd=Yo.reduce((r,e)=>{const t=r[r.length-1]??0;return r.push(t+e),r},[]),vd=Array.from($c(Cd,gd,(r,e)=>[r,e])),or=new Date,Ot=new Date(or.getFullYear(),or.getMonth(),or.getDate()).valueOf();async function*xd(){}function bd(){const r=new Uint8Array(new Array(20).map(()=>0)).buffer;return{hash:new x("BLOCK",r),height:0,time:new Date(0),genTime:0,transactions:xd(),numTransactions:0,proposer:r,size:0,fees:[]}}async function*Ed(r){let e=1,t=Ot;for(;t<or.valueOf();){const n=Math.floor(r.nextFloat()*14*1e3);yield Sd(new tr(e+n),e,t,t+n),t+=n,e++}}async function*_(r=new tr(Ot)){yield bd(),yield*Ed(r)}function Sd(r,e,t,n){const c=Math.floor(r.nextRange(0,5)),a=r.nextRange(0,en.length),i=en[a];return{hash:new x("BLOCK",r.fillBytes(32)),height:e,genTime:n-t,time:new Date(n),numTransactions:c,transactions:Id(new tr(e+t),e,t,n,c),proposer:i.address,size:Math.floor(r.nextFloat()*1024*c)+8,fees:[J.ESP(BigInt(r.nextRange(0,1e9)*1e3))]}}const Zo=Array.from(pd.keys());function kd(r){return r.nextFloat()>.98?1:Zo[r.nextRange(0,Zo.length)]}async function*Id(r,e,t,n,c){const a=(n-t)/c;for(let i=0,l=t;l<n;l+=a,i++){const f=kd(r),p=Math.floor(1024*r.nextFloat());yield{block:e,index:i,size:p,hash:new x("COMMIT",r.fillBytes(32)),time:new Date(l),sender:new x("PUBKEY",r.fillBytes(32)),tree:{namespace:f,data:r.fillBytes(p)}}}}function Td(r){const e=r.nextRange(0,yd),t=Mc(vd,([i])=>i<=e),[,n]=Jc(t),c=r.nextRange(0,n.length);return n[c]}function Rd(r){const e=r.nextRange(0,Ko.length);return Ko[e]}function Bd(r){const e=r.nextRange(0,Xo.length);return Xo[e]}function Dd(r){const e=r.nextRange(0,Qo.length);return Qo[e]}function Ad(r){const e=r.nextRange(0,Vo.length);return Vo[e]}function _d(r){const[e,t]=Rd(r),[,n,c,a]=Td(r),i=Bd(r),l=Dd(r),f=Ad(r);return{pubkey:new x("PUBKEY",r.fillBytes(32)),name:`${e} Node ${a} ${r.nextRange(0,100)}`,address:r.fillBytes(32),company:{name:e,website:t},location:{coords:[n,c],country:a},operatingSystem:i,networkType:f,nodeType:l}}function*Pd(){const r=new tr(Ot),e=r.nextRange(50,150);for(let t=0;t<e;t++)yield _d(r)}const en=Array.from(Pd());async function*Nd(r){for(let e=r.next();!e.done;e=r.next())yield e.value}function Ud(r){return Nd(r[Symbol.iterator]())}async function*Od(r){for(let e=await r.next();!e.done;e=await r.next())yield e.value}async function*Lt(r,e){for(let t=await r.next();!t.done;t=await r.next())e(t.value)&&(yield t.value)}function rn(r,e){return Lt(r[Symbol.asyncIterator](),e)}async function*se(r,e){for(let t=await r.next();!t.done;t=await r.next())yield await e(t.value)}function X(r,e){return se(r[Symbol.asyncIterator](),e)}async function*ee(r,e){for(let t=0;t<e;t++){const n=await r.next();if(n.done)return;yield n.value}}function Mt(r,e){return ee(r[Symbol.asyncIterator](),e)}async function*Ft(r,e){for(let t=await r.next();!t.done&&e(t.value);t=await r.next())yield t.value}function Ht(r,e){return Ft(r[Symbol.asyncIterator](),e)}async function*re(r,e){for(let t=0;t<e;t++)if((await r.next()).done)return;yield*Od(r)}function nr(r,e){return re(r[Symbol.asyncIterator](),e)}async function Ie(r){const e=await r.next();if(e.done)throw new ne;return e.value}async function Ld(r){return Ie(r[Symbol.asyncIterator]())}async function Md(r,e){for(let t=await r.next();!t.done;t=await r.next())if(e(t.value))return t.value}async function Fd(r,e){return Md(r[Symbol.asyncIterator](),e)}async function tn(r){let e;for(let t=await r.next();!t.done;t=await r.next())e=t.value;if(e===void 0)throw new ne;return e}async function Hd(r){return tn(r[Symbol.asyncIterator]())}async function*on(r,e){for(let t=await r.next();!t.done;t=await r.next())yield*e(t.value)}function ue(r,e){return on(r[Symbol.asyncIterator](),e)}async function*zt(r){yield*Wc(r)}async function zd(r,e,t){const n=t;let c=e;for(let a=await n.next();!a.done;a=await n.next())c=r(await c,a.value);return c}async function*cr(r){let e=null;for(let t=await r.next();!t.done;t=await r.next())e=_c(e,t.value);yield*mo(e)}function Te(r){return cr(r[Symbol.asyncIterator]())}function K(r){return zd(async(e,t)=>(e.push(t),e),Promise.resolve([]),r)}async function Gt(r){return K(r[Symbol.asyncIterator]())}function sr(r){return new Dr(r.height,r.time.valueOf()/1e3,0,new Ir(0,"00","00"),[],new Rr(new ArrayBuffer(0)),new x("MERKLE_COMM",new Uint8Array([0,0,0,0]).buffer),new x("MERKLE_COMM",new Uint8Array([0,0,0,0]).buffer),new br(new ArrayBuffer(0),new ArrayBuffer(0),0),new Sr(new ArrayBuffer(0),new ArrayBuffer(0)))}async function Gd(r){return new _r(sr(r),new Ar(await K(X(r.transactions,async e=>new ye(e.tree.namespace,Array.from(new Uint8Array(e.tree.data)))))),new x("BLOCK",new Uint8Array([0,0,0,0]).buffer),r.size,r.numTransactions)}function Jd(r){return new Oe(sr(r),new x("BLOCK",new Uint8Array([0,0,0,0]).buffer),r.size,r.numTransactions,r.proposer)}function qd(r){const e=r.transactions,t=sr(r);return X(e,async n=>new Le(n.hash,t,n.index,new ye(n.tree.namespace,Array.from(new Uint8Array(n.tree.data)))))}async function*Wd(r){const e=sr(r),t=r.transactions;yield*X(t,async n=>new Zr(new ye(n.tree.namespace,Array.from(new Uint8Array(n.tree.data))),new x("BLOCK",new Uint8Array([0,0,0,0]).buffer),new Kr(new x("POS",new Uint8Array([0,0,0,0]).buffer),[new ze(new x("EMPTY",new Uint8Array([0,0,0,0]).buffer),[])]),e.height,new x("COMMIT",n.tree.data.slice(0,32))))}class jd{async getLeafFromHeight(e){const t=await this.getBlockFromHeight(e);return new Gr(new Hr(e,new He(new Fe(new x("EMPTY",new Uint8Array([0,0,0,0]).buffer)),new x("EMPTY",new Uint8Array([0,0,0,0]).buffer),e,null,!1,null),new x("LEAF",new Uint8Array([0,0,0,0]).buffer),t.header,t.payload,[],t.header.timestamp,t.header.fee_info.account),new He(new Fe(new x("EMPTY",new Uint8Array([0,0,0,0]).buffer)),new x("EMPTY",new Uint8Array([0,0,0,0]).buffer),e,null,!1,null))}async getTransactionFromHeightAndOffset(e,t){const n=await Ie(re(_(),e)),c=Wd(n);return await Ld(nr(c,t))}async getBlockSummaries(e,t){const n=re(_(),e),c=ee(n,t-e),a=se(c,async i=>Jd(i));return await K(a)}async getBlockFromHeight(e){const t=re(_(),e),n=await Ie(t);return Gd(n)}async*streamTransactionSummaries(e){const t=Ft(_(),a=>a.height<=e),n=cr(t);yield*ue(n,a=>Te(qd(a)))}async getTransactionSummaryRange(e,t,n){const c=this.streamTransactionSummaries(e),a=re(c,t),i=ee(a,n);return await K(i)}async getTransactionSummaryRangeForRollup(e,t,n,c){const a=this.streamTransactionSummaries(t),i=Lt(a,p=>p.transaction.vm===e),l=re(i,n),f=ee(l,c);return await K(f)}}class Re extends b{constructor(t,n,c){super(c);o(this,"response");o(this,"status");this.status=t,this.response=n}toJSON(){return nn.convert(this)}}class ar{convert(e){return h(e,Re),{...z.convert(e),status:e.status}}}const nn=new ar;class ir extends Re{constructor(e,t,n="bad server response: client error"){super(e,t,n),Object.freeze(this)}toJSON(){return cn.encode(this)}}class $d{convert(e){return d(e,"code","message","status"),C(e,ir.name),new ir(Number(e.status),null,m.decode(e.message))}}class Vd extends ar{}class Qd extends u{constructor(){super(...arguments);o(this,"encoder",new Vd);o(this,"decoder",new $d)}}const cn=new Qd;v(ir.name,cn);class dr extends Re{constructor(e,t,n="bad server response"){super(e,t,n),Object.freeze(this)}toJSON(){return sn.encode(this)}}class Xd{convert(e){return d(e,"code","message","status"),C(e,dr.name),new dr(Number(e.status),null,m.decode(e.message))}}class Kd extends ar{}class Yd extends u{constructor(){super(...arguments);o(this,"encoder",new Kd);o(this,"decoder",new Xd)}}const sn=new Yd;v(dr.name,sn);class lr extends Re{constructor(e,t,n="bad server response: server error"){super(e,t,n),Object.freeze(this)}}class Zd{convert(e){return d(e,"code","message","status"),C(e,lr.name),new lr(Number(e.status),null,m.decode(e.message))}}class el extends ar{}class rl extends u{constructor(){super(...arguments);o(this,"encoder",new el);o(this,"decoder",new Zd)}}const tl=new rl;v(lr.name,tl);class Jt extends b{constructor(e="channel closed"){super(e),Object.freeze(this)}}class ol{convert(e){return d(e,"code","message"),C(e,Jt.name),new Jt(m.decode(e.message))}}class nl extends N{}class cl extends u{constructor(){super(...arguments);o(this,"encoder",new nl);o(this,"decoder",new ol)}}const sl=new cl;v(Jt.name,sl);class qt extends b{constructor(e="completer has already been completed"){super(e),Object.freeze(this)}}class al{convert(e){return d(e,"code","message"),C(e,qt.name),new qt(m.decode(e.message))}}class il extends N{}class dl extends u{constructor(){super(...arguments);o(this,"encoder",new il);o(this,"decoder",new al)}}const ll=new dl;v(qt.name,ll);class Wt extends b{constructor(t,n=`fetch failed: ${String(t)}`){super(n);o(this,"cause");this.cause=t,Object.freeze(this)}}class ul{convert(e){return d(e,"code","message"),C(e,Wt.name),new Wt({},m.decode(e.message))}}class hl extends N{}class ml extends u{constructor(){super(...arguments);o(this,"encoder",new hl);o(this,"decoder",new ul)}}const pl=new ml;v(Wt.name,pl);class ur extends b{constructor(t,n,c=`invalid string value: have "${t}", want "${n}"`){super(c);o(this,"have");o(this,"want");this.have=t,this.want=n,Object.freeze(this)}toJSON(){return an.encode(this)}}class wl{convert(e){return d(e,"code","have","want","message"),C(e,ur.name),new ur(m.decode(e.have),m.decode(e.want),m.decode(e.message))}}class fl{convert(e){return h(e,ur),{...z.convert(e),have:m.encode(e.have),want:m.encode(e.want)}}}class gl extends u{constructor(){super(...arguments);o(this,"encoder",new fl);o(this,"decoder",new wl)}}const an=new gl;v(ur.name,an);class hr extends b{constructor(t,n=`no completer found for request id "${t}"`){super(n);o(this,"requestID");this.requestID=t,Object.freeze(this)}toJSON(){return dn.encode(this)}}class yl{convert(e){return d(e,"code","requestID","message"),C(e,hr.name),new hr(Be.decode(e.requestID),m.decode(e.message))}}class Cl{convert(e){return h(e,hr),{...z.convert(e),requestID:Be.encode(e.requestID)}}}class vl extends u{constructor(){super(...arguments);o(this,"encoder",new Cl);o(this,"decoder",new yl)}}const dn=new vl;v(hr.name,dn);class jt extends b{constructor(e="no url provided"){super(e),Object.freeze(this)}}class xl{convert(e){return d(e,"code","message"),C(e,jt.name),new jt(m.decode(e.message))}}class bl extends N{}class El extends u{constructor(){super(...arguments);o(this,"encoder",new bl);o(this,"decoder",new xl)}}const Sl=new El;v(jt.name,Sl);class mr extends b{constructor(t,n=`Not Found: ${t}`){super(n);o(this,"key");this.key=t,Object.freeze(this)}}class ln{constructor(e){o(this,"codec");this.codec=e}convert(e){return d(e,"code","key"),C(e,mr.name),new mr(this.codec.decode(e.key))}}class un{constructor(e){o(this,"codec");this.codec=e}convert(e){return{...z.convert(e),key:this.codec.encode(e.key)}}}class hn extends u{constructor(t,n){super();o(this,"encoder");o(this,"decoder");this.encoder=t,this.decoder=n}}new hn(new un(m),new ln(m));const kl=new hn(new un(Be),new ln(Be));v(mr.name,kl);class he extends Re{constructor(t,n,c,a="response content type is not application/json"){super(n,c,a);o(this,"haveHeaderType");this.haveHeaderType=t,Object.freeze(this)}static fromResponse(t,n){return new he(t.headers.get("content-type")??"undefined",t.status,t,n)}toJSON(){return mn.encode(this)}}class Il{convert(e){return d(e,"code","status","have","want","message"),C(e,he.name),new he(m.decode(e.code),s.decode(e.status),null,m.decode(e.message))}}class Tl{convert(e){return{...nn.convert(e),have:m.encode(e.haveHeaderType),want:m.encode("application/json")}}}class Rl extends u{constructor(){super(...arguments);o(this,"encoder",new Tl);o(this,"decoder",new Il)}}const mn=new Rl;v(he.name,mn);class $t extends b{constructor(t,n="error in web worker"){super(n);o(this,"error");this.error=t,Object.freeze(this)}toJSON(){return pn.encode(this)}}class Bl{convert(e){return d(e,"code","error","message"),C(e,$t.name),new $t(Ae.decode(e.error),m.decode(e.message))}}class Dl{convert(e){return{...z.convert(e),error:Ae.encode(e.error)}}}class Al extends u{constructor(){super(...arguments);o(this,"encoder",new Dl);o(this,"decoder",new Bl)}}const pn=new Al;v($t.name,pn);var Vt=(r=>(r[r.success=0]="success",r[r.full=1]="full",r[r.failed=2]="failed",r))(Vt||{});class _l{getFromEmpty(){}}class Pl{getFromEmpty(){return null}}class Nl{getFromEmpty(){throw new ne}}const Ul={returnNull:new Pl,returnUndefined:new _l,throwMissingElement:new Nl};class Ol{constructor(e){o(this,"maxSize");D(!Number.isNaN(e),"maxSize must not be NaN"),D(Number.isInteger(e),"maxSize must be an integer"),D(e>0,"maxSize must be greater than 0"),this.maxSize=e}nextIndex(e){return D(e>=0,"index must be greater than or equal to 0"),(e+1)%this.maxSize}}class Ll{constructor(e){o(this,"preComputedSizeMinus1");D(!Number.isNaN(e),"maxSize must not be NaN"),D(Number.isInteger(e),"maxSize must be an integer"),D(e>0,"maxSize must be greater than 0"),D(wn(e),"maxSize must be a power of two"),this.preComputedSizeMinus1=e-1}nextIndex(e){return D(e>=0,"index must be greater than or equal to 0"),e+1&this.preComputedSizeMinus1}}function wn(r){return(r&r-1)===0}class pr extends b{constructor(e="buffer full"){super(e),Object.freeze(this)}}class Ml{convert(e){return d(e,"code","message"),C(e,pr.name),new pr(m.decode(e.message))}}class Fl extends N{}class Hl extends u{constructor(){super(...arguments);o(this,"encoder",new Fl);o(this,"decoder",new Ml)}}const zl=new Hl;v(pr.name,zl);class Gl{putToFull(e,t){return e.get(),e.put(t)}}class Jl{putToFull(){return Vt.full}}class ql{putToFull(){throw new pr}}const Wl={overwriteOldest:new Gl,returnFull:new Jl,throw:new ql};function jl(r){return wn(r)?new Ll(r):new Ol(r)}class $l{constructor(e,t,n){o(this,"readIndex",0);o(this,"writeIndex",0);o(this,"buffer");o(this,"nextIndex");o(this,"getOnEmpty");o(this,"putOnFull");D(!Number.isNaN(e),"maxSize must not be NaN"),this.buffer=new Array(e),this.nextIndex=jl(e),this.getOnEmpty=t,this.putOnFull=n}get maxSize(){return this.buffer.length}get length(){return this.writeIndex<this.readIndex?this.writeIndex+this.maxSize-this.readIndex:this.writeIndex-this.readIndex}put(e){const t=this.nextIndex.nextIndex(this.writeIndex);return t===this.readIndex?this.putOnFull.putToFull(this,e):(this.buffer[this.writeIndex]=e,this.writeIndex=t,Vt.success)}get(){if(this.readIndex===this.writeIndex)return this.getOnEmpty.getFromEmpty(this);const e=this.buffer[this.readIndex];return this.readIndex=this.nextIndex.nextIndex(this.readIndex),e}[Symbol.iterator](){return new Vl(this)}immutableIterable(){return{[Symbol.iterator]:()=>this.immutableIterator()}}immutableIterator(){return new Ql(this.readIndex,this.writeIndex,this.buffer,this.nextIndex)}}class Vl{constructor(e){o(this,"buffer");this.buffer=e}next(){const e=this.buffer.get();return e==null?{value:void 0,done:!0}:{value:e,done:!1}}}class Ql{constructor(e,t,n,c){o(this,"readIndex");o(this,"writeIndex");o(this,"buffer");o(this,"nextIndex");this.readIndex=e,this.writeIndex=t,this.buffer=n,this.nextIndex=c}next(){if(this.readIndex===this.writeIndex)return{value:void 0,done:!0};const e=this.buffer[this.readIndex];return this.readIndex=this.nextIndex.nextIndex(this.readIndex),{value:e,done:!1}}}function Y(r=32,e=Ul.returnUndefined,t=Wl.overwriteOldest){return new $l(r,e,t)}function fn(r){return new ot(r.hash,r.height,r.time,r.numTransactions,r.proposer,r.proposer,r.size,r.fees)}function Qt(r){return new at(r.hash,r.height,r.proposer,r.numTransactions,r.size,r.time)}function gn(r,e){return new Bt(new Tt(e.hash,e.block,!0,e.index,r.numTransactions,e.size,e.time,[],[]),[new kt(e.tree.namespace,e.tree.data)])}function wr(r,e){return new je(e.hash,[e.tree.namespace],e.block,e.time,e.index,r.numTransactions)}class Xl{async getBlockDetail(e){const t=e.target,n=await(t===ie?Hd(_()):Ie(nr(_(),t)));return new nt(fn(n))}async getBlockSummaries(e){const t=Ft(_(),l=>e.from===ie||l.height<=e.from),n=cr(t),c=ee(n,e.limit),a=se(c,async l=>Qt(l)),i=await K(a);return new dt(i)}async getTransactionDetail(e){const t=_();if(e instanceof Ee){const n=Ht(t,l=>l.height<=e.height),c=ue(n,l=>X(l.transactions,async f=>gn(l,f))),a=nr(Te(c),e.offset),i=await Ie(a);return new $e(i)}if(e instanceof Se){const n=ue(t,a=>X(a.transactions,async i=>gn(a,i))),c=await Fd(n,a=>a.details.hash===e.hash);if(!c)throw new mr(e.hash);return new $e(c)}throw new $}applyFilter(e,t){return t instanceof Qe?rn(e,n=>n.height==t.block):t instanceof Xe?rn(e,n=>n.rollups.indexOf(t.namespace)>=0):e}async getTransactionSummaries(e){const t=_(),{target:n,filter:c}=e;if(n instanceof Ye){const i=ue(t,y=>X(y.transactions,async g=>wr(y,g))),l=Te(i),f=this.applyFilter(l,c),p=await Gt(Mt(f,n.limit));return new ke(p)}if(n instanceof Ze){const a=Ht(t,g=>g.height<=n.height),i=ue(a,g=>X(g.transactions,async S=>wr(g,S))),l=Te(i),f=nr(l,n.offset),p=this.applyFilter(f,c),y=await Gt(Mt(p,n.limit));return new ke(y)}if(n instanceof er){const a=_(),i=ue(a,g=>X(g.transactions,async S=>new je(S.hash,[S.tree.namespace],S.block,S.time,S.index,g.numTransactions))),l=Ht(i,g=>g.hash!==n.hash),f=Te(l),p=this.applyFilter(f,c),y=await Gt(Mt(p,n.limit));return new ke(y)}throw new $}async getExplorerOverview(){let e;const t=Y(11),n=Y(51),c=Y(51),a=Y(51),i=Y(51),l=Y(11);let f=0,p=0;const y=new Map;for await(const g of _()){e=fn(g),t.put(Qt(g)),n.put(g.size),c.put(Math.round(g.genTime/1e3)),a.put(g.numTransactions),i.put(g.height),f++,p+=g.numTransactions;for await(const S of g.transactions){l.put(wr(g,S));const L=y.get(S.tree.namespace)||0;y.set(S.tree.namespace,L+1)}}return new yt(new ft(e,new ut(Array.from(y.keys()).length,p,f),Array.from(t),Array.from(l),new mt(Array.from(c),Array.from(n),Array.from(a),Array.from(i))))}async getSearchResult(e){const t=Y(101),n=Y(10),c=Y(10);for await(const a of _())t.put(a);for(const a of t){a.hash.toString().startsWith(e.query)&&n.put(Qt(a));for await(const i of a.transactions)i.hash.toString().startsWith(e.query)&&c.put(wr(a,i))}return new bt(new vt(Array.from(n),Array.from(c)))}}class Kl{async blockHeight(){return(await tn(_())).height}}class Yl{constructor(){o(this,"availability",new jd);o(this,"status",new Kl);o(this,"explorer",new Xl)}}function q(r){return async e=>(Zl(e),eu(e),r.convert(await e.json()))}function Zl(r){if(!r.ok)throw r.status>=500&&r.status<600?new lr(r.status,r):r.status>=400&&r.status<500?new ir(r.status,r):new dr(r.status,r)}function eu(r){const e=r.headers.get("content-type");if(!e||!e.startsWith("application/json"))throw he.fromResponse(r,e||"undefined")}async function ru(r,e){return new Oe(r.header,r.hash,r.size,r.payload.transaction_nmt.length,e.leaf.proposer_id)}async function*tu(r,e){const t=e[Symbol.asyncIterator]();yield*X(Ud(r.leaf.block_payload.transaction_nmt),async n=>{const c=r.leaf.block_payload.transaction_nmt.indexOf(n),a=await t.next();if(a.done)throw new Error("Not enough transactions");return new Le(a.value.hash,r.leaf.block_header,c,n)})}class ou{constructor(e,t){o(this,"fetcher");o(this,"baseURL");this.fetcher=e,this.baseURL=t}getLeafFromHeight(e){const t=new URL(`leaf/${e}`,this.baseURL);return this.fetcher(t.toString()).then(q(Jr.decoder))}getTransactionFromHeightAndOffset(e,t){const n=new URL(`transaction/${e}/${t}`,this.baseURL);return this.fetcher(n.toString()).then(q(et.decoder))}async getBlockSummaries(e,t){const n=zt(t-e),c=se(n,i=>Promise.all([this.getBlockFromHeight(e+i),this.getLeafFromHeight(e+i)])),a=se(c,([i,l])=>ru(i,l));return await K(a)}getBlockFromHeight(e){const t=new URL(`block/${e}`,this.baseURL);return this.fetcher(t.toString()).then(q(Pr.decoder))}async*streamBlocksFromHeightRange(e,t){const n=zt(e),c=se(n,i=>this.getLeafFromHeight(e-i)),a=on(c,i=>cr(tu(i,se(zt(i.leaf.block_payload.transaction_nmt.length),l=>this.getTransactionFromHeightAndOffset(i.leaf.block_header.height,l)))));if(t===void 0){yield*a;return}yield*ee(a,t)}async getTransactionSummaryRange(e,t,n){const c=this.streamBlocksFromHeightRange(e,50),a=re(c,t),i=ee(a,n);return await K(i)}async getTransactionSummaryRangeForRollup(e,t,n,c){const a=this.streamBlocksFromHeightRange(t,50),i=Lt(a,p=>p.transaction.vm===e),l=re(i,n),f=ee(l,c);return await K(f)}}class nu{constructor(e,t){o(this,"fetcher");o(this,"baseURL");this.fetcher=e,this.baseURL=t}async getBlockDetail(e){const t=new URL(`block/${e.target}`,this.baseURL);return this.fetcher(t.toString()).then(q(ct.decoder))}async getBlockSummaries(e){const t=new URL(`blocks/${e.from}/${e.limit}`,this.baseURL);return this.fetcher(t.toString()).then(q(lt.decoder))}async getTransactionDetail(e){let t=null;if(e instanceof Se?t=new URL(`transaction/hash/${e.hash}`,this.baseURL):e instanceof Ee&&(t=new URL(`transaction/${e.height}/${e.offset}`,this.baseURL)),!t)throw new $;return this.fetcher(t.toString()).then(q(At.decoder))}async getTransactionSummaries(e){const{target:t,filter:n}=e;let c=t.convertURL(this.baseURL);return c=n.convertURL(c),this.fetcher(c.toString()).then(q(Ut.decoder))}async getExplorerOverview(){const e=new URL("explorer-summary",this.baseURL);return this.fetcher(e.toString()).then(q(Ct.decoder))}async getSearchResult(e){const t=new URL(`search/${encodeURIComponent(e.query)}`,this.baseURL);return this.fetcher(t.toString()).then(q(Et.decoder))}}class cu{constructor(e,t){o(this,"fetcher");o(this,"baseURL");o(this,"blockHeightURL");o(this,"blockHeightResponseValidator",q(s.decoder));this.fetcher=e,this.baseURL=t,this.blockHeightURL=new URL("block-height",this.baseURL)}blockHeight(){return this.fetcher(this.blockHeightURL).then(this.blockHeightResponseValidator)}}class su{constructor(e,t){o(this,"availability");o(this,"status");o(this,"explorer");this.availability=new ou(e,new URL("availability/",t)),this.status=new cu(e,new URL("status/",t)),this.explorer=new nu(e,new URL("explorer/",t))}}class au{constructor(e){o(this,"service");this.service=e}blockHeight(){return this.service.blockHeight()}async handleRequest(e){switch(e.method){case"blockHeight":return this.blockHeight();default:throw new $}}}class iu{constructor(e){o(this,"service");this.service=e}async getLeafFromHeight(e){return Jr.encode(await this.service.getLeafFromHeight(e))}async getTransactionFromHeightAndOffset(e,t){return et.encode(await this.service.getTransactionFromHeightAndOffset(e,t))}async getBlockFromHeight(e){return Pr.encode(await this.service.getBlockFromHeight(e))}async getBlockSummaries(e,t){return Ds.encode(await this.service.getBlockSummaries(e,t))}async getTransactionSummaryRange(e,t,n){return Eo.encode(await this.service.getTransactionSummaryRange(e,t,n))}async getTransactionSummaryRangeForRollup(e,t,n,c){return Eo.encode(await this.service.getTransactionSummaryRangeForRollup(e,t,n,c))}async handleRequest(e){switch(e.method){case"getLeafFromHeight":return await this.getLeafFromHeight(s.decode(e.param[0]));case"getTransactionFromHeightAndOffset":return await this.getTransactionFromHeightAndOffset(s.decode(e.param[0]),s.decode(e.param[1]));case"getBlockFromHeight":return await this.getBlockFromHeight(s.decode(e.param[0]));case"getBlockSummaries":return await this.getBlockSummaries(s.decode(e.param[0]),s.decode(e.param[1]));case"getTransactionSummaryRange":return await this.getTransactionSummaryRange(s.decode(e.param[0]),s.decode(e.param[1]),s.decode(e.param[2]));case"getTransactionSummaryRangeForRollup":return await this.getTransactionSummaryRangeForRollup(s.decode(e.param[0]),s.decode(e.param[1]),s.decode(e.param[2]),s.decode(e.param[3]));default:throw new $}}}class du{constructor(e){o(this,"service");this.service=e}async getBlockDetail(e){return ct.encode(await this.service.getBlockDetail(e))}async getBlockSummaries(e){return lt.encode(await this.service.getBlockSummaries(e))}async getTransactionDetail(e){return At.encode(await this.service.getTransactionDetail(e))}async getTransactionSummaries(e){return Ut.encode(await this.service.getTransactionSummaries(e))}async getExplorerOverview(){return Ct.encode(await this.service.getExplorerOverview())}async getSearchResult(e){return Et.encode(await this.service.getSearchResult(e))}async handleRequest(e){switch(e.method){case"getBlockDetail":return await this.getBlockDetail(Bo.decode(e.param[0]));case"getBlockSummaries":return await this.getBlockSummaries(Lo.decode(e.param[0]));case"getTransactionDetail":return this.getTransactionDetail(Jo.decode(e.param[0]));case"getTransactionSummaries":return this.getTransactionSummaries($o.decode(e.param[0]));case"getExplorerOverview":return this.getExplorerOverview();case"getSearchResult":return this.getSearchResult(Go.decode(e.param[0]))}}}class lu{constructor(e){o(this,"availability");o(this,"status");o(this,"explorer");this.availability=new iu(e.availability),this.status=new au(e.status),this.explorer=new du(e.explorer)}async handleRequest(e){switch(e.api){case"availability":return this.availability.handleRequest(e);case"status":return this.status.handleRequest(e);case"explorer":return this.explorer.handleRequest(e);default:throw new $}}}async function uu(){try{const e=await(await fetch("/config.json")).json();if(e.hotshot_query_service_url){const t=new URL(e.hotshot_query_service_url);return new su(fetch.bind(self),t)}}catch{}return new Yl}async function hu(){return new lu(await uu())}class mu{constructor(e){o(this,"service");o(this,"postMessage");this.postMessage=e,this.service=hu()}async handleEvent(e){const t=Qn.decode(e.data);try{const c=await(await this.service).handleRequest(t);this.postMessage(to.encode(new Cr(t.requestID,c)))}catch(n){this.postMessage(oo.encode(new vr(t.requestID,n)))}}}self.addEventListener("message",new mu(self.postMessage.bind(self)))})();
