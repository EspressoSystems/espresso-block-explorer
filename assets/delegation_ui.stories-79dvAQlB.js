import{R as s,j as e,r as Zt}from"./iframe-f2wUEmLV.js";import{N as Se,P as ea}from"./NowProvider-DGWfNrty.js";import{E as ta,b as aa}from"./environment_banner-Dr36mHKa.js";import{k as na,l as sa,j as oa,m as ra,n as ia,o as la,p as ca,q as da,i as Ae}from"./controls-Ce9krC9p.js";import{a as pa}from"./storybook-D01yrzJs.js";import{P as ma}from"./CappuccinoHotShotQueryServiceAPIContext-CVntcxNq.js";import{l as u,X as ua,ad as m,f as Ft,i as Lt,j as Wt,ag as q,ah as Ne,C as xa,m as ha,_ as _a,ai as be,F as ke,t as _,aj as ga,ak as Ca,G as ya,T as fa,q as ja,r as va,al as Sa,am as we,J as Mt,an as Na,ao as ba,ap as ka,aq as wa,ar as Ta,as as Pa,at as Ia,au as Ra,av as Aa,aw as Ea,o as Da,n as Va,k as Ma,Y as Bt,W as G,D as E,d as f,L as Ba,ax as Ha}from"./staking_modal_validator_confirmed_content-Tnz_mXCF.js";import{m as x,r as Te,n as Ot,j as h,e as g,q as K,c as Ht,o as Y,s as z}from"./functional-D84nw2eW.js";import{W as Q,R as Ua}from"./staking_modal-B-QGkP4E.js";import{n as Fa,D as La}from"./LoadingProvider-ByZJpGMG.js";import"./AsyncIterableResolver-CsTndENW.js";import{b as Wa}from"./ProvideAsyncStates-JXpZ8V0P.js";import"./TransactionDetailContent-sRC7pJ57.js";import{P as Oa}from"./PromiseResolver-SxS7xBJo.js";import"./DataTable-D5ZeBsxF.js";import{E as qa,L as Ga}from"./stake_table_contract_context-PoJgupZJ.js";import{E as Ka}from"./EspressoLogoAndTitle-DE1B3KU_.js";import{G as bt,n as Pe}from"./en_US-RFN65H63-DTy1nBlP.js";import{T as i}from"./Text-BU7JBOLk.js";import{W as Ya}from"./deserializer-JNx53vsH.js";import{a as S}from"./higher_order-DPELDOyr.js";import{S as Ie}from"./SVGIconBase-fpyNT1Kj.js";import{h as C}from"./array_buffer-DuWTC5ee.js";import"./url-DwwBj-2c.js";import"./string-Bj9RBsFG.js";import{U as kt}from"./UnimplementedError-DRDLdWuq.js";import"./MissingElementError-Dm9GiuiL.js";import"./base64-Dx8wLaZf.js";import{W as za}from"./wallet_address-CpgxLnfk.js";import{T as qt,a as Qa}from"./text-BKRoawYi.js";import{S as Xa}from"./SearchGlass-uxnxQV4S.js";import{M as P}from"./MoneyText-BfVqQ9Nl.js";import{M as I}from"./monetary_value-q68MMcLV.js";import{P as A}from"./VariableByteSizeText-D7GxvIq0.js";import{N as Ja}from"./NumberText-Co9Msrjd.js";import{C as $a}from"./DateTimeFormattersProvider-CK9egGjm.js";import{R as wt,N as Tt,S as Za}from"./staking_modal_content-B7yopRrm.js";import"./blocks-DqaRurhN.js";import{n as $}from"./nodes-sPTSRSIJ.js";import{M as en,a as Ee,S as tn,R as an,V as Pt,D as It,U as X,C as Rt,b as J,c as nn}from"./fake_data-BWRzOXU8.js";import"./preload-helper-PPVm8Dsz.js";import"./typography-BFtRVX_Y.js";import"./espresso-BBxKqQn1.js";import"./explorer-Bds2BYuY.js";import"./assert-BI051aL8.js";import"./TaggedBase64-CL6rcPDn.js";import"./FetchError-ljfnF1aF.js";import"./NotFoundError-B7azoDNK.js";import"./LocaleProvider-Dj_3fs7h.js";import"./PagePathProvider-DMTB2oDq.js";import"./NumberFormattersProvider-D0rBDuOv.js";import"./PathResolverProvider-DHybasnL.js";import"./BlockPage-CE_97oFb.js";import"./ErrorDisplay-DskpuSSU.js";import"./TransactionDetailLoader-C_b0j3IX.js";import"./Footer-D0GiVfc1.js";import"./EspressoLogo-Bfwc2n0e.js";import"./ArrowRight-Dqagg5JO.js";import"./AnchorButton-BkXisiRN.js";import"./Button-Ekn2ZUwY.js";import"./IconAnchorButton-shOrAO2J.js";import"./IconButton-DMZ9J1P4.js";import"./LabeledAnchorButton-6ZoZtIsj.js";import"./LabeledButton-5AIpbX0c.js";import"./Link-DNt4TLim.js";import"./SocialMediaLinks-B87UclP7.js";import"./MediumIcon-bX0XWGVV.js";import"./XIcon-Cqty-oAX.js";import"./Header-cpCnek38.js";import"./NavBar-CWxBBSIU.js";import"./Close-nZRoo8Me.js";import"./Menu-CsNbh3p6.js";import"./Card-BhNRY1Nn.js";import"./Heading1-BPXtlkZ7.js";/* empty css                */import"./LoadingShimmer-CGubZBoN.js";import"./LatestBlockSummary-Dxk18LfM.js";import"./SkeletonContent-CqhLHFcX.js";import"./BlockSizeHistogram-N3p8kQGi.js";import"./label-C9J6_eC3.js";import"./CircularProgressIndicator-DrX2esjz.js";import"./ContainerLoading-DHHYO2Cb.js";import"./SVGToolTip-DVtKHKlZ.js";import"./SVGPathBuilder-4dyJLere.js";import"./AffineTransform-UCCpzMIM.js";import"./ByteSizeText-DjbeH3C1.js";import"./CopyHex-DkQu5fj-.js";import"./CopyButton-zsN0S60c.js";import"./CheckCircleFilled-yzKlL67t.js";import"./Copy-D321I0JD.js";/* empty css               */import"./DateTimeText-jZCy6L4K.js";import"./FullHexText-_vyHn9pV.js";import"./HexText-Ds4usxHH.js";import"./RelativeTimeSinceDateText-tg_Ib5NI.js";import"./TaggedBase64Text-BWB_yix6.js";import"./TimeText-Clv532My.js";import"./Heading2-DFXogWT3.js";import"./Payments-DmJH96s6.js";import"./TwitterIcon-DD5rPkD-.js";import"./ChevronUp-CuNOEU3-.js";import"./SummaryTableLabeledValue-CKdhGE9-.js";import"./SummaryValueLabeled-XzIJvU-q.js";import"./data-Cpeha0UW.js";import"./TableLabeledValue-CBtYp8OG.js";import"./BlockSummaryDataTable-BTkHIyzE.js";import"./block_summary-CBGYsBbN.js";import"./HexDump-6iFEqYlA.js";import"./RollUpSimple-D8T23-7j.js";import"./RollUpsSummaryDataTable-BHKleWsn.js";import"./TransactionSummaryDataTable-DIHWouXc.js";import"./transaction_summary-_-RUzodv.js";import"./BlocksPage-hdyh4RFb.js";import"./NodesSummaryDataTable-oUJ1nx9W.js";import"./sleep-CW-vxfof.js";import"./WorldMapDotsPopulationFullResolution-DP4g3IRO.js";import"./constants-CF89dB7H.js";import"./WorldMapDotsFullResolution-D6nkg5wt.js";import"./validator-CIqZZigT.js";import"./ExplorerPage-mPUAnSW9.js";import"./SearchInput-DWc1T3Bi.js";import"./Container-DHIgdAGX.js";import"./PieChart-C9x1LtPS.js";import"./RollUpPage-B3UCifxs.js";import"./RollUpsPage-DiQwG3J7.js";import"./TransactionPage-DZcsT0Zu.js";import"./TransactionsForBlockPage-njhL5IPU.js";import"./TransactionsPage-DeC2n_0-.js";import"./esp_input-CMKvkhBT.js";import"./nitro_batch_display-Bx0582cn.js";import"./index-ChcI8Gvf.js";import"./index-Cd6Sl8gl.js";const re=s.createContext(new Map),De=({children:t})=>{const a=s.useContext(Q),n=new Map(x(a?.nodes??Te(),o=>[o.nodeText,o]));return e.jsx(re.Provider,{value:n,children:t})};try{re.displayName="CurrentDelegationsContext",re.__docgenInfo={description:`CurrentDelegationsContext provides a React Context
for the current map of validators with whom we are currently delegated.`,displayName:"CurrentDelegationsContext",props:{}}}catch{}try{De.displayName="DeriveCurrentDelegations",De.__docgenInfo={description:`DeriveCurrentDelegations is a React Component that
derives the current mapping of all of the current wallet's delegations.`,displayName:"DeriveCurrentDelegations",props:{}}}catch{}const j=s.createContext(new Map),Ve=({children:t})=>{const a=s.useContext(Q),n=new Map(x(a?.pendingExits??Te(),o=>[o.nodeText,o]));return e.jsx(j.Provider,{value:n,children:t})};try{j.displayName="PendingExitsContext",j.__docgenInfo={description:`PendingExitsContext provides a React Context
for the current map of validators who have exited, and your pending amount`,displayName:"PendingExitsContext",props:{}}}catch{}try{Ve.displayName="DerivePendingExits",Ve.__docgenInfo={description:`DerivePendingExits is a React Component that
derives the current mapping of all of the pending exits for the
current wallet.`,displayName:"DerivePendingExits",props:{}}}catch{}const v=s.createContext(new Map),Me=({children:t})=>{const a=s.useContext(Q),n=new Map(x(a?.pendingUndelegations??Te(),o=>[o.nodeText,o]));return e.jsx(v.Provider,{value:n,children:t})};try{v.displayName="PendingUndelegationsContext",v.__docgenInfo={description:`PendingUndelegationsContext provides a React Context
for the current map of validators with whom we have undelegated already.`,displayName:"PendingUndelegationsContext",props:{}}}catch{}try{Me.displayName="DerivePendingUndelegations",Me.__docgenInfo={description:`DerivePendingUndelegations is a React Component that
derives the current mapping of all of the pending undelegations for the
current wallet.`,displayName:"DerivePendingUndelegations",props:{}}}catch{}const D=s.createContext(0n),Be=({children:t})=>e.jsx(sn,{children:t}),sn=({children:t})=>{const a=s.useContext(u),n=Ot((o,r)=>o+r.stake,0n,a?.nodes??Te());return e.jsx(D.Provider,{value:n,children:t})};try{D.displayName="TotalStakeContext",D.__docgenInfo={description:`TotalStakeContext provides a React Context
for the total stake of all validators.`,displayName:"TotalStakeContext",props:{}}}catch{}try{Be.displayName="DeriveTotalStake",Be.__docgenInfo={description:`DeriveTotalStake is a component that Provides the TotalStakeContext
by calculating the total stake from the AllValidatorsContext.`,displayName:"DeriveTotalStake",props:{}}}catch{}const ie=s.createContext(null),Ut=s.createContext(Wa.nothing()),He=({children:t})=>e.jsx(Ue,{children:t}),Ue=({children:t})=>{s.useContext(ua);const a=s.useContext(qa),n=a?a.totalSupply():Fa;return e.jsx(Oa,{promise:n,children:e.jsx(on,{children:t})})},on=({children:t})=>{const a=s.useContext(La)??null;return e.jsx(ie.Provider,{value:a,children:t})};try{ie.displayName="TotalSupplyContext",ie.__docgenInfo={description:`TotalSupplyContext provides a React Context
for the total supply of the ESP token.`,displayName:"TotalSupplyContext",props:{}}}catch{}try{Ut.displayName="TotalSupplyAsyncSnapshotContext",Ut.__docgenInfo={description:"",displayName:"TotalSupplyAsyncSnapshotContext",props:{}}}catch{}try{He.displayName="ProvideTotalSupply",He.__docgenInfo={description:`ProvideTotalSupply is a React component that fetches
the total supply of the ESP token from the blockchain
and provides it via TotalSupplyContext.`,displayName:"ProvideTotalSupply",props:{}}}catch{}try{Ue.displayName="ProvideTotalSupplyFromContractCall",Ue.__docgenInfo={description:`ProvideTotalSupplyFromAPICall is a React component that fetches
the total supply of the ESP token from the local ESPTokenContract
and provides it via TotalSupplyContext.`,displayName:"ProvideTotalSupplyFromContractCall",props:{}}}catch{}const rn=t=>s.createElement(Ie,{...t,className:S(t.className,"stroked")},e.jsxs(e.Fragment,{children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}));try{logout.displayName="logout",logout.__docgenInfo={description:"LogOut represents a logout icon.",displayName:"logout",props:{}}}catch{}const Fe=t=>s.createElement(Ie,{...t,className:S(t.className,"stroked")},e.jsxs("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-plus",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}));try{plus.displayName="plus",plus.__docgenInfo={description:"Plus represents a plus sign.",displayName:"plus",props:{}}}catch{}const Le=()=>{const t=s.useContext(bt),a=s.useContext(Pe);return a?e.jsxs("span",{children:[e.jsx("span",{className:"wallet-address-preview",children:e.jsx(Ya,{value:new za(C.decode(a))})})," ",e.jsxs(m,{className:"connect-wallet connected-wallet",onClick:t.openAccountModal,children:[e.jsx(i,{text:"Disconnect"}),e.jsx(rn,{})]})]}):e.jsxs(m,{className:"connect-wallet",onClick:t.openConnectModal,children:[e.jsx(Fe,{}),e.jsx(i,{text:"Connect Wallet"})]})};try{Le.displayName="ConnectWalletButton",Le.__docgenInfo={description:`ConnectWalletButton is a button that will open the RainbowKit Wallet Connect
Modal when pressed.`,displayName:"ConnectWalletButton",props:{}}}catch{}const We=t=>e.jsxs("header",{className:"delegation",...t,children:[e.jsx(Ka,{}),e.jsx(Le,{})]});try{We.displayName="DelegationHeader",We.__docgenInfo={description:"DelegationHeader is the header component for the Delegation UI page.",displayName:"DelegationHeader",props:{}}}catch{}function ln(t){const[a,n]=s.useState(t);return[a,n]}const Gt=s.createContext(null),Kt=s.createContext(()=>{}),Yt=s.createContext(null);function Oe(t){const[a,n]=ln(t.selected);return e.jsx(Yt.Provider,{value:a,children:e.jsx(Kt.Provider,{value:o=>{n(o),t.onSelectionChange(o)},children:e.jsx("div",{className:S(t.className,"btn-segmented"),children:t.segments.map((o,r)=>e.jsx(Gt.Provider,{value:o,children:e.jsx(cn,{})},r))})})})}const cn=()=>{const t=s.useContext(Gt),a=s.useContext(Yt),n=s.useContext(Kt);return t?e.jsx(m,{className:"btn-segment","data-selected":t.value===a,onClick:()=>{n(t.value)},children:t.label}):null};try{Oe.displayName="SegmentedButton",Oe.__docgenInfo={description:`SegmentedButton is a button group that allows the user to select one of
multiple segments. Each segment is represented by a button. The selected
segment is highlighted.`,displayName:"SegmentedButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"T"}},onSelectionChange:{defaultValue:null,description:"",name:"onSelectionChange",required:!0,type:{name:"(value: T) => void"}},segments:{defaultValue:null,description:"",name:"segments",required:!0,type:{name:"ButtonSegment<T>[]"}}}}}catch{}const qe=({value:t,disabled:a,onChange:n,...o})=>e.jsx("input",{type:"checkbox",className:"bswitch",checked:t,disabled:a,onChange:r=>{n&&n(r.target.checked)},...o});try{qe.displayName="BaseSwitch",qe.__docgenInfo={description:`BaseSwitch is a simple switch component that represents a boolean value.
It is implemented via a checkbox input element.`,displayName:"BaseSwitch",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((checked: boolean) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}const N=t=>e.jsx("div",{className:"value",children:t.children});try{N.displayName="CardContentValue",N.__docgenInfo={description:"CardContentValue is a container for the main value displayed in a card.",displayName:"CardContentValue",props:{}}}catch{}const Ge=t=>e.jsx("div",{className:S(t.className,"bcard"),children:t.children});try{Ge.displayName="Card",Ge.__docgenInfo={description:"Card component for displaying content in a card layout.",displayName:"Card",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const b=t=>e.jsx(Ge,{className:S(t.className,"card-value"),children:t.children});try{b.displayName="CardValue",b.__docgenInfo={description:"",displayName:"CardValue",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Ke=()=>{const t=s.useContext(Ft);return e.jsxs(b,{className:"estimated-apr-card",children:[e.jsx("h2",{children:e.jsx(i,{text:"Available Balance"})}),e.jsx(N,{children:e.jsx(P,{money:I.ESP(t)})})]})};try{Ke.displayName="AvailableBalanceCard",Ke.__docgenInfo={description:`AvailableBalanceCard is a component that displays the Available Balance of
the active Wallet.`,displayName:"AvailableBalanceCard",props:{}}}catch{}const Ye=()=>{const t=s.useContext(Lt),a=s.useContext(Wt)??0n,n=(t?.lifetimeRewards??a)-a;return e.jsxs(b,{className:"claimable-rewards-card",children:[e.jsx("h2",{children:e.jsx(i,{text:"Claimable Rewards"})}),e.jsx(dn,{}),e.jsx(N,{children:e.jsx(P,{money:I.ESP(n)})})]})},dn=()=>{const t=s.useContext(Lt),a=s.useContext(Wt)??0n,n=(t?.lifetimeRewards??a)-a,o=s.useContext(q),r=s.useContext(Ne);return n<=0n?e.jsx(m,{className:"action",disabled:!0,children:e.jsx(i,{text:"Claim All"})}):e.jsx(m,{className:"action",onClick:()=>{r(new xa),o.open()},children:e.jsx(i,{text:"Claim All"})})};try{Ye.displayName="ClaimableRewardsCard",Ye.__docgenInfo={description:`ClaimableRewardsCard is a component that displays the Claimable Rewards
amount.

This is meant to represent the total amount of ESP that can be claimed as
rewards by the active wallet.`,displayName:"ClaimableRewardsCard",props:{}}}catch{}const ze=()=>{const t=s.useContext(Ft);return e.jsxs(b,{className:"estimated-apr-card",children:[e.jsx("h2",{children:e.jsx(i,{text:"Total Balance"})}),e.jsx(N,{children:e.jsx(P,{money:I.ESP(t)})})]})};try{ze.displayName="TotalBalanceCard",ze.__docgenInfo={description:`TotalBalanceCard is a component that displays the Total Balance of the
active Wallet.

Total Balance is defined as the sum of the Available Balance and the
Staked Balance.

TODO: Should this include the pending Rewards as well?`,displayName:"TotalBalanceCard",props:{}}}catch{}const Qe=()=>{const t=s.useContext(Q);if(!t)return e.jsxs(b,{className:"estimated-apr-card",children:[e.jsx("h2",{children:e.jsx(i,{text:"Total Staked"})}),e.jsx(N,{children:e.jsx(P,{money:I.ESP(0n)})})]});const a=Ot((n,o)=>n+o.amount,0n,t.nodes);return e.jsxs(b,{className:"estimated-apr-card",children:[e.jsx("h2",{children:e.jsx(i,{text:"Total Staked"})}),e.jsx(N,{children:e.jsx(P,{money:I.ESP(a)})})]})};try{Qe.displayName="TotalStakedCard",Qe.__docgenInfo={description:`TotalStakedCard is a component that displays the Total Staked amount.

This is meant to represent the total amount of ESP that has been staked by
the active wallet.`,displayName:"TotalStakedCard",props:{}}}catch{}const Xe=()=>s.useContext(Pe)?e.jsxs("section",{className:"my-balance",children:[e.jsx("h2",{children:e.jsx(i,{text:"My Balance"})}),e.jsxs("div",{className:"my-balance-stats",children:[e.jsx(ze,{}),e.jsx(Ke,{}),e.jsx(Qe,{}),e.jsx(Ye,{})]})]}):null;try{Xe.displayName="MyBalance",Xe.__docgenInfo={description:"",displayName:"MyBalance",props:{}}}catch{}const R=({children:t})=>e.jsx("div",{className:"network-stat-value",children:t});try{R.displayName="NetworkStatValue",R.__docgenInfo={description:"",displayName:"NetworkStatValue",props:{}}}catch{}const Je=()=>{const t=s.useContext(D),a=s.useContext(ie);return e.jsxs(R,{children:[e.jsx("h2",{children:e.jsx(i,{text:"Currently Staked"})}),e.jsx(A,{percentage:Number(t)/Number(a)})]})};try{Je.displayName="CurrentlyStaked",Je.__docgenInfo={description:"",displayName:"CurrentlyStaked",props:{}}}catch{}function pn(t){return t!=null}function mn(t){const a=t<0?-1:1,n=Math.floor(t/1e3),o=Math.floor(n/60);return[Math.floor(o/60),o%60,n%60].map(l=>l*a)}const V=t=>{const a=Zt.useContext($a),[n,o,r]=mn(t.durationInMilliseconds),l=[a.hours.format(n),a.minutes.format(o),a.seconds.format(r)].filter(pn);return e.jsx(i,{text:l.join(" ")})};try{V.displayName="TimeLeftText",V.__docgenInfo={description:`TimeLeftText displays the duration specified in terms of the total number
of hours, minutes, and seconds that comprise the total milliseconds provided.`,displayName:"TimeLeftText",props:{durationInMilliseconds:{defaultValue:null,description:"",name:"durationInMilliseconds",required:!0,type:{name:"number"}}}}}catch{}const $e=()=>{const t=s.useContext(ha);if(t==null)return e.jsxs(R,{children:[e.jsxs("h2",{children:[e.jsx(i,{text:"Epoch"})," ",e.jsx("span",{className:"accent",children:e.jsx(i,{text:"-"})})," ",e.jsx(i,{text:"ends in"})]}),e.jsx(i,{text:"-"})]});const a=t.espressoBlock.epoch,n=t.espressoBlock.block,o=n/a,r=n%o,l=o-r,c=Number(l)*6*1e3;return e.jsxs(R,{children:[e.jsxs("h2",{children:[e.jsx(i,{text:"Epoch"})," ",e.jsx("span",{className:"accent",children:e.jsx(Ja,{number:t?.espressoBlock.epoch??0n})})," ",e.jsx(i,{text:"ends in"})]}),e.jsx(V,{durationInMilliseconds:c})]})};try{$e.displayName="EpochEndsIn",$e.__docgenInfo={description:"",displayName:"EpochEndsIn",props:{}}}catch{}const Ze=()=>e.jsxs(R,{children:[e.jsx("h2",{children:e.jsx(i,{text:"Estimated APR"})}),e.jsx(A,{percentage:.035})]});try{Ze.displayName="EstimatedAPR",Ze.__docgenInfo={description:`EstimatedAPRCard displays the estimated annual percentage rate (APR).
The APR is currently hardcoded to 3.5%.`,displayName:"EstimatedAPR",props:{}}}catch{}const et=()=>e.jsxs("div",{className:"network-stats",children:[e.jsx("h1",{children:e.jsx(i,{text:"ESP Delegation"})}),e.jsxs("div",{className:"network-stats-grid",children:[e.jsx(Je,{}),e.jsx(Ze,{}),e.jsx($e,{})]})]});try{et.displayName="NetworkStats",et.__docgenInfo={description:"NetworkStats component displays key statistics about the chain.",displayName:"NetworkStats",props:{}}}catch{}const zt=t=>s.createElement(Ie,{...t,className:S(t.className,"stroked")},e.jsxs("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-unlock",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"})]}));try{unlock.displayName="unlock",unlock.__docgenInfo={description:"Unlock represents an open Lock.",displayName:"unlock",props:{}}}catch{}var T=(t=>(t[t.collapsed=0]="collapsed",t[t.expanded=1]="expanded",t))(T||{});const M=s.createContext(0),le=s.createContext(()=>{});function un(t=0){const[a,n]=s.useState(t);return[a,n]}const ce=({children:t})=>{const[a,n]=un();return e.jsx(M.Provider,{value:a,children:e.jsx(le.Provider,{value:n,children:t})})};try{M.displayName="CollapseStateContext",M.__docgenInfo={description:`CollapseStateContext provides a React Context that represents the current
collapse state of a UI element.`,displayName:"CollapseStateContext",props:{}}}catch{}try{le.displayName="SetCollapseStateContext",le.__docgenInfo={description:`SetCollapseStateContext provides a React Context that represents the setter
function to update the current collapse state of a UI element.`,displayName:"SetCollapseStateContext",props:{}}}catch{}try{ce.displayName="ProvideCollapseState",ce.__docgenInfo={description:`ProvideCollapseState is a React Component that defines a collapse state,
and provides contexts for reading, and setting it.`,displayName:"ProvideCollapseState",props:{}}}catch{}const de=({children:t,className:a,...n})=>e.jsx("section",{className:S(a,"collapsable-section"),...n,children:e.jsx(ce,{children:t})}),pe=({children:t})=>e.jsxs("div",{className:"collapsable-header",children:[t,e.jsx(hn,{})]});function xn(t){switch(t){case T.collapsed:return T.expanded;case T.expanded:return T.collapsed}}const hn=()=>{const t=s.useContext(M),a=s.useContext(le);return e.jsx(m,{className:"collapse-toggle",onClick:()=>a(xn(t)),children:t?"Collapse":"Expand"})},me=({children:t})=>s.useContext(M)===T.collapsed?null:t;try{de.displayName="CollapsableSection",de.__docgenInfo={description:"",displayName:"CollapsableSection",props:{}}}catch{}try{pe.displayName="CollapsableHeader",pe.__docgenInfo={description:"",displayName:"CollapsableHeader",props:{}}}catch{}try{me.displayName="CollapseGuard",me.__docgenInfo={description:"",displayName:"CollapseGuard",props:{}}}catch{}var p=(t=>(t[t.rank=0]="rank",t[t.validator=1]="validator",t[t.totalStake=2]="totalStake",t[t.fee=3]="fee",t[t.missedSlots=4]="missedSlots",t[t.participationRate=5]="participationRate",t[t.hotShotConsensus=6]="hotShotConsensus",t))(p||{}),tt=(t=>(t[t.asc=0]="asc",t[t.desc=1]="desc",t))(tt||{});const B=s.createContext({sortBy:()=>{}}),at=s.createContext({sortBy:2,sortDirection:1}),nt=()=>{const[t,a]=s.useState({sortBy:2,sortDirection:1});return{tableState:t,tableControls:{sortBy:o=>{a(r=>{if(r.sortBy!==o)return{...r,sortBy:o};switch(r.sortDirection){case 0:return{...r,sortDirection:1};case 1:return{...r,sortDirection:0}}})}}}};function _n(t,a){return t[1]-a[1]}function gn(t,a){return h(t[0].address,a[0].address)}function Cn(t,a){return Number(t[0].commission.valueOf()-a[0].commission.valueOf())}function yn(t,a){const n=t[2]?.leaderParticipation.ratio??-1,o=a[2]?.leaderParticipation.ratio??-1;return n-o}function fn(t,a){const n=t[2]?.voterParticipation.ratio??-1,o=a[2]?.voterParticipation.ratio??-1;return n-o}function jn(t,a){return+!!t[2]-+!!a[2]}function vn(t,a){return Number(t[0].stake-a[0].stake)}function Sn(t){switch(t){case 0:return _n;case 1:return gn;case 2:return vn;case 3:return Cn;case 4:return yn;case 5:return fn;case 6:return jn;default:throw new kt}}function Nn(t){switch(t){case 0:return a=>a;case 1:return a=>(n,o)=>-a(n,o)}}function bn(t,a,n,o){if(!t)return t;const{sortBy:r,sortDirection:l}=a,d=Nn(l)(Sn(r));return new ke(t.l1Block,t.nodes.map(y=>{const w=y.addressText;return[y,n.get(w)??Number.MAX_SAFE_INTEGER,o.get(w)??null]}).sort(d).map(y=>y[0]))}const H=t=>{const{tableState:a,tableControls:n}=nt(),o=s.useContext(u),r=s.useContext(_a),l=s.useContext(be),c=bn(o,a,r,l);return e.jsx(u.Provider,{value:c,children:e.jsx(at.Provider,{value:a,children:e.jsx(B.Provider,{value:n,children:t.children})})})};try{p.displayName="CellType",p.__docgenInfo={description:`CellType enumerates the different types of columns that can be
sorted in the validator table.`,displayName:"CellType",props:{}}}catch{}try{tt.displayName="SortDirection",tt.__docgenInfo={description:"SortDirection enumerates the possible directions for sorting the table.",displayName:"SortDirection",props:{}}}catch{}try{B.displayName="TableSortControlsContext",B.__docgenInfo={description:"",displayName:"TableSortControlsContext",props:{}}}catch{}try{at.displayName="TableSortStateContext",at.__docgenInfo={description:"",displayName:"TableSortStateContext",props:{}}}catch{}try{nt.displayName="useValidatorTableSortState",nt.__docgenInfo={description:`useValidatorTableSortState is a custom hook that manages the sorting state
for the validator table, providing the current state and controls to modify
it.`,displayName:"useValidatorTableSortState",props:{}}}catch{}try{H.displayName="ValidatorTableSortStateProvider",H.__docgenInfo={description:`ValidatorTableSortStateProvider is a context provider that manages
the sorting state for the validator table and provides sorted validator
data to its children.`,displayName:"ValidatorTableSortStateProvider",props:{}}}catch{}const ue=()=>e.jsx(e.Fragment,{});try{ue.displayName="ActionsHeadCell",ue.__docgenInfo={description:`ActionsHeadCell is the header cell for the actions to take in the
validator table.`,displayName:"ActionsHeadCell",props:{}}}catch{}const k=t=>s.createElement(Ie,{...t,viewBox:"0 0 12 12",className:S(t.className,"stroked")},e.jsxs(e.Fragment,{children:[e.jsx("path",{d:"M9.25 7.75049L6 11.0005L2.75 7.75049",strokeWidth:"1.5"}),e.jsx("path",{d:"M9.25 4.25049L6 1.00049L2.75 4.25049",strokeWidth:"1.5"})]}));try{verticalscroll.displayName="verticalscroll",verticalscroll.__docgenInfo={description:"VerticalScroll represents a vertical scroll icon.",displayName:"verticalscroll",props:{}}}catch{}const xe=()=>e.jsxs(e.Fragment,{children:[e.jsx(i,{text:"Commission Rate"})," ",e.jsx(k,{})]});try{xe.displayName="FeeHeadCell",xe.__docgenInfo={description:"FeeHeadCell is the header cell for the Fee column in the validator table.",displayName:"FeeHeadCell",props:{}}}catch{}const he=()=>e.jsxs(e.Fragment,{children:[e.jsx(i,{text:"Consensus"})," ",e.jsx(k,{})]});try{he.displayName="HotShotConsensusHeadCell",he.__docgenInfo={description:`HotShotConsensusHeadCell is the header cell for the HotShot Consensus
column in the validator table.`,displayName:"HotShotConsensusHeadCell",props:{}}}catch{}const _e=()=>e.jsxs(e.Fragment,{children:[e.jsx(i,{text:"Missed Slots"})," ",e.jsx(k,{})]});try{_e.displayName="MissedSlotsHeadCell",_e.__docgenInfo={description:`MissedSlotsHeadCell is the header cell for the Missed Slots column in the
validator table.`,displayName:"MissedSlotsHeadCell",props:{}}}catch{}const ge=()=>e.jsxs(e.Fragment,{children:[e.jsx(i,{text:"Participation"})," ",e.jsx(k,{})]});try{ge.displayName="ParticipationRateHeadCell",ge.__docgenInfo={description:`ParticipationRateHeadCell is the header cell for the Participation Rate
column in the validator table.`,displayName:"ParticipationRateHeadCell",props:{}}}catch{}const Ce=()=>e.jsxs(e.Fragment,{children:[e.jsx(i,{text:"Rank"})," ",e.jsx(k,{})]});try{Ce.displayName="RankHeadCell",Ce.__docgenInfo={description:"RankHeadCell is the header cell for the Rank column in the validator table.",displayName:"RankHeadCell",props:{}}}catch{}const ye=()=>e.jsxs(e.Fragment,{children:[e.jsx(i,{text:"Total Stake"})," ",e.jsx(k,{})]});try{ye.displayName="TotalStakeHeadCell",ye.__docgenInfo={description:`TotalStakeHeadCell is the header cell for the Total Stake column in the
validator table.`,displayName:"TotalStakeHeadCell",props:{}}}catch{}const fe=()=>e.jsxs(e.Fragment,{children:[e.jsx(i,{text:"Validator"})," ",e.jsx(k,{})]});try{fe.displayName="ValidatorHeadCell",fe.__docgenInfo={description:`ValidatorHeadCell is the header cell for the Validator column in the
validator table.`,displayName:"ValidatorHeadCell",props:{}}}catch{}const je=()=>{const{sortBy:t}=s.useContext(B);return e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"sortable",onClick:()=>t(p.rank),children:e.jsx(Ce,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(p.validator),children:e.jsx(fe,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(p.totalStake),children:e.jsx(ye,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(p.fee),children:e.jsx(xe,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(p.missedSlots),children:e.jsx(_e,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(p.participationRate),children:e.jsx(ge,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(p.hotShotConsensus),children:e.jsx(he,{})}),e.jsx("th",{children:e.jsx(ue,{})})]})})};try{je.displayName="ClaimsDelegationTableHeader",je.__docgenInfo={description:`ClaimsDelegationTableHeader is a component that renders
the header row of the delegation table with sortable columns.`,displayName:"ClaimsDelegationTableHeader",props:{}}}catch{}const U=()=>{const t=s.useContext(_);return e.jsx(A,{percentage:t.commission.valueOf()})};try{U.displayName="FeeCell",U.__docgenInfo={description:"FeeCell displays the commission fee of a validator as a percentage.",displayName:"FeeCell",props:{}}}catch{}const F=()=>{const t=s.useContext(_),a=s.useContext(be),n=t.addressText;return a.has(n)?e.jsx(ga,{}):e.jsx(Ca,{})};try{F.displayName="HotShotConsensusCell",F.__docgenInfo={description:`HotShotConsensusCell displays whether a validator is part of the
HotShot consensus set using active/inactive consensus chips.`,displayName:"HotShotConsensusCell",props:{}}}catch{}const L=()=>{const t=s.useContext(_),n=s.useContext(be).get(t.addressText);return n?e.jsx(A,{percentage:1-n.leaderParticipation.ratio}):e.jsx(i,{text:"-"})};try{L.displayName="MissedSlotsCell",L.__docgenInfo={description:"MissedSlotsCell displays the percentage of missed slots for a validator.",displayName:"MissedSlotsCell",props:{}}}catch{}const W=()=>{const t=s.useContext(_),n=s.useContext(be).get(t.addressText);return n?e.jsx(A,{percentage:n.voterParticipation.ratio}):e.jsx(i,{text:"-"})};try{W.displayName="ParticipationRateCell",W.__docgenInfo={description:"ParticipationRateCell displays the voter participation rate for a validator.",displayName:"ParticipationRateCell",props:{}}}catch{}const st=()=>{const t=s.useContext(_),a=s.useContext(q),n=s.useContext(Ne);return e.jsx(m,{className:"action",onClick:()=>{n(new ya(t.address)),a.open()},children:e.jsx(i,{text:"Withdraw"})})};try{st.displayName="PendingClaimActionsCell",st.__docgenInfo={description:"",displayName:"PendingClaimActionsCell",props:{}}}catch{}const O=()=>{const t=s.useContext(D),a=s.useContext(_),n=Number(a.stake)/Number(t);return e.jsxs(e.Fragment,{children:[e.jsx(P,{money:I.ESP(a.stake)})," ",e.jsxs("span",{className:"percentage-text",children:["(",e.jsx(A,{percentage:n}),")"]})]})};try{O.displayName="TotalStakeCell",O.__docgenInfo={description:`TotalStakeCell displays the stake amount for a validator node, along with its
percentage of the total stake.`,displayName:"TotalStakeCell",props:{}}}catch{}const ot=()=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(wt,{})}),e.jsx("td",{children:e.jsx(Tt,{})}),e.jsx("td",{children:e.jsx(O,{})}),e.jsx("td",{children:e.jsx(U,{})}),e.jsx("td",{children:e.jsx(L,{})}),e.jsx("td",{children:e.jsx(W,{})}),e.jsx("td",{children:e.jsx(F,{})}),e.jsx("td",{children:e.jsx(st,{})})]});try{ot.displayName="PendingClaimsNodeValidatorTableRow",ot.__docgenInfo={description:`PendingClaimsNodeValidatorTableRow is a component that represents a single
row in the validator nodes table, displaying various details about the validator.`,displayName:"PendingClaimsNodeValidatorTableRow",props:{}}}catch{}const rt=()=>{const t=s.useContext(u);return t?e.jsxs("table",{className:"all-validators-table pending-claims",children:[e.jsx(je,{}),e.jsx("tbody",{children:t.nodes.map((a,n)=>e.jsx(_.Provider,{value:a,children:e.jsx(ot,{})},n))})]}):e.jsx(e.Fragment,{})};try{rt.displayName="PendingClaimsDelegationTable",rt.__docgenInfo={description:`PendingClaimsDelegationTable is a component that renders
the table of validator nodes in the delegation UI for Pending Claims`,displayName:"PendingClaimsDelegationTable",props:{}}}catch{}const it=()=>e.jsx(kn,{children:e.jsx(ce,{children:e.jsx(Tn,{})})}),kn=({children:t})=>s.useContext(v).size<=0?null:e.jsx(wn,{children:t}),wn=({children:t})=>{const a=s.useContext(Se),n=s.useContext(v);return g(n.values(),r=>r.availableTime<=a).next().done?null:t},Tn=()=>e.jsxs(de,{className:"pending-claims",children:[e.jsx(pe,{children:e.jsxs("h2",{children:[e.jsx(zt,{}),e.jsx(i,{text:"Your recently unstaked your delegation.  You can claim back your delegation now."})]})}),e.jsx(me,{children:e.jsx(In,{})})]});function Pn(t,a){return t?new ke(t.l1Block,Array.from(g(t.nodes,n=>a.has(n.addressText)))):null}const In=()=>{const t=s.useContext(v),a=s.useContext(u);return e.jsx(u.Provider,{value:Pn(a,t),children:e.jsx(H,{children:e.jsx(rt,{})})})};try{it.displayName="PendingClaims",it.__docgenInfo={description:"",displayName:"PendingClaims",props:{}}}catch{}const lt=()=>{const t=s.useContext(_),a=s.useContext(q),n=s.useContext(Ne);return e.jsx(m,{className:"action",onClick:()=>{n(new fa(t.address)),a.open()},children:e.jsx(i,{text:"Withdraw"})})};try{lt.displayName="PendingExitActionsCell",lt.__docgenInfo={description:"",displayName:"PendingExitActionsCell",props:{}}}catch{}const ct=()=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(wt,{})}),e.jsx("td",{children:e.jsx(Tt,{})}),e.jsx("td",{children:e.jsx(O,{})}),e.jsx("td",{children:e.jsx(U,{})}),e.jsx("td",{children:e.jsx(L,{})}),e.jsx("td",{children:e.jsx(W,{})}),e.jsx("td",{children:e.jsx(F,{})}),e.jsx("td",{children:e.jsx(lt,{})})]});try{ct.displayName="PendingExitsNodeValidatorTableRow",ct.__docgenInfo={description:`PendingExitsNodeValidatorTableRow is a component that represents a single
row in the validator nodes table, displaying various details about the validator.`,displayName:"PendingExitsNodeValidatorTableRow",props:{}}}catch{}const dt=()=>{const t=s.useContext(u);return t?e.jsxs("table",{className:"all-validators-table pending-claims",children:[e.jsx(je,{}),e.jsx("tbody",{children:t.nodes.map((a,n)=>e.jsx(_.Provider,{value:a,children:e.jsx(ct,{})},n))})]}):e.jsx(e.Fragment,{})};try{dt.displayName="PendingExitsDelegationTable",dt.__docgenInfo={description:`PendingExitsDelegationTable is a component that renders
the table of validator nodes in the delegation UI for Pending Exits`,displayName:"PendingExitsDelegationTable",props:{}}}catch{}const pt=()=>e.jsx(Rn,{children:e.jsx(En,{})}),Rn=({children:t})=>s.useContext(j).size<=0?null:e.jsx(An,{children:t}),An=({children:t})=>{const a=s.useContext(Se),n=s.useContext(j);return g(n.values(),r=>r.availableTime<=a).next().done?null:t},En=()=>e.jsxs(de,{className:"pending-exits",children:[e.jsx(pe,{children:e.jsxs("h2",{children:[e.jsx(zt,{}),e.jsx(i,{text:"Validators you have delegated to have exited the Staking Table.  You can claim back your delegation now."})]})}),e.jsx(me,{children:e.jsx(Vn,{})})]});function Dn(t,a){return t?new ke(t.l1Block,Array.from(g(t.nodes,n=>a.has(n.addressText)))):null}const Vn=()=>{const t=s.useContext(j),a=s.useContext(u);return e.jsx(u.Provider,{value:Dn(a,t),children:e.jsx(H,{children:e.jsx(dt,{})})})};try{pt.displayName="PendingExits",pt.__docgenInfo={description:"",displayName:"PendingExits",props:{}}}catch{}const mt=t=>e.jsx(ja,{className:"staking-modal",closedby:"none",open:t.open,children:e.jsx(va,{children:e.jsx(Sa,{children:e.jsx(Za,{})})})});try{mt.displayName="StakingModal",mt.__docgenInfo={description:"",displayName:"StakingModal",props:{open:{defaultValue:null,description:"",name:"open",required:!1,type:{name:"boolean"}}}}}catch{}const ut=()=>e.jsx(e.Fragment,{children:e.jsx(i,{text:"Claim In"})});try{ut.displayName="ClaimInHeadCell",ut.__docgenInfo={description:`ClaimInHeadCell is the header cell for the Claim In column in the
validator table.`,displayName:"ClaimInHeadCell",props:{}}}catch{}const ve=()=>{const{sortBy:t}=s.useContext(B);return e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"sortable",onClick:()=>t(p.rank),children:e.jsx(Ce,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(p.validator),children:e.jsx(fe,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(p.totalStake),children:e.jsx(ye,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(p.fee),children:e.jsx(xe,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(p.missedSlots),children:e.jsx(_e,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(p.participationRate),children:e.jsx(ge,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(p.hotShotConsensus),children:e.jsx(he,{})}),e.jsx("th",{children:e.jsx(ut,{})}),e.jsx("th",{children:e.jsx(ue,{})})]})})};try{ve.displayName="DelegationTableHeader",ve.__docgenInfo={description:`DelegationTableHeader is a component that renders
the header row of the delegation table with sortable columns.`,displayName:"DelegationTableHeader",props:{}}}catch{}const xt=()=>e.jsx(we,{className:"consensus-chip inactive",children:e.jsx(i,{text:"Exited"})});try{xt.displayName="ExitedChip",xt.__docgenInfo={description:"",displayName:"ExitedChip",props:{}}}catch{}const ht=()=>e.jsx(we,{className:"consensus-chip inactive",children:e.jsx(i,{text:"Exiting"})});try{ht.displayName="ExitingChip",ht.__docgenInfo={description:"",displayName:"ExitingChip",props:{}}}catch{}const _t=()=>e.jsx(we,{className:"consensus-chip inactive",children:e.jsx(i,{text:"Undelegated"})});try{_t.displayName="UndelegatedChip",_t.__docgenInfo={description:"",displayName:"UndelegatedChip",props:{}}}catch{}const gt=()=>e.jsx(we,{className:"consensus-chip inactive",children:e.jsx(i,{text:"Undelegating"})});try{gt.displayName="UndelegatingChip",gt.__docgenInfo={description:"",displayName:"UndelegatingChip",props:{}}}catch{}const Ct=()=>{const t=s.useContext(_),a=s.useContext(Pe),n=s.useContext(bt),o=s.useContext(Se),r=s.useContext(q),l=s.useContext(j),c=s.useContext(v),d=s.useContext(re),y=s.useContext(Ne);if(!a||n.connectModalOpen)return e.jsx(e.Fragment,{children:e.jsx(m,{className:"action",onClick:n.openConnectModal,children:e.jsx(i,{text:"Delegate"})})});const w=t.addressText,Dt=l.get(w)??null,Vt=c.get(w)??null;return Dt?Dt.availableTime.valueOf()<o.valueOf()?e.jsx(xt,{}):e.jsx(ht,{}):Vt?Vt.availableTime.valueOf()<o.valueOf()?e.jsx(_t,{}):e.jsx(gt,{}):d.has(w)?e.jsx(m,{className:"action",onClick:()=>{y(new Mt(t.address)),r.open()},children:e.jsx(i,{text:"Manage"})}):e.jsx(m,{className:"action",onClick:()=>{y(new Mt(t.address)),r.open()},children:e.jsx(i,{text:"Delegate"})})};try{Ct.displayName="ActionsCell",Ct.__docgenInfo={description:"",displayName:"ActionsCell",props:{}}}catch{}const yt=()=>{const t=s.useContext(_),a=s.useContext(Se),n=s.useContext(j),o=s.useContext(v),r=t.addressText,l=n.get(r)??null,c=o.get(r)??null;if(l){const d=l.availableTime.valueOf()-a.valueOf();return d<=0?e.jsx("span",{className:"claimable",children:e.jsx(i,{text:"Claimable"})}):e.jsx(V,{durationInMilliseconds:d})}if(c){const d=c.availableTime.valueOf()-a.valueOf();return d<=0?e.jsx("span",{className:"claimable",children:e.jsx(i,{text:"Claimable"})}):e.jsx(V,{durationInMilliseconds:d})}return e.jsx(e.Fragment,{children:e.jsx(i,{text:"-"})})};try{yt.displayName="ClaimInCell",yt.__docgenInfo={description:`ClaimInCell displays information related to being able to withdraw claims
from a validator node.`,displayName:"ClaimInCell",props:{}}}catch{}const ft=()=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(wt,{})}),e.jsx("td",{children:e.jsx(Tt,{})}),e.jsx("td",{children:e.jsx(O,{})}),e.jsx("td",{children:e.jsx(U,{})}),e.jsx("td",{children:e.jsx(L,{})}),e.jsx("td",{children:e.jsx(W,{})}),e.jsx("td",{children:e.jsx(F,{})}),e.jsx("td",{children:e.jsx(yt,{})}),e.jsx("td",{children:e.jsx(Ct,{})})]});try{ft.displayName="NodeValidatorTableRow",ft.__docgenInfo={description:`NodeValidatorTableRow is a component that represents a single row
in the validator nodes table, displaying various details about the validator.`,displayName:"NodeValidatorTableRow",props:{}}}catch{}const jt=()=>{const t=s.useContext(u);return t?e.jsxs("table",{className:"all-validators-table",children:[e.jsx(ve,{}),e.jsx("tbody",{children:t.nodes.map((a,n)=>e.jsx(_.Provider,{value:a,children:e.jsx(ft,{})},n))})]}):e.jsx(e.Fragment,{})};try{jt.displayName="DelegationTable",jt.__docgenInfo={description:`DelegationTable is a component that renders
the table of validator nodes in the delegation UI.`,displayName:"DelegationTable",props:{}}}catch{}const Re=s.createContext(0),Qt=s.createContext(()=>{}),Mn=({children:t})=>{const[a,n]=s.useState(0);return e.jsx(Re.Provider,{value:a,children:e.jsx(Qt.Provider,{value:n,children:t})})},At=s.createContext(!1),Xt=s.createContext(()=>{}),Bn=({children:t})=>{const[a,n]=s.useState(!1);return e.jsx(At.Provider,{value:a,children:e.jsx(Xt.Provider,{value:n,children:t})})},Et=s.createContext(new qt("")),Jt=s.createContext(()=>{}),Hn=({children:t})=>{const[a,n]=s.useState(new qt(""));return e.jsx(Et.Provider,{value:a,children:e.jsx(Jt.Provider,{value:n,children:t})})},Un=()=>e.jsxs("table",{className:"all-validators-table",children:[e.jsx(ve,{}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsxs("td",{className:"no-data",colSpan:8,children:[e.jsx(i,{text:"Nothing brewing yet..."}),e.jsx("br",{}),e.jsx("br",{}),e.jsx($t,{})]})})})]}),Fn=()=>{const t=s.useContext(u);return s.useContext(Re)===1&&(t?.nodes.length??0)===0?e.jsx(Un,{}):e.jsx(jt,{})},vt=()=>e.jsx(Mn,{children:e.jsx(Bn,{children:e.jsx(Hn,{children:e.jsxs(Na,{children:[e.jsx(mt,{}),e.jsxs("section",{className:"delegation-ui-content edge-margin",children:[e.jsx(et,{}),e.jsx(Xe,{}),e.jsx(it,{}),e.jsx(pt,{}),e.jsx(Kn,{}),e.jsx(Gn,{children:e.jsxs(H,{children:[e.jsx(Fn,{}),e.jsx("br",{})]})})]})]})})})});function Ln(t,a){return t!==1?()=>!0:n=>a?!!K(a.nodes,o=>h(n.address,o.node)===0):!1}function Wn(t,a){return t?n=>n.stake>=a:()=>!0}function On(t){return t.text.trim()===""?()=>!0:a=>a.addressText.indexOf(t.text.toLowerCase())>=0}function qn(t,a,n,o,r){if(!t)return null;const l=Array.from(x(t.nodes,d=>d.stake)).toSorted(),c=l.length<100?l[0]-1n:l[l.length-100];return new ke(t.l1Block,Array.from(g(g(g(t.nodes,Wn(o,c)),Ln(n,a)),On(r))))}const Gn=({children:t})=>{const a=s.useContext(u),n=s.useContext(Q),o=s.useContext(Re),r=s.useContext(Et),l=s.useContext(At);return e.jsx(u.Provider,{value:qn(a,n,o,l,r),children:t})},Kn=()=>e.jsxs("div",{className:"delegation-ui-table-controls",children:[e.jsxs("div",{children:[e.jsx(Yn,{}),e.jsx(zn,{}),e.jsx(Qn,{})]}),e.jsx($t,{})]}),Yn=()=>{const t=s.useContext(Et),a=s.useContext(Jt);return e.jsxs("div",{className:"search-node-container",children:[e.jsx(Qa,{className:"search-node",value:t,onChange:(n,o)=>a(o),placeholder:"Search Validator"}),e.jsx(Xa,{})]})},zn=()=>{const t=s.useContext(Re),a=s.useContext(Qt);return e.jsx(Oe,{selected:t,onSelectionChange:n=>{a(n)},segments:[{value:0,label:e.jsx(i,{text:"All"})},{value:1,label:e.jsx(i,{text:"My Stakes"})}]})},Qn=()=>{const t=s.useContext(At),a=s.useContext(Xt);return e.jsxs("span",{className:"only-top-100-filter",children:[e.jsx("label",{htmlFor:"show-top-100",children:e.jsx(i,{text:"Only show top 100"})}),e.jsx(qe,{id:"show-top-100",value:t,onChange:a})]})},$t=()=>{const t=s.useContext(Pe),a=s.useContext(bt),n=s.useContext(q);return!t||a.connectModalOpen?e.jsxs(m,{onClick:a.openConnectModal,children:[e.jsx(Fe,{}),e.jsx(i,{text:"Delegate"})]}):e.jsxs(m,{onClick:n.open,children:[e.jsx(Fe,{}),e.jsx(i,{text:"Delegate"})]})};try{vt.displayName="DelegationUIContent",vt.__docgenInfo={description:`DelegationUIContent is the main content area for the Delegation UI page.

It defines the layout and structure of the content that is displayed within
the Delegation UI.

All of the content is displayed within a dedicated element to define the
area for styling purposes, and for content display.`,displayName:"DelegationUIContent",props:{}}}catch{}const Xn=()=>e.jsx(Jn,{children:e.jsxs("main",{className:"delegation-ui",children:[e.jsx(We,{}),e.jsx(vt,{})]})}),Jn=({children:t})=>e.jsx(ba,{children:e.jsx(ka,{children:e.jsx(He,{children:e.jsx(wa,{children:e.jsx(Ta,{children:e.jsx(Pa,{children:e.jsx(Ia,{children:e.jsx(Ra,{children:e.jsx(Aa,{children:e.jsx(Ea,{children:e.jsx(Ua,{children:e.jsx(Be,{children:e.jsx(Da,{children:e.jsx(Va,{children:e.jsx(De,{children:e.jsx(Me,{children:e.jsx(Ve,{children:e.jsx(Ma,{children:t})})})})})})})})})})})})})})})})})});try{delegationui.displayName="delegationui",delegationui.__docgenInfo={description:`DelegationUI is a component that represents the entire Delegation UI
self contained page.`,displayName:"delegationui",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const St=({children:t})=>{const a=s.useContext(Ga),n=s.useContext(Bt);return e.jsx(Bt.Provider,{value:$n(n,a),children:t})};function $n(t,a){if(a instanceof en){const n=new es(t);return a.setTransactionCallback(n.wallet),n}return t}const Nt=new G([],[],[],0n,new Ba(0n,new ArrayBuffer,new Date(0)));class Zn{constructor(a={snapshots:new Map([[Ee,new G(Array.from(x(Ht($,$.length-2),n=>new E(C.decode(Ee),n.address,n.stake/10n))),[],Array.from(x(Ht($,$.length-2),n=>new f(C.decode(Ee),n.address,n.stake/10n,new Date(0)))),0n,Nt.l1Block)]])}){this.state=a}async snapshot(a){const n=C.encode(a);return this.state.snapshots.get(n)??Nt}async updates(){throw new kt}l1Transaction(a){if(a instanceof tn){this.reportStakeTableAction(a);return}if(a instanceof an){this.reportRewardClaimAction(a);return}}reportStakeTableAction(a){this.state=as(this.state,a)}reportRewardClaimAction(a){this.state=xs(this.state,a)}}class es{constructor(a){this.service=a}wallet=new Zn;get l1Block(){return this.service.l1Block}get validatorsAll(){return this.service.validatorsAll}get validatorsActive(){return this.service.validatorsActive}setURL(){throw new kt}}function ts(t){return t instanceof It||t instanceof X||t instanceof Rt||t instanceof J?t.delegator:null}function as(t,a){if(a instanceof Pt)return{snapshots:new Map(x(t.snapshots,r=>us(r,a)))};let n=t.snapshots;const o=ts(a);return o?(t.snapshots.has(o)||(n=Y(t.snapshots,z([o,Nt]))),{snapshots:new Map(x(n,r=>ns(r,a)))}):t}function ns(t,a){const[n,o]=t;return[n,ss(C.decode(n),o,a)]}function ss(t,a,n){return new G(os(t,a.nodes,n),is(t,a.pendingUndelegations,n),cs(t,a.pendingExits,n),ps(t,a.claimedRewards),ms(t,a.l1Block))}function os(t,a,n){if(!(n instanceof It||n instanceof X||n instanceof J))return a;const o=n.validator,r=C.decode(o),l=K(a,d=>h(d.node,r)===0);let c=a;return l||(c=Y(a,z(new E(t,r,0n)))),Array.from(g(x(c,d=>rs(t,r,d,n)),d=>d.amount>0n))}function rs(t,a,n,o){return h(n.delegator,t)!==0||h(n.node,a)!==0?n:o instanceof It?new E(t,a,n.amount+o.value):o instanceof X?new E(t,a,n.amount-o.value):o instanceof J?new E(t,a,0n):n}function is(t,a,n){if(!(n instanceof X||n instanceof Rt))return a;const o=n.validator,r=C.decode(o),l=K(a,d=>h(d.node,r)===0);let c=a;return l||(c=Y(a,z(new f(t,r,0n,new Date(0))))),Array.from(g(x(c,d=>ls(t,r,d,n)),d=>d.amount>0n))}function ls(t,a,n,o){return h(n.delegator,t)!==0||h(n.node,a)!==0?n:o instanceof X?new f(t,a,o.value,new Date(o.ts.valueOf()+Number(o.exitEscrowPeriod))):o instanceof Rt?new f(t,a,0n,new Date(0)):n}function cs(t,a,n){if(!(n instanceof Pt||n instanceof J))return a;let o=a;const r=n.validator,l=C.decode(r);return K(a,c=>h(c.node,l)===0)&&(o=Y(a,z(new f(t,l,0n,new Date(0))))),Array.from(g(x(o,c=>ds(t,l,c,n)),c=>c.amount>0n))}function ds(t,a,n,o){return h(n.delegator,t)!==0||h(n.node,a)!==0?n:o instanceof Pt?new f(t,a,o.value,new Date(Number(o.exitTime))):o instanceof J?new f(t,a,0n,new Date(0)):n}function ps(t,a){return a}function ms(t,a){return a}function us(t,a){const n=a.validator,o=C.decode(n),[r,l]=t,c=C.decode(r),d=K(l.nodes,y=>h(y.node,o)===0);return d?[r,new G(l.nodes,l.pendingUndelegations,Array.from(Y(l.pendingExits,z(new f(c,o,d.amount,new Date(Number(a.exitTime)))))),l.claimedRewards,l.l1Block)]:t}function xs(t,a){return{snapshots:new Map(x(t.snapshots,n=>hs(n,a)))}}function hs(t,a){if(!(a instanceof nn))return t;const[n,o]=t;return n!==a.delegator?t:[n,new G(o.nodes,o.pendingUndelegations,o.pendingExits,o.claimedRewards+a.value,o.l1Block)]}try{St.displayName="L1ValidatorServiceMockInjection",St.__docgenInfo={description:"",displayName:"L1ValidatorServiceMockInjection",props:{}}}catch{}const _s=({environment:t,stakeTableContractAddress:a,espTokenContractAddress:n,hotshotQueryServiceURL:o,nodeValidatorWebSocketURL:r,l1ValidatorServiceURL:l,...c})=>e.jsx(e.Fragment,{children:e.jsxs(pa,{environment:t,stakeTableContractAddress:a,espTokenContractAddress:n,hotshotQueryServiceURL:Ae(o),nodeValidatorWebSocketURL:Ae(r),l1ValidatorServiceURL:Ae(l),children:[e.jsx(aa,{}),e.jsx(ea,{children:e.jsx(ma,{children:e.jsx(Ha,{children:e.jsx(St,{children:e.jsx(Xn,{...c})})})})})]})}),Wr={title:"Sites/Delegation UI/Page",component:_s,parameters:{layout:"fullscreen"},args:{environment:ta.fakeData,stakeTableContractAddress:void 0,espTokenContractAddress:void 0,rewardClaimContractAddress:void 0,hotshotQueryServiceURL:void 0,nodeValidatorWebSocketURL:void 0,l1ValidatorServiceURL:void 0},argTypes:{...sa,...na},globals:{background:"light",parameters:{backgrounds:{default:"light",options:{light:{name:"Light",value:"#f8fafcff"}}}}}},Z={},ee={args:oa},te={args:ra},ae={args:{...ia,l1ValidatorServiceURL:"https://staking.decaf.testnet.espresso.network/v0/"}},ne={args:la},se={args:ca},oe={args:{...da,l1ValidatorServiceURL:"http://localhost:8080/v0/staking/"}};Z.parameters={...Z.parameters,docs:{...Z.parameters?.docs,source:{originalSource:"{}",...Z.parameters?.docs?.source}}};ee.parameters={...ee.parameters,docs:{...ee.parameters?.docs,source:{originalSource:`{
  args: environmentArgsMilkWithContracts
}`,...ee.parameters?.docs?.source}}};te.parameters={...te.parameters,docs:{...te.parameters?.docs,source:{originalSource:`{
  args: environmentArgsWaterWithContracts
}`,...te.parameters?.docs?.source}}};ae.parameters={...ae.parameters,docs:{...ae.parameters?.docs,source:{originalSource:`{
  args: {
    ...environmentArgsDecafWithContracts,
    l1ValidatorServiceURL: 'https://staking.decaf.testnet.espresso.network/v0/'
  }
}`,...ae.parameters?.docs?.source}}};ne.parameters={...ne.parameters,docs:{...ne.parameters?.docs,source:{originalSource:`{
  args: environmentArgsMainnetWithContracts
}`,...ne.parameters?.docs?.source}}};se.parameters={...se.parameters,docs:{...se.parameters?.docs,source:{originalSource:`{
  args: environmentArgsFakeDataWithContracts
}`,...se.parameters?.docs?.source}}};oe.parameters={...oe.parameters,docs:{...oe.parameters?.docs,source:{originalSource:`{
  args: {
    ...environmentArgsLocalDevNetWithContracts,
    l1ValidatorServiceURL: 'http://localhost:8080/v0/staking/'
  }
}`,...oe.parameters?.docs?.source}}};const Or=["Default","Milk","Water","Decaf","Mainnet","FakeData","LocalDevNet"];export{ae as Decaf,Z as Default,se as FakeData,oe as LocalDevNet,ne as Mainnet,ee as Milk,te as Water,Or as __namedExportsOrder,Wr as default};
