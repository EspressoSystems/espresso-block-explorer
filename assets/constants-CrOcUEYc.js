var ge=Object.defineProperty;var Ne=(t,e,o)=>e in t?ge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var n=(t,e,o)=>Ne(t,typeof e!="symbol"?e+"":e,o);import{A as C,k as j,l as J,T as w,a as b,h as fe,I as p,o as be,n as Z,N as _,f as ee,g as te,m as G}from"./string-CcoL8872.js";import{f as ne,g as oe,m as M,i as re,e as pe}from"./functional-BRpe52oq.js";import"./array_buffer-BDyIh9Vn.js";import"./base64-pX9cPfQ1.js";import"./url-D2X_Lhsq.js";import{A as P}from"./AffineTransform-DiV9SxhF.js";class L{}const se=new Map;function I(t,e){se.set(t,e)}function ce(t){const e=se.get(t);if(!e)throw new be(t);return e}class ye{convert(e){return ce(e.type).encode(e)}}class Pe{convert(e){if(b(e,"type","coordinates"),!fe(e.type))throw new p(typeof e.type,"string");return ce(e.type).decode(e)}}class Se extends w{constructor(){super();n(this,"encoder");n(this,"decoder");this.encoder=new ye,this.decoder=new Pe}}const V=new Se,bt=new C(new j(V),new J(V));class y{constructor(e){this.value=e,this.value=e}valueOf(){return Number(this.value)}toString(){return Number(this.value).toString()}}function E(t,e){return t.valueOf()<e.valueOf()}function xe(t,e){return t.valueOf()<=e.valueOf()}function S(t,e){return t.valueOf()>e.valueOf()}function q(t,e){return xe(t,e)?t:e}function K(t,e){return S(t,e)?t:e}class B{constructor(e,o){n(this,"min");n(this,"max");this.min=e,this.max=o}contains(e){return!(E(e.lat,this.min.lat)||S(e.lat,this.max.lat)||E(e.lng,this.min.lng)||S(e.lng,this.max.lng))}}function $(t){const e=t[Symbol.iterator](),o=ne(e),[r,d]=oe(([g,T],N)=>[g.min(N.bbox.min),T.max(N.bbox.max)],[o.bbox.min,o.bbox.max],e);return new B(r,d)}function pt(t){const e=t[Symbol.iterator](),o=ne(e),[r,d]=oe(([g,T],N)=>[g.min(N),T.max(N)],[o,o],e);return new B(r,d)}class u extends y{toString(){return`${Number(this)}Â°`}}class ve{convert(e){return Number(e)}}class Oe{convert(e){if(!Z(e))throw new p(typeof e,"number");return new u(e)}}class Ce extends w{constructor(){super();n(this,"encoder");n(this,"decoder");this.encoder=new ve,this.decoder=new Oe}}const je=new Ce;class i extends y{toString(){return`${String(this.value)} lat`}}class a extends y{toString(){return`${String(this.value)} lng`}}class m extends y{toString(){return`${Number(this)} rad`}}class Je{convert(e){return Number(e)}}class Ge{convert(e){if(!Z(e))throw new p(typeof e,"number");return new m(e)}}class Le extends w{constructor(){super();n(this,"encoder");n(this,"decoder");this.encoder=new Je,this.decoder=new Ge}}const Ie=new Le;class c{constructor(e,o){this.lat=e,this.lng=o,this.lat=e,this.lng=o}min(e){return new c(q(this.lat,e.lat),q(this.lng,e.lng))}max(e){return new c(K(this.lat,e.lat),K(this.lng,e.lng))}toString(){return`${this.lat}, ${this.lng}`}}class De{constructor(e){n(this,"unitCodec");this.unitCodec=e}convert(e){return[this.unitCodec.encode(e.lat.value),this.unitCodec.encode(e.lng.value)]}}class Ae{constructor(e){n(this,"unitCodec");this.unitCodec=e}convert(e){if(!(e instanceof Array))throw new p(typeof e,"Array");if(e.length!==2)throw new TypeError(`Expected array of length 2, got ${e.length}`);const[o,r]=e;return new c(new i(this.unitCodec.decode(o)),new a(this.unitCodec.decode(r)))}}class ie extends w{constructor(o){super();n(this,"encoder");n(this,"decoder");this.encoder=new De(o),this.decoder=new Ae(o)}}const X=new ie(je),Y=new ie(Ie),yt=new _(new ee(X),new te(X));new _(new ee(Y),new te(Y));class Te{convert(e){return[Number(e.lng),Number(e.lat)]}}class Ee{convert(e){if(!(e instanceof Array))throw new p(typeof e,"Array");if(e.length!==2)throw new TypeError(`Expected array of length 2, got ${e.length}`);return new c(new i(new u(e[1])),new a(new u(e[0])))}}class Re extends w{constructor(){super(...arguments);n(this,"encoder",new Te);n(this,"decoder",new Ee)}}const x=new Re,v=new C(new j(x),new J(x)),O=new C(new j(v),new J(v)),Q=new C(new j(O),new J(O)),z="Point";class D extends L{constructor(o){super();n(this,"type",z);n(this,"coordinates");n(this,"bbox");this.coordinates=o,this.bbox=new B(this.coordinates,this.coordinates)}toJSON(){return ae.encode(this)}}class Me{constructor(e){n(this,"codec");this.codec=e}convert(e){return{type:e.type,coordinates:this.codec.encode(e.coordinates)}}}class Be{constructor(e){n(this,"codec");this.codec=e}convert(e){return b(e,"type","coordinates"),G(e,z),new D(this.codec.decode(e.coordinates))}}class $e extends w{constructor(){super(...arguments);n(this,"encoder",new Me(x));n(this,"decoder",new Be(x))}}const ae=new $e;I(z,ae);const k="MultiPoint";class H extends L{constructor(o){super();n(this,"type",k);n(this,"coordinates");n(this,"bbox");this.coordinates=o,this.bbox=$(o)}[Symbol.iterator](){return this.coordinates[Symbol.iterator]()}toJSON(){return de.encode(this)}}class ze{constructor(e){n(this,"codec");this.codec=e}convert(e){return{type:e.type,coordinates:this.codec.encode(e.coordinates.map(o=>o.coordinates))}}}class ke{constructor(e){n(this,"codec");this.codec=e}convert(e){b(e,"type","coordinates"),G(e,k);const o=this.codec.decode(e.coordinates);return new H(o.map(r=>new D(r)))}}class He extends w{constructor(){super(...arguments);n(this,"encoder",new ze(v));n(this,"decoder",new ke(v))}}const de=new He;I(k,de);const W="Polygon";class ue extends L{constructor(o){super();n(this,"type",W);n(this,"coordinates");n(this,"bbox");this.coordinates=o,this.bbox=$(o)}[Symbol.iterator](){return this.coordinates[Symbol.iterator]()}toJSON(){return le.encode(this)}}class We{constructor(e){n(this,"codec");this.codec=e}convert(e){return{type:e.type,coordinates:this.codec.encode(e.coordinates.map(o=>o.coordinates.map(r=>r.coordinates)))}}}class Fe{constructor(e){n(this,"codec");this.codec=e}convert(e){b(e,"type","coordinates"),G(e,W);const o=this.codec.decode(e.coordinates);return new ue(o.map(r=>new H(r.map(d=>new D(d)))))}}class Ve extends w{constructor(){super(...arguments);n(this,"encoder",new We(O));n(this,"decoder",new Fe(O))}}const le=new Ve;I(W,le);const F="MultiPolygon";class qe extends L{constructor(o){super();n(this,"type",F);n(this,"coordinates");n(this,"bbox");this.coordinates=o,this.bbox=$(o)}[Symbol.iterator](){return this.coordinates[Symbol.iterator]()}toJSON(){return me.encode(this)}}class Ke{constructor(e){n(this,"codec");this.codec=e}convert(e){return{type:e.type,coordinates:this.codec.encode(e.coordinates.map(o=>o.coordinates.map(r=>r.coordinates.map(d=>d.coordinates))))}}}class Xe{constructor(e){n(this,"codec");this.codec=e}convert(e){b(e,"type","coordinates"),G(e,F);const o=this.codec.decode(e.coordinates);return new qe(o.map(r=>new ue(r.map(d=>new H(d.map(g=>new D(g)))))))}}class Ye extends w{constructor(){super(...arguments);n(this,"encoder",new Ke(Q));n(this,"decoder",new Xe(Q))}}const me=new Ye;I(F,me);class we{constructor(e,o){this.projection1=e,this.projection2=o,this.projection1=e,this.projection2=o}get minInput(){return this.projection1.minInput}get maxInput(){return this.projection1.maxInput}get minOutput(){return this.projection2.minOutput}get maxOutput(){return this.projection2.maxOutput}project(e){return this.projection2.project(this.projection1.project(e))}inverseProject(e){return this.projection1.inverseProject(this.projection2.inverseProject(e))}}class l extends y{toString(){return`${Number(this)} dp`}}class Qe{constructor(e,o,r,d){n(this,"minInput");n(this,"maxInput");n(this,"minOutput");n(this,"maxOutput");n(this,"horizontalAffine");n(this,"inverseHorizontalAffine");n(this,"verticalAffine");n(this,"inverseVerticalAffine");this.minInput=e,this.maxInput=o,this.minOutput=r,this.maxOutput=d,this.horizontalAffine=new P(Number(e.lat),Number(o.lat),Number(r.lat),Number(d.lat)),this.inverseHorizontalAffine=new P(Number(r.lat),Number(d.lat),Number(e.lat),Number(o.lat)),this.verticalAffine=new P(Number(e.lng),Number(o.lng),Number(r.lng),Number(d.lng)),this.inverseVerticalAffine=new P(Number(r.lng),Number(d.lng),Number(e.lng),Number(o.lng))}project(e){return new c(new i(new l(this.horizontalAffine.transform(Number(e.lat)))),new a(new l(this.verticalAffine.transform(Number(e.lng)))))}inverseProject(e){const o=new m(this.inverseHorizontalAffine.transform(Number(e.lat))),r=new m(this.inverseVerticalAffine.transform(Number(e.lng)));return new c(new i(o),new a(r))}}class Ue{constructor(){n(this,"minInput",new c(new i(new u(-90)),new a(new u(-180))));n(this,"maxInput",new c(new i(new u(90)),new a(new u(180))));n(this,"minOutput",new c(new i(new m(-Math.PI/2)),new a(new m(-Math.PI))));n(this,"maxOutput",new c(new i(new m(Math.PI/2)),new a(new m(Math.PI))))}projectLatitude(e){return new i(this.convertDegreesToRadians(e))}convertDegreesToRadians(e){return new m(Number(e)*(Math.PI/180))}convertRadiansToDegrees(e){return new u(Number(e)*(180/Math.PI))}projectLongitude(e){return new a(this.convertDegreesToRadians(e))}inverseProjectLatitude(e){return new i(this.convertRadiansToDegrees(e))}inverseProjectLongitude(e){return new a(this.convertRadiansToDegrees(e))}project(e){return new c(this.projectLatitude(e.lat),this.projectLongitude(e.lng))}inverseProject(e){return new c(this.inverseProjectLatitude(e.lat),this.inverseProjectLongitude(e.lng))}}const R=new Ue,U=85.05133,s=class s{constructor(){n(this,"minInput",s.min);n(this,"maxInput",s.max);n(this,"minOutput",s.minProjection);n(this,"maxOutput",s.maxProjection)}static projectLongitude(e){return new a(Number(e))}static ensureLatitudeBounds(e){return S(e,s.max.lat)?s.max.lat:E(e,s.min.lat)?s.min.lat:e}static projectLatitude(e){return new i(Math.log(Math.tan(Math.PI/4+Number(this.ensureLatitudeBounds(e))/2)))}static inverseProjectLongitude(e){return new a(new m(Number(e)))}static inverseProjectLatitude(e){return new i(new m(2*Math.atan(Math.exp(Number(e)))-Math.PI/2))}static staticProject(e){return new c(this.projectLatitude(e.lat),this.projectLongitude(e.lng))}project(e){return s.staticProject(e)}static staticInverseProject(e){return new c(this.inverseProjectLatitude(e.lat),this.inverseProjectLongitude(e.lng))}inverseProject(e){return s.staticInverseProject(e)}};n(s,"min",R.project(new c(new i(new u(-U)),new a(new u(-180))))),n(s,"max",R.project(new c(new i(new u(U)),new a(new u(180))))),n(s,"minProjection",s.staticProject(s.min)),n(s,"maxProjection",s.staticProject(s.max));let f=s;const Ze=new f,A=new l(12*7*16),_e=new l(Math.floor(Number(A)*.75)),h=new l(9),Pt=new l(Number(h)/2-1),et=A,tt=A,nt=new Qe(f.minProjection,f.maxProjection,new c(new i(tt),new a(new l(0))),new c(new i(new l(0)),new a(et))),ot=new we(Ze,nt),St=new we(R,ot),rt=A,st=_e,he=new l(Math.floor(Number(h)/2)),ct=Math.floor(Number(rt)/Number(h)),it=Math.floor(Number(st)/Number(h)),at=Array.from(M(re(it),t=>new i(new l(t*Number(h)+Number(he))))),dt=Array.from(M(re(ct),t=>new a(new l(t*Number(h)+Number(he))))),ut=Array.from(pe(dt,t=>M(at,e=>new c(e,t))));Math.ceil(ut.length/8);export{we as C,l as D,qe as G,c as L,f as M,_e as a,Ze as b,Qe as c,R as d,i as e,a as f,V as g,St as h,ut as i,Pt as j,h as k,ct as l,A as m,it as n,pt as o,u as p,bt as q,I as r,L as s,$ as t,v as u,O as v,yt as w};
