var B=Object.defineProperty;var k=(e,t,n)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var u=(e,t,n)=>(k(e,typeof t!="symbol"?t+"":t,n),n);import{s as v}from"./sleep-CW-vxfof.js";import{z as N,c as U,l as R,M as C,i as D}from"./functional-C-MJgtC4.js";import{M as T}from"./monetary_value-DdH0GKvL.js";import{c as P}from"./data-BqGnzjPf.js";import{T as l}from"./TaggedBase64-MUE_Sjuq.js";class E{constructor(t,n){u(this,"value");u(this,"next");this.value=t,this.next=n}[Symbol.iterator](){return M(this)}}function L(e,t){return new E(t,e)}function*M(e){if(e!==null)for(let t=e;t!==null;t=t.next)yield t.value}const g=["Residential","Mobile","Enterprise","AWS","Azure","GCP"],A=["Espresso v1.0","Espresso v1.1","Espresso v1.2","Espresso v1.3","Espresso v1.4"],S=["Linux","Unix","Windows","MacOS"],G=["Espresso","https://espressosys.com/"],z=["BlockDaemon","https://www.blockdaemon.com/"],O=["Unit 410","https://unit410.com/"],H=["Nethermind","https://www.nethermind.io/"],X=["Sub7","https://sub7.xyz/"],F=["KudasaiJP","https://kudasai.co.jp/"],W=["Informal Systems","https://informal.systems/"],Z=["P2P","https://p2p.org/"],J=["LinkPool","https://linkpool.com/"],V=["ZKV","https://zkvalidator.com/"],K=["Figment","https://figment.io/"],p=[G,z,O,H,X,F,W,Z,J,V,K],y=2147483648,j=1103515245,Y=12345;class c{constructor(t){u(this,"state");this.state=t!==void 0?t:Math.floor(Math.random()*(y-1))}nextInt(){return this.state=(j*this.state+Y)%y,this.state}nextFloat(){return this.nextInt()/(y-1)}nextRange(t,n){const a=n-t,o=this.nextInt()/y;return t+Math.floor(o*a)}fillBytes(t){const n=new ArrayBuffer(t),a=new DataView(n);let o=0;for(;o<t-4;o+=4)a.setUint32(o,this.nextRange(0,4294967295));for(let s=o;s<t;s++)a.setUint8(s,this.nextRange(0,256));return n}}const q=[["Cairo",30.0444,31.2358,"EG"],["Lagos",6.455,3.3841,"NG"],["Kinshasa",-4.3219,15.3119,"CD"],["Luanda",-8.8383,13.2344,"AO"],["Johannesburg",-26.2044,28.0456,"ZA"],["Dar es Salaam",-6.8161,39.2803,"TZ"],["Douala",4.05,9.7,"CM"],["Giza",29.987,31.2118,"EG"],["Abidjan",5.3167,-4.0333,"CI"],["Cape Town",-33.9253,18.4239,"ZA"],["Bamako",12.6392,-8.0028,"ML"],["Abuja",9.0667,7.4833,"NG"],["Ibadan",7.3964,3.9167,"NG"],["Addis Ababa",9.03,38.74,"ET"],["Mbuji-Mayi",-6.15,23.6,"CD"],["Mogadishu",2.0392,45.3419,"SO"],["Lusaka",-15.4167,28.2833,"ZM"],["Antananarivo",-18.91,47.525,"MG"],["Awka",6.2069,7.0678,"NG"],["Bamenda",5.9614,10.1517,"CM"]],$=[["Tokyo",35.6897,139.6922,"JP"],["Delhi",28.61,77.23,"IN"],["Manila",14.5958,120.9772,"PH"],["Dhaka",23.7639,90.3889,"BD"],["Moscow",55.7558,37.6172,"RU"],["Ho Chi Minh City",10.7756,106.7019,"VN"],["Xi’an",34.2611,108.9422,"CN"],["Dongguan",23.021,113.752,"CN"],["Tongshan",34.204,117.284,"CN"],["Jining",35.4151,116.5871,"CN"],["Cangzhou",38.3047,116.8387,"CN"],["Shaoyang",27.2395,111.4679,"CN"],["Dalian",38.9,121.6,"CN"],["Ankara",39.93,32.85,"TR"],["Zhangzhou",24.513,117.647,"CN"],["Changsha",28.228,112.939,"CN"],["Ürümqi",43.8225,87.6125,"CN"],["Ningbo",29.8603,121.6245,"CN"],["Suihua",46.654,126.969,"CN"],["Deyang",31.127,104.398,"CN"]],Q=[["Mexico City",19.4333,-99.1333,"MX"],["Guadalajara",20.6767,-103.3475,"MX"],["Monterrey",25.6667,-100.3,"MX"],["Guatemala City",14.6133,-90.5353,"GT"],["Tijuana",32.525,-117.0333,"MX"],["Ecatepec",19.6097,-99.06,"MX"],["Tegucigalpa",14.1058,-87.2047,"HN"],["León de los Aldama",21.1167,-101.6833,"MX"],["San José",9.9325,-84.08,"CR"],["Panama City",8.9833,-79.5167,"PA"],["Juárez",31.745,-106.485,"MX"],["Comayagüela",14.098,-87.21,"HN"],["Mexicali",32.6633,-115.4678,"MX"],["Nezahualcóyotl",19.4081,-99.0186,"MX"],["Managua",12.1364,-86.2514,"NI"],["Morelia",19.7683,-101.1894,"MX"],["Aguascalientes",21.876,-102.296,"MX"],["Mérida",20.97,-89.62,"MX"],["Saltillo",25.4231,-100.9919,"MX"],["Culiacán",24.8069,-107.3939,"MX"]],_=[["London",51.5072,-.1275,"GB"],["Madrid",40.4169,-3.7033,"ES"],["Berlin",52.52,13.405,"DE"],["Barcelona",41.3828,2.1769,"ES"],["Athens",37.9842,23.7281,"GR"],["Budapest",47.4925,19.0514,"HU"],["Birmingham",52.48,-1.9025,"GB"],["Stuttgart",48.7775,9.18,"DE"],["Munich",48.1375,11.575,"DE"],["Hamburg",53.55,10,"DE"],["Bucharest",44.4325,26.1039,"RO"],["Vienna",48.2083,16.3725,"AT"],["Stockholm",59.3294,18.0686,"SE"],["Minsk",53.9,27.5667,"BY"],["Warsaw",52.23,21.0111,"PL"],["Valencia",39.47,-.3764,"ES"],["Amsterdam",52.3728,4.8936,"NL"],["Copenhagen",55.6761,12.5683,"DK"],["Porto",41.1621,-8.622,"PT"],["Brussels",50.8467,4.3525,"BE"]],ee=[["New York",40.6943,-73.9249,"US"],["Los Angeles",34.1141,-118.4068,"US"],["Chicago",41.8375,-87.6866,"US"],["Miami",25.784,-80.2101,"US"],["Dallas",32.7935,-96.7667,"US"],["Philadelphia",40.0077,-75.1339,"US"],["Atlanta",33.7628,-84.422,"US"],["Boston",42.3188,-71.0852,"US"],["Phoenix",33.5722,-112.0892,"US"],["Detroit",42.3834,-83.1024,"US"],["Seattle",47.6211,-122.3244,"US"],["San Francisco",37.7558,-122.4449,"US"],["San Diego",32.8313,-117.1222,"US"],["Minneapolis",44.9635,-93.2678,"US"],["Brooklyn",40.6501,-73.9496,"US"],["Vancouver",49.25,-123.1,"CA"],["Riverside",33.9381,-117.3949,"US"],["Baltimore",39.3051,-76.6144,"US"],["Portland",45.5371,-122.65,"US"],["Sacramento",38.5677,-121.4685,"US"]],te=[["Melbourne",-37.8142,144.9631,"AU"],["Sydney",-33.8678,151.21,"AU"],["Brisbane",-27.4678,153.0281,"AU"],["Perth",-31.9559,115.8606,"AU"],["Auckland",-36.8406,174.74,"NZ"],["Adelaide",-34.9275,138.6,"AU"],["Port Moresby",-9.4789,147.1494,"PG"],["Gold Coast",-28.0167,153.4,"AU"],["Cranbourne",-38.0996,145.2834,"AU"],["Christchurch",-43.531,172.6365,"NZ"],["Manukau City",-37,174.885,"NZ"],["Central Coast",-33.3,151.2,"AU"],["Wollongong",-34.4331,150.8831,"AU"],["Ipswich",-27.6144,152.7608,"AU"],["Wellington",-41.2889,174.7772,"NZ"],["Northcote",-36.8019,174.7494,"NZ"],["Hobart",-42.8806,147.325,"AU"],["Lae",-6.7303,147.0008,"PG"],["Suva",-18.1416,178.4419,"FJ"],["Nouméa",-22.2758,166.458,"NC"]],ne=[["São Paulo",-23.55,-46.6333,"BR"],["Buenos Aires",-34.6033,-58.3817,"AR"],["Rio de Janeiro",-22.9111,-43.2056,"BR"],["Lima",-12.06,-77.0375,"PE"],["Bogotá",4.7111,-74.0722,"CO"],["Santiago",-33.4372,-70.6506,"CL"],["Belo Horizonte",-19.9167,-43.9333,"BR"],["Fortaleza",-3.7275,-38.5275,"BR"],["Santa Cruz de la Sierra",-17.7892,-63.1975,"BO"],["La Paz",-16.4958,-68.1333,"BO"],["Guayaquil",-2.19,-79.8875,"EC"],["Medellín",6.2308,-75.5906,"CO"],["Salvador",-12.9747,-38.4767,"BR"],["Caracas",10.4806,-66.9036,"VE"],["Córdoba",-31.4167,-64.1833,"AR"],["Santos",-23.9369,-46.325,"BR"],["Curitiba",-25.4297,-49.2711,"BR"],["Maracaibo",10.6333,-71.6333,"VE"],["Recife",-8.05,-34.9,"BR"],["Porto Alegre",-30.0331,-51.23,"BR"]],ae=[["Havana",23.1367,-82.3589,"CU"],["San Juan",18.3985,-66.061,"PR"],["Santiago",19.4572,-70.6889,"DO"],["Santo Domingo",18.4667,-69.95,"DO"],["Port-au-Prince",18.5333,-72.3333,"HT"],["Santo Domingo Este",18.4855,-69.8734,"DO"],["Kingston",17.9714,-76.7931,"JM"],["Carrefour",18.5344,-72.4094,"HT"],["Santiago de Cuba",20.0217,-75.8294,"CU"],["Pétion-Ville",18.5128,-72.2864,"HT"],["Holguín",20.8869,-76.2592,"CU"],["Gonaïves",19.4456,-72.6883,"HT"],["Camagüey",21.3839,-77.9075,"CU"],["Puerto Plata",19.8,-70.6833,"DO"],["Croix-des-Bouquets",18.5761,-72.2269,"HT"],["Nassau",25.0781,-77.3386,"BS"],["Fort-de-France",14.6,-61.0667,"MQ"],["Higüey",18.6167,-68.7,"DO"],["Santa Clara",22.4069,-79.9649,"CU"],["Bayamo",20.3817,-76.6428,"CU"]],oe=[Q,ae,q,$,_,ee,te,ne],b=[0,0,5,26,28,26,9,6],se=b.reduce((e,t)=>e+t,0),re=b.reduce((e,t)=>{const n=e[e.length-1]??0;return e.push(n+t),e},[]),ie=Array.from(N(re,oe,(e,t)=>[e,t])),d=new Date,le=new Date(d.getFullYear(),d.getMonth(),d.getDate()).valueOf(),f=le;function Xe(){return f}async function*ce(){}function ue(){const e=new Uint8Array(new Array(20).map(()=>0)).buffer;return{hash:new l("BLOCK",e),height:0,time:new Date(0),genTime:0,transactions:ce(),numTransactions:0,proposer:e,size:0,fees:[]}}async function*ye(e){let t=1,n=f;for(;n<d.valueOf();){const a=Math.floor(e.nextFloat()*14*1e3);yield I(new c(t+a),t,n,n+a),n+=a,t++}}async function*Fe(e=new c(f)){yield ue(),yield*ye(e)}async function*We(e,t,n){let a=t,o=n;for(;;){const s=Math.floor(e.nextFloat()*14*1e3),r=a+s-Date.now();await v(r),yield I(new c(o+s),o,a,a+s),a+=s,o++}}function I(e,t,n,a){const o=Math.floor(e.nextRange(0,5)),s=e.nextRange(0,w.length),r=w[s];return{hash:new l("BLOCK",e.fillBytes(32)),height:t,genTime:a-n,time:new Date(a),numTransactions:o,transactions:fe(new c(t+n),t,n,a,o),proposer:r.address,size:Math.floor(e.nextFloat()*1024*o)+8,fees:[T.ESP(BigInt(e.nextRange(0,1e9)*1e3))]}}const x=Array.from(P.keys());function de(e){return e.nextFloat()>.98?1:x[e.nextRange(0,x.length)]}async function*fe(e,t,n,a,o){const s=(a-n)/o;for(let r=0,i=n;i<a;i+=s,r++){const m=de(e),h=Math.floor(1024*e.nextFloat());yield{block:t,index:r,size:h,hash:new l("COMMIT",e.fillBytes(32)),time:new Date(i),sender:new l("PUBKEY",e.fillBytes(32)),tree:{namespace:m,data:e.fillBytes(h)}}}}function me(e){const t=e.nextRange(0,se),n=U(ie,([r])=>r<=t),[,a]=R(n),o=e.nextRange(0,a.length);return a[o]}function he(e){const t=e.nextRange(0,p.length);return p[t]}function ge(e){const t=e.nextRange(0,S.length);return S[t]}function Ae(e){const t=e.nextRange(0,A.length);return A[t]}function Se(e){const t=e.nextRange(0,g.length);return g[t]}function pe(e){const[t,n]=he(e),[,a,o,s]=me(e),r=ge(e),i=Ae(e),m=Se(e);return{pubkey:new l("PUBKEY",e.fillBytes(32)),name:`${t} Node ${s} ${e.nextRange(0,100)}`,address:e.fillBytes(32),company:{name:t,website:n},location:{coords:[a,o],country:s},operatingSystem:r,networkType:m,nodeType:i}}function*xe(){const e=new c(f),t=e.nextRange(50,150);for(let n=0;n<t;n++)yield pe(e)}const w=Array.from(xe());async function*we(e){for(let t=e.next();!t.done;t=e.next())yield t.value}function Ze(e){return we(e[Symbol.iterator]())}async function*Ce(e){for(let t=await e.next();!t.done;t=await e.next())yield t.value}async function*Me(e,t){for(let n=await e.next();!n.done;n=await e.next())t(n.value)&&(yield n.value)}function Je(e,t){return Me(e[Symbol.asyncIterator](),t)}async function*be(e,t){for(let n=await e.next();!n.done;n=await e.next())yield await t(n.value)}function Ve(e,t){return be(e[Symbol.asyncIterator](),t)}async function*Ie(e,t){for(let n=0;n<t;n++){const a=await e.next();if(a.done)return;yield a.value}}function Ke(e,t){return Ie(e[Symbol.asyncIterator](),t)}async function*Be(e,t){for(let n=await e.next();!n.done&&t(n.value);n=await e.next())yield n.value}function je(e,t){return Be(e[Symbol.asyncIterator](),t)}async function*ke(e,t){for(let n=0;n<t;n++)if((await e.next()).done)return;yield*Ce(e)}function Ye(e,t){return ke(e[Symbol.asyncIterator](),t)}async function ve(e){const t=await e.next();if(t.done)throw new C;return t.value}async function qe(e){return ve(e[Symbol.asyncIterator]())}async function Ne(e,t){for(let n=await e.next();!n.done;n=await e.next())if(t(n.value))return n.value}async function $e(e,t){return Ne(e[Symbol.asyncIterator](),t)}async function Ue(e){let t;for(let n=await e.next();!n.done;n=await e.next())t=n.value;if(t===void 0)throw new C;return t}async function Qe(e){return Ue(e[Symbol.asyncIterator]())}async function*Re(e,t){for(let n=await e.next();!n.done;n=await e.next())yield*t(n.value)}function _e(e,t){return Re(e[Symbol.asyncIterator](),t)}async function*et(e){yield*D(e)}async function De(e,t,n){const a=n;let o=t;for(let s=await a.next();!s.done;s=await a.next())o=e(await o,s.value);return o}async function*Te(e){let t=null;for(let n=await e.next();!n.done;n=await e.next())t=L(t,n.value);yield*M(t)}function tt(e){return Te(e[Symbol.asyncIterator]())}function Pe(e){return De(async(t,n)=>(t.push(n),t),Promise.resolve([]),e)}async function nt(e){return Pe(e[Symbol.asyncIterator]())}async function*at(){throw new UnimplementedError}export{Ze as A,et as B,Re as C,c as P,Fe as a,qe as b,ue as c,ke as d,Ye as e,ve as f,Xe as g,be as h,Pe as i,Be as j,_e as k,Me as l,Ve as m,w as n,tt as o,Qe as p,je as q,Te as r,We as s,Ie as t,at as u,$e as v,Je as w,nt as x,Ke as y,Ue as z};
