var K=Object.defineProperty;var G=(e,t,r)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var A=(e,t,r)=>(G(e,typeof t!="symbol"?t+"":t,r),r);import{j as a,a as c}from"./jsx-runtime-5BUNAZ9W.js";import{b as J,a as y}from"./higher_order-VtSBvwoq.js";import"./DateTimeFormattersProvider-ew7zMQJ5.js";import"./LocaleProvider-pqvxCw-R.js";import"./RelativeTimeText-YyUKPtxp.js";import"./NumberFormattersProvider-qGn07z_Y.js";import{P as T,A as Q}from"./PromiseResolver-3CMncE_b.js";import{R as o}from"./index-4g5l5LRQ.js";import{b as O,c as p,S as E,D as _}from"./DataTable-QvRX8GIE.js";import"./AnchorButton-otSsAsSc.js";import"./Button-nGjelwSV.js";import"./IconAnchorButton-yD9LQ3N1.js";import"./IconButton-yAenjv_7.js";import"./LabeledAnchorButton-WaSb0fXE.js";import"./LabeledButton-GV2hMMJ7.js";import{C as g}from"./Card-h8BJV9JH.js";import"./Heading2-n3LYvQdK.js";import{a as X,l as Z,h as ee}from"./typography-_ddOfzBO.js";import"./TabledLabeledValue-uTjZB1fd.js";import{b as R}from"./NavBar-0mq2-Ida.js";import{L as d}from"./Link-cIG_z142.js";import"./SocialMediaLinks-nhbEFc0o.js";import"./Header-BwOAaso_.js";import"./HexDump-Ie7aeshY.js";import{c as x,a as te,R as W}from"./RollUpSimple-Bmohx6DO.js";import{N as f}from"./NumberText-8xcSHIjc.js";import{T as s}from"./Text-qj7igP2-.js";import{a as ae}from"./functional-Rm0aYQEK.js";import{D as re}from"./DateTimeText-0M6T_ChF.js";import{H as ne}from"./HexText-thVAn2iS.js";import"./ByteSizeText-SEJ34lc5.js";import"./TimeText-XfKpDBzb.js";import"./SearchGlass-rctca2Bz.js";import"./ArrowRight-7jy2AcIh.js";import"./ChevronUp-YOF9PRnX.js";import"./TwitterIcon-tGO7qkG5.js";import"./EspressoLogo-i5IlZ4vG.js";import"./EspressoLogoAndTitle-S8HsCgCD.js";import"./Menu-Jn2Xkq9w.js";import"./SVGIconBase-1gvIJeM1.js";import{T as j}from"./TaggedBase64-ByXDuNC9.js";const N=X("p");try{N.displayName="ParagraphTextSmall",N.__docgenInfo={description:`ParagraphTextSmall represents the standard Paragraph element to be utilized
within the Block Explorer.`,displayName:"ParagraphTextSmall",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}function Y(e){return J(e,"edge-margin")}const oe=Y("div"),F=e=>a(oe,{...e,className:y(e.className,"page-title")});try{F.displayName="PageTitle",F.__docgenInfo={description:`PageTitle is a container element to hold the page's title, sub-heading
information, and potentially navigation elements.`,displayName:"PageTitle",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}function le(e){return function(){const r=o.useContext(Q);return o.createElement(e,{snapshot:r})}}const q=e=>a(T,{promise:e.promise,children:o.createElement(le(e.builder))});try{q.displayName="PromiseBuilder",q.__docgenInfo={description:`PromiseBuilder is a component that can resolve the Async nature of promise
for components.`,displayName:"PromiseBuilder",props:{promise:{defaultValue:null,description:"",name:"promise",required:!0,type:{name:"Promise<unknown>"}},builder:{defaultValue:null,description:"",name:"builder",required:!0,type:{name:"ComponentType<PromiseBuilderBuilderProps<unknown>>"}}}}}catch{}const se=Z("label"),ie=ee("div"),ce=e=>a(se,{children:e.children}),pe=e=>a(ie,{className:"value",children:e.children}),m=({className:e,children:t,...r})=>c("div",{...r,className:y(e,"value-labeled"),children:[a(pe,{className:"value",children:t[0]},0),a(ce,{className:"label",children:t[1]},1)]});try{m.displayName="ValueLabeled",m.__docgenInfo={description:`TabledLabeledValue is a component that is meant to display a label and
value pair of components, and lay them out depending on the screen size
of the device in question.

If on a sufficiently large device, they should appear side by side as
if in a full sized table element. Otherwise, they should appear as
a single element of sufficient size.`,displayName:"ValueLabeled",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const M=({namespace:e,className:t,...r})=>{const n=x.get(e);return n?c(g,{...r,className:y(t,"rollup-info"),children:[c(m,{children:[a(f,{number:e}),a(s,{text:"Namespace"})]}),c(m,{children:[a(d,{href:n.site.toString(),children:a(s,{text:n.site.toString()})}),a(s,{text:"Site"})]}),c(m,{children:[a(d,{href:n.blockExplorer.toString(),children:a(s,{text:n.blockExplorer.toString()})}),a(s,{text:"Block Explorer"})]})]}):c(g,{...r,className:y(t,"rollup-info"),children:[c(m,{children:[a(f,{number:e}),a(s,{text:"Namespace"})]}),c(m,{children:[a(s,{text:"-"}),a(s,{text:"Site"})]}),c(m,{children:[a(s,{text:"-"}),a(s,{text:"Block Explorer"})]})]})};try{M.displayName="RollUpInfo",M.__docgenInfo={description:`RollUpInfo is a small section of information concerning the rollup in
question. It contains, if known, the Rollup's name, namespace, website link
and block explorer link.`,displayName:"RollUpInfo",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},namespace:{defaultValue:null,description:"",name:"namespace",required:!0,type:{name:"number"}}}}}catch{}const S=e=>o.createElement(e.entry.logo40);try{S.displayName="RollUpAvatar40",S.__docgenInfo={description:`RollUpAvatar40 is a convenience Component for automatically building the
logo40 stored within the given RollUpEntry.`,displayName:"RollUpAvatar40",props:{entry:{defaultValue:null,description:"",name:"entry",required:!0,type:{name:"RollUpEntry"}}}}}catch{}const z=({namespace:e,className:t,...r})=>{const n=x.get(e);return n?c("div",{...r,className:y(t,"rollup-title"),children:[a(te,{entry:n}),a(S,{entry:n})]}):c("div",{...r,className:y(t,"rollup-title"),children:[a(s,{text:"Unregistered Rollup"})," (",a(f,{number:e}),")"]})};try{z.displayName="RollUpTitle",z.__docgenInfo={description:`RollUpTitle is a simple element for displaying an inline representation of
a Registered Rollup's logo, and name.

If the namespace given does not correspond to any known rollup, then this
will display the Unregistered Rollup text with the namespace for reference.`,displayName:"RollUpTitle",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},namespace:{defaultValue:null,description:"",name:"namespace",required:!0,type:{name:"number"}}}}}catch{}var h=(e=>(e.hash="hash",e.rollup="rollup",e.block="block",e.time="time",e))(h||{});const D=o.createContext({async retrieve(){throw new Error("unimplemented")}}),me=()=>{const e=o.useContext(p),t=o.useContext(R),r=Array.from(ae(new Uint8Array(e.hash),n=>n.toString(16).padStart(2,"0"))).join("");return a(d,{href:t.transaction(`0x${r}`),children:a(ne,{value:e.hash})})},de=()=>{const e=o.useContext(p);return a(W,{namespace:e.rollups[0]})},ue=()=>{const e=o.useContext(R),t=o.useContext(p);return a(d,{href:e.block(t.block),children:a(f,{number:t.block})})},he=()=>{const e=o.useContext(p);return a(re,{date:e.time})},v=()=>a(O,{columns:[{label:"Transaction",columnType:h.hash,buildCell:me},{label:"Rollups",columnType:h.rollup,buildCell:de},{label:"Block",columnType:h.block,buildCell:ue},{label:"Time",columnType:h.time,buildCell:he}]});function ye(e){return{async retrieve(t){const r=t;return(await e.retrieve({page:r.page,resultsPerPage:20,sortColumn:r.sortColumn,sortDir:r.sortDir})).map(l=>({hash:l.hash,block:l.block,rollups:l.namespaces,time:l.time}))}}}const fe=e=>{const t=o.useContext(D),r=o.useContext(_),n=ye(t);return a(T,{promise:n.retrieve(r),children:o.createElement(g,e,a(v,{}))})},bt=e=>{const[t]=o.useState({sortColumn:h.block,sortDir:E.desc,page:0});return a(_.Provider,{value:t,children:o.createElement(fe,e)})};try{D.displayName="RetrieverContext",D.__docgenInfo={description:`RetrieverContext is a React Context that holds a reference to a
TransactionSummaryAsyncRetriever`,displayName:"RetrieverContext",props:{}}}catch{}try{v.displayName="TransactionsSummaryDataTable",v.__docgenInfo={description:`TransactionsSummaryDataTable is a DataTable that contains Transaction
Summary State.`,displayName:"TransactionsSummaryDataTable",props:{}}}catch{}try{TransactionSummaryDataTable.displayName="TransactionSummaryDataTable",TransactionSummaryDataTable.__docgenInfo={description:`TransactionsSummary component shows the Transaction Summary Data Table
with fetched data.`,displayName:"TransactionSummaryDataTable",props:{}}}catch{}const k=o.createContext(0),w=o.createContext({async retrieve(){throw new Error("unimplemented")}});function _e(e,t){return{async retrieve(r){const n=r;return(await e.retrieve({page:n.page,namespace:t,resultsPerPage:20})).map(i=>({hash:i.hash,block:i.block,rollups:i.namespaces,time:i.time}))}}}const ge=e=>{const t=o.useContext(k),r=o.useContext(w),n=o.useContext(_),l=_e(r,t);return a(T,{promise:l.retrieve(n),children:o.createElement(g,e,a(v,{}))})},vt=e=>{const[t]=o.useState({sortColumn:h.block,sortDir:E.desc,page:0});return a(_.Provider,{value:t,children:o.createElement(ge,e)})};try{k.displayName="NamespaceContext",k.__docgenInfo={description:`NamespaceContext is a React Context that holds a reference to the
current Namespace`,displayName:"NamespaceContext",props:{}}}catch{}try{w.displayName="RetrieverContext",w.__docgenInfo={description:`RetrieverContext is a React Context that holds a reference to a
RollUpDetailAsyncRetriever`,displayName:"RetrieverContext",props:{}}}catch{}try{RollUpDetailDataTable.displayName="RollUpDetailDataTable",RollUpDetailDataTable.__docgenInfo={description:`TransactionsSummary component shows the Transaction Summary Data Table
with fetched data.`,displayName:"RollUpDetailDataTable",props:{}}}catch{}var u=(e=>(e.height="height",e.proposer="proposer",e.size="size",e.time="time",e.transactions="transaction",e))(u||{});const xe=()=>{const e=o.useContext(R),t=o.useContext(p);return a(d,{href:e.rollUp(t.namespace),children:a(W,{namespace:t.namespace})})},be=()=>{const e=o.useContext(R),t=o.useContext(p);return a(d,{href:e.rollUp(t.namespace),children:a(f,{number:t.namespace})})},ve=()=>{const e=o.useContext(p);return a(f,{number:e.transactions})},Te=()=>{const e=o.useContext(p),t=x.get(e.namespace);return t?a(d,{href:t.site.toString(),target:"_blank",children:a(s,{text:t.site.toString()})}):a(s,{text:"-"})},Re=()=>{const e=o.useContext(p),t=x.get(e.namespace);return t?a(d,{href:t.blockExplorer.toString(),target:"_blank",children:a(s,{text:t.blockExplorer.toString()})}):a(s,{text:"-"})},U=()=>a(O,{columns:[{label:"Rollup",columnType:u.height,buildCell:xe},{label:"Namespace",columnType:u.proposer,buildCell:be},{label:"Sequencer Transaction",columnType:u.transactions,buildCell:ve},{label:"Official Site",columnType:u.size,buildCell:Te},{label:"Block Explorer",columnType:u.time,buildCell:Re}]});function Ce(e){return async t=>{const r=t;return(await e.retrieve(r.page)).map(l=>({namespace:l.namespace,transactions:l.transactions}))}}const P=o.createContext({async retrieve(){throw new Error("unimplemented")}}),Ne=e=>{const t=o.useContext(P),r=o.useContext(_),n=Ce(t);return a(T,{promise:n(r),children:o.createElement(g,e,a(U,{}))})},Tt=e=>{const[t]=o.useState({sortColumn:u.height,sortDir:E.desc,page:0});return a(_.Provider,{value:t,children:o.createElement(Ne,e)})};try{P.displayName="RetrieverContext",P.__docgenInfo={description:`RetrieverContext represents the retriever to be utilized for retrieving
the BlockSummary data.`,displayName:"RetrieverContext",props:{}}}catch{}try{U.displayName="RollUpsSummaryDataTable",U.__docgenInfo={description:"",displayName:"RollUpsSummaryDataTable",props:{}}}catch{}const Se=Y(N),L=e=>a("div",{...e,className:y(e.className,"fake-data-notice"),children:a(Se,{children:"This Demo contains fake data and navigation that is not indicative of the final product."})});try{L.displayName="FakeDataNotice",L.__docgenInfo={description:"",displayName:"FakeDataNotice",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const b=2147483648,De=1103515245,ke=12345;class I{constructor(t){A(this,"state");this.state=t!==void 0?t:Math.floor(Math.random()*(b-1))}nextInt(){return this.state=(De*this.state+ke)%b,this.state}nextFloat(){return this.nextInt()/(b-1)}nextRange(t,r){const n=r-t,l=this.nextInt()/b;return t+Math.floor(l*n)}fillBytes(t){const r=new ArrayBuffer(t),n=new DataView(r);let l=0;for(;l<t-4;l+=4)n.setUint32(l,this.nextRange(0,4294967295));for(let i=l;i<t;i++)n.setUint8(i,this.nextRange(0,256));return r}}async function*Rt(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()).valueOf(),r=new I(t);let n=0,l=t;for(;l<e.valueOf();){const i=Math.floor(r.nextFloat()*14*1e3);yield we(new I(n+i),n,l,l+i),l+=i,n++}}function we(e,t,r,n){const l=Math.floor(e.nextFloat()*((n-r)/1e3)*12);return{height:t,time:new Date(n),numTransactions:l,transactions:Pe(new I(t+r),t,r,n,l),proposer:new j("PUBKEY",e.fillBytes(e.nextRange(32,64))),size:Math.floor(e.nextFloat()*1024*l)+8}}const $=Array.from(x.keys());function Ue(e){return e.nextFloat()>.98?1:$[e.nextRange(0,$.length)]}async function*Pe(e,t,r,n,l){const i=(n-r)/l;for(let B=0,C=r;C<n;C+=i,B++){const H=Ue(e),V=Math.floor(1024*e.nextFloat());yield{block:t,index:B,size:V,hash:e.fillBytes(32),time:new Date(C),sender:new j("PUBKEY",e.fillBytes(32)),tree:[{namespace:H,data:e.fillBytes(V)}]}}}class Ct{explorer(){return"/?path=/story/pages-explorer--explorer"}blocks(){return"/?path=/story/pages-blocks--blocks"}block(t){return`/?path=/story/pages-block--block&args=block:${t}`}transactions(){return"/?path=/story/pages-transactions--transactions"}transaction(t){return`/?path=/story/pages-transaction--transaction&args=hash:${encodeURIComponent(t)}`}rollUps(){return"/?path=/story/pages-rollups--rollups"}rollUp(t){return`/?path=/story/pages-rollup--rollup&args=namespace:${t}`}}export{u as B,L as F,k as N,F as P,w as R,Ct as S,vt as T,Y as W,z as a,M as b,P as c,Tt as d,D as e,bt as f,Rt as g,N as h};
