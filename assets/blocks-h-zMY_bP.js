import{s as g}from"./loading_provider-Ur2XoJ-b.js";import{M as p}from"./monetary_value-CGCIrnLJ.js";import{c as B}from"./data-Cpeha0UW.js";import{T as l}from"./tagged_base64-DlPC3yRR.js";import{P as c,g as y,a as w,n as m}from"./nodes-BtP9A9m5.js";async function*x(){}function M(){const e=new Uint8Array(new Array(20).map(()=>0)).buffer;return{hash:new l("BLOCK",e),height:0,time:new Date(0),genTime:0,transactions:x(),numTransactions:0,proposer:[],size:0,fees:[]}}async function*T(e,s=y()){let o=1,n=w();for(;n<s;){const t=Math.floor(e.nextFloat()*14*1e3);yield d(new c(o+t),o,n,n+t),n+=t,o++}}async function*C(e=new c(w()),s=y()){yield M(),yield*T(e,s)}async function*D(e,s,o,n=!0){let t=s,r=o;for(;;){const a=Math.floor(e.nextFloat()*14*1e3),i=t+a-Date.now();n&&i>0&&await g(i),yield d(new c(r+a),r,t,t+a),t+=a,r++}}function d(e,s,o,n){const t=Math.floor(e.nextRange(0,5)),r=e.nextRange(0,m.length),a=m[r];return{hash:new l("BLOCK",e.fillBytes(32)),height:s,genTime:n-o,time:new Date(n),numTransactions:t,transactions:E(new c(s+o),s,o,n,t),proposer:[a.address],size:Math.floor(e.nextFloat()*1024*t)+8,fees:[p.ESP(BigInt(e.nextRange(0,1e9)*1e3))]}}const u=Array.from(B.keys());function k(e){return e.nextFloat()>.98?1:u[e.nextRange(0,u.length)]}async function*E(e,s,o,n,t){const r=(n-o)/t;for(let a=0,i=o;i<n;i+=r,a++){const h=k(e),f=Math.floor(1024*e.nextFloat());yield{block:s,index:a,size:f,hash:new l("COMMIT",e.fillBytes(32)),time:new Date(i),sender:new l("PUBKEY",e.fillBytes(32)),tree:{namespace:h,data:e.fillBytes(f)}}}}export{M as c,C as g,D as s};
