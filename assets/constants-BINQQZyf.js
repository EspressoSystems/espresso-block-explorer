var ue=Object.defineProperty;var le=(t,e,o)=>e in t?ue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var n=(t,e,o)=>le(t,typeof e!="symbol"?e+"":e,o);import{A as C,h as j,j as J,T as w,a as b,i as me,I as p,n as we,l as Q,k as G}from"./string-BRHtp8nH.js";import{f as U,g as Z,m as M,i as _,e as he}from"./functional-CfXZTWhy.js";import"./array_buffer-CXlRbd7o.js";import"./base64-B9OJSIzr.js";import"./url-YgTINc9c.js";import{A as P}from"./AffineTransform-DiV9SxhF.js";class L{}const ee=new Map;function I(t,e){ee.set(t,e)}function te(t){const e=ee.get(t);if(!e)throw new we(t);return e}class ge{convert(e){return te(e.type).encode(e)}}class Ne{convert(e){if(b(e,"type","coordinates"),!me(e.type))throw new p(typeof e.type,"string");return te(e.type).decode(e)}}class fe extends w{constructor(){super();n(this,"encoder");n(this,"decoder");this.encoder=new ge,this.decoder=new Ne}}const V=new fe,wt=new C(new j(V),new J(V));class y{constructor(e){this.value=e,this.value=e}valueOf(){return Number(this.value)}toString(){return Number(this.value).toString()}}function E(t,e){return t.valueOf()<e.valueOf()}function be(t,e){return t.valueOf()<=e.valueOf()}function S(t,e){return t.valueOf()>e.valueOf()}function q(t,e){return be(t,e)?t:e}function K(t,e){return S(t,e)?t:e}class B{constructor(e,o){n(this,"min");n(this,"max");this.min=e,this.max=o}contains(e){return!(E(e.lat,this.min.lat)||S(e.lat,this.max.lat)||E(e.lng,this.min.lng)||S(e.lng,this.max.lng))}}function $(t){const e=t[Symbol.iterator](),o=U(e),[r,d]=Z(([g,T],N)=>[g.min(N.bbox.min),T.max(N.bbox.max)],[o.bbox.min,o.bbox.max],e);return new B(r,d)}function ht(t){const e=t[Symbol.iterator](),o=U(e),[r,d]=Z(([g,T],N)=>[g.min(N),T.max(N)],[o,o],e);return new B(r,d)}class u extends y{toString(){return`${Number(this)}Â°`}}class pe{convert(e){return Number(e)}}class ye{convert(e){if(!Q(e))throw new p(typeof e,"number");return new u(e)}}class Pe extends w{constructor(){super();n(this,"encoder");n(this,"decoder");this.encoder=new pe,this.decoder=new ye}}const Se=new Pe;class i extends y{toString(){return`${String(this.value)} lat`}}class a extends y{toString(){return`${String(this.value)} lng`}}class m extends y{toString(){return`${Number(this)} rad`}}class xe{convert(e){return Number(e)}}class ve{convert(e){if(!Q(e))throw new p(typeof e,"number");return new m(e)}}class Oe extends w{constructor(){super();n(this,"encoder");n(this,"decoder");this.encoder=new xe,this.decoder=new ve}}const Ce=new Oe;class c{constructor(e,o){this.lat=e,this.lng=o,this.lat=e,this.lng=o}min(e){return new c(q(this.lat,e.lat),q(this.lng,e.lng))}max(e){return new c(K(this.lat,e.lat),K(this.lng,e.lng))}toString(){return`${this.lat}, ${this.lng}`}}class je{constructor(e){n(this,"unitCodec");this.unitCodec=e}convert(e){return[this.unitCodec.encode(e.lat.value),this.unitCodec.encode(e.lng.value)]}}class Je{constructor(e){n(this,"unitCodec");this.unitCodec=e}convert(e){if(!(e instanceof Array))throw new p(typeof e,"Array");if(e.length!==2)throw new TypeError(`Expected array of length 2, got ${e.length}`);const[o,r]=e;return new c(new i(this.unitCodec.decode(o)),new a(this.unitCodec.decode(r)))}}class ne extends w{constructor(o){super();n(this,"encoder");n(this,"decoder");this.encoder=new je(o),this.decoder=new Je(o)}}const gt=new ne(Se);new ne(Ce);class Ge{convert(e){return[Number(e.lng),Number(e.lat)]}}class Le{convert(e){if(!(e instanceof Array))throw new p(typeof e,"Array");if(e.length!==2)throw new TypeError(`Expected array of length 2, got ${e.length}`);return new c(new i(new u(e[1])),new a(new u(e[0])))}}class Ie extends w{constructor(){super(...arguments);n(this,"encoder",new Ge);n(this,"decoder",new Le)}}const x=new Ie,v=new C(new j(x),new J(x)),O=new C(new j(v),new J(v)),X=new C(new j(O),new J(O)),z="Point";class A extends L{constructor(o){super();n(this,"type",z);n(this,"coordinates");n(this,"bbox");this.coordinates=o,this.bbox=new B(this.coordinates,this.coordinates)}toJSON(){return oe.encode(this)}}class Ae{constructor(e){n(this,"codec");this.codec=e}convert(e){return{type:e.type,coordinates:this.codec.encode(e.coordinates)}}}class De{constructor(e){n(this,"codec");this.codec=e}convert(e){return b(e,"type","coordinates"),G(e,z),new A(this.codec.decode(e.coordinates))}}class Te extends w{constructor(){super(...arguments);n(this,"encoder",new Ae(x));n(this,"decoder",new De(x))}}const oe=new Te;I(z,oe);const k="MultiPoint";class H extends L{constructor(o){super();n(this,"type",k);n(this,"coordinates");n(this,"bbox");this.coordinates=o,this.bbox=$(o)}[Symbol.iterator](){return this.coordinates[Symbol.iterator]()}toJSON(){return re.encode(this)}}class Ee{constructor(e){n(this,"codec");this.codec=e}convert(e){return{type:e.type,coordinates:this.codec.encode(e.coordinates.map(o=>o.coordinates))}}}class Re{constructor(e){n(this,"codec");this.codec=e}convert(e){b(e,"type","coordinates"),G(e,k);const o=this.codec.decode(e.coordinates);return new H(o.map(r=>new A(r)))}}class Me extends w{constructor(){super(...arguments);n(this,"encoder",new Ee(v));n(this,"decoder",new Re(v))}}const re=new Me;I(k,re);const W="Polygon";class se extends L{constructor(o){super();n(this,"type",W);n(this,"coordinates");n(this,"bbox");this.coordinates=o,this.bbox=$(o)}[Symbol.iterator](){return this.coordinates[Symbol.iterator]()}toJSON(){return ce.encode(this)}}class Be{constructor(e){n(this,"codec");this.codec=e}convert(e){return{type:e.type,coordinates:this.codec.encode(e.coordinates.map(o=>o.coordinates.map(r=>r.coordinates)))}}}class $e{constructor(e){n(this,"codec");this.codec=e}convert(e){b(e,"type","coordinates"),G(e,W);const o=this.codec.decode(e.coordinates);return new se(o.map(r=>new H(r.map(d=>new A(d)))))}}class ze extends w{constructor(){super(...arguments);n(this,"encoder",new Be(O));n(this,"decoder",new $e(O))}}const ce=new ze;I(W,ce);const F="MultiPolygon";class ke extends L{constructor(o){super();n(this,"type",F);n(this,"coordinates");n(this,"bbox");this.coordinates=o,this.bbox=$(o)}[Symbol.iterator](){return this.coordinates[Symbol.iterator]()}toJSON(){return ie.encode(this)}}class He{constructor(e){n(this,"codec");this.codec=e}convert(e){return{type:e.type,coordinates:this.codec.encode(e.coordinates.map(o=>o.coordinates.map(r=>r.coordinates.map(d=>d.coordinates))))}}}class We{constructor(e){n(this,"codec");this.codec=e}convert(e){b(e,"type","coordinates"),G(e,F);const o=this.codec.decode(e.coordinates);return new ke(o.map(r=>new se(r.map(d=>new H(d.map(g=>new A(g)))))))}}class Fe extends w{constructor(){super(...arguments);n(this,"encoder",new He(X));n(this,"decoder",new We(X))}}const ie=new Fe;I(F,ie);class ae{constructor(e,o){this.projection1=e,this.projection2=o,this.projection1=e,this.projection2=o}get minInput(){return this.projection1.minInput}get maxInput(){return this.projection1.maxInput}get minOutput(){return this.projection2.minOutput}get maxOutput(){return this.projection2.maxOutput}project(e){return this.projection2.project(this.projection1.project(e))}inverseProject(e){return this.projection1.inverseProject(this.projection2.inverseProject(e))}}class l extends y{toString(){return`${Number(this)} dp`}}class Ve{constructor(e,o,r,d){n(this,"minInput");n(this,"maxInput");n(this,"minOutput");n(this,"maxOutput");n(this,"horizontalAffine");n(this,"inverseHorizontalAffine");n(this,"verticalAffine");n(this,"inverseVerticalAffine");this.minInput=e,this.maxInput=o,this.minOutput=r,this.maxOutput=d,this.horizontalAffine=new P(Number(e.lat),Number(o.lat),Number(r.lat),Number(d.lat)),this.inverseHorizontalAffine=new P(Number(r.lat),Number(d.lat),Number(e.lat),Number(o.lat)),this.verticalAffine=new P(Number(e.lng),Number(o.lng),Number(r.lng),Number(d.lng)),this.inverseVerticalAffine=new P(Number(r.lng),Number(d.lng),Number(e.lng),Number(o.lng))}project(e){return new c(new i(new l(this.horizontalAffine.transform(Number(e.lat)))),new a(new l(this.verticalAffine.transform(Number(e.lng)))))}inverseProject(e){const o=new m(this.inverseHorizontalAffine.transform(Number(e.lat))),r=new m(this.inverseVerticalAffine.transform(Number(e.lng)));return new c(new i(o),new a(r))}}class qe{constructor(){n(this,"minInput",new c(new i(new u(-90)),new a(new u(-180))));n(this,"maxInput",new c(new i(new u(90)),new a(new u(180))));n(this,"minOutput",new c(new i(new m(-Math.PI/2)),new a(new m(-Math.PI))));n(this,"maxOutput",new c(new i(new m(Math.PI/2)),new a(new m(Math.PI))))}projectLatitude(e){return new i(this.convertDegreesToRadians(e))}convertDegreesToRadians(e){return new m(Number(e)*(Math.PI/180))}convertRadiansToDegrees(e){return new u(Number(e)*(180/Math.PI))}projectLongitude(e){return new a(this.convertDegreesToRadians(e))}inverseProjectLatitude(e){return new i(this.convertRadiansToDegrees(e))}inverseProjectLongitude(e){return new a(this.convertRadiansToDegrees(e))}project(e){return new c(this.projectLatitude(e.lat),this.projectLongitude(e.lng))}inverseProject(e){return new c(this.inverseProjectLatitude(e.lat),this.inverseProjectLongitude(e.lng))}}const R=new qe,Y=85.05133,s=class s{constructor(){n(this,"minInput",s.min);n(this,"maxInput",s.max);n(this,"minOutput",s.minProjection);n(this,"maxOutput",s.maxProjection)}static projectLongitude(e){return new a(Number(e))}static ensureLatitudeBounds(e){return S(e,s.max.lat)?s.max.lat:E(e,s.min.lat)?s.min.lat:e}static projectLatitude(e){return new i(Math.log(Math.tan(Math.PI/4+Number(this.ensureLatitudeBounds(e))/2)))}static inverseProjectLongitude(e){return new a(new m(Number(e)))}static inverseProjectLatitude(e){return new i(new m(2*Math.atan(Math.exp(Number(e)))-Math.PI/2))}static staticProject(e){return new c(this.projectLatitude(e.lat),this.projectLongitude(e.lng))}project(e){return s.staticProject(e)}static staticInverseProject(e){return new c(this.inverseProjectLatitude(e.lat),this.inverseProjectLongitude(e.lng))}inverseProject(e){return s.staticInverseProject(e)}};n(s,"min",R.project(new c(new i(new u(-Y)),new a(new u(-180))))),n(s,"max",R.project(new c(new i(new u(Y)),new a(new u(180))))),n(s,"minProjection",s.staticProject(s.min)),n(s,"maxProjection",s.staticProject(s.max));let f=s;const Ke=new f,D=new l(12*7*16),Xe=new l(Math.floor(Number(D)*.75)),h=new l(9),Nt=new l(Number(h)/2-1),Ye=D,Qe=D,Ue=new Ve(f.minProjection,f.maxProjection,new c(new i(Qe),new a(new l(0))),new c(new i(new l(0)),new a(Ye))),Ze=new ae(Ke,Ue),ft=new ae(R,Ze),_e=D,et=Xe,de=new l(Math.floor(Number(h)/2)),tt=Math.floor(Number(_e)/Number(h)),nt=Math.floor(Number(et)/Number(h)),ot=Array.from(M(_(nt),t=>new i(new l(t*Number(h)+Number(de))))),rt=Array.from(M(_(tt),t=>new a(new l(t*Number(h)+Number(de))))),st=Array.from(he(rt,t=>M(ot,e=>new c(e,t))));Math.ceil(st.length/8);export{ae as C,l as D,ke as G,c as L,f as M,Xe as a,Ke as b,Ve as c,R as d,i as e,a as f,V as g,h,tt as i,Nt as j,ft as k,st as l,D as m,nt as n,ht as o,u as p,wt as q,I as r,L as s,$ as t,v as u,O as v,gt as w};
