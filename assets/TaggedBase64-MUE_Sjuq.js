var E=Object.defineProperty;var l=(r,e,s)=>e in r?E(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s;var a=(r,e,s)=>(l(r,typeof e!="symbol"?e+"":e,s),s);import{r as f,B as w,T as d,a as T,b as h,s as B,d as v,I as m,e as S}from"./string-X3Gg19gt.js";import{r as o}from"./base64-sUJ5_M47.js";class t extends w{constructor(e="invalid tagged base64 encoding"){super(e),Object.freeze(this)}toJSON(){return c.encode(this)}}class C{convert(e){return T(e,"code","message"),h(e,t.name),new t(B.decode(e.message))}}class u extends v{}class x extends d{constructor(){super(...arguments);a(this,"encoder",new u);a(this,"decoder",new C)}}const c=new x;f(t.name,c);class n{constructor(e,s){a(this,"tag");a(this,"data");this.tag=e,this.data=s}static fromString(e){const s=e.indexOf("~");if(s<0)throw new t;const g=e.substring(0,s),i=o.decodeString(e.substring(s+1));return new n(g,i)}static inflate(e){return y.decode(e)}toString(){return`${this.tag}~${o.encodeToString(this.data)}`}valueOf(){return this.toString()}toJSON(){return this.toString()}}class I{convert(e){if(typeof e!="string")throw new m(typeof e,"string");return n.fromString(e)}}class O{convert(e){return S(e,n),e.toString()}}class b extends d{constructor(){super(...arguments);a(this,"encoder",new O);a(this,"decoder",new I)}}const y=new b;export{n as T,y as t};
