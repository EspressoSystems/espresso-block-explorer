import{R as c,j as r,r as Ds}from"./iframe-6qRHL8kK.js";import{N as mn,P as Bs}from"./NowProvider-DFWj2jBI.js";import{E as Ms,b as Us}from"./environment_banner-BGVCo0B0.js";import{k as Rs,l as Os,j as Ls,m as Vs,n as Fs,o as Hs,p as Er,q as Ws,i as jn}from"./controls-e5pwIpcp.js";import{a as $s}from"./storybook-vtDslytC.js";import{G as Do,n as ye}from"./en_US-KAK2ZBDO-DdzG3n6d.js";import{W as kr,B as J,C as Ks,P as Gs}from"./CappuccinoHotShotQueryServiceAPIContext-igIphiue.js";import{g as ke,a as w,b as qs}from"./react.esm-mVV27ITt.js";import{l as N,X as Xs,a5 as I,f as jr,i as Nr,j as Tr,a7 as vt,a8 as gn,C as zs,m as Ir,_ as Ys,a9 as yn,F as we,t as D,aa as Qs,ab as Js,ac as U,G as Zs,T as ei,q as ti,r as ni,ad as oi,ae as vn,J as Ko,af as ri,A as Bo,ag as si,ah as ii,e as Lt,ai,aj as li,W as B,ak as Pr,al as Ar,am as Dr,an as ci,ao as Br,ap as Mr,D as $,Y as Te,Z as Mo,aq as di,ar as ui,as as pi,at as fi,au as hi,av as mi,aw as gi,o as yi,n as vi,k as xi,ax as Go,d as K,ay as _i,az as bi,L as Ur,E as qo,aA as Ci,aB as Xo,aC as wi}from"./staking_modal_validator_confirmed_content-x6MCS8-V.js";import{m as S,r as xn,k as xt,p as b,e as P,q as He,n as oe,s as re,c as zo,g as Si}from"./functional-DfB4rlpz.js";import{W as We}from"./staking_modal-DmFm8ZwR.js";import{n as Ei,D as _t}from"./LoadingProvider-CiRo7IyT.js";import{A as _n}from"./AsyncIterableResolver-3Rp9kjN2.js";import{b as ki}from"./ProvideAsyncStates-9hJLkdZQ.js";import"./TransactionDetailContent-CZkayR9w.js";import{P as ji}from"./PromiseResolver-DBNJ2pdB.js";import"./DataTable-CYgJuLpt.js";import{E as Ni,L as Ti}from"./stake_table_contract_context-B8HP3pEx.js";import{E as Ii}from"./EspressoLogoAndTitle-BT9jlPU7.js";import{T as f}from"./Text-BU7JBOLk.js";import{W as Pi}from"./deserializer-CSK70ZF1.js";import{a as X}from"./higher_order-BVrk3P2P.js";import{S as bt}from"./SVGIconBase-A4DT5FtI.js";import{h as y}from"./array_buffer-BXDx5OgG.js";import"./bigint-CUIR6GFU.js";import{d as Rr}from"./string-De_JMoQm.js";import{U as Ct}from"./UnimplementedError-ByG_fP0m.js";import"./MissingElementError-BvD5kqNE.js";import"./base64-BqC1I8uO.js";import"./url-BemJHibL.js";import{W as Ai}from"./wallet_address-CTiRjRjo.js";import{R as bn,N as Cn,S as Di,P as Bi,a as Mi,b as Ui,c as Ri}from"./staking_modal_content-BC86xW65.js";import{M as Ie}from"./MoneyText-BdviuoM2.js";import{M as Pe}from"./monetary_value-h2r6a0FR.js";import{P as Se}from"./VariableByteSizeText-Cc2z-6lc.js";import{N as Oi}from"./NumberText-CX4omtIU.js";import{C as Li}from"./DateTimeFormattersProvider-CTAmKTvQ.js";import{C as Vi}from"./NumberFormattersProvider-BaYHxeOC.js";import"./ByteSizeText-Bet9xQjP.js";import"./CopyHex-Cf_006lM.js";import"./DateTimeText-D6RW9Z_V.js";import"./FullHexText-Bixypd9K.js";import"./HexText-DCLf9LZz.js";import"./RelativeTimeSinceDateText-Bo4ot7P4.js";import"./TaggedBase64Text-Cgw7TagP.js";import"./TimeText-BIeM4-F8.js";import{s as A}from"./sleep-CW-vxfof.js";import"./blocks-Vs1RfMPo.js";import{n as St}from"./nodes-DRGfJywc.js";import"./BlockPage-BSTzndYN.js";import"./BlocksPage-CZOMrulR.js";import"./NodesSummaryDataTable-BT4t7P6Y.js";import"./ExplorerPage-CVc8rHtm.js";import"./RollUpPage-Cq8Sv8gs.js";import"./RollUpsPage-Dd6CI2cr.js";import"./TransactionPage-BYs-on-W.js";import"./TransactionsForBlockPage-BKx9Y07y.js";import"./TransactionsPage-Q-H_KP-f.js";import{M as Fi,a as Nn,S as Yo,R as Qo,V as Uo,D as wn,U as $e,C as Sn,b as Ke,c as Or}from"./fake_data-CVFGyfpU.js";import"./preload-helper-PPVm8Dsz.js";import"./typography-CU0Q2b4v.js";import"./espresso-Tj5edg9_.js";import"./explorer-XN1bAbaS.js";import"./index-DAPUY6YU.js";import"./index-JrXKFfwy.js";import"./TransactionDetailLoader-CzHg9D4L.js";import"./TaggedBase64-CSIwxIxH.js";import"./assert-B11BgmXM.js";import"./PathResolverProvider-BhkdUZ3l.js";import"./block_summary-CBGYsBbN.js";import"./LabeledAnchorButton-BmZm_9GE.js";import"./AnchorButton-Cv-1Moru.js";import"./LocaleProvider-Dn-Cb6v6.js";import"./PagePathProvider-BB5_V-vn.js";import"./transaction_summary-_-RUzodv.js";import"./FetchError-CLDKU5UE.js";import"./NotFoundError-7l5Ugwjq.js";import"./validator-BUSEmKKD.js";import"./client-BZLXbOhf.js";import"./Close-Cwv1jWQX.js";import"./esp_input-0ALIXBRC.js";import"./text-DEUoYRMW.js";import"./CircularProgressIndicator-DRiLGeMo.js";import"./ErrorDisplay-DH9-D6VL.js";import"./label-DaaYS4Ka.js";import"./TableLabeledValue-3aOQ7kA7.js";import"./SkeletonContent-BPdzUoF-.js";import"./TwitterIcon-gTR-r0Lw.js";import"./ArrowRight-hZ-JyIot.js";import"./Button-imQ_92ab.js";import"./IconAnchorButton-q2s9hb1t.js";import"./IconButton-B6uM_bHc.js";import"./LabeledButton-B5dGcUxE.js";import"./Link-BnT3lQB9.js";import"./Heading2-Pq1yfmef.js";/* empty css                */import"./BlockSizeHistogram-DUCsjA6c.js";import"./Card-NP-Eb91a.js";import"./LoadingShimmer-D_BnBiok.js";import"./ContainerLoading-BYumNDN_.js";import"./SVGToolTip-B8imTCh9.js";import"./SVGPathBuilder-4dyJLere.js";import"./AffineTransform-UCCpzMIM.js";import"./SummaryTableLabeledValue-D9jh8CaX.js";import"./data-Cpeha0UW.js";import"./RollUpSimple-B5XaUZkW.js";import"./Payments-B8QxXbh9.js";import"./CheckCircleFilled-BenepkbP.js";import"./ChevronUp-CvbK-QV1.js";import"./Copy-CZ3brQky.js";import"./MediumIcon-CkLT4fpl.js";import"./EspressoLogo-DDpNobQ0.js";import"./Menu-CpkyJ5fa.js";import"./SearchGlass-BuDCMh7z.js";import"./XIcon-BSunDx6h.js";import"./TransactionSummaryDataTable-gYuUpZnX.js";import"./CopyButton-DRgo3UZF.js";/* empty css               */import"./nitro_batch_display-Buf05TSx.js";import"./optimism_batch_display-DzYudNXT.js";import"./Heading1-oj2uNfBS.js";import"./SummaryValueLabeled-BSw4a8K1.js";import"./HexDump-ztPbKiBh.js";import"./Footer-CKc7BnWr.js";import"./SocialMediaLinks-BQVGE-35.js";import"./Header-NH7-Y0is.js";import"./NavBar-Bs7En5t4.js";import"./LatestBlockSummary-0sEgVHiG.js";import"./BlockSummaryDataTable-D4c4_8U_.js";import"./RollUpsSummaryDataTable-DijQUeZP.js";import"./WorldMapDotsPopulationFullResolution-Br205Jpe.js";import"./constants-DUY5lfrB.js";import"./WorldMapDotsFullResolution-BZA1UG-T.js";import"./PieChart-BbtFJpi4.js";import"./SearchInput-CTUzlAJt.js";import"./Container-ClpjZ9sC.js";function h(e,t,n){return e.namespaceURI&&e.namespaceURI!=="http://www.w3.org/1999/xhtml"||(t=Array.isArray(t)?t:[t],!t.includes(e.tagName.toLowerCase()))?!1:n?Object.entries(n).every(([o,s])=>e[o]===s):!0}function M(e){var t;if(Hi(e)&&e.defaultView)return e.defaultView;if(!((t=e.ownerDocument)===null||t===void 0)&&t.defaultView)return e.ownerDocument.defaultView;throw new Error(`Could not determine window of node. Node was ${Wi(e)}`)}function Hi(e){return e.nodeType===9}function Wi(e){return typeof e=="function"?`function ${e.name}`:e===null?"null":String(e)}function Lr(e,t){return new Promise((n,o)=>{const s=new t;s.onerror=o,s.onabort=o,s.onload=()=>{n(String(s.result))},s.readAsText(e)})}function Ro(e,t){const n={...t,length:t.length,item:o=>n[o],[Symbol.iterator]:function*(){for(let s=0;s<n.length;s++)yield n[s]}};return n.constructor=e.FileList,e.FileList&&Object.setPrototypeOf(n,e.FileList.prototype),Object.freeze(n),n}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Vr{getAsFile(){return this.file}getAsString(t){typeof this.data=="string"&&t(this.data)}webkitGetAsEntry(){throw new Error("not implemented")}constructor(t,n){Q(this,"kind",void 0),Q(this,"type",void 0),Q(this,"file",null),Q(this,"data",void 0),typeof t=="string"?(this.kind="string",this.type=String(n),this.data=t):(this.kind="file",this.type=t.type,this.file=t)}}class $i extends Array{add(...t){const n=new Vr(t[0],t[1]);return this.push(n),n}clear(){this.splice(0,this.length)}remove(t){this.splice(t,1)}}function Et(e,t){const[n,o]=e.split("/"),s=!o||o==="*";return i=>t?i.type===(s?n:e):s?i.type.startsWith(`${n}/`):i.type===n}function Ki(e){return new class{getData(n){var o;const s=(o=this.items.find(Et(n,!0)))!==null&&o!==void 0?o:this.items.find(Et(n,!1));let i="";return s?.getAsString(a=>{i=a}),i}setData(n,o){const s=this.items.findIndex(Et(n,!0)),i=new Vr(o,n);s>=0?this.items.splice(s,1,i):this.items.push(i)}clearData(n){if(n){const o=this.items.findIndex(Et(n,!0));o>=0&&this.items.remove(o)}else this.items.clear()}get types(){const n=[];return this.files.length&&n.push("Files"),this.items.forEach(o=>n.push(o.type)),Object.freeze(n),n}setDragImage(){}constructor(){Q(this,"dropEffect","none"),Q(this,"effectAllowed","uninitialized"),Q(this,"items",new $i),Q(this,"files",Ro(e,[]))}}}function Oo(e,t=[]){const n=typeof e.DataTransfer>"u"?Ki(e):new e.DataTransfer;return Object.defineProperty(n,"files",{get:()=>Ro(e,t)}),n}async function Gi(e,t){return t.kind==="file"?t.getAsFile():new e.Blob([await new Promise(n=>t.getAsString(n))],{type:t.type})}function Fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hr(e,...t){const n=Object.fromEntries(t.map(o=>[typeof o=="string"?"text/plain":o.type,Promise.resolve(o)]));return typeof e.ClipboardItem<"u"?new e.ClipboardItem(n):new class{get types(){return Array.from(Object.keys(this.data))}async getType(s){const i=await this.data[s];if(!i)throw new Error(`${s} is not one of the available MIME types on this item.`);return i instanceof e.Blob?i:new e.Blob([i],{type:s})}constructor(s){Fr(this,"data",void 0),this.data=s}}(n)}const Ae=Symbol("Manage ClipboardSub");function Jo(e,t){return Object.assign(new class extends e.EventTarget{async read(){return Array.from(this.items)}async readText(){let o="";for(const s of this.items){const i=s.types.includes("text/plain")?"text/plain":s.types.find(a=>a.startsWith("text/"));i&&(o+=await s.getType(i).then(a=>Lr(a,e.FileReader)))}return o}async write(o){this.items=o}async writeText(o){this.items=[Hr(e,o)]}constructor(...o){super(...o),Fr(this,"items",[])}},{[Ae]:t})}function Lo(e){return!!e?.[Ae]}function qi(e){if(Lo(e.navigator.clipboard))return e.navigator.clipboard[Ae];const t=Object.getOwnPropertyDescriptor(e.navigator,"clipboard");let n;const o={resetClipboardStub:()=>{n=Jo(e,o)},detachClipboardStub:()=>{t?Object.defineProperty(e.navigator,"clipboard",t):Object.defineProperty(e.navigator,"clipboard",{value:void 0,configurable:!0})}};return n=Jo(e,o),Object.defineProperty(e.navigator,"clipboard",{get:()=>n,configurable:!0}),n[Ae]}function Xi(e){Lo(e.navigator.clipboard)&&e.navigator.clipboard[Ae].resetClipboardStub()}function zi(e){Lo(e.navigator.clipboard)&&e.navigator.clipboard[Ae].detachClipboardStub()}async function Yi(e){const t=e.defaultView,n=t?.navigator.clipboard,o=n&&await n.read();if(!o)throw new Error("The Clipboard API is unavailable.");const s=Oo(t);for(const i of o)for(const a of i.types)s.setData(a,await i.getType(a).then(l=>Lr(l,t.FileReader)));return s}async function Wr(e,t){const n=M(e),o=n.navigator.clipboard,s=[];for(let a=0;a<t.items.length;a++){const l=t.items[a],d=await Gi(n,l);s.push(Hr(n,d))}if(!(o&&await o.write(s).then(()=>!0,()=>!1)))throw new Error("The Clipboard API is unavailable.")}const $t=globalThis;typeof $t.afterEach=="function"&&$t.afterEach(()=>Xi(globalThis.window));typeof $t.afterAll=="function"&&$t.afterAll(()=>zi(globalThis.window));const $r=["input:not([type=hidden]):not([disabled])","button:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contenteditable=""]','[contenteditable="true"]',"a[href]","[tabindex]:not([disabled])"].join(", ");function Vo(e){return e.matches($r)}function Qi(e){return new e.constructor(e.type,e)}function G(e){for(let n=e;n;n=n.parentElement)if(h(n,["button","input","select","textarea","optgroup","option"])){if(n.hasAttribute("disabled"))return!0}else if(h(n,"fieldset")){var t;if(n.hasAttribute("disabled")&&!(!((t=n.querySelector(":scope > legend"))===null||t===void 0)&&t.contains(e)))return!0}else if(n.tagName.includes("-")&&n.constructor.formAssociated&&n.hasAttribute("disabled"))return!0;return!1}function wt(e){const t=e.activeElement;return t?.shadowRoot?wt(t.shadowRoot):G(t)?e.ownerDocument?e.ownerDocument.body:e.body:t}function Tn(e){var t;return(t=wt(e))!==null&&t!==void 0?t:e.body}function Ji(e,t){let n=e;do{if(t(n))return n;n=n.parentElement}while(n&&n!==e.ownerDocument.body)}function ve(e){return e.hasAttribute("contenteditable")&&(e.getAttribute("contenteditable")=="true"||e.getAttribute("contenteditable")=="")}function ot(e){const t=Zi(e);return t&&(t.closest('[contenteditable=""]')||t.closest('[contenteditable="true"]'))}function Zi(e){return e.nodeType===1?e:e.parentElement}var Kr=(function(e){return e.button="button",e.color="color",e.file="file",e.image="image",e.reset="reset",e.submit="submit",e.checkbox="checkbox",e.radio="radio",e})(Kr||{});function Gr(e){return h(e,"button")||h(e,"input")&&e.type in Kr}function De(e){return Xr(e)&&!e.readOnly||ve(e)}var qr=(function(e){return e.text="text",e.date="date",e["datetime-local"]="datetime-local",e.email="email",e.month="month",e.number="number",e.password="password",e.search="search",e.tel="tel",e.time="time",e.url="url",e.week="week",e})(qr||{});function Xr(e){return h(e,"textarea")||h(e,"input")&&e.type in qr}function L(e){return zr(e)&&Xr(e)}function ea(e){return zr(e)&&Gr(e)}function zr(e){return e.nodeType===1}function ta(e){const t=e.ownerDocument.getSelection();if(t?.focusNode&&L(e)){const o=ot(t.focusNode);if(o){if(!t.isCollapsed){var n;const s=((n=o.firstChild)===null||n===void 0?void 0:n.nodeType)===3?o.firstChild:o;t.setBaseAndExtent(s,0,s,0)}}else t.setBaseAndExtent(e,0,e,0)}}function Be(e,t){return ke().eventWrapper(e)}function Z(e){const t=Ji(e,Vo),n=wt(e.ownerDocument);(t??e.ownerDocument.body)!==n&&(Be(t?()=>t.focus():()=>n?.blur()),ta(t??e.ownerDocument.body))}function na(e){!Vo(e)||!(wt(e.ownerDocument)===e)||Be(()=>e.blur())}const ee={};ee.click=(e,t,n)=>{const o=t.closest("button,input,label,select,textarea"),s=o&&h(o,"label")&&o.control;if(s&&s!==t)return()=>{Vo(s)&&(Z(s),n.dispatchEvent(s,Qi(e)))};if(h(t,"input",{type:"file"}))return()=>{na(t),t.dispatchEvent(new(M(t)).Event("fileDialog")),Z(t)}};const Me=Symbol("Displayed value in UI"),H=Symbol("Displayed selection in UI"),Kt=Symbol("Initial value to compare on blur");function oa(e){return typeof e=="object"&&Me in e}function ra(e){return!!e&&typeof e=="object"&&H in e}function sa(e,t){e[Kt]===void 0&&(e[Kt]=e.value),e[Me]=t,e.value=Object.assign(new String(t),{[Me]:!0})}function V(e){return e[Me]===void 0?e.value:String(e[Me])}function Fo(e){e[Me]=void 0}function Yr(e){e[Kt]=void 0}function ia(e){return e[Kt]}function aa(e,t){e[H]=t}function Ge(e,{focusOffset:t,anchorOffset:n=t},o="replace"){const s=V(e).length,i=m=>Math.max(0,Math.min(s,m)),a=o==="replace"||e[H]===void 0?i(n):e[H].anchorOffset,l=i(t),d=Math.min(a,l),u=Math.max(a,l);if(e[H]={anchorOffset:a,focusOffset:l},e.selectionStart===d&&e.selectionEnd===u)return;const p=Object.assign(new Number(d),{[H]:!0});try{e.setSelectionRange(p,u)}catch{}}function rt(e){var t,n,o;const s=(o=e[H])!==null&&o!==void 0?o:{anchorOffset:(t=e.selectionStart)!==null&&t!==void 0?t:0,focusOffset:(n=e.selectionEnd)!==null&&n!==void 0?n:0};return{...s,startOffset:Math.min(s.anchorOffset,s.focusOffset),endOffset:Math.max(s.anchorOffset,s.focusOffset)}}function la(e){return!!e[H]}function Vt(e){e[H]=void 0}const Gt=globalThis.parseInt;function ca(e){const t=e.replace(/\D/g,"");if(t.length<2)return e;const n=Gt(t[0],10),o=Gt(t[1],10);if(n>=3||n===2&&o>=4){let s;return n>=3?s=1:s=2,Zo(t,s)}return e.length===2?e:Zo(t,2)}function Zo(e,t){const n=e.slice(0,t),o=Math.min(Gt(n,10),23),s=e.slice(t),i=Gt(s,10),a=Math.min(i,59);return`${o.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`}function Qr(e,t){const n=e.cloneNode();return n.value=t,n.value===t}var Jr=(function(e){return e.email="email",e.password="password",e.search="search",e.telephone="telephone",e.text="text",e.url="url",e})(Jr||{});function da(e){var t;const n=(t=e.getAttribute("maxlength"))!==null&&t!==void 0?t:"";return/^\d+$/.test(n)&&Number(n)>=0?Number(n):void 0}function ua(e){return h(e,"textarea")||h(e,"input")&&e.type in Jr}function Zr(e,t,n,o){if(Ft(e)&&t+n>=0&&t+n<=e.nodeValue.length)return{node:e,offset:t+n};const s=er(e,t,n);if(s){if(Ft(s))return{node:s,offset:n>0?Math.min(1,s.nodeValue.length):Math.max(s.nodeValue.length-1,0)};if(h(s,"br")){const i=er(s,void 0,n);return i?Ft(i)?{node:i,offset:n>0?0:i.nodeValue.length}:n<0&&h(i,"br")?{node:s.parentNode,offset:kt(s)}:{node:i.parentNode,offset:kt(i)+(n>0?0:1)}:n<0&&o==="deleteContentBackward"?{node:s.parentNode,offset:kt(s)}:void 0}else return{node:s.parentNode,offset:kt(s)+(n>0?1:0)}}}function er(e,t,n){const o=Number(t)+(n<0?-1:0);return t!==void 0&&Ho(e)&&o>=0&&o<e.children.length&&(e=e.children[o]),fa(e,n===1?"next":"previous",pa)}function pa(e){if(Ft(e))return!0;if(Ho(e)){if(h(e,["input","textarea"]))return e.type!=="hidden";if(h(e,"br"))return!0}return!1}function kt(e){let t=0;for(;e.previousSibling;)t++,e=e.previousSibling;return t}function Ho(e){return e.nodeType===1}function Ft(e){return e.nodeType===3}function fa(e,t,n){for(;;){var o;const s=e[`${t}Sibling`];if(s){if(e=ha(s,t==="next"?"first":"last"),n(e))return e}else if(e.parentNode&&(!Ho(e.parentNode)||!ve(e.parentNode)&&e.parentNode!==((o=e.ownerDocument)===null||o===void 0?void 0:o.body)))e=e.parentNode;else break}}function ha(e,t){for(;e.hasChildNodes();)e=e[`${t}Child`];return e}const st=Symbol("Track programmatic changes for React workaround");function ma(e){return Object.getOwnPropertyNames(e).some(t=>t.startsWith("__react"))&&M(e).REACT_VERSION===17}function ga(e){ma(e)&&(e[st]={previousValue:String(e.value),tracked:[]})}function ya(e,t){var n,o;(o=e[st])===null||o===void 0||(n=o.tracked)===null||n===void 0||n.push(t),e[st]||(Fo(e),Ge(e,{focusOffset:t.length}))}function va(e,t){var n;const o=e[st];if(e[st]=void 0,!(!(o==null||(n=o.tracked)===null||n===void 0)&&n.length))return;const s=o.tracked.length===2&&o.tracked[0]===o.previousValue&&o.tracked[1]===e.value;s||Fo(e),la(e)&&Ge(e,{focusOffset:s?t:e.value.length})}function es(e){const t=xa(e);if(t&&L(t))return{type:"input",selection:rt(t)};const n=t?.ownerDocument.getSelection();return{type:ot(e)&&n?.anchorNode&&ot(n.anchorNode)?"contenteditable":"default",selection:n}}function xa(e){return e.nodeType===1?e:e.parentElement}function _a(e){const t=es(e);if(t.type==="input")return t.selection;if(t.type==="contenteditable"){var n;return(n=t.selection)===null||n===void 0?void 0:n.getRangeAt(0)}}function xe({focusNode:e,focusOffset:t,anchorNode:n=e,anchorOffset:o=t}){var s,i;if(es(e).type==="input")return Ge(e,{anchorOffset:o,focusOffset:t});(i=n.ownerDocument)===null||i===void 0||(s=i.getSelection())===null||s===void 0||s.setBaseAndExtent(n,o,e,t)}function ts(e){return h(e,"input")&&["date","time"].includes(e.type)}function Ue(e,t,n,o="insertText"){const s=_a(t);s&&(!ts(t)&&!e.dispatchUIEvent(t,"beforeinput",{inputType:o,data:n})||("startContainer"in s?ba(e,t,s,n,o):Ca(e,t,s,n,o)))}function ba(e,t,n,o,s){let i=!1;if(!n.collapsed)i=!0,n.deleteContents();else if(["deleteContentBackward","deleteContentForward"].includes(s)){const a=Zr(n.startContainer,n.startOffset,s==="deleteContentBackward"?-1:1,s);if(a){i=!0;const l=n.cloneRange();l.comparePoint(a.node,a.offset)<0?l.setStart(a.node,a.offset):l.setEnd(a.node,a.offset),l.deleteContents()}}if(o)if(n.endContainer.nodeType===3){const a=n.endOffset;n.endContainer.insertData(a,o),n.setStart(n.endContainer,a+o.length),n.setEnd(n.endContainer,a+o.length)}else{const a=t.ownerDocument.createTextNode(o);n.insertNode(a),n.setStart(a,o.length),n.setEnd(a,o.length)}(i||o)&&e.dispatchUIEvent(t,"input",{inputType:s})}function Ca(e,t,n,o,s){let i=o;if(ua(t)){const u=da(t);if(u!==void 0&&o.length>0){const p=u-t.value.length;if(p>0)i=o.substring(0,p);else return}}const{newValue:a,newOffset:l,oldValue:d}=wa(i,t,n,s);a===d&&l===n.startOffset&&l===n.endOffset||h(t,"input",{type:"number"})&&!Sa(a)||(sa(t,a),xe({focusNode:t,anchorOffset:l,focusOffset:l}),ts(t)?Qr(t,a)&&(tr(e,t,l,{}),e.dispatchUIEvent(t,"change"),Yr(t)):tr(e,t,l,{data:o,inputType:s}))}function wa(e,t,{startOffset:n,endOffset:o},s){const i=V(t),a=Math.max(0,n===o&&s==="deleteContentBackward"?n-1:n),l=i.substring(0,a),d=Math.min(i.length,n===o&&s==="deleteContentForward"?n+1:o),u=i.substring(d,i.length);let p=`${l}${e}${u}`,m=a+e.length;if(h(t,"input",{type:"time"})){const v=ca(p);v!==""&&Qr(t,v)&&(p=v,m=v.length)}return{oldValue:i,newValue:p,newOffset:m}}function tr(e,t,n,o){e.dispatchUIEvent(t,"input",o),va(t,n)}function Sa(e){var t,n;const o=e.split("e",2);return!(/[^\d.\-e]/.test(e)||Number((t=e.match(/-/g))===null||t===void 0?void 0:t.length)>2||Number((n=e.match(/\./g))===null||n===void 0?void 0:n.length)>1||o[1]&&!/^-?\d*$/.test(o[1]))}ee.cut=(e,t,n)=>()=>{De(t)&&Ue(n,t,"","deleteByCut")};function Ea(e){return e?ve(e)?e.textContent:V(e):null}function ka(e){const t=M(e);for(let n=e;n?.ownerDocument;n=n.parentElement){const{display:o,visibility:s}=t.getComputedStyle(n);if(o==="none"||s==="hidden")return!1}return!0}function ja(e,t){const n=e.ownerDocument,o=n.querySelectorAll($r),s=Array.from(o).filter(d=>d===e||!(Number(d.getAttribute("tabindex"))<0||G(d)));Number(e.getAttribute("tabindex"))>=0&&s.sort((d,u)=>{const p=Number(d.getAttribute("tabindex")),m=Number(u.getAttribute("tabindex"));return p===m?0:p===0?1:m===0?-1:p-m});const i={};let a=[n.body];const l=h(e,"input",{type:"radio"})?e.name:void 0;s.forEach(d=>{const u=d;if(h(u,"input",{type:"radio"})&&u.name){if(u===e){a.push(u);return}else if(u.name===l)return;if(u.checked){a=a.filter(p=>!h(p,"input",{type:"radio",name:u.name})),a.push(u),i[u.name]=u;return}if(typeof i[u.name]<"u")return}a.push(u)});for(let d=a.findIndex(u=>u===e);;)if(d+=t?-1:1,d===a.length?d=0:d===-1&&(d=a.length-1),a[d]===e||a[d]===n.body||ka(a[d]))return a[d]}function nr(e,t){if(L(e)){const n=rt(e);xe({focusNode:e,focusOffset:n.startOffset===n.endOffset?n.focusOffset+t:t<0?n.startOffset:n.endOffset})}else{const n=e.ownerDocument.getSelection();if(!n?.focusNode)return;if(n.isCollapsed){const o=Zr(n.focusNode,n.focusOffset,t);o&&xe({focusNode:o.node,focusOffset:o.offset})}else n[t<0?"collapseToStart":"collapseToEnd"]()}}function ns(e){if(L(e))return xe({focusNode:e,anchorOffset:0,focusOffset:V(e).length});var t;const n=(t=ot(e))!==null&&t!==void 0?t:e.ownerDocument.body;xe({focusNode:n,anchorOffset:0,focusOffset:n.childNodes.length})}function Na(e){if(L(e))return rt(e).startOffset===0&&rt(e).endOffset===V(e).length;var t;const n=(t=ot(e))!==null&&t!==void 0?t:e.ownerDocument.body,o=e.ownerDocument.getSelection();return o?.anchorNode===n&&o.focusNode===n&&o.anchorOffset===0&&o.focusOffset===n.childNodes.length}function Ze(e,t,n){var o;if(L(e))return xe({focusNode:e,anchorOffset:t,focusOffset:n});if(ve(e)&&((o=e.firstChild)===null||o===void 0?void 0:o.nodeType)===3)return xe({focusNode:e.firstChild,anchorOffset:t,focusOffset:n});throw new Error("Not implemented. The result of this interaction is unreliable.")}function jt(e,t,n){const o=M(t),s=Array.from(t.ownerDocument.querySelectorAll(t.name?`input[type="radio"][name="${o.CSS.escape(t.name)}"]`:'input[type="radio"][name=""], input[type="radio"]:not([name])'));for(let i=s.findIndex(a=>a===t)+n;;i+=n){if(s[i]||(i=n>0?0:s.length-1),s[i]===t)return;if(!G(s[i])){Z(s[i]),e.dispatchUIEvent(s[i],"click");return}}}ee.keydown=(e,t,n)=>{var o,s;return(s=(o=or[e.key])===null||o===void 0?void 0:o.call(or,e,t,n))!==null&&s!==void 0?s:Ta(e,t,n)};const or={ArrowDown:(e,t,n)=>{if(h(t,"input",{type:"radio"}))return()=>jt(n,t,1)},ArrowLeft:(e,t,n)=>h(t,"input",{type:"radio"})?()=>jt(n,t,-1):()=>nr(t,-1),ArrowRight:(e,t,n)=>h(t,"input",{type:"radio"})?()=>jt(n,t,1):()=>nr(t,1),ArrowUp:(e,t,n)=>{if(h(t,"input",{type:"radio"}))return()=>jt(n,t,-1)},Backspace:(e,t,n)=>{if(De(t))return()=>{Ue(n,t,"","deleteContentBackward")}},Delete:(e,t,n)=>{if(De(t))return()=>{Ue(n,t,"","deleteContentForward")}},End:(e,t)=>{if(h(t,["input","textarea"])||ve(t))return()=>{var n,o;const s=(o=(n=Ea(t))===null||n===void 0?void 0:n.length)!==null&&o!==void 0?o:0;Ze(t,s,s)}},Home:(e,t)=>{if(h(t,["input","textarea"])||ve(t))return()=>{Ze(t,0,0)}},PageDown:(e,t)=>{if(h(t,["input"]))return()=>{const n=V(t).length;Ze(t,n,n)}},PageUp:(e,t)=>{if(h(t,["input"]))return()=>{Ze(t,0,0)}},Tab:(e,t,n)=>()=>{const o=ja(t,n.system.keyboard.modifiers.Shift);Z(o),L(o)&&Ge(o,{anchorOffset:0,focusOffset:o.value.length})}},Ta=(e,t,n)=>{if(e.code==="KeyA"&&n.system.keyboard.modifiers.Control)return()=>ns(t)};ee.keypress=(e,t,n)=>{if(e.key==="Enter"){if(h(t,"button")||h(t,"input")&&Ia.includes(t.type)||h(t,"a")&&t.href)return()=>{n.dispatchUIEvent(t,"click")};if(h(t,"input")){const o=t.form,s=o?.querySelector('input[type="submit"], button:not([type]), button[type="submit"]');return s?()=>n.dispatchUIEvent(s,"click"):o&&Pa.includes(t.type)&&o.querySelectorAll("input").length===1?()=>n.dispatchUIEvent(o,"submit"):void 0}}if(De(t)){const o=e.key==="Enter"?ve(t)&&!n.system.keyboard.modifiers.Shift?"insertParagraph":"insertLineBreak":"insertText",s=e.key==="Enter"?`
`:e.key;return()=>Ue(n,t,s,o)}};const Ia=["button","color","file","image","reset","submit"],Pa=["email","month","password","search","tel","text","url","week"];ee.keyup=(e,t,n)=>{var o;return(o=rr[e.key])===null||o===void 0?void 0:o.call(rr,e,t,n)};const rr={" ":(e,t,n)=>{if(Gr(t))return()=>n.dispatchUIEvent(t,"click")}};ee.paste=(e,t,n)=>{if(De(t))return()=>{var o;const s=(o=e.clipboardData)===null||o===void 0?void 0:o.getData("text");s&&Ue(n,t,s,"insertFromPaste")}};const os={auxclick:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},beforeinput:{EventType:"InputEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},blur:{EventType:"FocusEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},click:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},contextmenu:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},copy:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},change:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!1}},cut:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},dblclick:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},focus:{EventType:"FocusEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},focusin:{EventType:"FocusEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},focusout:{EventType:"FocusEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},keydown:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},keypress:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},keyup:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},paste:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},input:{EventType:"InputEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},mousedown:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseenter:{EventType:"MouseEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},mouseleave:{EventType:"MouseEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},mousemove:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseout:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseover:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseup:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerover:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerenter:{EventType:"PointerEvent",defaultInit:{bubbles:!1,cancelable:!1}},pointerdown:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointermove:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerup:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointercancel:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},pointerout:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerleave:{EventType:"PointerEvent",defaultInit:{bubbles:!1,cancelable:!1}},submit:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!0}}};function rs(e){return os[e].EventType}const Aa=["MouseEvent","PointerEvent"];function Da(e){return Aa.includes(rs(e))}function Ba(e){return rs(e)==="KeyboardEvent"}const Ma={ClipboardEvent:[Ra],Event:[],FocusEvent:[Je,Oa],InputEvent:[Je,La],MouseEvent:[Je,In,sr],PointerEvent:[Je,In,sr,Fa],KeyboardEvent:[Je,In,Va]};function ss(e,t,n){const o=M(t),{EventType:s,defaultInit:i}=os[e],a=new(Ua(o))[s](e,i);return Ma[s].forEach(l=>l(a,n??{})),a}function Ua(e){var t;const n=(t=e.Event)!==null&&t!==void 0?t:class{};var o;const s=(o=e.AnimationEvent)!==null&&o!==void 0?o:class extends n{};var i;const a=(i=e.ClipboardEvent)!==null&&i!==void 0?i:class extends n{};var l;const d=(l=e.PopStateEvent)!==null&&l!==void 0?l:class extends n{};var u;const p=(u=e.ProgressEvent)!==null&&u!==void 0?u:class extends n{};var m;const v=(m=e.TransitionEvent)!==null&&m!==void 0?m:class extends n{};var x;const C=(x=e.UIEvent)!==null&&x!==void 0?x:class extends n{};var z;const Xe=(z=e.CompositionEvent)!==null&&z!==void 0?z:class extends C{};var ae;const ze=(ae=e.FocusEvent)!==null&&ae!==void 0?ae:class extends C{};var le;const Ye=(le=e.InputEvent)!==null&&le!==void 0?le:class extends C{};var ce;const Qe=(ce=e.KeyboardEvent)!==null&&ce!==void 0?ce:class extends C{};var de;const ue=(de=e.MouseEvent)!==null&&de!==void 0?de:class extends C{};var pe;const Is=(pe=e.DragEvent)!==null&&pe!==void 0?pe:class extends ue{};var En;const Ps=(En=e.PointerEvent)!==null&&En!==void 0?En:class extends ue{};var kn;const As=(kn=e.TouchEvent)!==null&&kn!==void 0?kn:class extends C{};return{Event:n,AnimationEvent:s,ClipboardEvent:a,PopStateEvent:d,ProgressEvent:p,TransitionEvent:v,UIEvent:C,CompositionEvent:Xe,FocusEvent:ze,InputEvent:Ye,KeyboardEvent:Qe,MouseEvent:ue,DragEvent:Is,PointerEvent:Ps,TouchEvent:As}}function se(e,t){for(const[n,o]of Object.entries(t))Object.defineProperty(e,n,{get:()=>o??null})}function _(e){return Number(e??0)}function Ra(e,{clipboardData:t}){se(e,{clipboardData:t})}function Oa(e,{relatedTarget:t}){se(e,{relatedTarget:t})}function La(e,{data:t,inputType:n,isComposing:o}){se(e,{data:t,isComposing:!!o,inputType:String(n)})}function Je(e,{view:t,detail:n}){se(e,{view:t,detail:_(n??0)})}function In(e,{altKey:t,ctrlKey:n,metaKey:o,shiftKey:s,modifierAltGraph:i,modifierCapsLock:a,modifierFn:l,modifierFnLock:d,modifierNumLock:u,modifierScrollLock:p,modifierSymbol:m,modifierSymbolLock:v}){se(e,{altKey:!!t,ctrlKey:!!n,metaKey:!!o,shiftKey:!!s,getModifierState(x){return!!{Alt:t,AltGraph:i,CapsLock:a,Control:n,Fn:l,FnLock:d,Meta:o,NumLock:u,ScrollLock:p,Shift:s,Symbol:m,SymbolLock:v}[x]}})}function Va(e,{key:t,code:n,location:o,repeat:s,isComposing:i,charCode:a}){se(e,{key:String(t),code:String(n),location:_(o),repeat:!!s,isComposing:!!i,charCode:a})}function sr(e,{x:t,y:n,screenX:o,screenY:s,clientX:i=t,clientY:a=n,button:l,buttons:d,relatedTarget:u,offsetX:p,offsetY:m,pageX:v,pageY:x}){se(e,{screenX:_(o),screenY:_(s),clientX:_(i),x:_(i),clientY:_(a),y:_(a),button:_(l),buttons:_(d),relatedTarget:u,offsetX:_(p),offsetY:_(m),pageX:_(v),pageY:_(x)})}function Fa(e,{pointerId:t,width:n,height:o,pressure:s,tangentialPressure:i,tiltX:a,tiltY:l,twist:d,pointerType:u,isPrimary:p}){se(e,{pointerId:_(t),width:_(n??1),height:_(o??1),pressure:_(s),tangentialPressure:_(i),tiltX:_(a),tiltY:_(l),twist:_(d),pointerType:String(u),isPrimary:!!p})}function Ha(e,t,n,o=!1){(Da(t)||Ba(t))&&(n={...n,...this.system.getUIEventModifiers()});const s=ss(t,e,n);return is.call(this,e,s,o)}function is(e,t,n=!1){var o;const s=t.type,i=n?()=>{}:(o=ee[s])===null||o===void 0?void 0:o.call(ee,t,e,this);if(i){t.preventDefault();let a=!1;return Object.defineProperty(t,"defaultPrevented",{get:()=>a}),Object.defineProperty(t,"preventDefault",{value:()=>{a=t.cancelable}}),Be(()=>e.dispatchEvent(t)),a||i(),!a}return Be(()=>e.dispatchEvent(t))}function ge(e,t,n){const o=ss(t,e,n);Be(()=>e.dispatchEvent(o))}const ir=Symbol("patched focus/blur methods");function as(e){if(e.prototype[ir])return;const{focus:t,blur:n}=e.prototype;Object.defineProperties(e.prototype,{focus:{configurable:!0,get:()=>s},blur:{configurable:!0,get:()=>i},[ir]:{configurable:!0,get:()=>({focus:t,blur:n})}});let o;function s(a){if(this.ownerDocument.visibilityState!=="hidden")return t.call(this,a);const l=ar(this.ownerDocument);if(l===this)return;const d=Symbol("focus call");o=d,l&&(n.call(l),ge(l,"blur",{relatedTarget:this}),ge(l,"focusout",{relatedTarget:o===d?this:null})),o===d&&(t.call(this,a),ge(this,"focus",{relatedTarget:l})),o===d&&ge(this,"focusin",{relatedTarget:l})}function i(){if(this.ownerDocument.visibilityState!=="hidden")return n.call(this);const a=ar(this.ownerDocument);if(a!==this)return;o=Symbol("blur call"),n.call(this),ge(a,"blur",{relatedTarget:null}),ge(a,"focusout",{relatedTarget:null})}}function ar(e){const t=wt(e);return t?.tagName==="BODY"?null:t}const Pn=Symbol("Interceptor for programmatical calls");function je(e,t,n){const o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=Object.getOwnPropertyDescriptor(e,t),i=o?.set?"set":"value";if(typeof o?.[i]!="function"||o[i][Pn])throw new Error(`Element ${e.tagName} does not implement "${String(t)}".`);function a(...l){const{applyNative:d=!1,realArgs:u,then:p}=n.call(this,...l),m=(!d&&s||o)[i];i==="set"?m.call(this,u):m.call(this,...u),p?.()}a[Pn]=Pn,Object.defineProperty(e,t,{...s??o,[i]:a})}function Wa(e){je(e,"value",function(n){const o=oa(n);return o&&ga(this),{applyNative:!!o,realArgs:$a(this,n),then:o?void 0:()=>ya(this,String(n))}})}function $a(e,t){return h(e,"input",{type:"number"})&&String(t)!==""&&!Number.isNaN(Number(t))?String(Number(t)):String(t)}function Ka(e){je(e,"setSelectionRange",function(n,...o){const s=ra(n);return{applyNative:!!s,realArgs:[Number(n),...o],then:()=>s?void 0:Vt(e)}}),je(e,"selectionStart",function(n){return{realArgs:n,then:()=>Vt(e)}}),je(e,"selectionEnd",function(n){return{realArgs:n,then:()=>Vt(e)}}),je(e,"select",function(){return{realArgs:[],then:()=>aa(e,{anchorOffset:0,focusOffset:V(e).length})}})}function Ga(e){je(e,"setRangeText",function(...n){return{realArgs:n,then:()=>{Fo(e),Vt(e)}}})}const Ne=Symbol("Node prepared with document state workarounds");function ls(e){e[Ne]||(e.addEventListener("focus",t=>{const n=t.target;lr(n)},{capture:!0,passive:!0}),e.activeElement&&lr(e.activeElement),e.addEventListener("blur",t=>{const n=t.target,o=ia(n);o!==void 0&&(n.value!==o&&ge(n,"change"),Yr(n))},{capture:!0,passive:!0}),e[Ne]=Ne)}function lr(e){e[Ne]||(h(e,["input","textarea"])&&(Wa(e),Ka(e),Ga(e)),e[Ne]=Ne)}function qa(e){return Xa(e)?e:e.ownerDocument}function Xa(e){return e.nodeType===9}var T=(function(e){return e[e.Trigger=2]="Trigger",e[e.Call=1]="Call",e})({});function et(e,t){e.levelRefs[t]={}}function Nt(e,t){return e.levelRefs[t]}function Re(e){const t=e.delay;if(typeof t=="number")return Promise.all([new Promise(n=>globalThis.setTimeout(()=>n(),t)),e.advanceTimers(t)])}var Ht=(function(e){return e[e.EachTrigger=4]="EachTrigger",e[e.EachApiCall=2]="EachApiCall",e[e.EachTarget=1]="EachTarget",e[e.Never=0]="Never",e})({});function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=(function(e){return e[e.STANDARD=0]="STANDARD",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.NUMPAD=3]="NUMPAD",e})({});const za=["Alt","AltGraph","Control","Fn","Meta","Shift","Symbol"];function cr(e){return za.includes(e)}const Ya=["CapsLock","FnLock","NumLock","ScrollLock","SymbolLock"];function dr(e){return Ya.includes(e)}class Qa{isKeyPressed(t){return this.pressed.has(String(t.code))}getPressedKeys(){return this.pressed.values().map(t=>t.keyDef)}async keydown(t,n){const o=String(n.key),s=String(n.code),i=Tn(t.config.document);this.setKeydownTarget(i),this.pressed.add(s,n),cr(o)&&(this.modifiers[o]=!0);const a=t.dispatchUIEvent(i,"keydown",{key:o,code:s});dr(o)&&!this.modifiers[o]&&(this.modifiers[o]=!0,this.modifierLockStart[o]=!0),a&&this.pressed.setUnprevented(s),a&&this.hasKeyPress(o)&&t.dispatchUIEvent(Tn(t.config.document),"keypress",{key:o,code:s,charCode:n.key==="Enter"?13:String(n.key).charCodeAt(0)})}async keyup(t,n){const o=String(n.key),s=String(n.code),i=this.pressed.isUnprevented(s);this.pressed.delete(s),cr(o)&&!this.pressed.values().find(a=>a.keyDef.key===o)&&(this.modifiers[o]=!1),t.dispatchUIEvent(Tn(t.config.document),"keyup",{key:o,code:s},!i),dr(o)&&this.modifiers[o]&&(this.modifierLockStart[o]?this.modifierLockStart[o]=!1:this.modifiers[o]=!1)}setKeydownTarget(t){t!==this.lastKeydownTarget&&(this.carryChar=""),this.lastKeydownTarget=t}hasKeyPress(t){return(t.length===1||t==="Enter")&&!this.modifiers.Control&&!this.modifiers.Alt}constructor(t){fe(this,"system",void 0),fe(this,"modifiers",{Alt:!1,AltGraph:!1,CapsLock:!1,Control:!1,Fn:!1,FnLock:!1,Meta:!1,NumLock:!1,ScrollLock:!1,Shift:!1,Symbol:!1,SymbolLock:!1}),fe(this,"pressed",new class{add(n,o){var s,i,a;(a=(s=this.registry)[i=n])!==null&&a!==void 0||(s[i]={keyDef:o,unpreventedDefault:!1})}has(n){return!!this.registry[n]}setUnprevented(n){const o=this.registry[n];o&&(o.unpreventedDefault=!0)}isUnprevented(n){var o;return!!(!((o=this.registry[n])===null||o===void 0)&&o.unpreventedDefault)}delete(n){delete this.registry[n]}values(){return Object.values(this.registry)}constructor(){fe(this,"registry",{})}}),fe(this,"carryChar",""),fe(this,"lastKeydownTarget",void 0),fe(this,"modifierLockStart",{}),this.system=t}}const Ja=[..."0123456789".split("").map(e=>({code:`Digit${e}`,key:e})),...")!@#$%^&*(".split("").map((e,t)=>({code:`Digit${t}`,key:e,shiftKey:!0})),..."abcdefghijklmnopqrstuvwxyz".split("").map(e=>({code:`Key${e.toUpperCase()}`,key:e})),..."ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").map(e=>({code:`Key${e}`,key:e,shiftKey:!0})),{code:"BracketLeft",key:"["},{code:"BracketLeft",key:"{",shiftKey:!0},{code:"BracketRight",key:"]"},{code:"BracketRight",key:"}",shiftKey:!0},{code:"Space",key:" "},{code:"AltLeft",key:"Alt",location:R.LEFT},{code:"AltRight",key:"Alt",location:R.RIGHT},{code:"ShiftLeft",key:"Shift",location:R.LEFT},{code:"ShiftRight",key:"Shift",location:R.RIGHT},{code:"ControlLeft",key:"Control",location:R.LEFT},{code:"ControlRight",key:"Control",location:R.RIGHT},{code:"MetaLeft",key:"Meta",location:R.LEFT},{code:"MetaRight",key:"Meta",location:R.RIGHT},{code:"OSLeft",key:"OS",location:R.LEFT},{code:"OSRight",key:"OS",location:R.RIGHT},{code:"ContextMenu",key:"ContextMenu"},{code:"Tab",key:"Tab"},{code:"CapsLock",key:"CapsLock"},{code:"Backspace",key:"Backspace"},{code:"Enter",key:"Enter"},{code:"Escape",key:"Escape"},{code:"ArrowUp",key:"ArrowUp"},{code:"ArrowDown",key:"ArrowDown"},{code:"ArrowLeft",key:"ArrowLeft"},{code:"ArrowRight",key:"ArrowRight"},{code:"Home",key:"Home"},{code:"End",key:"End"},{code:"Delete",key:"Delete"},{code:"PageUp",key:"PageUp"},{code:"PageDown",key:"PageDown"},{code:"Fn",key:"Fn"},{code:"Symbol",key:"Symbol"},{code:"AltRight",key:"AltGraph"}],Za=[{name:"MouseLeft",pointerType:"mouse",button:"primary"},{name:"MouseRight",pointerType:"mouse",button:"secondary"},{name:"MouseMiddle",pointerType:"mouse",button:"auxiliary"},{name:"TouchA",pointerType:"touch"},{name:"TouchB",pointerType:"touch"},{name:"TouchC",pointerType:"touch"}];function el(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class cs{getButtons(){let t=0;for(const n of Object.keys(this.pressed))t|=2**Number(n);return t}down(t){const n=Bn(t.button);if(n in this.pressed){this.pressed[n].push(t);return}return this.pressed[n]=[t],n}up(t){const n=Bn(t.button);if(n in this.pressed&&(this.pressed[n]=this.pressed[n].filter(o=>o.name!==t.name),this.pressed[n].length===0))return delete this.pressed[n],n}constructor(){el(this,"pressed",{})}}const ur={primary:0,secondary:1,auxiliary:2,back:3,X1:3,forward:4,X2:4};function Bn(e=0){return e in ur?ur[e]:Number(e)}const pr={1:2,2:1};function Mn(e){return e=Bn(e),e in pr?pr[e]:e}function tl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class nl{get countPressed(){return this.pressedKeys.size}isPressed(t){return this.pressedKeys.has(t.name)}addPressed(t){return this.pressedKeys.add(t.name)}removePressed(t){return this.pressedKeys.delete(t.name)}constructor(){tl(this,"pressedKeys",new Set)}}function nt(e,t){const n=[];for(let i=e;i;i=i.parentElement)n.push(i);const o=[];for(let i=t;i;i=i.parentElement)o.push(i);let s=0;for(;!(s>=n.length||s>=o.length||n[n.length-1-s]!==o[o.length-1-s]);s++);return[n.slice(0,n.length-s),o.slice(0,o.length-s),o.slice(o.length-s)]}function Un({target:e,node:t,offset:n}){return L(e)?{node:e,offset:n??V(e).length}:t?{node:t,offset:n??(t.nodeType===3?t.nodeValue.length:t.childNodes.length)}:ds(e,n)}function ds(e,t,n=!0){let o=t===void 0?e.childNodes.length-1:0;const s=t===void 0?-1:1;for(;t===void 0?o>=(n?Math.max(e.childNodes.length-1,0):0):o<=e.childNodes.length;){if(t&&o===e.childNodes.length)throw new Error("The given offset is out of bounds.");const i=e.childNodes.item(o),a=String(i.textContent);if(a.length)if(t!==void 0&&a.length<t)t-=a.length;else{if(i.nodeType===1)return ds(i,t,!1);if(i.nodeType===3)return{node:i,offset:t??i.nodeValue.length}}o+=s}return{node:e,offset:e.childNodes.length}}function ol({document:e,target:t,clickCount:n,node:o,offset:s}){if(ea(t))return;const i=L(t),a=String(i?V(t):t.textContent),[l,d]=o?[s,s]:rl(a,s,n);if(i)return Ge(t,{anchorOffset:l??a.length,focusOffset:d??a.length}),{node:t,start:l??0,end:d??a.length};{const{node:u,offset:p}=Un({target:t,node:o,offset:l}),{node:m,offset:v}=Un({target:t,node:o,offset:d}),x=t.ownerDocument.createRange();try{x.setStart(u,p),x.setEnd(m,v)}catch{throw new Error("The given offset is out of bounds.")}const C=e.getSelection();return C?.removeAllRanges(),C?.addRange(x.cloneRange()),x}}function rl(e,t,n){if(n%3===1||e.length===0)return[t,t];const o=t??e.length;return n%3===2?[o-e.substr(0,t).match(/(\w+|\s+|\W)?$/)[0].length,t===void 0?t:t+e.substr(t).match(/^(\w+|\s+|\W)?/)[0].length]:[o-e.substr(0,t).match(/[^\r\n]*$/)[0].length,t===void 0?t:t+e.substr(t).match(/^[^\r\n]*/)[0].length]}function sl(e,{document:t,target:n,node:o,offset:s}){const i=Un({target:n,node:o,offset:s});if("node"in e){if(i.node===e.node){const a=i.offset<e.start?e.end:e.start,l=i.offset>e.end||i.offset<e.start?i.offset:e.end;Ge(e.node,{anchorOffset:a,focusOffset:l})}}else{const a=e.cloneRange(),l=a.comparePoint(i.node,i.offset);l<0?a.setStart(i.node,i.offset):l>0&&a.setEnd(i.node,i.offset);const d=t.getSelection();d?.removeAllRanges(),d?.addRange(a.cloneRange())}}function us(e,t){var n,o,s,i,a,l,d,u,p,m,v,x,C,z,Xe,ae,ze,le,Ye,ce,Qe,de,ue,pe;return e.target!==t.target||((n=e.coords)===null||n===void 0?void 0:n.x)!==((o=t.coords)===null||o===void 0?void 0:o.x)||((s=e.coords)===null||s===void 0?void 0:s.y)!==((i=t.coords)===null||i===void 0?void 0:i.y)||((a=e.coords)===null||a===void 0?void 0:a.clientX)!==((l=t.coords)===null||l===void 0?void 0:l.clientX)||((d=e.coords)===null||d===void 0?void 0:d.clientY)!==((u=t.coords)===null||u===void 0?void 0:u.clientY)||((p=e.coords)===null||p===void 0?void 0:p.offsetX)!==((m=t.coords)===null||m===void 0?void 0:m.offsetX)||((v=e.coords)===null||v===void 0?void 0:v.offsetY)!==((x=t.coords)===null||x===void 0?void 0:x.offsetY)||((C=e.coords)===null||C===void 0?void 0:C.pageX)!==((z=t.coords)===null||z===void 0?void 0:z.pageX)||((Xe=e.coords)===null||Xe===void 0?void 0:Xe.pageY)!==((ae=t.coords)===null||ae===void 0?void 0:ae.pageY)||((ze=e.coords)===null||ze===void 0?void 0:ze.screenX)!==((le=t.coords)===null||le===void 0?void 0:le.screenX)||((Ye=e.coords)===null||Ye===void 0?void 0:Ye.screenY)!==((ce=t.coords)===null||ce===void 0?void 0:ce.screenY)||((Qe=e.caret)===null||Qe===void 0?void 0:Qe.node)!==((de=t.caret)===null||de===void 0?void 0:de.node)||((ue=e.caret)===null||ue===void 0?void 0:ue.offset)!==((pe=t.caret)===null||pe===void 0?void 0:pe.offset)}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class il{move(t,n,o){const s=this.position,i=this.getTarget(t);if(this.position=n,!us(s,n))return;const a=this.getTarget(t),l=this.getEventInit("mousemove"),[d,u]=nt(i,a);return{leave:()=>{i!==a&&(t.dispatchUIEvent(i,"mouseout",l),d.forEach(p=>t.dispatchUIEvent(p,"mouseleave",l)))},enter:()=>{i!==a&&(t.dispatchUIEvent(a,"mouseover",l),u.forEach(p=>t.dispatchUIEvent(p,"mouseenter",l)))},move:()=>{o||(t.dispatchUIEvent(a,"mousemove",l),this.modifySelecting(t))}}}down(t,n,o){const s=this.buttons.down(n);if(s===void 0)return;const i=this.getTarget(t);this.buttonDownTarget[s]=i;const a=this.getEventInit("mousedown",n.button),l=G(i);!o&&(l||t.dispatchUIEvent(i,"mousedown",a))&&(this.startSelecting(t,a.detail),Z(i)),!l&&Mn(n.button)===2&&t.dispatchUIEvent(i,"contextmenu",this.getEventInit("contextmenu",n.button))}up(t,n,o){const s=this.buttons.up(n);if(s===void 0)return;const i=this.getTarget(t);if(!G(i)){if(!o){const l=this.getEventInit("mouseup",n.button);t.dispatchUIEvent(i,"mouseup",l),this.endSelecting()}const a=nt(this.buttonDownTarget[s],i)[2][0];if(a){const l=this.getEventInit("click",n.button);l.detail&&(t.dispatchUIEvent(a,l.button===0?"click":"auxclick",l),l.button===0&&l.detail===2&&t.dispatchUIEvent(a,"dblclick",{...this.getEventInit("dblclick",n.button),detail:l.detail}))}}}resetClickCount(){this.clickCount.reset()}getEventInit(t,n){const o={...this.position.coords};return o.button=Mn(n),o.buttons=this.buttons.getButtons(),t==="mousedown"?o.detail=this.clickCount.getOnDown(o.button):t==="mouseup"?o.detail=this.clickCount.getOnUp(o.button):(t==="click"||t==="auxclick")&&(o.detail=this.clickCount.incOnClick(o.button)),o}getTarget(t){var n;return(n=this.position.target)!==null&&n!==void 0?n:t.config.document.body}startSelecting(t,n){var o,s;this.selecting=ol({document:t.config.document,target:this.getTarget(t),node:(o=this.position.caret)===null||o===void 0?void 0:o.node,offset:(s=this.position.caret)===null||s===void 0?void 0:s.offset,clickCount:n})}modifySelecting(t){var n,o;this.selecting&&sl(this.selecting,{document:t.config.document,target:this.getTarget(t),node:(n=this.position.caret)===null||n===void 0?void 0:n.node,offset:(o=this.position.caret)===null||o===void 0?void 0:o.offset})}endSelecting(){this.selecting=void 0}constructor(){he(this,"position",{}),he(this,"buttons",new cs),he(this,"selecting",void 0),he(this,"buttonDownTarget",{}),he(this,"clickCount",new class{incOnClick(t){const n=this.down[t]===void 0?void 0:Number(this.down[t])+1;return this.count=this.count[t]===void 0?{}:{[t]:Number(this.count[t])+1},n}getOnDown(t){var n;this.down={[t]:(n=this.count[t])!==null&&n!==void 0?n:0};var o;return this.count={[t]:(o=this.count[t])!==null&&o!==void 0?o:0},Number(this.count[t])+1}getOnUp(t){return this.down[t]===void 0?void 0:Number(this.down[t])+1}reset(){this.count={}}constructor(){he(this,"down",{}),he(this,"count",{})}})}}function qt(e,t){var n;return((n=ps(e,t))===null||n===void 0?void 0:n.pointerEvents)!=="none"}function al(e){const t=M(e);for(let n=e,o=[];n?.ownerDocument;n=n.parentElement){o.push(n);const s=t.getComputedStyle(n).pointerEvents;if(s&&!["inherit","unset"].includes(s))return{pointerEvents:s,tree:o}}}const fr=Symbol("Last check for pointer-events");function ps(e,t){const n=t[fr];if(!(e.config.pointerEventsCheck!==Ht.Never&&(!n||hr(e.config.pointerEventsCheck,Ht.EachApiCall)&&n[T.Call]!==Nt(e,T.Call)||hr(e.config.pointerEventsCheck,Ht.EachTrigger)&&n[T.Trigger]!==Nt(e,T.Trigger))))return n?.result;const s=al(t);return t[fr]={[T.Call]:Nt(e,T.Call),[T.Trigger]:Nt(e,T.Trigger),result:s},s}function tt(e,t){const n=ps(e,t);if(n?.pointerEvents==="none")throw new Error([`Unable to perform pointer interaction as the element ${n.tree.length>1?"inherits":"has"} \`pointer-events: none\`:`,"",ll(n.tree)].join(`
`))}function ll(e){return e.reverse().map((t,n)=>["".padEnd(n),t.tagName,t.id&&`#${t.id}`,t.hasAttribute("data-testid")&&`(testId=${t.getAttribute("data-testid")})`,cl(t),e.length>1&&n===0&&"  <-- This element declared `pointer-events: none`",e.length>1&&n===e.length-1&&"  <-- Asserted pointer events here"].filter(Boolean).join("")).join(`
`)}function cl(e){var t;let n;if(e.hasAttribute("aria-label"))n=e.getAttribute("aria-label");else if(e.hasAttribute("aria-labelledby")){var o,s;n=(s=e.ownerDocument.getElementById(e.getAttribute("aria-labelledby")))===null||s===void 0||(o=s.textContent)===null||o===void 0?void 0:o.trim()}else if(h(e,["button","input","meter","output","progress","select","textarea"])&&(!((t=e.labels)===null||t===void 0)&&t.length))n=Array.from(e.labels).map(a=>{var l;return(l=a.textContent)===null||l===void 0?void 0:l.trim()}).join("|");else if(h(e,"button")){var i;n=(i=e.textContent)===null||i===void 0?void 0:i.trim()}return n=n?.replace(/\n/g,"  "),Number(n?.length)>30&&(n=`${n?.substring(0,29)}â€¦`),n?`(label=${n})`:""}function hr(e,t){return(e&t)>0}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class dl{init(t){const n=this.getTarget(t),[,o]=nt(null,n),s=this.getEventInit();return tt(t,n),t.dispatchUIEvent(n,"pointerover",s),o.forEach(i=>t.dispatchUIEvent(i,"pointerenter",s)),this}move(t,n){const o=this.position,s=this.getTarget(t);if(this.position=n,!us(o,n))return;const i=this.getTarget(t),a=this.getEventInit(-1),[l,d]=nt(s,i);return{leave:()=>{qt(t,s)&&s!==i&&(t.dispatchUIEvent(s,"pointerout",a),l.forEach(u=>t.dispatchUIEvent(u,"pointerleave",a)))},enter:()=>{tt(t,i),s!==i&&(t.dispatchUIEvent(i,"pointerover",a),d.forEach(u=>t.dispatchUIEvent(u,"pointerenter",a)))},move:()=>{t.dispatchUIEvent(i,"pointermove",a)}}}down(t,n=0){if(this.isDown)return;const o=this.getTarget(t);tt(t,o),this.isDown=!0,this.isPrevented=!t.dispatchUIEvent(o,"pointerdown",this.getEventInit(n))}up(t,n=0){if(!this.isDown)return;const o=this.getTarget(t);tt(t,o),this.isPrevented=!1,this.isDown=!1,t.dispatchUIEvent(o,"pointerup",this.getEventInit(n))}release(t){const n=this.getTarget(t),[o]=nt(n,null),s=this.getEventInit();qt(t,n)&&(t.dispatchUIEvent(n,"pointerout",s),o.forEach(i=>t.dispatchUIEvent(i,"pointerleave",s))),this.isCancelled=!0}getTarget(t){var n;return(n=this.position.target)!==null&&n!==void 0?n:t.config.document.body}getEventInit(t){return{...this.position.coords,pointerId:this.pointerId,pointerType:this.pointerType,isPrimary:this.isPrimary,button:Mn(t),buttons:this.buttons.getButtons()}}constructor({pointerId:t,pointerType:n,isPrimary:o},s){F(this,"pointerId",void 0),F(this,"pointerType",void 0),F(this,"isPrimary",void 0),F(this,"buttons",void 0),F(this,"isMultitouch",!1),F(this,"isCancelled",!1),F(this,"isDown",!1),F(this,"isPrevented",!1),F(this,"position",{}),this.pointerId=t,this.pointerType=n,this.isPrimary=o,this.isMultitouch=!o,this.buttons=s}}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ul{isKeyPressed(t){return this.devices.get(t.pointerType).isPressed(t)}async press(t,n,o){this.devices.get(n.pointerType).addPressed(n),this.buttons.down(n);const s=this.getPointerName(n),i=n.pointerType==="touch"?this.pointers.new(s,n.pointerType,this.buttons):this.pointers.get(s);i.position=o,i.pointerType!=="touch"&&(this.mouse.position=o),i.pointerType==="touch"&&i.init(t),i.down(t,n.button),i.pointerType!=="touch"&&this.mouse.down(t,n,i.isPrevented)}async move(t,n,o){const s=this.pointers.get(n),i=s.move(t,o),a=s.pointerType==="touch"?void 0:this.mouse.move(t,o,s.isPrevented);i?.leave(),a?.leave(),i?.enter(),a?.enter(),i?.move(),a?.move()}async release(t,n,o){const s=this.devices.get(n.pointerType);s.removePressed(n),this.buttons.up(n);const i=this.pointers.get(this.getPointerName(n)),a=i.isPrevented;if(i.position=o,i.pointerType!=="touch"&&(this.mouse.position=o),s.countPressed===0&&i.up(t,n.button),i.pointerType==="touch"&&i.release(t),i.pointerType==="touch"&&!i.isMultitouch){const l=this.mouse.move(t,o,a);l?.leave(),l?.enter(),l?.move(),this.mouse.down(t,n,a)}if(!i.isMultitouch){const l=this.mouse.move(t,o,a);l?.leave(),l?.enter(),l?.move(),this.mouse.up(t,n,a)}}getPointerName(t){return t.pointerType==="touch"?t.name:t.pointerType}getPreviousPosition(t){return this.pointers.has(t)?this.pointers.get(t).position:void 0}resetClickCount(){this.mouse.resetClickCount()}getMouseTarget(t){var n;return(n=this.mouse.position.target)!==null&&n!==void 0?n:t.config.document.body}setMousePosition(t){this.mouse.position=t,this.pointers.get("mouse").position=t}constructor(t){Y(this,"system",void 0),Y(this,"mouse",void 0),Y(this,"buttons",void 0),Y(this,"devices",new class{get(n){var o,s,i;return(i=(o=this.registry)[s=n])!==null&&i!==void 0?i:o[s]=new nl}constructor(){Y(this,"registry",{})}}),Y(this,"pointers",new class{new(n,o,s){const i=o!=="touch"||!Object.values(this.registry).some(a=>a.pointerType==="touch"&&!a.isCancelled);return i||Object.values(this.registry).forEach(a=>{a.pointerType===o&&!a.isCancelled&&(a.isMultitouch=!0)}),this.registry[n]=new dl({pointerId:this.nextId++,pointerType:o,isPrimary:i},s),this.registry[n]}get(n){if(!this.has(n))throw new Error(`Trying to access pointer "${n}" which does not exist.`);return this.registry[n]}has(n){return n in this.registry}constructor(){Y(this,"registry",{}),Y(this,"nextId",1)}}),this.system=t,this.buttons=new cs,this.mouse=new il,this.pointers.new("mouse","mouse",this.buttons)}}function mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class fs{getUIEventModifiers(){return{altKey:this.keyboard.modifiers.Alt,ctrlKey:this.keyboard.modifiers.Control,metaKey:this.keyboard.modifiers.Meta,shiftKey:this.keyboard.modifiers.Shift,modifierAltGraph:this.keyboard.modifiers.AltGraph,modifierCapsLock:this.keyboard.modifiers.CapsLock,modifierFn:this.keyboard.modifiers.Fn,modifierFnLock:this.keyboard.modifiers.FnLock,modifierNumLock:this.keyboard.modifiers.NumLock,modifierScrollLock:this.keyboard.modifiers.ScrollLock,modifierSymbol:this.keyboard.modifiers.Symbol,modifierSymbolLock:this.keyboard.modifiers.SymbolLock}}constructor(){mr(this,"keyboard",new Qa(this)),mr(this,"pointer",new ul(this))}}async function pl(e){const t=[];return this.config.skipHover||t.push({target:e}),t.push({keys:"[MouseLeft]",target:e}),this.pointer(t)}async function fl(e){return this.pointer([{target:e},"[MouseLeft][MouseLeft]"])}async function hl(e){return this.pointer([{target:e},"[MouseLeft][MouseLeft][MouseLeft]"])}async function ml(e){return this.pointer({target:e})}async function gl(e){return tt(this,this.system.pointer.getMouseTarget(this)),this.pointer({target:e.ownerDocument.body})}async function yl({shift:e}={}){return this.keyboard(e===!0?"{Shift>}{Tab}{/Shift}":e===!1?"[/ShiftLeft][/ShiftRight]{Tab}":"{Tab}")}var Wo=(function(e){return e["{"]="}",e["["]="]",e})(Wo||{});function hs(e,t){let n=0;const o=e[n]in Wo?e[n]:"";n+=o.length;const i=new RegExp(`^\\${o}{2}`).test(e)?"":o;return{type:i,...i===""?vl(e,n,t):xl(e,n,i,t)}}function vl(e,t,n){const o=e[t];return ms(o,e,t,n),t+=o.length,{consumedLength:t,descriptor:o,releasePrevious:!1,releaseSelf:!0,repeat:1}}function xl(e,t,n,o){var s,i;const a=e[t]==="/"?"/":"";t+=a.length;const l=n==="{"&&e[t]==="\\";t+=Number(l);const d=l?e[t]:(s=e.slice(t).match(n==="{"?/^\w+|^[^}>/]/:/^\w+/))===null||s===void 0?void 0:s[0];ms(d,e,t,o),t+=d.length;var u;const p=(u=(i=e.slice(t).match(/^>\d+/))===null||i===void 0?void 0:i[0])!==null&&u!==void 0?u:"";t+=p.length;const m=e[t]==="/"||!p&&e[t]===">"?e[t]:"";t+=m.length;const v=Wo[n],x=e[t]===v?v:"";if(!x)throw new Error(gs([!p&&"repeat modifier",!m&&"release modifier",`"${v}"`].filter(Boolean).join(" or "),e[t],e,o));return t+=x.length,{consumedLength:t,descriptor:d,releasePrevious:!!a,repeat:p?Math.max(Number(p.substr(1)),1):1,releaseSelf:_l(m,p)}}function ms(e,t,n,o){if(!e)throw new Error(gs("key descriptor",t[n],t,o))}function _l(e,t){if(e)return e==="/";if(t)return!1}function gs(e,t,n,o){return`Expected ${e} but found "${t??""}" in "${n}"
    See ${o==="pointer"?"https://testing-library.com/docs/user-event/pointer#pressing-a-button-or-touching-the-screen":"https://testing-library.com/docs/user-event/keyboard"}
    for more information about how userEvent parses your input.`}function bl(e,t){const n=[];do{const{type:s,descriptor:i,consumedLength:a,releasePrevious:l,releaseSelf:d=!0,repeat:u}=hs(t,"keyboard");var o;const p=(o=e.find(m=>{if(s==="["){var v;return((v=m.code)===null||v===void 0?void 0:v.toLowerCase())===i.toLowerCase()}else if(s==="{"){var x;return((x=m.key)===null||x===void 0?void 0:x.toLowerCase())===i.toLowerCase()}return m.key===i}))!==null&&o!==void 0?o:{key:"Unknown",code:"Unknown",[s==="["?"code":"key"]:i};n.push({keyDef:p,releasePrevious:l,releaseSelf:d,repeat:u}),t=t.slice(a)}while(t);return n}async function Cl(e){const t=bl(this.config.keyboardMap,e);for(let n=0;n<t.length;n++)await Re(this.config),await wl(this,t[n])}async function wl(e,{keyDef:t,releasePrevious:n,releaseSelf:o,repeat:s}){const{system:i}=e;if(i.keyboard.isKeyPressed(t)&&await i.keyboard.keyup(e,t),!n){for(let a=1;a<=s;a++)await i.keyboard.keydown(e,t),a<s&&await Re(e.config);o&&await i.keyboard.keyup(e,t)}}async function Sl(e){for(const t of e.system.keyboard.getPressedKeys())await e.system.keyboard.keyup(e,t)}function ys(e){const t=L(e)?{"text/plain":El(e)}:{"text/plain":String(e.ownerDocument.getSelection())},n=Oo(M(e));for(const o in t)t[o]&&n.setData(o,t[o]);return n}function El(e){const t=rt(e);return V(e).substring(t.startOffset,t.endOffset)}async function kl(){const e=this.config.document;var t;const n=(t=e.activeElement)!==null&&t!==void 0?t:e.body,o=ys(n);if(o.items.length!==0)return this.dispatchUIEvent(n,"copy",{clipboardData:o})&&this.config.writeToClipboard&&await Wr(e,o),o}async function jl(){const e=this.config.document;var t;const n=(t=e.activeElement)!==null&&t!==void 0?t:e.body,o=ys(n);if(o.items.length!==0)return this.dispatchUIEvent(n,"cut",{clipboardData:o})&&this.config.writeToClipboard&&await Wr(n.ownerDocument,o),o}async function Nl(e){const t=this.config.document;var n;const o=(n=t.activeElement)!==null&&n!==void 0?n:t.body;var s;const i=(s=typeof e=="string"?Tl(t,e):e)!==null&&s!==void 0?s:await Yi(t).catch(()=>{throw new Error("`userEvent.paste()` without `clipboardData` requires the `ClipboardAPI` to be available.")});this.dispatchUIEvent(o,"paste",{clipboardData:i})}function Tl(e,t){const n=Oo(M(e));return n.setData("text",t),n}function gr(e,t){const n=[];do{const{descriptor:o,consumedLength:s,releasePrevious:i,releaseSelf:a=!0}=hs(t,"pointer"),l=e.find(d=>d.name===o);l&&n.push({keyDef:l,releasePrevious:i,releaseSelf:a}),t=t.slice(s)}while(t);return n}async function Il(e){const{pointerMap:t}=this.config,n=[];(Array.isArray(e)?e:[e]).forEach(o=>{typeof o=="string"?n.push(...gr(t,o)):"keys"in o?n.push(...gr(t,o.keys).map(s=>({...o,...s}))):n.push(o)});for(let o=0;o<n.length;o++)await Re(this.config),await Pl(this,n[o]);this.system.pointer.resetClickCount()}async function Pl(e,t){var n,o;const s="pointerName"in t&&t.pointerName?t.pointerName:"keyDef"in t?e.system.pointer.getPointerName(t.keyDef):"mouse",i=e.system.pointer.getPreviousPosition(s);var a,l,d,u;const p={target:(a=t.target)!==null&&a!==void 0?a:Al(e,i),coords:(l=t.coords)!==null&&l!==void 0?l:i?.coords,caret:{node:(d=t.node)!==null&&d!==void 0?d:yr(t)||i==null||(n=i.caret)===null||n===void 0?void 0:n.node,offset:(u=t.offset)!==null&&u!==void 0?u:yr(t)||i==null||(o=i.caret)===null||o===void 0?void 0:o.offset}};"keyDef"in t?(e.system.pointer.isKeyPressed(t.keyDef)&&(et(e,T.Trigger),await e.system.pointer.release(e,t.keyDef,p)),t.releasePrevious||(et(e,T.Trigger),await e.system.pointer.press(e,t.keyDef,p),t.releaseSelf&&(et(e,T.Trigger),await e.system.pointer.release(e,t.keyDef,p)))):(et(e,T.Trigger),await e.system.pointer.move(e,s,p))}function yr(e){var t,n;return!!((n=(t=e.target)!==null&&t!==void 0?t:e.node)!==null&&n!==void 0?n:e.offset!==void 0)}function Al(e,t){if(!t)throw new Error("This pointer has no previous position. Provide a target property!");var n;return(n=t.target)!==null&&n!==void 0?n:e.config.document.body}async function Dl(e){if(!De(e)||G(e))throw new Error("clear()` is only supported on editable elements.");if(Z(e),e.ownerDocument.activeElement!==e)throw new Error("The element to be cleared could not be focused.");if(ns(e),!Na(e))throw new Error("The element content to be cleared could not be selected.");Ue(this,e,"","deleteContentBackward")}async function Bl(e,t){return vs.call(this,!0,e,t)}async function Ml(e,t){return vs.call(this,!1,e,t)}async function vs(e,t,n){if(!e&&!t.multiple)throw ke().getElementError("Unable to deselect an option in a non-multiple select. Use selectOptions to change the selection instead.",t);const o=Array.isArray(n)?n:[n],s=Array.from(t.querySelectorAll('option, [role="option"]')),i=o.map(l=>{if(typeof l!="string"&&s.includes(l))return l;{const d=s.find(u=>u.value===l||u.innerHTML===l);if(d)return d;throw ke().getElementError(`Value "${String(l)}" not found in options`,t)}}).filter(l=>!G(l));if(G(t)||!i.length)return;const a=l=>{l.selected=e,this.dispatchUIEvent(t,"input",{bubbles:!0,cancelable:!1,composed:!0}),this.dispatchUIEvent(t,"change")};if(h(t,"select"))if(t.multiple)for(const l of i){const d=this.config.pointerEventsCheck===0?!0:qt(this,l);d&&(this.dispatchUIEvent(l,"pointerover"),this.dispatchUIEvent(t,"pointerenter"),this.dispatchUIEvent(l,"mouseover"),this.dispatchUIEvent(t,"mouseenter"),this.dispatchUIEvent(l,"pointermove"),this.dispatchUIEvent(l,"mousemove"),this.dispatchUIEvent(l,"pointerdown"),this.dispatchUIEvent(l,"mousedown")),Z(t),d&&(this.dispatchUIEvent(l,"pointerup"),this.dispatchUIEvent(l,"mouseup")),a(l),d&&this.dispatchUIEvent(l,"click"),await Re(this.config)}else if(i.length===1){const l=this.config.pointerEventsCheck===0?!0:qt(this,t);l?await this.click(t):Z(t),a(i[0]),l&&(this.dispatchUIEvent(t,"pointerover"),this.dispatchUIEvent(t,"pointerenter"),this.dispatchUIEvent(t,"mouseover"),this.dispatchUIEvent(t,"mouseenter"),this.dispatchUIEvent(t,"pointerup"),this.dispatchUIEvent(t,"mouseup"),this.dispatchUIEvent(t,"click")),await Re(this.config)}else throw ke().getElementError("Cannot select multiple options on a non-multiple select",t);else if(t.getAttribute("role")==="listbox")for(const l of i)await this.click(l),await this.unhover(l);else throw ke().getElementError("Cannot select options on elements that are neither select nor listbox elements",t)}async function Ul(e,t,{skipClick:n=this.config.skipClick,skipAutoClose:o=this.config.skipAutoClose,initialSelectionStart:s,initialSelectionEnd:i}={}){e.disabled||(n||await this.click(e),s!==void 0&&Ze(e,s,i??s),await this.keyboard(t),o||await Sl(this))}const vr=Symbol("files and value properties are mocked");function An(e,t,n){n?Object.defineProperty(e,t,n):delete e[t]}function Rl(e,t){var n;(n=e[vr])===null||n===void 0||n.restore();const o=Object.getOwnPropertyDescriptor(e,"type"),s=Object.getOwnPropertyDescriptor(e,"value"),i=Object.getOwnPropertyDescriptor(e,"files");function a(){An(e,"type",o),An(e,"value",s),An(e,"files",i)}e[vr]={restore:a},Object.defineProperties(e,{files:{configurable:!0,get:()=>t},value:{configurable:!0,get:()=>t.length?`C:\\fakepath\\${t[0].name}`:"",set(l){if(l==="")a();else{var d;s==null||(d=s.set)===null||d===void 0||d.call(e,l)}}},type:{configurable:!0,get:()=>"file",set(l){l!=="file"&&(a(),e.type=l)}}})}async function Ol(e,t){const n=h(e,"label")?e.control:e;if(!n||!h(n,"input",{type:"file"}))throw new TypeError(`The ${n===e?"given":"associated"} ${n?.tagName} element does not accept file uploads`);if(G(e))return;const o=(Array.isArray(t)?t:[t]).filter(i=>!this.config.applyAccept||Ll(i,n.accept)).slice(0,n.multiple?void 0:1),s=()=>{var i;o.length===((i=n.files)===null||i===void 0?void 0:i.length)&&o.every((a,l)=>{var d;return a===((d=n.files)===null||d===void 0?void 0:d.item(l))})||(Rl(n,Ro(M(e),o)),this.dispatchUIEvent(n,"input"),this.dispatchUIEvent(n,"change"))};n.addEventListener("fileDialog",s),await this.click(e),n.removeEventListener("fileDialog",s)}function Tt(e){return e.toLowerCase().replace(/(\.|\/)jpg\b/g,"$1jpeg")}function Ll(e,t){if(!t)return!0;const n=["audio/*","image/*","video/*"];return Tt(t).trim().split(/\s*,\s*/).some(o=>o.startsWith(".")?Tt(e.name).endsWith(o):n.includes(o)?Tt(e.type).startsWith(o.replace("*","")):Tt(e.type)===o)}const xr={click:pl,dblClick:fl,tripleClick:hl,hover:ml,unhover:gl,tab:yl,keyboard:Cl,copy:kl,cut:jl,paste:Nl,pointer:Il,clear:Dl,deselectOptions:Ml,selectOptions:Bl,type:Ul,upload:Ol};function Vl(e){return ke().asyncWrapper(e)}const xs={applyAccept:!0,autoModify:!0,delay:0,document:globalThis.document,keyboardMap:Ja,pointerMap:Za,pointerEventsCheck:Ht.EachApiCall,skipAutoClose:!1,skipClick:!1,skipHover:!1,writeToClipboard:!1,advanceTimers:()=>Promise.resolve()},Fl={...xs,writeToClipboard:!0};function _s(e={},t=Fl,n){const o=Kl(e,n,t);return{...t,...e,document:o}}function Hl(e={}){const t=_s(e);ls(t.document),as(M(t.document).HTMLElement);var n;const o=(n=t.document.defaultView)!==null&&n!==void 0?n:globalThis.window;return qi(o),$o(t).api}function E({keyboardState:e,pointerState:t,...n}={},o){const s=_s(n,xs,o);ls(s.document),as(M(s.document).HTMLElement);var i;const a=(i=t??e)!==null&&i!==void 0?i:new fs;return{api:$o(s,a).api,system:a}}function Wl(e){return $o({...this.config,...e},this.system).api}function $l(e,t){function n(...o){return et(e,T.Call),Vl(()=>t.apply(e,o).then(async s=>(await Re(e.config),s)))}return Object.defineProperty(n,"name",{get:()=>t.name}),n}function $o(e,t=new fs){const n={};return Object.assign(n,{config:e,dispatchEvent:is.bind(n),dispatchUIEvent:Ha.bind(n),system:t,levelRefs:{},...xr}),{instance:n,api:{...Object.fromEntries(Object.entries(xr).map(([o,s])=>[o,$l(n,s)])),setup:Wl.bind(n)}}}function Kl(e,t,n){var o,s;return(s=(o=e.document)!==null&&o!==void 0?o:t&&qa(t))!==null&&s!==void 0?s:n.document}function Gl(e){return E().api.clear(e)}function ql(e,t={}){return E(t,e).api.click(e)}function Xl(e={}){return E(e).api.copy()}function zl(e={}){return E(e).api.cut()}function Yl(e,t={}){return E(t).api.dblClick(e)}function Ql(e,t,n={}){return E(n).api.deselectOptions(e,t)}function Jl(e,t={}){return E(t).api.hover(e)}async function Zl(e,t={}){const{api:n,system:o}=E(t);return n.keyboard(e).then(()=>o)}async function ec(e,t={}){const{api:n,system:o}=E(t);return n.pointer(e).then(()=>o)}function tc(e,t){return E(t).api.paste(e)}function nc(e,t,n={}){return E(n).api.selectOptions(e,t)}function oc(e,t={}){return E(t).api.tripleClick(e)}function rc(e,t,n={}){return E(n,e).api.type(e,t,n)}function sc(e,t={}){const{api:n,system:o}=E(t);return o.pointer.setMousePosition({target:e}),n.unhover(e)}function ic(e,t,n={}){return E(n).api.upload(e,t)}function ac(e={}){return E().api.tab(e)}const lc=Object.freeze(Object.defineProperty({__proto__:null,clear:Gl,click:ql,copy:Xl,cut:zl,dblClick:Yl,deselectOptions:Ql,hover:Jl,keyboard:Zl,paste:tc,pointer:ec,selectOptions:nc,tab:ac,tripleClick:oc,type:rc,unhover:sc,upload:ic},Symbol.toStringTag,{value:"Module"})),Rn={...lc,setup:Hl},{expect:O,findAllByText:cc,findByRole:_r,findByText:k,waitFor:me}=__STORYBOOK_MODULE_TEST__;async function dc(e,t,n){await me(async()=>{O(await k(e,"",{selector:"section"})).toBeVisible()});const o=await k(e,"",{selector:"main.delegation-ui"});O(o).toBeInTheDocument(),O(o).toBeVisible();const s=await k(o,"",{selector:"section.delegation-ui-content"});await t("Wait For Page Load",async()=>{await me(async()=>{const a=await _r(s,"table");O(a).toBeInTheDocument(),O(a).toBeVisible();const l=await k(a,"Total Stake",{selector:"th"});O(l).toBeInTheDocument(),O(l).toBeVisible()},{timeout:2e4})}),await t("Connect Account",async()=>{const a=await w(async()=>k(o,"Connect Wallet",{selector:"button"}));await w(async()=>n.click(a))}),await t("Sort By Rank",async()=>{const a=await w(async()=>k(o,"Total Stake",{selector:"th"}));await w(async()=>n.click(a)),await w(async()=>n.click(a))}),await t("Spawn New Delegation Modal",async()=>{const a=await w(async()=>cc(o,"Delegate",{selector:"td > button"})),[l]=a;await w(async()=>n.click(l)),await me(async()=>{const d=await k(o,"",{selector:"dialog.staking-modal"});O(d).toBeInTheDocument()})});const i=await w(async()=>k(o,"",{selector:"dialog.staking-modal"}));await t("Enter Delegation Amount",async()=>{const a=await w(async()=>_r(i,"textbox"));await w(async()=>Rn.click(a)),await w(async()=>Rn.type(a,"100")),await me(async()=>{O(await k(i,"Approve",{selector:"button"})).toBeEnabled()})}),await t("Approve Allowance",async()=>{if(await w(async()=>{try{return qs(i,"Approved",{selector:"button"})}catch{return null}}))return;const l=await w(async()=>k(i,"Approve",{selector:"button"}));await w(async()=>n.click(l)),await me(async()=>{await k(i,"Confirm Delegation")},{timeout:24e3})}),await t("Delegate Funds",async()=>{const a=await w(async()=>k(i,"Delegate",{selector:"button"}));await w(async()=>n.click(a)),await me(async()=>{await k(i,"Delegation successful"),await k(i,"Close",{selector:"button"})},{timeout:24e3})}),await t("Close Modal",async()=>{const a=await w(async()=>k(i,"Close",{selector:"button"}));await w(async()=>n.click(a)),await me(async()=>{O(i).not.toBeVisible()})})}async function uc(e,t){const n=Rn.setup();await t("New Delegation",async({canvasElement:o,step:s})=>{await dc(o,s,n)})}const Xt=c.createContext(new Map),On=({children:e})=>{const t=c.useContext(We),n=new Map(S(t?.nodes??xn(),o=>[o.nodeText,o]));return r.jsx(Xt.Provider,{value:n,children:e})};try{Xt.displayName="CurrentDelegationsContext",Xt.__docgenInfo={description:`CurrentDelegationsContext provides a React Context
for the current map of validators with whom we are currently delegated.`,displayName:"CurrentDelegationsContext",props:{}}}catch{}try{On.displayName="DeriveCurrentDelegations",On.__docgenInfo={description:`DeriveCurrentDelegations is a React Component that
derives the current mapping of all of the current wallet's delegations.`,displayName:"DeriveCurrentDelegations",props:{}}}catch{}const te=c.createContext(new Map),Ln=({children:e})=>{const t=c.useContext(We),n=new Map(S(t?.pendingExits??xn(),o=>[o.nodeText,o]));return r.jsx(te.Provider,{value:n,children:e})};try{te.displayName="PendingExitsContext",te.__docgenInfo={description:`PendingExitsContext provides a React Context
for the current map of validators who have exited, and your pending amount`,displayName:"PendingExitsContext",props:{}}}catch{}try{Ln.displayName="DerivePendingExits",Ln.__docgenInfo={description:`DerivePendingExits is a React Component that
derives the current mapping of all of the pending exits for the
current wallet.`,displayName:"DerivePendingExits",props:{}}}catch{}const ne=c.createContext(new Map),Vn=({children:e})=>{const t=c.useContext(We),n=new Map(S(t?.pendingUndelegations??xn(),o=>[o.nodeText,o]));return r.jsx(ne.Provider,{value:n,children:e})};try{ne.displayName="PendingUndelegationsContext",ne.__docgenInfo={description:`PendingUndelegationsContext provides a React Context
for the current map of validators with whom we have undelegated already.`,displayName:"PendingUndelegationsContext",props:{}}}catch{}try{Vn.displayName="DerivePendingUndelegations",Vn.__docgenInfo={description:`DerivePendingUndelegations is a React Component that
derives the current mapping of all of the pending undelegations for the
current wallet.`,displayName:"DerivePendingUndelegations",props:{}}}catch{}const it=c.createContext(0n),Fn=({children:e})=>r.jsx(pc,{children:e}),pc=({children:e})=>{const t=c.useContext(N),n=xt((o,s)=>o+s.stake,0n,t?.nodes??xn());return r.jsx(it.Provider,{value:n,children:e})};try{it.displayName="TotalStakeContext",it.__docgenInfo={description:`TotalStakeContext provides a React Context
for the total stake of all validators.`,displayName:"TotalStakeContext",props:{}}}catch{}try{Fn.displayName="DeriveTotalStake",Fn.__docgenInfo={description:`DeriveTotalStake is a component that Provides the TotalStakeContext
by calculating the total stake from the AllValidatorsContext.`,displayName:"DeriveTotalStake",props:{}}}catch{}const zt=c.createContext(null),br=c.createContext(ki.nothing()),Hn=({children:e})=>r.jsx(Wn,{children:e}),Wn=({children:e})=>{c.useContext(Xs);const t=c.useContext(Ni),n=t?t.totalSupply():Ei;return r.jsx(ji,{promise:n,children:r.jsx(fc,{children:e})})},fc=({children:e})=>{const t=c.useContext(_t)??null;return r.jsx(zt.Provider,{value:t,children:e})};try{zt.displayName="TotalSupplyContext",zt.__docgenInfo={description:`TotalSupplyContext provides a React Context
for the total supply of the ESP token.`,displayName:"TotalSupplyContext",props:{}}}catch{}try{br.displayName="TotalSupplyAsyncSnapshotContext",br.__docgenInfo={description:"",displayName:"TotalSupplyAsyncSnapshotContext",props:{}}}catch{}try{Hn.displayName="ProvideTotalSupply",Hn.__docgenInfo={description:`ProvideTotalSupply is a React component that fetches
the total supply of the ESP token from the blockchain
and provides it via TotalSupplyContext.`,displayName:"ProvideTotalSupply",props:{}}}catch{}try{Wn.displayName="ProvideTotalSupplyFromContractCall",Wn.__docgenInfo={description:`ProvideTotalSupplyFromAPICall is a React component that fetches
the total supply of the ESP token from the local ESPTokenContract
and provides it via TotalSupplyContext.`,displayName:"ProvideTotalSupplyFromContractCall",props:{}}}catch{}const hc=e=>c.createElement(bt,{...e,className:X(e.className,"stroked")},r.jsxs(r.Fragment,{children:[r.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),r.jsx("polyline",{points:"16 17 21 12 16 7"}),r.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}));try{logout.displayName="logout",logout.__docgenInfo={description:"LogOut represents a logout icon.",displayName:"logout",props:{}}}catch{}const $n=e=>c.createElement(bt,{...e,className:X(e.className,"stroked")},r.jsxs("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-plus",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}));try{plus.displayName="plus",plus.__docgenInfo={description:"Plus represents a plus sign.",displayName:"plus",props:{}}}catch{}const Kn=()=>{const e=c.useContext(Do),t=c.useContext(ye);return t?r.jsxs("span",{className:"wallet-connected-container",children:[r.jsx("span",{className:"wallet-address-preview",children:r.jsx(Pi,{value:new Ai(y.decode(t))})}),"Â ",r.jsxs(I,{className:"connect-wallet connected-wallet",onClick:e.openAccountModal,children:[r.jsx("span",{className:"disconnect-label",children:r.jsx(f,{text:"Disconnect"})}),r.jsx(hc,{})]})]}):r.jsxs(I,{className:"connect-wallet",onClick:e.openConnectModal,children:[r.jsx($n,{}),r.jsx(f,{text:"Connect Wallet"})]})};try{Kn.displayName="ConnectWalletButton",Kn.__docgenInfo={description:`ConnectWalletButton is a button that will open the RainbowKit Wallet Connect
Modal when pressed.`,displayName:"ConnectWalletButton",props:{}}}catch{}const Gn=e=>r.jsxs("header",{className:"delegation",...e,children:[r.jsx(Ii,{}),r.jsx(Kn,{})]});try{Gn.displayName="DelegationHeader",Gn.__docgenInfo={description:"DelegationHeader is the header component for the Delegation UI page.",displayName:"DelegationHeader",props:{}}}catch{}var _e=(e=>(e[e.all=0]="all",e[e.myStakes=1]="myStakes",e))(_e||{});const Oe=c.createContext(0),Yt=c.createContext(()=>{}),qn=({children:e})=>{const[t,n]=c.useState(0);return r.jsx(Oe.Provider,{value:t,children:r.jsx(Yt.Provider,{value:n,children:e})})};try{_e.displayName="Sections",_e.__docgenInfo={description:"Sections enum defines the different sections available in the Delegation UI.",displayName:"Sections",props:{}}}catch{}try{Oe.displayName="CurrentSectionContext",Oe.__docgenInfo={description:`CurrentSectionContext is a React context that holds the current section
being viewed in the Delegation UI.`,displayName:"CurrentSectionContext",props:{}}}catch{}try{Yt.displayName="SetCurrentSectionContext",Yt.__docgenInfo={description:`SetCurrentSectionContext is a React context that holds a setter function
to update the current section being viewed in the Delegation UI.`,displayName:"SetCurrentSectionContext",props:{}}}catch{}try{qn.displayName="ProvideSectionSelection",qn.__docgenInfo={description:`ProvideSectionSelection is a React component that provides the current
section selection context to its children.`,displayName:"ProvideSectionSelection",props:{}}}catch{}const at=c.createContext(!1),Qt=c.createContext(()=>{}),Xn=({children:e})=>{const[t,n]=c.useState(!1);return r.jsx(at.Provider,{value:t,children:r.jsx(Qt.Provider,{value:n,children:e})})};try{at.displayName="OnlyShowTop100Context",at.__docgenInfo={description:`OnlyShowTop100Context is a React context that holds a boolean value
indicating whether only the top 100 entries should be shown.`,displayName:"OnlyShowTop100Context",props:{}}}catch{}try{Qt.displayName="SetOnlyShowTop100Context",Qt.__docgenInfo={description:`SetOnlyShowTop100Context is a React context that holds a setter function
to update the boolean value indicating whether only the top 100 entries
should be shown.`,displayName:"SetOnlyShowTop100Context",props:{}}}catch{}try{Xn.displayName="ProvideShowTop100Filter",Xn.__docgenInfo={description:`ProvideShowTop100Filter is a React component that provides the context
for filtering to show only the top 100 entries.`,displayName:"ProvideShowTop100Filter",props:{}}}catch{}const be=e=>r.jsx("div",{className:"value",children:e.children});try{be.displayName="CardContentValue",be.__docgenInfo={description:"CardContentValue is a container for the main value displayed in a card.",displayName:"CardContentValue",props:{}}}catch{}const zn=e=>r.jsx("div",{className:X(e.className,"bcard"),children:e.children});try{zn.displayName="Card",zn.__docgenInfo={description:"Card component for displaying content in a card layout.",displayName:"Card",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Ce=e=>r.jsx(zn,{className:X(e.className,"card-value"),children:e.children});try{Ce.displayName="CardValue",Ce.__docgenInfo={description:"",displayName:"CardValue",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Yn=()=>{const e=c.useContext(jr);return r.jsxs(Ce,{className:"estimated-apr-card",children:[r.jsx("h2",{children:r.jsx(f,{text:"Available Balance"})}),r.jsx(be,{children:r.jsx(Ie,{money:Pe.ESP(e)})})]})};try{Yn.displayName="AvailableBalanceCard",Yn.__docgenInfo={description:`AvailableBalanceCard is a component that displays the Available Balance of
the active Wallet.`,displayName:"AvailableBalanceCard",props:{}}}catch{}const Qn=()=>{const e=c.useContext(Nr),t=c.useContext(Tr)??0n,n=(e?.lifetimeRewards??t)-t;return r.jsxs(Ce,{className:"claimable-rewards-card",children:[r.jsx("h2",{children:r.jsx(f,{text:"Claimable Rewards"})}),r.jsx(Jt,{children:r.jsx(f,{text:"Claim All"})}),r.jsx(be,{children:r.jsx(Ie,{money:Pe.ESP(n)})})]})},Jt=({children:e})=>{const t=c.useContext(Nr),n=c.useContext(Tr)??0n,o=(t?.lifetimeRewards??n)-n,s=c.useContext(vt),i=c.useContext(gn);return o<=0n?r.jsx(I,{className:"action",disabled:!0,children:e}):r.jsx(I,{className:"action",onClick:()=>{i(new zs),s.open()},children:e})};try{Qn.displayName="ClaimableRewardsCard",Qn.__docgenInfo={description:`ClaimableRewardsCard is a component that displays the Claimable Rewards
amount.

This is meant to represent the total amount of ESP that can be claimed as
rewards by the active wallet.`,displayName:"ClaimableRewardsCard",props:{}}}catch{}try{Jt.displayName="ClaimAllButton",Jt.__docgenInfo={description:"",displayName:"ClaimAllButton",props:{}}}catch{}const Jn=()=>{const e=c.useContext(jr);return r.jsxs(Ce,{className:"estimated-apr-card",children:[r.jsx("h2",{children:r.jsx(f,{text:"Total Balance"})}),r.jsx(be,{children:r.jsx(Ie,{money:Pe.ESP(e)})})]})};try{Jn.displayName="TotalBalanceCard",Jn.__docgenInfo={description:`TotalBalanceCard is a component that displays the Total Balance of the
active Wallet.

Total Balance is defined as the sum of the Available Balance and the
Staked Balance.`,displayName:"TotalBalanceCard",props:{}}}catch{}const Zn=()=>{const e=c.useContext(We);if(!e)return r.jsxs(Ce,{className:"estimated-apr-card",children:[r.jsx("h2",{children:r.jsx(f,{text:"Total Staked"})}),r.jsx(be,{children:r.jsx(Ie,{money:Pe.ESP(0n)})})]});const t=xt((n,o)=>n+o.amount,0n,e.nodes);return r.jsxs(Ce,{className:"estimated-apr-card",children:[r.jsx("h2",{children:r.jsx(f,{text:"Total Staked"})}),r.jsx(be,{children:r.jsx(Ie,{money:Pe.ESP(t)})})]})};try{Zn.displayName="TotalStakedCard",Zn.__docgenInfo={description:`TotalStakedCard is a component that displays the Total Staked amount.

This is meant to represent the total amount of ESP that has been staked by
the active wallet.`,displayName:"TotalStakedCard",props:{}}}catch{}const eo=()=>c.useContext(ye)?r.jsxs("section",{className:"my-balance",children:[r.jsx("h2",{children:r.jsx(f,{text:"My Balance"})}),r.jsxs("div",{className:"my-balance-stats",children:[r.jsx(Jn,{}),r.jsx(Yn,{}),r.jsx(Zn,{}),r.jsx(Qn,{})]}),r.jsx(Jt,{children:r.jsx(f,{text:"Claim All Rewards"})})]}):null;try{eo.displayName="MyBalance",eo.__docgenInfo={description:"",displayName:"MyBalance",props:{}}}catch{}const Le=({children:e})=>r.jsx("div",{className:"network-stat-value",children:e});try{Le.displayName="NetworkStatValue",Le.__docgenInfo={description:"",displayName:"NetworkStatValue",props:{}}}catch{}const to=()=>{const e=c.useContext(it),t=c.useContext(zt);return r.jsxs(Le,{children:[r.jsx("h2",{children:r.jsx(f,{text:"Currently Staked"})}),r.jsx(Se,{percentage:Number(e)/Number(t)})]})};try{to.displayName="CurrentlyStaked",to.__docgenInfo={description:"",displayName:"CurrentlyStaked",props:{}}}catch{}function mc(e){return e!=null}function gc(e){const t=e<0?-1:1,n=Math.floor(e/1e3),o=Math.floor(n/60);return[Math.floor(o/60),o%60,n%60].map(i=>i*t)}const lt=e=>{const t=Ds.useContext(Li),[n,o,s]=gc(e.durationInMilliseconds),i=[t.hours.format(n),t.minutes.format(o),t.seconds.format(s)].filter(mc);return r.jsx(f,{text:i.join(" ")})};try{lt.displayName="TimeLeftText",lt.__docgenInfo={description:`TimeLeftText displays the duration specified in terms of the total number
of hours, minutes, and seconds that comprise the total milliseconds provided.`,displayName:"TimeLeftText",props:{durationInMilliseconds:{defaultValue:null,description:"",name:"durationInMilliseconds",required:!0,type:{name:"number"}}}}}catch{}const no=()=>{const e=c.useContext(Ir);if(e==null)return r.jsxs(Le,{children:[r.jsxs("h2",{children:[r.jsx(f,{text:"Epoch"}),"Â ",r.jsx("span",{className:"accent",children:r.jsx(f,{text:"-"})}),"Â ",r.jsx(f,{text:"ends in"})]}),r.jsx(f,{text:"-"})]});const t=e.espressoBlock,n=t.block,o=t.blocksPerEpoch,s=n%o,i=o-s,a=Number(i)*6*1e3;return r.jsxs(Le,{children:[r.jsxs("h2",{children:[r.jsx(f,{text:"Epoch"}),"Â ",r.jsx("span",{className:"accent",children:r.jsx(Oi,{number:e?.espressoBlock.epoch??0n})}),"Â ",r.jsx(f,{text:"ends in"})]}),r.jsx(lt,{durationInMilliseconds:a})]})};try{no.displayName="EpochEndsIn",no.__docgenInfo={description:"",displayName:"EpochEndsIn",props:{}}}catch{}const oo=()=>r.jsxs(Le,{children:[r.jsx("h2",{children:r.jsx(f,{text:"Estimated APR"})}),r.jsx(Se,{percentage:.035})]});try{oo.displayName="EstimatedAPR",oo.__docgenInfo={description:`EstimatedAPRCard displays the estimated annual percentage rate (APR).
The APR is currently hardcoded to 3.5%.`,displayName:"EstimatedAPR",props:{}}}catch{}const ro=()=>r.jsxs("div",{className:"network-stats",children:[r.jsx("h1",{children:r.jsx(f,{text:"ESP Delegation"})}),r.jsxs("div",{className:"network-stats-grid",children:[r.jsx(to,{}),r.jsx(oo,{}),r.jsx(no,{})]})]});try{ro.displayName="NetworkStats",ro.__docgenInfo={description:"NetworkStats component displays key statistics about the chain.",displayName:"NetworkStats",props:{}}}catch{}const so=({value:e,disabled:t,onChange:n,...o})=>r.jsx("input",{type:"checkbox",className:"bswitch",checked:e,disabled:t,onChange:s=>{n&&n(s.target.checked)},...o});try{so.displayName="BaseSwitch",so.__docgenInfo={description:`BaseSwitch is a simple switch component that represents a boolean value.
It is implemented via a checkbox input element.`,displayName:"BaseSwitch",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((checked: boolean) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}const io=()=>{const e=c.useContext(at),t=c.useContext(Qt);return r.jsxs("span",{className:"only-top-100-filter",children:[r.jsx("label",{htmlFor:"show-top-100",children:r.jsx(f,{text:"Only show top 100"})}),r.jsx(so,{id:"show-top-100",value:e,onChange:t})]})};try{io.displayName="OnlyTop100Filter",io.__docgenInfo={description:`OnlyTop100Filter is a React context provider for the "only show top 100"
filter.`,displayName:"OnlyTop100Filter",props:{}}}catch{}const bs=e=>c.createElement(bt,{...e,className:X(e.className,"stroked")},r.jsxs("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-unlock",children:[r.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),r.jsx("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"})]}));try{unlock.displayName="unlock",unlock.__docgenInfo={description:"Unlock represents an open Lock.",displayName:"unlock",props:{}}}catch{}const ie=e=>c.createElement(bt,{...e,className:X(e.className,"stroked")},r.jsx("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-check-circle",children:r.jsx("polyline",{points:"6 9 12 15 18 9"})}));try{chevrondown.displayName="chevrondown",chevrondown.__docgenInfo={description:"ChevronDown represents a downward pointing chevron arrow.",displayName:"chevrondown",props:{}}}catch{}var W=(e=>(e[e.collapsed=0]="collapsed",e[e.expanded=1]="expanded",e))(W||{});const Ve=c.createContext(0),ct=c.createContext(()=>{});function yc(e=0){const[t,n]=c.useState(e);return[t,n]}const Zt=({children:e})=>{const[t,n]=yc();return r.jsx(Ve.Provider,{value:t,children:r.jsx(ct.Provider,{value:n,children:e})})};try{Ve.displayName="CollapseStateContext",Ve.__docgenInfo={description:`CollapseStateContext provides a React Context that represents the current
collapse state of a UI element.`,displayName:"CollapseStateContext",props:{}}}catch{}try{ct.displayName="SetCollapseStateContext",ct.__docgenInfo={description:`SetCollapseStateContext provides a React Context that represents the setter
function to update the current collapse state of a UI element.`,displayName:"SetCollapseStateContext",props:{}}}catch{}try{Zt.displayName="ProvideCollapseState",Zt.__docgenInfo={description:`ProvideCollapseState is a React Component that defines a collapse state,
and provides contexts for reading, and setting it.`,displayName:"ProvideCollapseState",props:{}}}catch{}const en=({children:e,className:t,...n})=>r.jsx(Zt,{children:r.jsx(vc,{className:t,...n,children:e})}),vc=({children:e,className:t,...n})=>{const o=c.useRef(null),s=c.useContext(Ve),i=c.useContext(ct);return r.jsx("details",{ref:o,className:X(t,"collapsable-section"),...n,open:s===W.expanded,onToggle:a=>{if(a.stopPropagation(),a.preventDefault(),a.newState==="open"){i(W.expanded);return}i(W.collapsed)},children:e})},tn=({children:e})=>r.jsxs("summary",{className:"collapsable-header",children:[e,r.jsx(_c,{})]});function xc(e){switch(e){case W.collapsed:return W.expanded;case W.expanded:return W.collapsed}}const _c=()=>{const e=c.useContext(Ve),t=c.useContext(ct);return r.jsxs(I,{className:"bbtn-collapse-toggle",onClick:()=>t(xc(e)),children:[r.jsx("span",{children:r.jsx(f,{text:e?"Collapse":"Expand"})}),r.jsx(ie,{})]})},nn=({children:e})=>c.useContext(Ve)===W.collapsed?null:e;try{en.displayName="CollapsableSection",en.__docgenInfo={description:"",displayName:"CollapsableSection",props:{}}}catch{}try{tn.displayName="CollapsableHeader",tn.__docgenInfo={description:"",displayName:"CollapsableHeader",props:{}}}catch{}try{nn.displayName="CollapseGuard",nn.__docgenInfo={description:"",displayName:"CollapseGuard",props:{}}}catch{}var g=(e=>(e[e.rank=0]="rank",e[e.validator=1]="validator",e[e.totalStake=2]="totalStake",e[e.fee=3]="fee",e[e.missedSlots=4]="missedSlots",e[e.participationRate=5]="participationRate",e[e.hotShotConsensus=6]="hotShotConsensus",e))(g||{}),ao=(e=>(e[e.asc=0]="asc",e[e.desc=1]="desc",e))(ao||{});const dt=c.createContext({sortBy:()=>{}}),ut=c.createContext({sortBy:2,sortDirection:1}),lo=()=>{const[e,t]=c.useState({sortBy:2,sortDirection:1});return{tableState:e,tableControls:{sortBy:o=>{t(s=>{if(s.sortBy!==o)return{...s,sortBy:o};switch(s.sortDirection){case 0:return{...s,sortDirection:1};case 1:return{...s,sortDirection:0}}})}}}};function bc(e,t){return e[1]-t[1]}function Cc(e,t){return b(e[0].address,t[0].address)}function wc(e,t){return Number(e[0].commission.valueOf()-t[0].commission.valueOf())}function Sc(e,t){const n=e[2]?.leaderParticipation?.ratio??-1,o=t[2]?.leaderParticipation?.ratio??-1;return n-o}function Ec(e,t){const n=e[2]?.voterParticipation?.ratio??-1,o=t[2]?.voterParticipation?.ratio??-1;return n-o}function kc(e,t){return+!!e[2]-+!!t[2]}function jc(e,t){return Number(e[0].stake-t[0].stake)}function Nc(e){switch(e){case 0:return bc;case 1:return Cc;case 2:return jc;case 3:return wc;case 4:return Sc;case 5:return Ec;case 6:return kc;default:throw new Ct}}function Tc(e){switch(e){case 0:return t=>t;case 1:return t=>(n,o)=>-t(n,o)}}function Ic(e,t,n,o){if(!e)return e;const{sortBy:s,sortDirection:i}=t,l=Tc(i)(Nc(s));return new we(e.l1Block,e.nodes.map(d=>{const u=d.addressText;return[d,n.get(u)??Number.MAX_SAFE_INTEGER,o.get(u)??null]}).sort(l).map(d=>d[0]))}const pt=e=>{const{tableState:t,tableControls:n}=lo(),o=c.useContext(N),s=c.useContext(Ys),i=c.useContext(yn),a=Ic(o,t,s,i);return r.jsx(N.Provider,{value:a,children:r.jsx(ut.Provider,{value:t,children:r.jsx(dt.Provider,{value:n,children:e.children})})})};try{g.displayName="CellType",g.__docgenInfo={description:`CellType enumerates the different types of columns that can be
sorted in the validator table.`,displayName:"CellType",props:{}}}catch{}try{ao.displayName="SortDirection",ao.__docgenInfo={description:"SortDirection enumerates the possible directions for sorting the table.",displayName:"SortDirection",props:{}}}catch{}try{dt.displayName="TableSortControlsContext",dt.__docgenInfo={description:"",displayName:"TableSortControlsContext",props:{}}}catch{}try{ut.displayName="TableSortStateContext",ut.__docgenInfo={description:"",displayName:"TableSortStateContext",props:{}}}catch{}try{lo.displayName="useValidatorTableSortState",lo.__docgenInfo={description:`useValidatorTableSortState is a custom hook that manages the sorting state
for the validator table, providing the current state and controls to modify
it.`,displayName:"useValidatorTableSortState",props:{}}}catch{}try{pt.displayName="ValidatorTableSortStateProvider",pt.__docgenInfo={description:`ValidatorTableSortStateProvider is a context provider that manages
the sorting state for the validator table and provides sorted validator
data to its children.`,displayName:"ValidatorTableSortStateProvider",props:{}}}catch{}const on=()=>r.jsx(r.Fragment,{});try{on.displayName="ActionsHeadCell",on.__docgenInfo={description:`ActionsHeadCell is the header cell for the actions to take in the
validator table.`,displayName:"ActionsHeadCell",props:{}}}catch{}const Ee=e=>c.createElement(bt,{...e,viewBox:"0 0 12 12",className:X(e.className,"stroked")},r.jsxs(r.Fragment,{children:[r.jsx("path",{d:"M9.25 7.75049L6 11.0005L2.75 7.75049",strokeWidth:"1.5"}),r.jsx("path",{d:"M9.25 4.25049L6 1.00049L2.75 4.25049",strokeWidth:"1.5"})]}));try{verticalscroll.displayName="verticalscroll",verticalscroll.__docgenInfo={description:"VerticalScroll represents a vertical scroll icon.",displayName:"verticalscroll",props:{}}}catch{}const rn=()=>r.jsxs(r.Fragment,{children:[r.jsx(f,{text:"Commission Rate"}),"Â ",r.jsx(Ee,{}),r.jsx(ie,{})]});try{rn.displayName="FeeHeadCell",rn.__docgenInfo={description:"FeeHeadCell is the header cell for the Fee column in the validator table.",displayName:"FeeHeadCell",props:{}}}catch{}const sn=()=>r.jsxs(r.Fragment,{children:[r.jsx(f,{text:"Consensus"}),"Â ",r.jsx(Ee,{}),r.jsx(ie,{})]});try{sn.displayName="HotShotConsensusHeadCell",sn.__docgenInfo={description:`HotShotConsensusHeadCell is the header cell for the HotShot Consensus
column in the validator table.`,displayName:"HotShotConsensusHeadCell",props:{}}}catch{}const an=()=>r.jsxs(r.Fragment,{children:[r.jsx(f,{text:"Missed Slots"}),"Â ",r.jsx(Ee,{}),r.jsx(ie,{})]});try{an.displayName="MissedSlotsHeadCell",an.__docgenInfo={description:`MissedSlotsHeadCell is the header cell for the Missed Slots column in the
validator table.`,displayName:"MissedSlotsHeadCell",props:{}}}catch{}const ln=()=>r.jsxs(r.Fragment,{children:[r.jsx(f,{text:"Participation"}),"Â ",r.jsx(Ee,{}),r.jsx(ie,{})]});try{ln.displayName="ParticipationRateHeadCell",ln.__docgenInfo={description:`ParticipationRateHeadCell is the header cell for the Participation Rate
column in the validator table.`,displayName:"ParticipationRateHeadCell",props:{}}}catch{}const cn=()=>r.jsxs(r.Fragment,{children:[r.jsx(f,{text:"Rank"}),"Â ",r.jsx(Ee,{}),r.jsx(ie,{})]});try{cn.displayName="RankHeadCell",cn.__docgenInfo={description:"RankHeadCell is the header cell for the Rank column in the validator table.",displayName:"RankHeadCell",props:{}}}catch{}const dn=()=>r.jsxs(r.Fragment,{children:[r.jsx(f,{text:"Total Stake"}),"Â ",r.jsx(Ee,{}),r.jsx(ie,{})]});try{dn.displayName="TotalStakeHeadCell",dn.__docgenInfo={description:`TotalStakeHeadCell is the header cell for the Total Stake column in the
validator table.`,displayName:"TotalStakeHeadCell",props:{}}}catch{}const un=()=>r.jsxs(r.Fragment,{children:[r.jsx(f,{text:"Validator"}),"Â ",r.jsx(Ee,{}),r.jsx(ie,{})]});try{un.displayName="ValidatorHeadCell",un.__docgenInfo={description:`ValidatorHeadCell is the header cell for the Validator column in the
validator table.`,displayName:"ValidatorHeadCell",props:{}}}catch{}const pn=()=>{const{sortBy:e}=c.useContext(dt),{sortDirection:t,sortBy:n}=c.useContext(ut);return r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"sortable","data-sort-column":n===g.rank?t:void 0,onClick:()=>e(g.rank),children:r.jsx(cn,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.validator?t:void 0,onClick:()=>e(g.validator),children:r.jsx(un,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.totalStake?t:void 0,onClick:()=>e(g.totalStake),children:r.jsx(dn,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.fee?t:void 0,onClick:()=>e(g.fee),children:r.jsx(rn,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.missedSlots?t:void 0,onClick:()=>e(g.missedSlots),children:r.jsx(an,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.participationRate?t:void 0,onClick:()=>e(g.participationRate),children:r.jsx(ln,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.hotShotConsensus?t:void 0,onClick:()=>e(g.hotShotConsensus),children:r.jsx(sn,{})}),r.jsx("th",{children:r.jsx(on,{})})]})})};try{pn.displayName="ClaimsDelegationTableHeader",pn.__docgenInfo={description:`ClaimsDelegationTableHeader is a component that renders
the header row of the delegation table with sortable columns.`,displayName:"ClaimsDelegationTableHeader",props:{}}}catch{}const Fe=()=>{const e=c.useContext(D),t=c.useContext(yn),n=e.addressText;return t.has(n)?r.jsx(Qs,{}):r.jsx(Js,{})};try{Fe.displayName="HotShotConsensusCell",Fe.__docgenInfo={description:`HotShotConsensusCell displays whether a validator is part of the
HotShot consensus set using active/inactive consensus chips.`,displayName:"HotShotConsensusCell",props:{}}}catch{}const ft=()=>r.jsxs(r.Fragment,{children:["#",r.jsx(bn,{}),r.jsx(Cn,{}),r.jsx(Fe,{})]});try{ft.displayName="CombinedDetailsCell",ft.__docgenInfo={description:`CombinedDetailsCell combines multiple details about a validator node
into a single cell for display in the validator nodes table.`,displayName:"CombinedDetailsCell",props:{}}}catch{}const ht=()=>{const e=c.useContext(D);return r.jsx(Se,{percentage:e.commission.valueOf()})};try{ht.displayName="FeeCell",ht.__docgenInfo={description:"FeeCell displays the commission fee of a validator as a percentage.",displayName:"FeeCell",props:{}}}catch{}const fn=({rate:e})=>{const n=c.useContext(Vi).default;return r.jsx("span",{title:`${n.format(e.numerator)} / ${n.format(e.denominator)}`,children:r.jsx(Se,{percentage:e.ratio})})};try{fn.displayName="RatioRationalText",fn.__docgenInfo={description:`RatioRationalText is a component that displays a RatioRational
as a percentage, with a tooltip showing the exact fraction.`,displayName:"RatioRationalText",props:{rate:{defaultValue:null,description:"",name:"rate",required:!0,type:{name:"RatioRational"}}}}}catch{}const mt=()=>{const e=c.useContext(D),n=c.useContext(yn).get(e.addressText);if(!n||n.leaderParticipation==null)return r.jsx(f,{text:"-"});const o=n.leaderParticipation,s=o.ratio;return!Number.isFinite(s)||Number.isNaN(s)?r.jsx(f,{text:"-"}):o instanceof U?r.jsx(fn,{rate:o.oneMinus()}):r.jsx(Se,{percentage:1-s})};try{mt.displayName="MissedSlotsCell",mt.__docgenInfo={description:"MissedSlotsCell displays the percentage of missed slots for a validator.",displayName:"MissedSlotsCell",props:{}}}catch{}const gt=()=>{const e=c.useContext(D),n=c.useContext(yn).get(e.addressText);if(!n||n.voterParticipation==null)return r.jsx(f,{text:"-"});const o=n.voterParticipation,s=o.ratio;return!Number.isFinite(s)||Number.isNaN(s)?r.jsx(f,{text:"-"}):o instanceof U?r.jsx(fn,{rate:o}):r.jsx(Se,{percentage:n.voterParticipation.ratio})};try{gt.displayName="ParticipationRateCell",gt.__docgenInfo={description:"ParticipationRateCell displays the voter participation rate for a validator.",displayName:"ParticipationRateCell",props:{}}}catch{}const co=()=>{const e=c.useContext(D),t=c.useContext(vt),n=c.useContext(gn);return r.jsx(I,{className:"action",onClick:()=>{n(new Zs(e.address)),t.open()},children:r.jsx(f,{text:"Withdraw"})})};try{co.displayName="PendingClaimActionsCell",co.__docgenInfo={description:"",displayName:"PendingClaimActionsCell",props:{}}}catch{}const yt=()=>{const e=c.useContext(it),t=c.useContext(D),n=Number(t.stake)/Number(e);return r.jsxs("span",{children:[r.jsx(Ie,{money:Pe.ESP(t.stake)}),"Â ",r.jsxs("span",{className:"percentage-text",children:["(",r.jsx(Se,{percentage:n}),")"]})]})};try{yt.displayName="TotalStakeCell",yt.__docgenInfo={description:`TotalStakeCell displays the stake amount for a validator node, along with its
percentage of the total stake.`,displayName:"TotalStakeCell",props:{}}}catch{}const uo=()=>r.jsxs("tr",{children:[r.jsx("td",{className:"combined-details-cell",children:r.jsx(ft,{})}),r.jsx("td",{children:r.jsx(bn,{})}),r.jsx("td",{children:r.jsx(Cn,{})}),r.jsx("td",{children:r.jsx(yt,{})}),r.jsx("td",{children:r.jsx(ht,{})}),r.jsx("td",{children:r.jsx(mt,{})}),r.jsx("td",{children:r.jsx(gt,{})}),r.jsx("td",{children:r.jsx(Fe,{})}),r.jsx("td",{children:r.jsx(co,{})})]});try{uo.displayName="PendingClaimsNodeValidatorTableRow",uo.__docgenInfo={description:`PendingClaimsNodeValidatorTableRow is a component that represents a single
row in the validator nodes table, displaying various details about the validator.`,displayName:"PendingClaimsNodeValidatorTableRow",props:{}}}catch{}const po=()=>{const e=c.useContext(N);return e?r.jsxs("table",{className:"all-validators-table pending-claims",children:[r.jsx(pn,{}),r.jsx("tbody",{children:e.nodes.map((t,n)=>r.jsx(D.Provider,{value:t,children:r.jsx(uo,{})},n))})]}):r.jsx(r.Fragment,{})};try{po.displayName="PendingClaimsDelegationTable",po.__docgenInfo={description:`PendingClaimsDelegationTable is a component that renders
the table of validator nodes in the delegation UI for Pending Claims`,displayName:"PendingClaimsDelegationTable",props:{}}}catch{}const fo=()=>r.jsx(Pc,{children:r.jsx(Zt,{children:r.jsx(Dc,{})})}),Pc=({children:e})=>c.useContext(ne).size<=0?null:r.jsx(Ac,{children:e}),Ac=({children:e})=>{const t=c.useContext(mn),n=c.useContext(ne);return P(n.values(),s=>s.availableTime<=t).next().done?null:e},Dc=()=>r.jsxs(en,{className:"pending-claims",children:[r.jsxs(tn,{children:[r.jsx(bs,{}),r.jsx("h2",{children:r.jsx(f,{text:"Your recently unstaked your delegation.  You can claim back your delegation now."})})]}),r.jsx(nn,{children:r.jsx(Mc,{})})]});function Bc(e,t){return e?new we(e.l1Block,Array.from(P(e.nodes,n=>t.has(n.addressText)))):null}const Mc=()=>{const e=c.useContext(ne),t=c.useContext(N);return r.jsx(N.Provider,{value:Bc(t,e),children:r.jsx(pt,{children:r.jsx(po,{})})})};try{fo.displayName="PendingClaims",fo.__docgenInfo={description:"",displayName:"PendingClaims",props:{}}}catch{}const ho=()=>{const e=c.useContext(D),t=c.useContext(vt),n=c.useContext(gn);return r.jsx(I,{className:"action",onClick:()=>{n(new ei(e.address)),t.open()},children:r.jsx(f,{text:"Withdraw"})})};try{ho.displayName="PendingExitActionsCell",ho.__docgenInfo={description:"",displayName:"PendingExitActionsCell",props:{}}}catch{}const mo=()=>r.jsxs("tr",{children:[r.jsx("td",{className:"combined-details-cell",children:r.jsx(ft,{})}),r.jsx("td",{children:r.jsx(bn,{})}),r.jsx("td",{children:r.jsx(Cn,{})}),r.jsx("td",{children:r.jsx(yt,{})}),r.jsx("td",{children:r.jsx(ht,{})}),r.jsx("td",{children:r.jsx(mt,{})}),r.jsx("td",{children:r.jsx(gt,{})}),r.jsx("td",{children:r.jsx(Fe,{})}),r.jsx("td",{children:r.jsx(ho,{})})]});try{mo.displayName="PendingExitsNodeValidatorTableRow",mo.__docgenInfo={description:`PendingExitsNodeValidatorTableRow is a component that represents a single
row in the validator nodes table, displaying various details about the validator.`,displayName:"PendingExitsNodeValidatorTableRow",props:{}}}catch{}const go=()=>{const e=c.useContext(N);return e?r.jsxs("table",{className:"all-validators-table pending-claims",children:[r.jsx(pn,{}),r.jsx("tbody",{children:e.nodes.map((t,n)=>r.jsx(D.Provider,{value:t,children:r.jsx(mo,{})},n))})]}):r.jsx(r.Fragment,{})};try{go.displayName="PendingExitsDelegationTable",go.__docgenInfo={description:`PendingExitsDelegationTable is a component that renders
the table of validator nodes in the delegation UI for Pending Exits`,displayName:"PendingExitsDelegationTable",props:{}}}catch{}const yo=()=>r.jsx(Uc,{children:r.jsx(Oc,{})}),Uc=({children:e})=>c.useContext(te).size<=0?null:r.jsx(Rc,{children:e}),Rc=({children:e})=>{const t=c.useContext(mn),n=c.useContext(te);return P(n.values(),s=>s.availableTime<=t).next().done?null:e},Oc=()=>r.jsxs(en,{className:"pending-exits",children:[r.jsxs(tn,{children:[r.jsx(bs,{}),r.jsx("h2",{children:r.jsx(f,{text:"Validators you have delegated to have exited the Staking Table.  You can claim back your delegation now."})})]}),r.jsx(nn,{children:r.jsx(Vc,{})})]});function Lc(e,t){return e?new we(e.l1Block,Array.from(P(e.nodes,n=>t.has(n.addressText)))):null}const Vc=()=>{const e=c.useContext(te),t=c.useContext(N);return r.jsx(N.Provider,{value:Lc(t,e),children:r.jsx(pt,{children:r.jsx(go,{})})})};try{yo.displayName="PendingExits",yo.__docgenInfo={description:"",displayName:"PendingExits",props:{}}}catch{}function Fc(e){const[t,n]=c.useState(e);return[t,n]}const Cs=c.createContext(null),ws=c.createContext(()=>{}),Ss=c.createContext(null);function vo(e){const[t,n]=Fc(e.selected);return r.jsx(Ss.Provider,{value:t,children:r.jsx(ws.Provider,{value:o=>{n(o),e.onSelectionChange(o)},children:r.jsx("div",{className:X(e.className,"btn-segmented"),children:e.segments.map((o,s)=>r.jsx(Cs.Provider,{value:o,children:r.jsx(Hc,{})},s))})})})}const Hc=()=>{const e=c.useContext(Cs),t=c.useContext(Ss),n=c.useContext(ws);return e?r.jsx(I,{className:"btn-segment","data-selected":e.value===t,onClick:()=>{n(e.value)},children:e.label}):null};try{vo.displayName="SegmentedButton",vo.__docgenInfo={description:`SegmentedButton is a button group that allows the user to select one of
multiple segments. Each segment is represented by a button. The selected
segment is highlighted.`,displayName:"SegmentedButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"T"}},onSelectionChange:{defaultValue:null,description:"",name:"onSelectionChange",required:!0,type:{name:"(value: T) => void"}},segments:{defaultValue:null,description:"",name:"segments",required:!0,type:{name:"ButtonSegment<T>[]"}}}}}catch{}const xo=()=>{const e=c.useContext(Oe),t=c.useContext(Yt);return r.jsx(vo,{selected:e,onSelectionChange:n=>{t(n)},segments:[{value:_e.all,label:r.jsx(f,{text:"All"})},{value:_e.myStakes,label:r.jsx(f,{text:"My Stakes"})}]})};try{xo.displayName="SectionFilter",xo.__docgenInfo={description:"SearchFilter is a React context provider for the search filter input.",displayName:"SectionFilter",props:{}}}catch{}const _o=e=>r.jsx(ti,{className:"staking-modal",closedby:"none",open:e.open,children:r.jsx(ni,{children:r.jsx(oi,{children:r.jsx(Di,{})})})});try{_o.displayName="StakingModal",_o.__docgenInfo={description:"",displayName:"StakingModal",props:{open:{defaultValue:null,description:"",name:"open",required:!1,type:{name:"boolean"}}}}}catch{}const bo=()=>r.jsx(r.Fragment,{children:r.jsx(f,{text:"Claim In"})});try{bo.displayName="ClaimInHeadCell",bo.__docgenInfo={description:`ClaimInHeadCell is the header cell for the Claim In column in the
validator table.`,displayName:"ClaimInHeadCell",props:{}}}catch{}const hn=()=>{const{sortBy:e}=c.useContext(dt),{sortDirection:t,sortBy:n}=c.useContext(ut);return r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"sortable","data-sort-column":n===g.rank?t:void 0,onClick:()=>e(g.rank),children:r.jsx(cn,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.validator?t:void 0,onClick:()=>e(g.validator),children:r.jsx(un,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.totalStake?t:void 0,onClick:()=>e(g.totalStake),children:r.jsx(dn,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.fee?t:void 0,onClick:()=>e(g.fee),children:r.jsx(rn,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.missedSlots?t:void 0,onClick:()=>e(g.missedSlots),children:r.jsx(an,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.participationRate?t:void 0,onClick:()=>e(g.participationRate),children:r.jsx(ln,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.hotShotConsensus?t:void 0,onClick:()=>e(g.hotShotConsensus),children:r.jsx(sn,{})}),r.jsx("th",{children:r.jsx(bo,{})}),r.jsx("th",{children:r.jsx(on,{})})]})})};try{hn.displayName="DelegationTableHeader",hn.__docgenInfo={description:`DelegationTableHeader is a component that renders
the header row of the delegation table with sortable columns.`,displayName:"DelegationTableHeader",props:{}}}catch{}const Co=()=>r.jsx(vn,{className:"consensus-chip inactive",children:r.jsx(f,{text:"Exited"})});try{Co.displayName="ExitedChip",Co.__docgenInfo={description:"",displayName:"ExitedChip",props:{}}}catch{}const wo=()=>r.jsx(vn,{className:"consensus-chip inactive",children:r.jsx(f,{text:"Exiting"})});try{wo.displayName="ExitingChip",wo.__docgenInfo={description:"",displayName:"ExitingChip",props:{}}}catch{}const So=()=>r.jsx(vn,{className:"consensus-chip inactive",children:r.jsx(f,{text:"Undelegated"})});try{So.displayName="UndelegatedChip",So.__docgenInfo={description:"",displayName:"UndelegatedChip",props:{}}}catch{}const Eo=()=>r.jsx(vn,{className:"consensus-chip inactive",children:r.jsx(f,{text:"Undelegating"})});try{Eo.displayName="UndelegatingChip",Eo.__docgenInfo={description:"",displayName:"UndelegatingChip",props:{}}}catch{}const ko=()=>{const e=c.useContext(D),t=c.useContext(ye),n=c.useContext(Do),o=c.useContext(mn),s=c.useContext(vt),i=c.useContext(te),a=c.useContext(ne),l=c.useContext(Xt),d=c.useContext(gn);if(!t||n.connectModalOpen)return r.jsx(r.Fragment,{children:r.jsx(I,{className:"action",onClick:n.openConnectModal,children:r.jsx(f,{text:"Delegate"})})});const u=e.addressText,p=i.get(u)??null,m=a.get(u)??null;return p?p.availableTime.valueOf()<o.valueOf()?r.jsx(Co,{}):r.jsx(wo,{}):m?m.availableTime.valueOf()<o.valueOf()?r.jsx(So,{}):r.jsx(Eo,{}):l.has(u)?r.jsx(I,{className:"action",onClick:()=>{d(new Ko(e.address)),s.open()},children:r.jsx(f,{text:"Manage"})}):r.jsx(I,{className:"action",onClick:()=>{d(new Ko(e.address)),s.open()},children:r.jsx(f,{text:"Delegate"})})};try{ko.displayName="ActionsCell",ko.__docgenInfo={description:"",displayName:"ActionsCell",props:{}}}catch{}const jo=()=>{const e=c.useContext(D),t=c.useContext(mn),n=c.useContext(te),o=c.useContext(ne),s=e.addressText,i=n.get(s)??null,a=o.get(s)??null;if(i){const l=i.availableTime.valueOf()-t.valueOf();return l<=0?r.jsx("span",{className:"claimable",children:r.jsx(f,{text:"Claimable"})}):r.jsx(lt,{durationInMilliseconds:l})}if(a){const l=a.availableTime.valueOf()-t.valueOf();return l<=0?r.jsx("span",{className:"claimable",children:r.jsx(f,{text:"Claimable"})}):r.jsx(lt,{durationInMilliseconds:l})}return r.jsx(r.Fragment,{children:r.jsx(f,{text:"-"})})};try{jo.displayName="ClaimInCell",jo.__docgenInfo={description:`ClaimInCell displays information related to being able to withdraw claims
from a validator node.`,displayName:"ClaimInCell",props:{}}}catch{}const No=()=>r.jsxs("tr",{children:[r.jsx("td",{className:"combined-details-cell",children:r.jsx(ft,{})}),r.jsx("td",{children:r.jsx(bn,{})}),r.jsx("td",{children:r.jsx(Cn,{})}),r.jsx("td",{children:r.jsx(yt,{})}),r.jsx("td",{children:r.jsx(ht,{})}),r.jsx("td",{children:r.jsx(mt,{})}),r.jsx("td",{children:r.jsx(gt,{})}),r.jsx("td",{children:r.jsx(Fe,{})}),r.jsx("td",{children:r.jsx(jo,{})}),r.jsx("td",{children:r.jsx(ko,{})})]});try{No.displayName="NodeValidatorTableRow",No.__docgenInfo={description:`NodeValidatorTableRow is a component that represents a single row
in the validator nodes table, displaying various details about the validator.`,displayName:"NodeValidatorTableRow",props:{}}}catch{}const To=()=>{const e=c.useContext(N);return e?r.jsxs("table",{className:"all-validators-table",children:[r.jsx(hn,{}),r.jsx("tbody",{children:e.nodes.map((t,n)=>r.jsx(D.Provider,{value:t,children:r.jsx(No,{})},n))})]}):r.jsx(r.Fragment,{})};try{To.displayName="DelegationTable",To.__docgenInfo={description:`DelegationTable is a component that renders
the table of validator nodes in the delegation UI.`,displayName:"DelegationTable",props:{}}}catch{}const Wc=()=>r.jsxs("table",{className:"all-validators-table",children:[r.jsx(hn,{}),r.jsx("tbody",{children:r.jsx("tr",{children:r.jsxs("td",{className:"no-data",colSpan:8,children:[r.jsx(f,{text:"Nothing brewing yet..."}),r.jsx("br",{}),r.jsx("br",{}),r.jsx(Es,{})]})})})]}),$c=()=>{const e=c.useContext(N);return c.useContext(Oe)===_e.myStakes&&(e?.nodes.length??0)===0?r.jsx(Wc,{}):r.jsx(To,{})},Io=()=>r.jsx(qn,{children:r.jsx(Xn,{children:r.jsx(Bi,{children:r.jsxs(ri,{children:[r.jsx(_o,{}),r.jsxs("section",{className:"delegation-ui-content edge-margin",children:[r.jsx(ro,{}),r.jsx(eo,{}),r.jsx(fo,{}),r.jsx(yo,{}),r.jsx(zc,{}),r.jsx(Xc,{children:r.jsxs(pt,{children:[r.jsx($c,{}),r.jsx("br",{})]})})]})]})})})});function Kc(e,t){return e!==_e.myStakes?()=>!0:n=>t?!!He(t.nodes,o=>b(n.address,o.node)===0):!1}function Gc(e,t){return e?n=>n.stake>=t&&n.stake>0n:()=>!0}function qc(e,t,n,o,s){if(!e)return null;const i=Array.from(S(e.nodes,l=>l.stake)).toSorted(),a=i.length<100?i[0]-1n:i[i.length-100];return new we(e.l1Block,Array.from(P(P(P(e.nodes,Gc(o,a)),Kc(n,t)),Ri(s))))}const Xc=({children:e})=>{const t=c.useContext(N),n=c.useContext(We),o=c.useContext(Oe),s=c.useContext(Ui),i=c.useContext(at);return r.jsx(N.Provider,{value:qc(t,n,o,i,s),children:e})},zc=()=>r.jsxs("div",{className:"delegation-ui-table-controls",children:[r.jsxs("div",{children:[r.jsx(Mi,{}),r.jsx(xo,{}),r.jsx(io,{})]}),r.jsx(Es,{})]}),Es=()=>{const e=c.useContext(ye),t=c.useContext(Do),n=c.useContext(vt);return!e||t.connectModalOpen?r.jsxs(I,{onClick:t.openConnectModal,children:[r.jsx($n,{}),r.jsx(f,{text:"Delegate"})]}):r.jsxs(I,{onClick:n.open,children:[r.jsx($n,{}),r.jsx(f,{text:"Delegate"})]})};try{Io.displayName="DelegationUIContent",Io.__docgenInfo={description:`DelegationUIContent is the main content area for the Delegation UI page.

It defines the layout and structure of the content that is displayed within
the Delegation UI.

All of the content is displayed within a dedicated element to define the
area for styling purposes, and for content display.`,displayName:"DelegationUIContent",props:{}}}catch{}function Yc(e,t){const n=xt(Qc,e,t.diff);return new Bo(t.espressoBlock,n.nodes)}function Qc(e,t){if(t instanceof si)return Zc(e,t);if(t instanceof ii)return ed(e,t);throw new Ct}function Dn(e,t){if(!e)return new U(0n,0n);if(e instanceof U)return e;if(e.ratio===1)return new U(t.block,t.block);if(e.ratio===0)return new U(0n,t.block);if(t.block===0n||t.epoch===0n)return Rr(),new U(0n,0n);const n=t.blocksPerEpoch,o=e.ratio*Number(n)*12*1e3,s=BigInt(Math.floor(o)),i=BigInt(12*1e3)*n,a=Jc(s,i);return new U(s/a,i/a)}function It(e){for(;(e&1n)===0n;)e=e>>1n;return e}function Jc(e,t){let n=1n;for(;(e&1n)===0n&&(t&1n)===1n;)e=e>>1n,t=t>>1n,n=n<<1n;for(e=It(e),t=It(t);e!==t;){if(e>t){e=e-t,e=It(e);continue}if(t>e){t=t-e,t=It(t);continue}break}return 2n**n*e}function Zc(e,t){const n=e.nodes.slice();{const i=t.leaderIndex,a=n[i],l=Dn(a.leaderParticipation,e.espressoBlock),d=new Lt(a.address,a.voterParticipation,new U(l.numerator+1n,l.denominator+1n));n[i]=d}for(const i of t.failedLeaders){const a=n[i],l=Dn(a.leaderParticipation,e.espressoBlock),d=new Lt(a.address,a.voterParticipation,new U(l.numerator,l.denominator+1n));n[i]=d}const o=Array.from(t.votersBitVec),s=n.length;for(let i=0;i<s;i++){if(i===t.leaderIndex)continue;const a=n[i],l=Dn(a.voterParticipation,e.espressoBlock),d=new Lt(a.address,new U(l.numerator+(o[i]?1n:0n),l.denominator+1n),a.leaderParticipation);n[i]=d}return new Bo(e.espressoBlock,n)}function ed(e,t){return new Bo(e.espressoBlock,Array.from(S(t.entries,n=>new Lt(n,null,null))))}function td(e,t){const n=xt(nd,e,t.diff);return new we(t.l1Block,n.nodes)}function nd(e,t){if(t instanceof ai)return od(e,t);if(t instanceof li)return rd(e,t);throw new Ct}function od(e,t){const n=e.nodes.filter(o=>b(o.address,t.validatorExit.address)!==0);return new we(e.l1Block,n)}function rd(e,t){const n=e.nodes.map(o=>b(o.address,t.validatorInformation.address)===0?t.validatorInformation:o);return new we(e.l1Block,n)}function sd(e,t){const n=xt(id,e,t.diff);return new B(n.nodes,n.pendingUndelegations,n.pendingExits,n.claimedRewards,t.l1Block)}function id(e,t){if(t instanceof Pr)return ad(e,t);if(t instanceof Ar)return ld(e,t);if(t instanceof Dr)return cd(e,t);if(t instanceof ci)return dd(e,t);if(t instanceof Br)return ud(e,t);if(t instanceof Mr)return pd(e,t);throw new Ct}function ad(e,t){return new B(e.nodes,e.pendingUndelegations,e.pendingExits,e.claimedRewards+t.claimedRewards,e.l1Block)}function ld(e,t){const o=He(e.nodes,s=>b(s.node,t.delegation.node)===0)?e.nodes:oe(e.nodes,re(new $(t.delegation.delegator,t.delegation.node,0n)));return new B(Array.from(S(o,s=>b(s.node,t.delegation.node)!==0?s:new $(s.delegator,s.node,s.amount+t.delegation.amount))),e.pendingUndelegations,e.pendingExits,e.claimedRewards,e.l1Block)}function cd(e,t){return new B(Array.from(P(e.nodes,n=>b(n.node,t.withdrawal.node)!==0)),e.pendingUndelegations,Array.from(P(e.pendingExits,n=>b(n.node,t.withdrawal.node)!==0)),e.claimedRewards,e.l1Block)}function dd(e,t){return new B(e.nodes,e.pendingUndelegations,Array.from(oe(e.pendingExits,re(t.pendingWithdrawal))),e.claimedRewards,e.l1Block)}function ud(e,t){return new B(Array.from(S(e.nodes,n=>b(n.node,t.pendingWithdrawal.node)!==0?n:new $(n.delegator,n.node,n.amount-t.pendingWithdrawal.amount))),Array.from(oe(e.pendingUndelegations,re(t.pendingWithdrawal))),e.pendingExits,e.claimedRewards,e.l1Block)}function pd(e,t){return new B(e.nodes,Array.from(P(e.pendingUndelegations,n=>b(n.node,t.withdrawal.node)!==0)),e.pendingExits,e.claimedRewards,e.l1Block)}const q=100;function ks(e,t){return e===null&&t===null?!0:e===null||t===null?!1:e.number===t.number&&b(e.hash,t.hash)===0}function fd(e){let t=e;return e instanceof kr&&(t=e.error),t instanceof J&&t.status===404}function qe(e){return fd(e)}function js(e,t){return e===null?!1:t.number===e.number?(console.warn("request for l1 block at height returned the previous block?!",e,t),!0):t.number!==e.number+1n||b(e.hash,t.parent)!==0}const Ns=1e3;async function Cr(e,t,n=Ns){for(;;)try{return t?await e.l1Block.getBlockForHeight(t.number+1n):await e.l1Block.getLatestBlock()}catch(o){if(qe(o)){await A(n);continue}throw o}}async function*hd(e,t=Ns){let n=await Cr(e,null,t);for(yield n;;)await A(t),n=await Cr(e,n,t),yield n}const md=({children:e})=>{const t=c.useContext(Te),n=c.useMemo(()=>hd(t),[t]);return r.jsx(_n,{asyncIterable:n,children:r.jsx(gd,{children:e})})},gd=({children:e})=>{const t=c.useContext(_t)??null;return r.jsx(Mo.Provider,{value:t,children:e})},Ts=1e3;async function wr(e,t){let n=q;for(;;)try{return await e.validatorsAll.snapshot(t.hash)}catch(o){if(qe(o)){await A(n),n=Math.min(n*2,5e3);continue}throw o}}async function yd(e,t){let n=q;for(;;)try{return await e.validatorsAll.updatesSince(t.hash)}catch(o){if(qe(o)){await A(n),n=Math.min(n*2,5e3);continue}throw o}}async function*vd(e){let t=yield null;for(;t===null;)await A(q),t=yield null;let n=await wr(e,t);for(;;){const o=yield n;if(ks(o,t)){await A(q);continue}if(js(t,o)){Rr(),n=await wr(e,o),t=o;continue}const s=await yd(e,o);n=td(n,s),t=o}}const xd=({children:e})=>{const t=c.useContext(Te),n=c.useContext(Mo),o=c.useMemo(()=>vd(t),[t]);return r.jsx(_n,{asyncIterable:o,next:n,children:r.jsx(_d,{children:e})})},_d=({children:e})=>{const t=c.useContext(_t)??null;return r.jsx(N.Provider,{value:t,children:e})};async function bd(e){let t=q;for(;;)try{return await e.validatorsActive.active()}catch(n){let o=n;if(n instanceof kr&&(o=n.error),o instanceof J&&o.status===404){await A(t),t=Math.min(t*2,5e3);continue}throw n}}async function Cd(e,t,n=Ts){for(;;)try{return await e.validatorsActive.updatesSince(t.block+1n)}catch(o){if(qe(o)){await A(n);continue}throw o}}async function*wd(e,t=Ts){let n=await bd(e),o=n.espressoBlock;for(;;){yield n;const s=await Cd(e,o,t);n=Yc(n,s),o=n.espressoBlock}}const Sd=({children:e})=>{const t=c.useContext(Te),n=c.useMemo(()=>wd(t),[t]);return r.jsx(_n,{asyncIterable:n,children:r.jsx(Ed,{children:e})})},Ed=({children:e})=>{const t=c.useContext(_t)??null;return r.jsx(di.Provider,{value:t?.espressoBlock.block??null,children:r.jsx(ui.Provider,{value:t?.espressoBlock.epoch??0n,children:r.jsx(Ir.Provider,{value:t,children:e})})})};async function Sr(e,t,n){if(!n)return null;const o=y.decode(n);let s=q;for(;;)try{return await e.wallet.snapshot(o,t.hash)}catch(i){if(qe(i)){await A(s),s=Math.min(s*2,5e3);continue}throw i}}async function kd(e,t,n){const o=y.decode(n);let s=q;for(;;)try{return await e.wallet.updates(o,t.hash)}catch(i){if(qe(i)){await A(s),s=Math.min(s*2,5e3);continue}throw i}}async function*jd(e){let[t,n]=yield null;for(;t===null;)await A(q),[t,n]=yield null;let o=await Sr(e,t,n);for(;;){const[s,i]=yield o;if(ks(s,t)&&i===n){await A(q);continue}if(!o||n!==i||js(t,s)){o=await Sr(e,s,i),t=s,n=i;continue}if(!i){o=null,t=s,n=i;continue}const a=await kd(e,s,i);o=sd(o,a),t=s,n=i}}const Nd=({children:e})=>{const t=c.useContext(Te),n=c.useContext(Mo),o=c.useContext(ye),s=c.useMemo(()=>jd(t),[t]);return r.jsx(_n,{asyncIterable:s,next:[n,o],children:r.jsx(Td,{children:e})})},Td=({children:e})=>{const t=c.useContext(_t)??null;return r.jsx(We.Provider,{value:t,children:e})},Po=({children:e})=>r.jsx(md,{children:r.jsx(xd,{children:r.jsx(Sd,{children:r.jsx(Nd,{children:e})})})});try{Po.displayName="ProvideDelegationUILocalState",Po.__docgenInfo={description:"",displayName:"ProvideDelegationUILocalState",props:{}}}catch{}const Id=()=>r.jsx(Pd,{children:r.jsxs("main",{className:"delegation-ui",children:[r.jsx(Gn,{}),r.jsx(Io,{})]})}),Pd=({children:e})=>r.jsx(pi,{children:r.jsx(fi,{children:r.jsx(Hn,{children:r.jsx(hi,{children:r.jsx(Po,{children:r.jsx(mi,{children:r.jsx(gi,{children:r.jsx(Fn,{children:r.jsx(yi,{children:r.jsx(vi,{children:r.jsx(On,{children:r.jsx(Vn,{children:r.jsx(Ln,{children:r.jsx(xi,{children:e})})})})})})})})})})})})})});try{delegationui.displayName="delegationui",delegationui.__docgenInfo={description:`DelegationUI is a component that represents the entire Delegation UI
self contained page.`,displayName:"delegationui",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Ao=({children:e})=>{const t=c.useContext(Ti),n=c.useContext(Te),o=c.useContext(Ks);return r.jsx(Te.Provider,{value:Ad(n,t,o),children:e})};function Ad(e,t,n){if(t instanceof Fi){const o=new Rd(t,e,n);return t.setTransactionCallback(o.wallet),o}return e}const Wt=new B([],[],[],0n,new Ur(0n,new ArrayBuffer,new Date(0)));class Dd{constructor(t){this.l1Methods=t}async getBlockForHeight(t){const n=this.l1Methods.mockBlockByHeight(t);if(!n)throw new J(404,null,"block not found");return new Go(n.height,y.decode(n.hash),y.decode(n.parentHash))}async getLatestBlock(){const t=this.l1Methods.mockLatestBlock();if(!t)throw new J(404,null,"block not found");return new Go(t.height,y.decode(t.hash),y.decode(t.parentHash))}}class Bd{constructor(t,n={snapshots:new Map([[Nn,new B(Array.from(S(zo(St.toSorted((o,s)=>Number(s.stake-o.stake)),St.length-2),o=>new $(y.decode(Nn),o.address,o.stake/10n))),[],Array.from(S(zo(St.toSorted((o,s)=>Number(s.stake-o.stake)),St.length-2),o=>new K(y.decode(Nn),o.address,o.stake/10n,new Date(0)))),0n,Wt.l1Block)]])}){this.l1Methods=t,this.state=n}async snapshot(t,n){if(!this.l1Methods.mockBlockByHash(y.encode(n)))throw new J(404,null,"block not found");const o=y.encode(t);return this.state.snapshots.get(o)??Wt}async updates(t,n){const o=y.encode(n),s=y.encode(t);if(!this.l1Methods.mockBlockByHash(o))throw new J(404,null,"block not found");const i=S(this.l1Methods.mockTransactionsForBlockHash(o)??[],l=>l.transaction),a=Si(i,l=>{if(l instanceof Yo){if(l instanceof wn&&l.delegator===s)return[new Ar(new $(t,y.decode(l.validator),l.amount))];if(l instanceof $e&&l.delegator===s)return[new Br(new K(t,y.decode(l.validator),l.amount,new Date(Date.now()+Number(l.exitEscrowPeriod))))];if(l instanceof Ke&&l.delegator===s)return[new Dr(new Xo(t,y.decode(l.validator),l.amount))];if(l instanceof Sn&&l.delegator===s)return[new Mr(new Xo(t,y.decode(l.validator),l.amount))]}return l instanceof Qo&&l instanceof Or&&l.delegator===s?[new Pr(l.lifetimeRewards)]:[]});return new _i(Wt.l1Block,Array.from(a))}l1Transaction(t){if(t instanceof Yo){this.reportStakeTableAction(t);return}if(t instanceof Qo){this.reportRewardClaimAction(t);return}}reportStakeTableAction(t){this.state=Ld(this.state,t)}reportRewardClaimAction(t){this.state=Qd(this.state,t)}}class Md{constructor(t,n){this.l1Methods=t,this.service=n}async snapshot(t){return this.service.snapshot(t)}async updatesSince(t){const n=y.encode(t),o=this.l1Methods.mockBlockByHash(n);if(!o)throw new J(404,null,"block not found");return new bi(new Ur(o.height,y.decode(o.hash),new Date(Number(o.timestamp))),[])}}class Ud{constructor(t,n){this.service=t,this.hotShotQueryService=n}async active(){return this.service.active()}async activeFor(t){return this.service.activeFor(t)}async updatesSince(t){const n=await this.hotShotQueryService.status.blockHeight();if(t>BigInt(n))throw new J(404,null,"block not found");const s=qo.determineEpoch(t,100n);return new Ci(new qo(s,t,new Date),[])}}class Rd{l1Block;wallet;validatorsAll;validatorsActive;constructor(t,n,o){this.l1Block=new Dd(t),this.wallet=new Bd(t),this.validatorsAll=new Md(t,n.validatorsAll),this.validatorsActive=new Ud(n.validatorsActive,o)}setURL(){throw new Ct}}function Od(e){return e instanceof wn||e instanceof $e||e instanceof Sn||e instanceof Ke?e.delegator:null}function Ld(e,t){if(t instanceof Uo)return{snapshots:new Map(S(e.snapshots,s=>Yd(s,t)))};let n=e.snapshots;const o=Od(t);return o?(e.snapshots.has(o)||(n=oe(e.snapshots,re([o,Wt]))),{snapshots:new Map(S(n,s=>Vd(s,t)))}):e}function Vd(e,t){const[n,o]=e;return[n,Fd(y.decode(n),o,t)]}function Fd(e,t,n){return new B(Hd(e,t.nodes,n),$d(e,t.pendingUndelegations,n),Gd(e,t.pendingExits,n),Xd(e,t.claimedRewards),zd(e,t.l1Block))}function Hd(e,t,n){if(!(n instanceof wn||n instanceof $e||n instanceof Ke))return t;const o=n.validator,s=y.decode(o),i=He(t,l=>b(l.node,s)===0);let a=t;return i||(a=oe(t,re(new $(e,s,0n)))),Array.from(P(S(a,l=>Wd(e,s,l,n)),l=>l.amount>0n))}function Wd(e,t,n,o){return b(n.delegator,e)!==0||b(n.node,t)!==0?n:o instanceof wn?new $(e,t,n.amount+o.value):o instanceof $e?new $(e,t,n.amount-o.value):o instanceof Ke?new $(e,t,0n):n}function $d(e,t,n){if(!(n instanceof $e||n instanceof Sn))return t;const o=n.validator,s=y.decode(o),i=He(t,l=>b(l.node,s)===0);let a=t;return i||(a=oe(t,re(new K(e,s,0n,new Date(0))))),Array.from(P(S(a,l=>Kd(e,s,l,n)),l=>l.amount>0n))}function Kd(e,t,n,o){return b(n.delegator,e)!==0||b(n.node,t)!==0?n:o instanceof $e?new K(e,t,o.value,new Date(o.ts.valueOf()+Number(o.exitEscrowPeriod))):o instanceof Sn?new K(e,t,0n,new Date(0)):n}function Gd(e,t,n){if(!(n instanceof Uo||n instanceof Ke))return t;let o=t;const s=n.validator,i=y.decode(s);return He(t,a=>b(a.node,i)===0)&&(o=oe(t,re(new K(e,i,0n,new Date(0))))),Array.from(P(S(o,a=>qd(e,i,a,n)),a=>a.amount>0n))}function qd(e,t,n,o){return b(n.delegator,e)!==0||b(n.node,t)!==0?n:o instanceof Uo?new K(e,t,o.value,new Date(Number(o.exitTime))):o instanceof Ke?new K(e,t,0n,new Date(0)):n}function Xd(e,t){return t}function zd(e,t){return t}function Yd(e,t){const n=t.validator,o=y.decode(n),[s,i]=e,a=y.decode(s),l=He(i.nodes,d=>b(d.node,o)===0);return l?[s,new B(i.nodes,i.pendingUndelegations,Array.from(oe(i.pendingExits,re(new K(a,o,l.amount,new Date(Number(t.exitTime)))))),i.claimedRewards,i.l1Block)]:e}function Qd(e,t){return{snapshots:new Map(S(e.snapshots,n=>Jd(n,t)))}}function Jd(e,t){if(!(t instanceof Or))return e;const[n,o]=e;return n!==t.delegator?e:[n,new B(o.nodes,o.pendingUndelegations,o.pendingExits,o.claimedRewards+t.value,o.l1Block)]}try{Ao.displayName="L1ValidatorServiceMockInjection",Ao.__docgenInfo={description:"",displayName:"L1ValidatorServiceMockInjection",props:{}}}catch{}const Zd=({environment:e,stakeTableContractAddress:t,espTokenContractAddress:n,hotshotQueryServiceURL:o,nodeValidatorWebSocketURL:s,l1ValidatorServiceURL:i,spoofAccountAddress:a,...l})=>r.jsx(r.Fragment,{children:r.jsxs($s,{environment:e,stakeTableContractAddress:t,espTokenContractAddress:n,hotshotQueryServiceURL:jn(o),nodeValidatorWebSocketURL:jn(s),l1ValidatorServiceURL:jn(i),children:[r.jsx(Us,{}),r.jsx(Bs,{children:r.jsx(eu,{account:a,children:r.jsx(Gs,{children:r.jsx(wi,{children:r.jsx(Ao,{children:r.jsx(Id,{...l})})})})})})]})}),eu=({account:e,children:t})=>{const n=c.useContext(ye),o=e||n;return r.jsx(ye.Provider,{value:o,children:t})},Xf={title:"Sites/Delegation UI/Page",component:Zd,parameters:{layout:"fullscreen"},args:{environment:Ms.fakeData,stakeTableContractAddress:void 0,espTokenContractAddress:void 0,rewardClaimContractAddress:void 0,hotshotQueryServiceURL:void 0,nodeValidatorWebSocketURL:void 0,l1ValidatorServiceURL:void 0,spoofAccountAddress:void 0},argTypes:{...Os,...Rs,spoofAccountAddress:{control:"text",description:"An optional account address to spoof as the connected wallet address in RainbowKit."}},globals:{background:"light",parameters:{backgrounds:{default:"light",options:{light:{name:"Light",value:"#f8fafcff"}}}}}},Pt={},At={args:Ls},Dt={args:Vs},Bt={args:{...Fs,l1ValidatorServiceURL:"https://staking.decaf.testnet.espresso.network/v0/staking/"}},Mt={args:Hs},Ut={args:Er},Rt={args:Er,play:async({canvasElement:e,step:t})=>{await uc(e,t)}},Ot={args:{...Ws,l1ValidatorServiceURL:"http://localhost:8080/v0/staking/"}};Pt.parameters={...Pt.parameters,docs:{...Pt.parameters?.docs,source:{originalSource:"{}",...Pt.parameters?.docs?.source}}};At.parameters={...At.parameters,docs:{...At.parameters?.docs,source:{originalSource:`{
  args: environmentArgsMilkWithContracts
}`,...At.parameters?.docs?.source}}};Dt.parameters={...Dt.parameters,docs:{...Dt.parameters?.docs,source:{originalSource:`{
  args: environmentArgsWaterWithContracts
}`,...Dt.parameters?.docs?.source}}};Bt.parameters={...Bt.parameters,docs:{...Bt.parameters?.docs,source:{originalSource:`{
  args: {
    ...environmentArgsDecafWithContracts,
    l1ValidatorServiceURL: 'https://staking.decaf.testnet.espresso.network/v0/staking/'
  }
}`,...Bt.parameters?.docs?.source}}};Mt.parameters={...Mt.parameters,docs:{...Mt.parameters?.docs,source:{originalSource:`{
  args: environmentArgsMainnetWithContracts
}`,...Mt.parameters?.docs?.source}}};Ut.parameters={...Ut.parameters,docs:{...Ut.parameters?.docs,source:{originalSource:`{
  args: environmentArgsFakeDataWithContracts
}`,...Ut.parameters?.docs?.source}}};Rt.parameters={...Rt.parameters,docs:{...Rt.parameters?.docs,source:{originalSource:`{
  args: environmentArgsFakeDataWithContracts,
  play: async ({
    canvasElement,
    step
  }) => {
    await delegationUIInteractions(canvasElement, step);
  }
}`,...Rt.parameters?.docs?.source}}};Ot.parameters={...Ot.parameters,docs:{...Ot.parameters?.docs,source:{originalSource:`{
  args: {
    ...environmentArgsLocalDevNetWithContracts,
    l1ValidatorServiceURL: 'http://localhost:8080/v0/staking/'
  }
}`,...Ot.parameters?.docs?.source}}};const zf=["Default","Milk","Water","Decaf","Mainnet","FakeData","FakeDataInteractions","LocalDevNet"];export{Bt as Decaf,Pt as Default,Ut as FakeData,Rt as FakeDataInteractions,Ot as LocalDevNet,Mt as Mainnet,At as Milk,Dt as Water,zf as __namedExportsOrder,Xf as default};
