import{a,j as e,F as y}from"./jsx-runtime-5BUNAZ9W.js";import{P as f,O as P,H as b,a as T}from"./Header-efnDnTsH.js";import{W as x,H as S,C as N,P as A,g as w,S as F}from"./StoryBookPathResolver-8EOso1hl.js";import{F as R}from"./Footer-CrD2Tz-8.js";import{R as o}from"./index-4g5l5LRQ.js";import{T as I}from"./TaggedBase64-4sAxGbCE.js";import{P as E,S as z,C as H,a as L,b as O,D as U}from"./PromiseBuilder-Wx5BoySI.js";import"./AnchorButton-nRlYYR1D.js";import"./Button-I3bbD5ni.js";import"./FlatIconAnchorButton-1U1EvmN5.js";import{I as m}from"./IconAnchorButton-HujeWbUs.js";import"./IconButton-7JNgBrhk.js";import"./LabeledAnchorButton-vxbK3n4D.js";import"./LabeledButton-lVcWQ9Rx.js";import{T as i,P as W}from"./TabledLabeledValue-HOywpDwW.js";import{B as j}from"./ByteSizeText-Je_qPo_H.js";import{D as M}from"./DateTimeText-gjwrpLWP.js";import{N as p}from"./NumberText-vuBi4ZSJ.js";import{R as K}from"./RelativeTimeText-L9nUWpC9.js";import{T as V}from"./TaggedBase64Text-Q_YkSFSF.js";import{T as n}from"./Text-qj7igP2-.js";import{h as Y}from"./typography-fmBtJntk.js";import{A as h}from"./ArrowLeft-kWkhbX4t.js";import{A as q}from"./ArrowRight-9gpb0-y0.js";import{f as G}from"./functional-Sf3DWwwq.js";import"./Close-bhffxfNn.js";import"./higher_order-VtSBvwoq.js";import"./SVGIconBase-1p394ezW.js";import"./Link-Cn5sJHnZ.js";import"./DiscordIcon-3IewVXYd.js";import"./EspressoLogo-WrwOKMPe.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./NumberFormattersProvider-olCp0Cc0.js";import"./DateTimeFormattersProvider-ojTofX-n.js";const c=o.createContext(0),J=()=>{const t=o.useContext(c),r=o.useContext(f);return t<=0?e(m,{children:e(h,{})}):e(m,{href:r.block(t-1),children:e(h,{})})},Q=()=>{const t=o.useContext(c),r=o.useContext(f);return e(m,{href:r.block(t+1),children:e(q,{})})},X=Y("label"),d=()=>{const t=o.useContext(c);return a("nav",{className:"nav--block",children:[a(X,{children:["# ",e(p,{number:t})]}),e(J,{}),e(Q,{})]})},_=o.createContext({height:0,time:new Date,transactions:0,proposer:new I("PUBKEY",new Uint8Array([222,173,190,239]).buffer),size:0}),D=o.createContext({async retrieve(){throw new Error("unimplemented")}}),Z=()=>{const t=o.useContext(_);return a("div",{children:[a(i,{children:[e(n,{text:"Block Height"}),e(p,{number:t.height})]}),a(i,{children:[e(n,{text:"Timestamp"}),a(y,{children:[e(K,{date:t.time})," (",e(M,{date:t.time}),")"]})]}),a(i,{children:[e(n,{text:"Transactions"}),e(p,{number:t.transactions})]}),a(i,{children:[e(n,{text:"Proposer"}),e(V,{value:t.proposer})]}),a(i,{children:[e(n,{text:"Size"}),e(j,{bytes:t.size})]})]})},$=t=>{const r=o.useContext(U);return r?e(_.Provider,{value:r,children:t.children}):e(W,{children:e(n,{text:"No Data Found"})})},ee=t=>{const r=t.snapshot;return e(z,{loading:r.connectionState===H.waiting,children:e(L,{error:r.error,children:e(O,{data:r.data,children:e(re,{})})})})},te=()=>{const t=o.useContext(c),r=o.useContext(D);return e(E,{promise:r.retrieve(t),builder:ee})},re=()=>e($,{children:e(Z,{})});try{d.displayName="BlockNavigation",d.__docgenInfo={description:"",displayName:"BlockNavigation",props:{}}}catch{}try{BlockDetailContent.displayName="BlockDetailContent",BlockDetailContent.__docgenInfo={description:"",displayName:"BlockDetailContent",props:{}}}catch{}const oe=x(N),ae=x(A),ne=()=>a(P,{pathname:"/block",children:[e(b,{}),a(ae,{children:[e(S,{children:e(n,{text:"Block"})}),e(d,{})]}),e(oe,{children:e(te,{})}),e(R,{})]});try{BlockPage.displayName="BlockPage",BlockPage.__docgenInfo={description:"",displayName:"BlockPage",props:{}}}catch{}let l=null;function ie(){return l===null&&(l=ce()),l}async function ce(){const t=[];for await(const r of w())t.push({height:r.height,proposer:r.proposer,transactions:r.numTransactions,size:r.size,time:r.time});return t}const se=t=>e(D.Provider,{...t,value:{async retrieve(r){const v=Array.from(await ie()),u=G(v,C=>C.height===r);if(!u)throw new Error("Not Found");return u}}});try{FakeBlockDetailDataSource.displayName="FakeBlockDetailDataSource",FakeBlockDetailDataSource.__docgenInfo={description:"",displayName:"FakeBlockDetailDataSource",props:{}}}catch{}const le=t=>e(T,{pathResolver:new F,children:e(c.Provider,{value:t.block,children:e(se,{children:e(ne,{})})})}),Ke={title:"Pages/Block",component:le,parameters:{layout:"fullscreen"}},s={args:{block:0}};var k,g,B;s.parameters={...s.parameters,docs:{...(k=s.parameters)==null?void 0:k.docs,source:{originalSource:`{
  args: {
    block: 0
  }
}`,...(B=(g=s.parameters)==null?void 0:g.docs)==null?void 0:B.source}}};const Ve=["Block"];export{s as Block,Ve as __namedExportsOrder,Ke as default};
