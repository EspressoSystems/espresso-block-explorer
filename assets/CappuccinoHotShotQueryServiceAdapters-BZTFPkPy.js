var Se=Object.defineProperty;var ke=(e,t,a)=>t in e?Se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var F=(e,t,a)=>ke(e,typeof t!="symbol"?t+"":t,a);import{j as n}from"./jsx-runtime-BlAj40OV.js";import{a as Q}from"./higher_order-DnPEgWEz.js";import{W as De,f as ve,g as Te,h as Re,i as Pe,d as N,C as be}from"./StoryBookPathResolver-CLqgVNho.js";import{U as v,D as L}from"./LoadingProvider-Cu0dkHek.js";import{P as b}from"./PathResolverProvider-Xv58eOQd.js";import{i as Ne}from"./functional-BZC-Q2QA.js";import{D as Be}from"./DateTimeText-H0_MZ3-7.js";import{N as we}from"./NumberText-C4Z_0tU7.js";import{T as je}from"./TaggedBase64Text-CGXJT8bt.js";import{T as B}from"./Text-BU7JBOLk.js";import{R as o}from"./index-Cs7sjTYM.js";import{S as I,D as y,a as _e,c as E,b as Ae}from"./DataTable-DgzE9OGs.js";import{L as V}from"./Link-DkuKr0oH.js";import{R as Le}from"./RollUpSimple-Ce6Gx4TQ.js";import{T}from"./TaggedBase64-DeObMAd8.js";import{P as x}from"./PromiseResolver-ZbtEiQb_.js";import{L as U}from"./LabeledAnchorButton-Ccf2RRuc.js";import{c as _,d as Ie,e as G,f as g,g as C,h as S,i as Ee}from"./CappuccinoHotShotQueryServiceAPIContext-D6pderAc.js";const fe=o.createContext(0),$=o.createContext({hash:new T("",new ArrayBuffer(0)),height:0,time:new Date,transactions:0,proposer:[],recipient:[],size:0,rewards:[]}),w=o.createContext({async retrieve(){throw new v}}),M=({children:e})=>{const t=o.useContext(fe),a=o.useContext(w);return n.jsx(x,{promise:a.retrieve(t),children:e})};try{$.displayName="BlockDetailContext",$.__docgenInfo={description:`BlockDetailContext is a React Context for holding the current BlockDetail.
It is useful for making BlockDetail information available to descendent
components.`,displayName:"BlockDetailContext",props:{}}}catch{}try{w.displayName="BlockDetailAsyncRetrieverContext",w.__docgenInfo={description:`RetrieverContext is a React Context for retrieving a BlockDetail from a
BlockDetailAsyncRetriever.`,displayName:"BlockDetailAsyncRetrieverContext",props:{}}}catch{}try{M.displayName="BlockDetailsLoader",M.__docgenInfo={description:`BlockDetails kicks off the retrieval of the details for the individual
Block, and ensures that the data is available for BlockDetailsContent`,displayName:"BlockDetailsLoader",props:{}}}catch{}const Ue=De("div"),W=e=>n.jsx(Ue,{...e,className:Q(e.className,"page-title")});try{W.displayName="PageTitle",W.__docgenInfo={description:`PageTitle is a container element to hold the page's title, sub-heading
information, and potentially navigation elements.`,displayName:"PageTitle",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}var H=(e=>(e.height="height",e.proposer="proposer",e.size="size",e.time="time",e.transactions="transaction",e))(H||{});function qe(e){return async t=>{const a=t;return(await e.retrieve({startAtBlock:a.startAtBlock})).map(s=>({block:s.height,proposer:s.proposer,transactions:s.transactions,size:s.size,time:s.time}))}}const R=o.createContext({async retrieve(){throw new v}}),ze=e=>{const t=o.useContext(R),a=o.useContext(y),r=qe(t);return n.jsx(x,{promise:r(a),children:n.jsx(_e.Provider,{value:()=>{},children:n.jsx(n.Fragment,{children:e.children})})})},J=({startAtBlock:e,...t})=>{const[a,r]=o.useState({sortColumn:H.height,sortDir:I.desc,startAtBlock:e});return e!==void 0&&a.startAtBlock!==e&&r({...a,startAtBlock:e}),n.jsx(y.Provider,{value:a,children:n.jsx(_e.Provider,{value:r,children:o.createElement(ze,t)})})},Oe=20,K=e=>{const t=o.useContext(L),a=o.useContext(b),r=o.useContext(y),s=[],i=[];return r.startAtBlock!==void 0&&s.push(n.jsx(U,{href:a.blocks(r.startAtBlock+Oe),children:n.jsx(B,{text:"Previous"})},0)),t.length>0&&t[t.length-1].block>0&&s.push(n.jsx(U,{href:a.blocks(t[t.length-1].block-1),children:n.jsx(B,{text:"Next"})},1)),n.jsxs("nav",{className:Q(e.className,"blocks-navigation"),children:[s,i]})};try{R.displayName="BlockSummaryAsyncRetrieverContext",R.__docgenInfo={description:`RetrieverContext represents the retriever to be utilized for retrieving
the BlockSummary data.`,displayName:"BlockSummaryAsyncRetrieverContext",props:{}}}catch{}try{J.displayName="BlockSummaryDataLoader",J.__docgenInfo={description:`BlockSummaryDataLoader is a component that provides the initial state of
the Block Summary state, and loads the data.`,displayName:"BlockSummaryDataLoader",props:{startAtBlock:{defaultValue:null,description:"",name:"startAtBlock",required:!1,type:{name:"number"}}}}}catch{}try{K.displayName="BlocksNavigation",K.__docgenInfo={description:"",displayName:"BlocksNavigation",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const xe=o.createContext({retrieve(){throw new v}}),vt=o.createContext({rollups:0,transactions:0,blocks:0,sequencerNodes:0}),X=e=>{const t=o.useContext(xe);return n.jsx(x,{promise:t.retrieve(),children:e.children})};try{X.displayName="ExplorerOverviewLoader",X.__docgenInfo={description:"",displayName:"ExplorerOverviewLoader",props:{}}}catch{}function Qe(e){return async()=>(await e.retrieve()).map(a=>({namespace:a.namespace,transactions:a.transactions}))}const P=o.createContext({async retrieve(){throw new v}}),Ve=e=>{const t=o.useContext(P),a=Qe(t);return n.jsx(x,{promise:a(),children:e.children})},Y=e=>{const[t]=o.useState({sortColumn:H.height,sortDir:I.desc});return n.jsx(y.Provider,{value:t,children:o.createElement(Ve,e)})};try{P.displayName="RollUpSummaryAsyncRetrieverContext",P.__docgenInfo={description:`RetrieverContext represents the retriever to be utilized for retrieving
the BlockSummary data.`,displayName:"RollUpSummaryAsyncRetrieverContext",props:{}}}catch{}try{Y.displayName="RollUpsSummaryLoader",Y.__docgenInfo={description:"",displayName:"RollUpsSummaryLoader",props:{}}}catch{}var f=(e=>(e.hash="hash",e.rollup="rollup",e.block="block",e.time="time",e))(f||{});const k=o.createContext({async retrieve(){throw new v}});function He(e){return{async retrieve(t){const a=t;return(await e.retrieve({startAtBlock:a.height,offset:a.offset})).map(s=>({hash:s.hash,block:s.block,offset:s.offset,rollups:s.namespaces,time:s.time}))}}}const Fe=e=>{const t=o.useContext(k),a=o.useContext(y),r=He(t);return n.jsx(x,{promise:r.retrieve(a),children:n.jsx(n.Fragment,{children:e.children})})},Z=e=>{const{startAtBlock:t,offset:a,...r}=e,[s]=o.useState({sortColumn:f.block,sortDir:I.desc,height:t,offset:a});return n.jsx(y.Provider,{value:s,children:o.createElement(Fe,r)})},ee=e=>{const t=o.useContext(L),a=o.useContext(b),r=[],s=[];if(t[t.length-1].block>0){const i=t[t.length-1];r.push(n.jsx(U,{href:a.transactions(i.block,i.offset+1),children:n.jsx(B,{text:"Next"})},1))}return n.jsxs("nav",{className:Q(e.className,"transactions-navigation"),children:[r,s]})};try{k.displayName="TransactionSummaryAsyncRetrieverContext",k.__docgenInfo={description:`RetrieverContext is a React Context that holds a reference to a
TransactionSummaryAsyncRetriever`,displayName:"TransactionSummaryAsyncRetrieverContext",props:{}}}catch{}try{Z.displayName="TransactionSummaryDataLoader",Z.__docgenInfo={description:`TransactionSummaryDataLoader sets up the intial state of the DataTableState
and kicks begins the process of retrieving the data.`,displayName:"TransactionSummaryDataLoader",props:{startAtBlock:{defaultValue:null,description:"",name:"startAtBlock",required:!1,type:{name:"number"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"number"}}}}}catch{}try{ee.displayName="TransactionsNavigation",ee.__docgenInfo={description:"",displayName:"TransactionsNavigation",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const ge=o.createContext({retrieve(){throw new v}});o.createContext({latestBlock:{hash:new T("",new ArrayBuffer(0)),height:0,time:new Date(0),transactions:0,proposer:[],recipient:[],size:0,rewards:[]},genesisOverview:{rollups:0,transactions:0,blocks:0},latestBlocks:[],latestTransactions:[],histograms:{blockTime:[],blockSize:[],blockTransactions:[],blockThroughput:[],blocks:[]}});class h{constructor(t){F(this,"promise");this.promise=t}retrieve(){return this.promise}}const te=e=>{const a=o.useContext(ge).retrieve();return n.jsx(ve.Provider,{value:new h(a.then(({latestBlock:r})=>r)),children:n.jsx(R.Provider,{value:new h(a.then(({latestBlocks:r})=>r)),children:n.jsx(k.Provider,{value:new h(a.then(({latestTransactions:r})=>r)),children:n.jsx(xe.Provider,{value:new h(a.then(({genesisOverview:r})=>({...r,sequencerNodes:0}))),children:n.jsx(P.Provider,{value:new h(Promise.resolve([])),children:n.jsx(Te.Provider,{value:new h(a.then(({histograms:r})=>r)),children:n.jsx(Re.Provider,{value:new h(a.then(({histograms:r})=>r)),children:n.jsx(Pe.Provider,{value:new h(a.then(({histograms:r})=>({blocks:r.blocks,blockThroughput:r.blockSize.map((s,i)=>s===null||r.blockTime[i]===null?null:s/Math.max(1,r.blockTime[i]))}))),children:e.children})})})})})})})})};try{te.displayName="ExplorerSummaryLoader",te.__docgenInfo={description:"",displayName:"ExplorerSummaryLoader",props:{}}}catch{}const Ge=()=>{const e=o.useContext(E),t=o.useContext(b);return n.jsx(be,{value:e.hash,children:n.jsx(V,{href:t.transaction(e.block,e.offset),children:n.jsx(je,{value:e.hash})})})},$e=()=>{const e=o.useContext(b),a=o.useContext(E).rollups;if(a.length===0)return n.jsx(B,{text:"No Rollups Involved"});if(a.length===1){const r=a[0];return n.jsx(V,{href:e.rollUp(r),children:n.jsx(Le,{namespace:r})})}},Me=()=>{const e=o.useContext(b),t=o.useContext(E);return n.jsx(V,{href:e.block(t.block),title:`Link to Block ${t.block}`,children:n.jsx(we,{number:t.block})})},We=()=>{const e=o.useContext(E);return n.jsx(Be,{date:e.time})},Ce=e=>n.jsx(Ae,{columns:[{label:"Transaction",columnType:f.hash,buildCell:e.components[0]},{label:"Rollups",columnType:f.rollup,buildCell:e.components[1]},{label:"Block",columnType:f.block,buildCell:e.components[2]},{label:"Time",columnType:f.time,buildCell:e.components[3]}]}),re=e=>{const{numElements:t=20}=e;return n.jsx(L.Provider,{value:Array.from(Ne(t)),children:n.jsx(Ce,{components:[N,N,N,N]})})},ae=()=>n.jsx(Ce,{components:[Ge,$e,Me,We]});try{re.displayName="TransactionsSummaryDataTablePlaceholder",re.__docgenInfo={description:`TransactionsSummaryDataTablePlaceholder is a DataTable that contains
Transaction Summary State.`,displayName:"TransactionsSummaryDataTablePlaceholder",props:{numElements:{defaultValue:null,description:"",name:"numElements",required:!1,type:{name:"number"}}}}}catch{}try{ae.displayName="TransactionsSummaryDataTable",ae.__docgenInfo={description:`TransactionsSummaryDataTable is a DataTable that contains Transaction
Summary State.`,displayName:"TransactionsSummaryDataTable",props:{}}}catch{}const q=o.createContext(0),j=o.createContext({async retrieve(){throw new v}});function Je(e,t){return{async retrieve(a){const r=a;return(await e.retrieve({namespace:t,height:r.height,offset:r.offset})).map(i=>({hash:i.hash,block:i.block,offset:0,rollups:i.namespaces,time:i.time}))}}}const oe=({children:e,startAtBlock:t,offset:a,...r})=>{const[s]=o.useState({sortColumn:f.block,sortDir:I.desc,height:t,offset:a}),i=o.useContext(q),d=o.useContext(j),c=o.useContext(y),p=Je(d,i);return n.jsx(y.Provider,{value:s,children:n.jsx(x,{promise:p.retrieve(c),...r,children:e})})};try{q.displayName="NamespaceContext",q.__docgenInfo={description:`NamespaceContext is a React Context that holds a reference to the
current Namespace`,displayName:"NamespaceContext",props:{}}}catch{}try{j.displayName="RollUpDetailAsyncRetrieverContext",j.__docgenInfo={description:`RetrieverContext is a React Context that holds a reference to a
RollUpDetailAsyncRetriever`,displayName:"RollUpDetailAsyncRetrieverContext",props:{}}}catch{}try{oe.displayName="RollUpDetailsDataLoader",oe.__docgenInfo={description:`RollUpDetailsDataLoader uses the Retriever from the
RetrieverContext and kicks off requests using the state retrieved
by the DataTableStateContext.`,displayName:"RollUpDetailsDataLoader",props:{startAtBlock:{defaultValue:null,description:"",name:"startAtBlock",required:!1,type:{name:"number"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"number"}}}}}catch{}const ne=o.createContext(new ArrayBuffer(0)),z=o.createContext(0),O=o.createContext({block:0,index:0,total:0,size:0,hash:new T("ERR",new ArrayBuffer(0)),time:new Date,sender:new T("ERR",new ArrayBuffer(0)),tree:{namespace:0,data:new ArrayBuffer(0)}}),A=o.createContext({async retrieve(){throw new v}}),Ke=e=>{const t=o.useContext(L);return t===void 0?e.children:n.jsx(O.Provider,{value:t,children:e.children})},se=e=>{const t=o.useContext(fe),a=o.useContext(z),r=o.useContext(A);return n.jsx(x,{promise:r.retrieve({height:t,offset:a}),children:n.jsx(Ke,{children:e.children})})};try{ne.displayName="TransactionCommitContext",ne.__docgenInfo={description:"TransactionCommitContext represents the current hash for a Transaction.",displayName:"TransactionCommitContext",props:{}}}catch{}try{z.displayName="TransactionOffsetContext",z.__docgenInfo={description:`TransactionOffsetContext represents the current offset for this Transaction
within a block.`,displayName:"TransactionOffsetContext",props:{}}}catch{}try{O.displayName="TransactionDetailContext",O.__docgenInfo={description:`TransactionDetailContext is a context that indicates the current
TransactionDetail to make available to the descendants of the component
tree.`,displayName:"TransactionDetailContext",props:{}}}catch{}try{A.displayName="TransactionDetailAsyncRetrieverContext",A.__docgenInfo={description:`RetrieverContext is a context for retrieving the TransactionDetail
response.`,displayName:"TransactionDetailAsyncRetrieverContext",props:{}}}catch{}try{se.displayName="TransactionDetailContentLoader",se.__docgenInfo={description:`TransactionDetailContent uses the retriever from the RetrieverContext
to retrieve the data using the hash retrieved from the
TransactionCommitContext`,displayName:"TransactionDetailContentLoader",props:{}}}catch{}const ie=e=>{const t=o.useContext(_);return n.jsx(w.Provider,{...e,value:{async retrieve(a){const{blockDetail:r}=await t.explorer.getBlockDetail(Ie.height(a));return{hash:r.hash,height:r.height,time:r.time,transactions:r.numTransactions,proposer:r.proposerID,recipient:r.feeRecipient,size:r.size,rewards:r.blockReward}}}})},ce=({children:e,blocksPerPage:t=20,...a})=>{const r=o.useContext(_);return n.jsx(R.Provider,{...a,value:{async retrieve(s){const{blocksPerPage:i=t,startAtBlock:d=null}=s,c=d===null?G.latest(i):G.from(d,i),p=await r.explorer.getBlockSummaries(c),{blockSummaries:l}=p;return l.map(m=>({height:m.height,proposer:m.proposerID,transactions:m.numTransactions,size:m.size,time:m.time}))}},children:e})},le=({children:e,transactionsPerPage:t=20,...a})=>{const r=o.useContext(_);return n.jsx(k.Provider,{...a,value:{async retrieve(s){const{startAtBlock:i=null,offset:d=null,transactionsPerPage:c=t}=s;let p;i===null||d===null?p=new g(C.latest(c),S.none()):p=new g(C.heightAndOffset(i,d,c),S.none());const l=await r.explorer.getTransactionSummaries(p),{transactionSummaries:m}=l;return m.map(u=>({hash:u.hash,namespaces:u.rollups,block:u.height,offset:u.offset,time:u.time}))}},children:e})},pe=({children:e,transactionsPerPage:t=20,...a})=>{const r=o.useContext(_);return n.jsx(k.Provider,{...a,value:{async retrieve(s){const{startAtBlock:i=0,offset:d=null,transactionsPerPage:c=t}=s;let p;i===null||d===null?p=new g(C.latest(c),S.block(i)):p=new g(C.heightAndOffset(i,d,c),S.block(i));const l=await r.explorer.getTransactionSummaries(p),{transactionSummaries:m}=l;return m.map(u=>({hash:u.hash,namespaces:u.rollups,block:u.height,offset:u.offset,time:u.time}))}},children:e})},de=e=>{const t=o.useContext(_);return n.jsx(A.Provider,{...e,value:{async retrieve(a){const{height:r,offset:s}=a,i=Ee.heightAndOffset(r,s),d=await t.explorer.getTransactionDetail(i),{transactionDetail:c}=d;return{block:c.details.height,index:c.details.offset,total:c.details.numTransactions,size:c.details.size,hash:c.details.hash,time:c.details.time,sender:new T("",new ArrayBuffer(0)),tree:{namespace:c.data[0].namespace,data:c.data[0].payload}}}}})},ue=({children:e,transactionsPerPage:t=20,...a})=>{const r=o.useContext(_);return n.jsx(j.Provider,{...a,value:{async retrieve(s){const{namespace:i,height:d=null,offset:c=null,transactionsPerPage:p=t}=s;let l;d===null||c===null?l=new g(C.latest(p),S.namespace(i)):l=new g(C.heightAndOffset(d,c,p),S.namespace(i));const m=await r.explorer.getTransactionSummaries(l),{transactionSummaries:u}=m;return u.map(D=>({hash:D.hash,namespaces:D.rollups,block:D.height,offset:D.offset,time:D.time}))}},children:e})},me=e=>n.jsx(P.Provider,{...e,value:{async retrieve(){return[]}}}),he=e=>{const t=o.useContext(_);return n.jsx(ve.Provider,{...e,value:{async retrieve(){const r=(await t.explorer.getExplorerOverview()).explorerSummary.latestBlock;return{height:r.height,proposer:r.proposerID,transactions:r.numTransactions,size:r.size,time:r.time}}}})},ye=e=>{const t=o.useContext(_);return n.jsx(ge.Provider,{...e,value:{async retrieve(){const a=await t.explorer.getExplorerOverview(),{explorerSummary:r}=a,{latestBlock:s,latestTransactions:i,latestBlocks:d,genesisOverview:c,histograms:p}=r;return{latestBlock:{hash:s.hash,height:s.height,time:s.time,transactions:s.numTransactions,proposer:s.proposerID,recipient:s.feeRecipient,size:s.size,rewards:s.blockReward},genesisOverview:{rollups:c.rollups,transactions:c.transactions,blocks:c.blocks},latestBlocks:d.map(l=>({height:l.height,time:l.time,transactions:l.numTransactions,size:l.size,proposer:l.proposerID})),latestTransactions:i.map(l=>({hash:l.hash,block:l.height,time:l.time,offset:l.offset,namespaces:l.rollups})),histograms:{blockTime:p.blockTime,blockSize:p.blockSize,blockTransactions:p.blockTransactions,blockThroughput:[],blocks:p.blockHeights}}}}})};try{ie.displayName="ProvideCappuccinoBlockDetailDataSource",ie.__docgenInfo={description:`ProvideCappuccinoBlockDetailDataSource is a component that converts
the HotShot Query Service for Cappuccino into a BlockDetailAsyncRetriever.`,displayName:"ProvideCappuccinoBlockDetailDataSource",props:{}}}catch{}try{ce.displayName="ProvideCappuccinoBlocksSummaryDataSource",ce.__docgenInfo={description:`ProvideCappuccinoBlocksSummaryDataSource is a component that converts
the HotShot Query Service for Cappuccino into a BlockSummaryAsyncRetriever.`,displayName:"ProvideCappuccinoBlocksSummaryDataSource",props:{blocksPerPage:{defaultValue:null,description:"",name:"blocksPerPage",required:!1,type:{name:"number"}}}}}catch{}try{le.displayName="ProvideCappuccinoTransactionsSummaryDataSource",le.__docgenInfo={description:`ProvideCappuccinoTransactionsSummaryDataSource is a component that converts
the HotShot Query Service for Cappuccino into a
TransactionSummaryAsyncRetriever.`,displayName:"ProvideCappuccinoTransactionsSummaryDataSource",props:{transactionsPerPage:{defaultValue:null,description:"",name:"transactionsPerPage",required:!1,type:{name:"number"}}}}}catch{}try{pe.displayName="ProvideCappuccinoTransactionsForBlockSummaryDataSource",pe.__docgenInfo={description:"",displayName:"ProvideCappuccinoTransactionsForBlockSummaryDataSource",props:{transactionsPerPage:{defaultValue:null,description:"",name:"transactionsPerPage",required:!1,type:{name:"number"}}}}}catch{}try{de.displayName="ProvideCappuccinoTransactionDetailDataSource",de.__docgenInfo={description:`ProvideCappuccinoTransactionDetailDataSource is a component that converts
the HotShot Query Service for Cappuccino into a
TransactionDetailAsyncRetriever.`,displayName:"ProvideCappuccinoTransactionDetailDataSource",props:{}}}catch{}try{ue.displayName="ProvideCappuccinoRollUpDetailDataSource",ue.__docgenInfo={description:`ProvideCappuccinoRollUpDetailDataSource is a component that converts
the HotShot Query Service for Cappuccino into a RollUpDetailAsyncRetriever.`,displayName:"ProvideCappuccinoRollUpDetailDataSource",props:{transactionsPerPage:{defaultValue:null,description:"",name:"transactionsPerPage",required:!1,type:{name:"number"}}}}}catch{}try{me.displayName="ProvideCappuccinoRollUpsSummaryDataSource",me.__docgenInfo={description:`ProvideCappuccinoRollUpsSummaryDataSource is a component that converts
the HotShot Query Service for Cappuccino into a RollUpSummaryAsyncRetriever.`,displayName:"ProvideCappuccinoRollUpsSummaryDataSource",props:{transactionsPerPage:{defaultValue:null,description:"",name:"transactionsPerPage",required:!1,type:{name:"number"}}}}}catch{}try{he.displayName="ProvideCappuccinoLatestBlockDetails",he.__docgenInfo={description:"",displayName:"ProvideCappuccinoLatestBlockDetails",props:{}}}catch{}try{ye.displayName="ProvideCappuccinoExplorerSummary",ye.__docgenInfo={description:"",displayName:"ProvideCappuccinoExplorerSummary",props:{}}}catch{}export{M as B,X as E,q as N,W as P,oe as R,se as T,fe as a,ie as b,J as c,K as d,ce as e,ue as f,Y as g,me as h,z as i,de as j,Z as k,re as l,ae as m,pe as n,ee as o,le as p,ye as q,te as r,H as s,vt as t,O as u};
