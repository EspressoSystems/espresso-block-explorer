var Mr=Object.defineProperty;var Or=(t,e,n)=>e in t?Mr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var o=(t,e,n)=>Or(t,typeof e!="symbol"?e+"":e,n);import{r as Rn,R as i,j as a}from"./iframe-B8QM7YzT.js";import{P as Lr}from"./NowProvider-5nmAZ7lz.js";import{O as Fr}from"./PathResolverProvider-C88hU1oa.js";import{a1 as Hr,a2 as Kr,a3 as qr,a4 as Ur,a5 as Gr,a6 as ms,a7 as zr,a8 as Jr,F as $r,a9 as ys,aa as Qe,ab as Qr,ac as Yr,ad as Zr,ae as Xr,af as eo,ag as to,ah as no,ai as zt,aj as ao,ak as so,al as ro,am as oo,an as io,ao as hs,ap as co,aq as Re,ar as fs,as as Cs,at as xs,au as lo,$ as Nt,av as uo,aw as po,ax as mo,ay as yo,_ as ho,az as B,aA as le,aB as bs,aC as gs,aD as fo,aE as En,aF as Dn,aG as Co,aH as xo,aI as bo,aJ as go,aK as So,aL as Q,aM as wo,aN as ko,aO as vo,aP as To,aQ as No,aR as _o,E as jo,g as Po}from"./en_US-RFN65H63-D9JI_Mip.js";import{f as j,g as Bo,h as Io,i as Ye,j as Ze,k as Ss,l as ws,m as ks,n as vs,o as Ts,p as Ao,q as Vo,r as Ro,s as Da,t as Eo,B as Do,C as Wo,P as Mo}from"./CappuccinoHotShotQueryServiceAPIContext-DbJhP9BN.js";import{s as Oo}from"./sleep-CW-vxfof.js";import{z as Lo,D as k,u as de,c as Y,d as q,A as Ns,m as Fo,E as Xe,L as ue,B as Ho}from"./LoadingProvider-B39JWdAl.js";import{T as y,s as Wa,e as _t,I as C,b as h,y as _s,N as jt,z as P,D as O,f as Pt,g as Bt,A as It,l as At,m as Vt,B as Ko,E as I,t as Jt}from"./string-BI8AIx1I.js";import{U as A}from"./UnimplementedError-N0odIfDD.js";import{A as M}from"./AsyncIterableResolver-CWgLSwJr.js";import"./ProvideAsyncStates-DHPOIeMO.js";import{L as qo,W as Rt,j as Uo,k as Go,C as zo}from"./TransactionDetailContent-BSn-3xiB.js";import{P as Jo}from"./PromiseResolver-Do1jfIcc.js";import{S as ae,D as js,a as Ps,b as Bs,A as H,c as _}from"./DataTable-COIbZnYs.js";import"./DateTimeFormattersProvider-BFTAYU1H.js";import"./LocaleProvider-COHzpDxl.js";import{O as $o,P as Qo}from"./NavDrawerStateProvider-DH9oZpuO.js";import{C as Yo}from"./NumberFormattersProvider-C3nNPFFr.js";import{N as Zo,a as Xo,W as ei,P as ti,D as ni,b as ai}from"./WorldMapDotsPopulationResolver-BVzbIxrs.js";import"./FetchError-BkM_RKT_.js";import"./base64-r9vyOGQT.js";import"./array_buffer-CitSjtn6.js";import{M as S,E as He}from"./monetary_value-Dof17hnG.js";import{t as D}from"./TaggedBase64-D-xwfkqv.js";import"./MissingElementError-BiJAxgGE.js";import"./NotFoundError-D156Q_Lb.js";import{a as et,b as Ee}from"./url-BLYalvQP.js";import{m as N,z as si,c as Et,k as Wn,n as Dt,i as Is,g as ri}from"./functional-C2YPzjZP.js";import{P as Ma,a as oi,c as ii,n as $t,g as ci,s as li}from"./generateFakeData-D6-s9jhx.js";import{w as As,L as di,e as ui,p as Oa,f as pi}from"./constants-BTmZyPu-.js";import{E as Mn}from"./ErrorDisplay-BXaCsBkT.js";import"./AnchorButton-CST84wQK.js";import"./Button-BJvXNXN9.js";import"./IconAnchorButton-jXTjBpqw.js";import{I as On}from"./IconButton-pXEzqo7c.js";import"./LabeledAnchorButton-D5k3SgM8.js";import{L as De}from"./LabeledButton-CKtA4_-t.js";import{L as mi,B as yi,b as hi}from"./RollUpsSummaryDataTable-CxvNetfn.js";import{C as Vs,a as te}from"./Card-Cl2mv-h9.js";import"./Heading1-D3dgJRrp.js";import{H as W}from"./Heading2-CqORiGZe.js";import"./label-hvDw7S-G.js";import"./SummaryTableLabeledValue-DhrbLin5.js";import"./TableLabeledValue-DKTjZRUD.js";import{M as fi}from"./NavBar-C5RJkR47.js";import{E as Ci}from"./Link-LBR3O-hX.js";import"./SocialMediaLinks-CoOs6gCb.js";import"./CircularProgressIndicator-Cfy-C23x.js";import"./ContainerLoading-jqsYJP2p.js";import{C as Rs,S as v}from"./CopyButton-BFTSi8EA.js";import{h as We,B as xi,H as bi}from"./BlockSizeHistogram-BjCFYD6t.js";import"./BlockSummaryDataTable-CMvaP-Cq.js";import{F as gi}from"./Footer-B4my245s.js";import{H as Si}from"./Header-DsJti_uV.js";import"./HexDump-DUm7_v7D.js";import"./RollUpSimple-T9uJsUii.js";import{C as wi}from"./TransactionSummaryDataTable-CQLsZeoN.js";import"./ByteSizeText-DhKL_JWn.js";import"./CopyHex-BisNjgMf.js";import"./DateTimeText-Ba7j_GZG.js";import"./FullHexText-Cvhkr5BV.js";import"./HexText-Dp4DXeKd.js";import{M as T}from"./MoneyText-DwIRTqf1.js";import{N as Ce}from"./NumberText-BASKf0dO.js";import"./RelativeTimeText-BGu8RDko.js";import{T as ki}from"./TaggedBase64Text-D349AD4E.js";import{T as p}from"./Text-BU7JBOLk.js";import"./TimeText-DO4vjzKE.js";import"./typography-dF_xh9UT.js";import"./TwitterIcon-B-izurIs.js";import"./ArrowRight-DHKrxG4q.js";import"./ExternalLink-CW3oeQNO.js";import"./CheckCircle-Ckm2qCC6.js";import"./ChevronUp-BF-GSfr1.js";import"./MediumIcon-DCHqnPdr.js";import"./EspressoLogo-Cekr8MgO.js";import"./EspressoLogoAndTitle-C2qPkgWU.js";import"./Menu-BtqandPQ.js";import"./SearchGlass-RYAt96KB.js";import"./SVGIconBase-Bo3pZ3HU.js";import{W as vi}from"./WorldMapDotsFullResolution-DGfZsXqI.js";import{a as Es}from"./higher_order-Bes1iNRk.js";import{a as Wt,b as Ln}from"./PieChart-CSBLtn6Y.js";/* empty css               */import{C as Ds}from"./ChevronRight-12cXi-HS.js";import"./BlockPage-CjK3chIg.js";import"./BlocksPage-CD2jdj3W.js";import"./ExplorerPage-9WugcmR-.js";import"./RollUpPage-DPhwqVlY.js";import"./RollUpsPage-Dktzw31y.js";import"./TransactionPage-CKmDcUAd.js";import"./TransactionsForBlockPage-BHKX-dM3.js";import"./TransactionsPage-Dr_b9wPX.js";import{I as Ti}from"./SearchInput-DoO6Cfap.js";import{D as xe}from"./divider-BlY-2ywk.js";import"./index-BxKYC05K.js";import"./data-C7kS6cEI.js";import"./SVGToolTip-VqRae1-B.js";import"./SVGPathBuilder-XZx_HA2Y.js";import"./AffineTransform-DiV9SxhF.js";/* empty css                */import"./XIcon-B3eEbMlB.js";import"./Copy-BnpNW3Xy.js";class Ni{constructor(e,n){o(this,"keyCodec");o(this,"valueCodec");this.keyCodec=e,this.valueCodec=n}convert(e){if(typeof e!="object"||e===null)throw new Error(`invalid map value: expected an object, got ${typeof e}`);const n=new Map;for(const[s,r]of Object.entries(e)){const c=this.keyCodec.decode(s),l=this.valueCodec.decode(r);n.set(c,l)}return n}}class _i{constructor(e,n){o(this,"keyCodec");o(this,"valueCodec");this.keyCodec=e,this.valueCodec=n}convert(e){_t(e,Map);const n={};for(const[s,r]of e.entries()){const c=this.keyCodec.encode(s),l=this.valueCodec.encode(r);n[c]=l}return n}}class Fn extends y{constructor(n,s){super();o(this,"encoder");o(this,"decoder");this.encoder=s,this.decoder=n}static keyStringCodec(n){return new Fn(new Ni(Wa,n),new _i(Wa,n))}}class ji{constructor(e){o(this,"publishQueue");o(this,"pollBlocked");o(this,"publishBlocked");o(this,"capacity");o(this,"closed",!1);this.publishQueue=j(Math.max(2,e),Io.throwMissingElement,Bo.throw);const n=Ye();this.pollBlocked=n,this.publishBlocked=n,n.complete(),this.capacity=e-1}get isClosed(){return this.closed}close(){if(this.closed)throw new Ze;this.closed=!0}async drain(){for(;this.publishQueue.length>0;)this.publishQueue.get()}async publish(e){if(this.closed)throw new Ze;if(this.publishQueue.length>=this.capacity){if(this.publishBlocked.isCompleted){const n=Ye();this.publishBlocked=n,await n.promise}return await this.publishBlocked.promise,this.publish(e)}this.publishQueue.put(e),this.pollBlocked.isCompleted||this.pollBlocked.complete()}async poll(){if(this.publishQueue.length<=0){if(this.isClosed)throw new Ze;if(this.pollBlocked.isCompleted){const n=Ye();this.pollBlocked=n}return await this.pollBlocked.promise,this.poll()}const e=this.publishQueue.get();return this.publishBlocked.isCompleted||this.publishBlocked.complete(),e}[Symbol.asyncIterator](){return new Pi(this)}}class Pi{constructor(e){o(this,"channel");this.channel=e}async next(){try{return{done:!1,value:await this.channel.poll()}}catch(e){if(e instanceof Ze)return{done:!0,value:void 0};throw e}}}function b(t){return new ji(t)}class Bi{constructor(e){o(this,"channel");this.channel=e}async send(e){await this.channel.publish(e)}}function La(t){return new Bi(t)}function Ii({chain:t,currentChainId:e}){if(!t)throw new Hr;if(e!==t.id)throw new Kr({chain:t,currentChainId:e})}function Ai(t,{docsPath:e,...n}){const s=(()=>{const r=qr(t,n);return r instanceof Ur?t:r})();return new Gr(s,{docsPath:e,...n})}const Qt=new Xr(128);async function Vi(t,e){var ja,Pa,Ba,Ia;const{account:n=t.account,chain:s=t.chain,accessList:r,authorizationList:c,blobs:l,data:d,gas:u,gasPrice:m,maxFeePerBlobGas:f,maxFeePerGas:w,maxPriorityFeePerGas:E,nonce:U,type:Le,value:Na,..._a}=e;if(typeof n>"u")throw new ms({docsPath:"/docs/actions/wallet/sendTransaction"});const x=n?ys(n):null;try{zr(e);const X=await(async()=>{if(e.to)return e.to;if(e.to!==null&&c&&c.length>0)return await Jr({authorization:c[0]}).catch(()=>{throw new $r("`to` is required. Could not infer from `authorizationList`.")})})();if((x==null?void 0:x.type)==="json-rpc"||x===null){let me;s!==null&&(me=await Qe(t,Qr,"getChainId")({}),Ii({currentChainId:me,chain:s}));const Fe=(Ba=(Pa=(ja=t.chain)==null?void 0:ja.formatters)==null?void 0:Pa.transactionRequest)==null?void 0:Ba.format,Va=(Fe||Yr)({...Zr(_a,{format:Fe}),accessList:r,authorizationList:c,blobs:l,chainId:me,data:d,from:x==null?void 0:x.address,gas:u,gasPrice:m,maxFeePerBlobGas:f,maxFeePerGas:w,maxPriorityFeePerGas:E,nonce:U,to:X,type:Le,value:Na}),Ra=Qt.get(t.uid),Wr=Ra?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:Wr,params:[Va]},{retryCount:0})}catch(Ea){if(Ra===!1)throw Ea;const ee=Ea;if(ee.name==="InvalidInputRpcError"||ee.name==="InvalidParamsRpcError"||ee.name==="MethodNotFoundRpcError"||ee.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[Va]},{retryCount:0}).then(Ut=>(Qt.set(t.uid,!0),Ut)).catch(Ut=>{const Gt=Ut;throw Gt.name==="MethodNotFoundRpcError"||Gt.name==="MethodNotSupportedRpcError"?(Qt.set(t.uid,!1),ee):Gt});throw ee}}if((x==null?void 0:x.type)==="local"){const me=await Qe(t,eo,"prepareTransactionRequest")({account:x,accessList:r,authorizationList:c,blobs:l,chain:s,data:d,gas:u,gasPrice:m,maxFeePerBlobGas:f,maxFeePerGas:w,maxPriorityFeePerGas:E,nonce:U,nonceManager:x.nonceManager,parameters:[...to,"sidecars"],type:Le,value:Na,..._a,to:X}),Fe=(Ia=s==null?void 0:s.serializers)==null?void 0:Ia.transaction,Aa=await x.signTransaction(me,{serializer:Fe});return await Qe(t,no,"sendRawTransaction")({serializedTransaction:Aa})}throw(x==null?void 0:x.type)==="smart"?new zt({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new zt({docsPath:"/docs/actions/wallet/sendTransaction",type:x==null?void 0:x.type})}catch(X){throw X instanceof zt?X:Ai(X,{...e,account:x,chain:e.chain||void 0})}}async function Ri(t,e){const{abi:n,account:s=t.account,address:r,args:c,dataSuffix:l,functionName:d,...u}=e;if(typeof s>"u")throw new ms({docsPath:"/docs/contract/writeContract"});const m=s?ys(s):null,f=ao({abi:n,args:c,functionName:d});try{return await Qe(t,Vi,"sendTransaction")({data:`${f}${l?l.replace("0x",""):""}`,to:r,account:m,...u})}catch(w){throw so(w,{abi:n,address:r,args:c,docsPath:"/docs/contract/writeContract",functionName:d,sender:m==null?void 0:m.address})}}async function Ei(t,e){const{account:n,chainId:s,connector:r,...c}=e;let l;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?l=t.getClient({chainId:s}):l=await ro(t,{account:n??void 0,chainId:s,connector:r}),await oo(l,Ri,"writeContract")({...c,...n?{account:n}:{},chain:s?{id:s}:null})}function Di(t,e={}){return{async queryFn({queryKey:n}){const s=e.abi;if(!s)throw new Error("abi is required");const{functionName:r,scopeKey:c,...l}=n[1],d=(()=>{const u=n[1];if(u.address)return{address:u.address};if(u.code)return{code:u.code};throw new Error("address or code is required")})();if(!r)throw new Error("functionName is required");return io(t,{abi:s,functionName:r,args:l.args,...d,...l})},queryKey:Wi(e)}}function Wi(t={}){const{abi:e,...n}=t;return["readContract",hs(n)]}function Mi(t,e={}){return{async queryFn({queryKey:n}){var d;const s=[],r=n[1].contracts.length;for(let u=0;u<r;u++){const m=n[1].contracts[u],f=((d=e.contracts)==null?void 0:d[u]).abi;s.push({...m,abi:f})}const{scopeKey:c,...l}=n[1];return co(t,{...l,contracts:s})},queryKey:Oi(e)}}function Oi(t={}){const e=[];for(const n of t.contracts??[]){const{abi:s,...r}=n;e.push({...r,chainId:r.chainId??t.chainId})}return["readContracts",hs({...t,contracts:e})]}function Li(t){return{mutationFn(e){return Ei(t,e)},mutationKey:["writeContract"]}}function Ws(t={}){const{abi:e,address:n,functionName:s,query:r={}}=t,c=t.code,l=Re(t),d=fs({config:l}),u=Di(l,{...t,chainId:t.chainId??d}),m=!!((n||c)&&e&&s&&(r.enabled??!0));return Cs({...r,...u,enabled:m,structuralSharing:r.structuralSharing??xs})}function Fi(t={}){const{contracts:e=[],query:n={}}=t,s=Re(t),r=fs({config:s}),c=Mi(s,{...t,chainId:r}),l=Rn.useMemo(()=>{let d=!1;for(const u of e){const{abi:m,address:f,functionName:w}=u;if(!m||!f||!w){d=!1;break}d=!0}return!!(d&&(n.enabled??!0))},[e,n.enabled]);return Cs({...c,...n,enabled:l,structuralSharing:n.structuralSharing??xs})}function Ms(t={}){const{mutation:e}=t,n=Re(t),s=Li(n),{mutate:r,mutateAsync:c,...l}=lo({...e,...s});return{...l,writeContract:r,writeContractAsync:c}}class Hi{constructor(e,n){this.sink=e,this.converter=n,this.sink=e,this.converter=n}async send(e){await this.sink.send(this.converter.convert(e))}}function tt(t,e){return new Hi(t,e)}let Hn=class{};const be="Closed";class Z extends Hn{valueOf(){return be}toJSON(){return Kn.encode(this)}}class Ki{convert(e){if(typeof e!="string")throw new C(typeof e,"string");if(e!==be)throw new C(e,be);return new Z}}class qi{convert(){return be}}class Ui extends y{constructor(){super(...arguments);o(this,"encoder",new qi);o(this,"decoder",new Ki)}}const Kn=new Ui;class qn{}const ge="Connecting";class Me extends Hn{valueOf(){return ge}toJSON(){return Un.encode(this)}}class Gi{convert(e){if(typeof e!="string")throw new C(typeof e,"string");if(e!==ge)throw new C(e,ge);return new Me}}class zi{convert(){return ge}}class Ji extends y{constructor(){super(...arguments);o(this,"encoder",new zi);o(this,"decoder",new Gi)}}const Un=new Ji,Se="Opened";class pe extends Hn{valueOf(){return Se}toJSON(){return Gn.encode(this)}}class $i{convert(e){if(typeof e!="string")throw new C(typeof e,"string");if(e!==Se)throw new C(e,Se);return new pe}}class Qi{convert(){return Se}}class Yi extends y{constructor(){super(...arguments);o(this,"encoder",new Qi);o(this,"decoder",new $i)}}const Gn=new Yi;class Zi{convert(e){if(e===Se)return Gn.decode(e);if(e===be)return Kn.decode(e);if(e===ge)return Un.decode(e);throw new A}}class Xi{convert(e){if(e instanceof pe)return Gn.encode(e);if(e instanceof Z)return Kn.encode(e);if(e instanceof Me)return Un.encode(e);throw new A}}class ec extends y{constructor(){super(...arguments);o(this,"encoder",new Xi);o(this,"decoder",new Zi)}}const Os=new ec;class se extends qn{constructor(n){super();o(this,"status");this.status=n}get type(){return we}toJSON(){return Ls.encode(this)}}const we="WebSocket";class tc{convert(e){return{[we]:Os.encode(e.status)}}}class nc{convert(e){return h(e,we),new se(Os.decode(e[we]))}}class ac extends y{constructor(){super(...arguments);o(this,"encoder",new tc);o(this,"decoder",new nc)}}const Ls=new ac,ke=Rn.createContext(new se(new Z)),nt=Rn.createContext(Lo()),en=t=>{const e=i.useContext(nt);return a.jsx(M,{asyncIterable:e,children:a.jsx(sc,{children:t.children})})},sc=t=>{const e=i.useContext(k);return e===null?a.jsx(ke.Provider,{value:new se(new Z),children:t.children}):a.jsx(ke.Provider,{value:e,children:t.children})};try{ke.displayName="WebSocketResponseContext",ke.__docgenInfo={description:`WebSocketResponseContext is a React Context that is used to store
and make available the current LifeCycleResponse.`,displayName:"WebSocketResponseContext",props:{}}}catch{}try{nt.displayName="WebSocketResponseStreamContext",nt.__docgenInfo={description:`WebSocketResponseStreamContext is a React Context that is able to provide
a stream of WebSocketResponses. These can be used to update the UI in order
to indicate the current state of the WebSocket connection.`,displayName:"WebSocketResponseStreamContext",props:{}}}catch{}try{en.displayName="WebSocketResponseStreamConsumer",en.__docgenInfo={description:`WebSocketResponseStreamConsumer is a component that is able to consume the
WebSocketResponseContext, and provide the WebSocketResponse to the
children of the component via the WebSocketResponseContext context.`,displayName:"WebSocketResponseStreamConsumer",props:{}}}catch{}const at=i.createContext(de()),tn=t=>{const e=i.useContext(at);return a.jsx(Y,{children:a.jsx(M,{asyncIterable:e,children:a.jsx(q,{children:t.children})})})};try{at.displayName="CountriesPieChartStreamContext",at.__docgenInfo={description:"",displayName:"CountriesPieChartStreamContext",props:{}}}catch{}try{tn.displayName="CountriesPieChartStreamConsumer",tn.__docgenInfo={description:"",displayName:"CountriesPieChartStreamConsumer",props:{}}}catch{}const st=i.createContext(de()),nn=t=>{const e=i.useContext(st);return a.jsx(Y,{children:a.jsx(M,{asyncIterable:e,children:a.jsx(q,{children:t.children})})})};try{st.displayName="NetworkTypesPieChartStreamContext",st.__docgenInfo={description:"",displayName:"NetworkTypesPieChartStreamContext",props:{}}}catch{}try{nn.displayName="NetworkTypesPieChartStreamConsumer",nn.__docgenInfo={description:"",displayName:"NetworkTypesPieChartStreamConsumer",props:{}}}catch{}const rt=i.createContext(de()),an=t=>{const e=i.useContext(rt);return a.jsx(Y,{children:a.jsx(M,{asyncIterable:e,children:a.jsx(q,{children:t.children})})})};try{rt.displayName="NodeTypesPieChartStreamContext",rt.__docgenInfo={description:"",displayName:"NodeTypesPieChartStreamContext",props:{}}}catch{}try{an.displayName="NodeTypesPieChartStreamConsumer",an.__docgenInfo={description:"",displayName:"NodeTypesPieChartStreamConsumer",props:{}}}catch{}var g=(t=>(t.publicKey="publicKey",t.name="name",t.address="address",t.companyName="companyName",t.companyWebSite="companyWebSite",t.location="location",t.stake="stake",t.uptime="uptime",t.voteParticipation="voteParticipation",t.commission="commission",t.actions="actions",t))(g||{});const ot=i.createContext(de()),it=i.createContext(de()),ct=i.createContext([]),sn=t=>{const e=i.useContext(k);return a.jsx(ct.Provider,{value:e??[],children:t.children})},rn=t=>{const e=i.useContext(it);return a.jsx(Y,{children:a.jsx(M,{asyncIterable:e,children:a.jsx(sn,{children:a.jsx(q,{children:t.children})})})})},on=t=>{const e=i.useContext(ot);return a.jsx(Y,{children:a.jsx(M,{asyncIterable:e,children:a.jsx(q,{children:t.children})})})};try{ot.displayName="NodeSummaryStreamContext",ot.__docgenInfo={description:"",displayName:"NodeSummaryStreamContext",props:{}}}catch{}try{it.displayName="VoterParticipationStreamContext",it.__docgenInfo={description:"",displayName:"VoterParticipationStreamContext",props:{}}}catch{}try{ct.displayName="VotersParticipationStatsContext",ct.__docgenInfo={description:"",displayName:"VotersParticipationStatsContext",props:{}}}catch{}try{sn.displayName="VotersParticipationStatesProvider",sn.__docgenInfo={description:"",displayName:"VotersParticipationStatesProvider",props:{}}}catch{}try{rn.displayName="VotersParticipationStatsConsumer",rn.__docgenInfo={description:"",displayName:"VotersParticipationStatsConsumer",props:{}}}catch{}try{on.displayName="NodeSummaryStreamConsumer",on.__docgenInfo={description:"",displayName:"NodeSummaryStreamConsumer",props:{}}}catch{}const lt=i.createContext(de()),cn=t=>{const e=i.useContext(lt);return a.jsx(Y,{children:a.jsx(M,{asyncIterable:e,children:a.jsx(q,{children:t.children})})})};try{lt.displayName="OperatingSystemPieChartStreamContext",lt.__docgenInfo={description:"",displayName:"OperatingSystemPieChartStreamContext",props:{}}}catch{}try{cn.displayName="OperatingSystemPieChartStreamConsumer",cn.__docgenInfo={description:"",displayName:"OperatingSystemPieChartStreamConsumer",props:{}}}catch{}const ve="Error";class Fs extends qn{constructor(n){super();o(this,"error");this.error=n}get type(){return ve}toJSON(){return Hs.encode(this)}}class rc{convert(e){return{[ve]:_s.encode(e.error)}}}class oc{convert(e){return h(e,ve),new Fs(_s.decode(e[ve]))}}class ic extends y{constructor(){super(...arguments);o(this,"encoder",new rc);o(this,"decoder",new oc)}}const Hs=new ic;class zn{}const Te="Close";class Mt extends zn{valueOf(){return Te}}class cc{convert(){return Te}}class lc{convert(e){if(typeof e!="string")throw new C(typeof e,"string");if(e!==Te)throw new C(e,Te);return new Mt}}class dc extends y{constructor(){super(...arguments);o(this,"encoder",new cc);o(this,"decoder",new lc)}}const Ks=new dc,Ne="Connect";class Oe extends zn{valueOf(){return Ne}toJSON(){return Jn.encode(this)}}class uc{convert(){return Ne}}class pc{convert(e){if(typeof e!="string")throw new C(typeof e,"string");if(e!==Ne)throw new C(e,Ne);return new Oe}}class mc extends y{constructor(){super(...arguments);o(this,"encoder",new uc);o(this,"decoder",new pc)}}const Jn=new mc,_e="Set-Url";class $n extends zn{constructor(n){super();o(this,"url");this.url=n}valueOf(){return _e}toJSON(){return Qn.encode(this)}}class yc{convert(e){return{[_e]:e.url}}}class hc{convert(e){h(e,_e);const n=e[_e];if(typeof n!="string")throw new C(typeof n,"string");return new $n(n)}}class fc extends y{constructor(){super(...arguments);o(this,"encoder",new yc);o(this,"decoder",new hc)}}const Qn=new fc;class qs{}class Cc{convert(e){if(e===Ne)return Jn.decode(e);if(e===Te)return Ks.decode(e);if(typeof e=="object"&&e!==null&&_e in e)return Qn.decode(e);throw new A}}class xc{convert(e){if(e instanceof Oe)return Jn.encode(e);if(e instanceof Mt)return Ks.encode(e);if(e instanceof $n)return Qn.encode(e);throw new A}}class bc extends y{constructor(){super(...arguments);o(this,"encoder",new xc);o(this,"decoder",new Cc)}}const Us=new bc;class Yn extends qs{constructor(n){super();o(this,"command");this.command=n}get type(){return je}toJSON(){return Gs.encode(this)}}const je="WebSocket";class gc{convert(e){return{[je]:Us.encode(e.command)}}}class Sc{convert(e){return h(e,je),new Yn(Us.decode(e[je]))}}class wc extends y{constructor(){super(...arguments);o(this,"encoder",new gc);o(this,"decoder",new Sc)}}const Gs=new wc,z=new Map;z.set(je,Gs);class kc{convert(e){const n=z.get(e.type);if(!n)throw new C(e.type,`one of ${Array.from(N(z.keys(),s=>`"${s}"`)).join(", ")}`);return{[e.type]:n.encode(e)}}}class vc{convert(e){if(typeof e!="object"||e===null)throw new C(typeof e,"object");const n=Object.keys(e);if(n.length!==1)throw new A("multiple values contained within the Request object, unexpected");const[s]=n,r=z.get(s);if(h(e,s),!r)throw new C(s,`one of ${Array.from(N(z.keys(),c=>`"${c}"`)).join(", ")}`);return r.decode(e[s])}}class Tc extends y{constructor(){super(...arguments);o(this,"encoder",new kc);o(this,"decoder",new vc)}}function Nc(t,e){z.has(t)||z.set(t,e)}const _c=new Tc;class jc{convert(e){return new Yn(e)}}const Pc=new jc;class V{}const zs="SubscribeNodeIdentity";class Zn extends V{valueOf(){return zs}}const Js="SubscribeLatestBlock";class Xn extends V{valueOf(){return Js}}const $s="SubscribeVoters";class ea extends V{valueOf(){return $s}}const Qs="SubscribeValidators";class Ys extends V{valueOf(){return Qs}}const Zs="SubscribeStakeTables";class Xs extends V{valueOf(){return Zs}}const er="RequestNodeIdentitySnapshot";class ta extends V{valueOf(){return er}}const tr="RequestBlocksSnapshot";class na extends V{valueOf(){return tr}}const nr="RequestHistogramSnapshot";class aa extends V{valueOf(){return nr}}const ar="RequestVotersSnapshot";class sa extends V{valueOf(){return ar}}const sr="RequestValidatorsSnapshot";class rr extends V{valueOf(){return sr}}const or="RequestStakeTableSnapshot";class ir extends V{valueOf(){return or}}class Bc{convert(e){return e.valueOf()}}class Ic{convert(e){if(typeof e!="string")throw new C(typeof e,"string");switch(e){case zs:return new Zn;case Js:return new Xn;case $s:return new ea;case er:return new ta;case tr:return new na;case nr:return new aa;case ar:return new sa;case Qs:return new Ys;case Zs:return new Xs;case sr:return new rr;case or:return new ir;default:throw new C(e,"CappuccinoNodeValidatorRequest")}}}class Ac extends y{constructor(){super(...arguments);o(this,"encoder",new Bc);o(this,"decoder",new Ic)}}const cr=new Ac,Pe="NodeValidatorRequest";class ra extends qs{constructor(n){super();o(this,"request");this.request=n}get type(){return Pe}toJSON(){return lr.encode(this)}}class Vc{convert(e){return{[Pe]:cr.encode(e.request)}}}class Rc{convert(e){return h(e,Pe),new ra(cr.decode(e[Pe]))}}class Ec extends y{constructor(){super(...arguments);o(this,"encoder",new Vc);o(this,"decoder",new Rc)}}const lr=new Ec;class Dc{convert(e){return new ra(e)}}const Wc=new Dc;class R{}const dt="BlocksSnapshot";class Ot extends R{constructor(n){super();o(this,"blocks");this.blocks=n}toJSON(){return oa.encode(this)}}class Mc{convert(e){h(e,dt);const n=e[dt];return new Ot(Ss.decode(n))}}class Oc{convert(e){return{[dt]:Ss.encode(e.blocks)}}}class Lc extends y{constructor(){super(...arguments);o(this,"encoder",new Oc);o(this,"decoder",new Mc)}}const oa=new Lc,ut="HistogramSnapshot";class Be extends R{constructor(n){super();o(this,"histograms");this.histograms=n}toJSON(){return ia.encode(this)}}class Fc{convert(e){return h(e,ut),new Be(ws.decode(e[ut]))}}class Hc{convert(e){return{[ut]:ws.encode(e.histograms)}}}class Kc extends y{constructor(){super(...arguments);o(this,"encoder",new Hc);o(this,"decoder",new Fc)}}const ia=new Kc,pt="LatestBlock";class re extends R{constructor(n){super();o(this,"latestBlock");this.latestBlock=n}toJSON(){return ca.encode(this)}}class qc{convert(e){return h(e,pt),new re(ks.decode(e[pt]))}}class Uc{convert(e){return{[pt]:ks.encode(e.latestBlock)}}}class Gc extends y{constructor(){super(...arguments);o(this,"encoder",new Uc);o(this,"decoder",new qc)}}const ca=new Gc;class dr{constructor(e,n){o(this,"coords");o(this,"country");this.coords=e,this.country=n}toJSON(){return ln.encode(this)}}class zc{convert(e){return{coords:As.encode(e.coords),country:P.encode(e.country)}}}class Jc{convert(e){return h(e,"coords","country"),new dr(As.decode(e.coords),O(P.decode(e.country)))}}class $c extends y{constructor(){super(...arguments);o(this,"encoder",new zc);o(this,"decoder",new Jc)}}const ln=new $c,ur=new jt(new Pt(ln),new Bt(ln));class pr{constructor(e,n,s,r,c,l,d,u,m){o(this,"publicKey");o(this,"name");o(this,"publicURL");o(this,"company");o(this,"companyWebsite");o(this,"location");o(this,"operatingSystem");o(this,"nodeType");o(this,"networkType");this.publicKey=e,this.name=n,this.publicURL=s,this.company=r,this.companyWebsite=c,this.location=l,this.operatingSystem=d,this.nodeType=u,this.networkType=m}toJSON(){return Ie.encode(this)}}class Qc{convert(e){return{public_key:D.encode(e.publicKey),name:P.encode(e.name),public_url:et.encode(e.publicURL),company:P.encode(e.company),company_website:et.encode(e.companyWebsite),location:ur.encode(e.location),operating_system:P.encode(e.operatingSystem),node_type:P.encode(e.nodeType),network_type:P.encode(e.networkType)}}}class Yc{convert(e){return h(e,"public_key","name","public_url","company","company_website","location","operating_system","node_type","network_type"),new pr(D.decode(e.public_key),O(P.decode(e.name)),et.decode(e.public_url),O(P.decode(e.company)),et.decode(e.company_website),ur.decode(e.location),O(P.decode(e.operating_system)),O(P.decode(e.node_type)),O(P.decode(e.network_type)))}}class Zc extends y{constructor(){super(...arguments);o(this,"encoder",new Qc);o(this,"decoder",new Yc)}}const Ie=new Zc,mr=new It(new At(Ie),new Vt(Ie)),mt="LatestNodeIdentity";class la extends R{constructor(n){super();o(this,"nodeIdentity");this.nodeIdentity=n}toJSON(){return da.encode(this)}}class Xc{convert(e){return h(e,mt),new la(Ie.decode(e[mt]))}}class el{convert(e){return{[mt]:Ie.encode(e.nodeIdentity)}}}class tl extends y{constructor(){super(...arguments);o(this,"encoder",new el);o(this,"decoder",new Xc)}}const da=new tl;class yr{constructor(e,n){o(this,"stakeKey");o(this,"stakeAmount");this.stakeKey=e,this.stakeAmount=n}}class nl{convert(e){return h(e,"stake_key","stake_amount"),new yr(D.decode(e.stake_key),Ee.decode(e.stake_amount))}}class al{convert(e){return _t(e,yr),{stake_key:D.encode(e.stakeKey),stake_amount:Ee.encode(e.stakeAmount)}}}class sl extends y{constructor(){super(...arguments);o(this,"encoder",new al);o(this,"decoder",new nl)}}const oe=new sl;new jt(new Pt(oe),new Bt(oe));new It(new At(oe),new Vt(oe));class hr{constructor(e,n){o(this,"stakeTableEntry");o(this,"stateVerKey");this.stakeTableEntry=e,this.stateVerKey=n}}class rl{convert(e){return h(e,"stake_table_entry","state_ver_key"),new hr(oe.decode(e.stake_table_entry),D.decode(e.state_ver_key))}}class ol{convert(e){return _t(e,hr),{stake_table_entry:oe.encode(e.stakeTableEntry),state_ver_key:D.encode(e.stateVerKey)}}}class il extends y{constructor(){super(...arguments);o(this,"encoder",new ol);o(this,"decoder",new rl)}}const yt=new il;new jt(new Pt(yt),new Bt(yt));const Lt=new It(new At(yt),new Vt(yt)),ht="LatestStakeTable";class ua extends R{constructor(n){super();o(this,"stakeTable");this.stakeTable=n}toJSON(){return pa.encode(this)}}class cl{convert(e){return h(e,ht),new ua(Lt.decode(e[ht]))}}class ll{convert(e){return{[ht]:Lt.encode(e.stakeTable)}}}class dl extends y{constructor(){super(...arguments);o(this,"encoder",new ll);o(this,"decoder",new cl)}}const pa=new dl,dn=1e4,fr=0,ul="PercentageOutOfRange";class pl extends Ko{constructor(n,s=`the commission percentage is outside of the range [${fr}, ${dn}], have ${n}`){super(s);o(this,"value");this.value=n,Object.freeze(this)}get code(){return ul}}class Cr{constructor(e){o(this,"value");if(e<fr||e>dn)throw new pl(e);this.value=e}toString(){return`${this.value/100}%`}toJSON(){return this.value}valueOf(){return this.value/dn}}class ml{convert(e){if(typeof e!="number")throw new C(typeof e,"number");return new Cr(e)}}class yl{convert(e){if(!(e instanceof Cr))throw new C(e,"CommissionPercent");return Math.floor(e.value)}}class hl extends y{constructor(){super(...arguments);o(this,"encoder",new yl);o(this,"decoder",new ml)}}const xr=new hl,br=Fn.keyStringCodec(Ee);class gr{constructor(e,n,s,r,c,l){o(this,"account");o(this,"stakeTableKey");o(this,"stateVerKey");o(this,"stake");o(this,"commission");o(this,"delegators");this.account=e,this.stakeTableKey=n,this.stateVerKey=s,this.stake=r,this.commission=c,this.delegators=l}}class fl{convert(e){return h(e,"account","stake_table_key","state_ver_key","stake","commission","delegators"),new gr(Nt.decode(e.account),D.decode(e.stake_table_key),D.decode(e.state_ver_key),Ee.decode(e.stake),xr.decode(e.commission),br.decode(e.delegators))}}class Cl{convert(e){return _t(e,gr),{account:Nt.encode(e.account),stake_table_key:D.encode(e.stakeTableKey),state_ver_key:D.encode(e.stateVerKey),stake:Ee.encode(e.stake),commission:xr.encode(e.commission),delegators:br.encode(e.delegators)}}}class xl extends y{constructor(){super(...arguments);o(this,"encoder",new Cl);o(this,"decoder",new fl)}}const ie=new xl;new jt(new Pt(ie),new Bt(ie));const Sr=new It(new At(ie),new Vt(ie)),ft="LatestValidator";class ma extends R{constructor(n){super();o(this,"validator");this.validator=n}toJSON(){return ya.encode(this)}}class bl{convert(e){return h(e,ft),new ma(ie.decode(e[ft]))}}class gl{convert(e){return{[ft]:ie.encode(e.validator)}}}class Sl extends y{constructor(){super(...arguments);o(this,"encoder",new gl);o(this,"decoder",new bl)}}const ya=new Sl,Ct="LatestVoters";class Ft extends R{constructor(n){super();o(this,"latestVoter");this.latestVoter=n}toJSON(){return ha.encode(this)}}class wl{convert(e){return h(e,Ct),new Ft(vs.decode(e[Ct]))}}class kl{convert(e){return{[Ct]:vs.encode(e.latestVoter)}}}class vl extends y{constructor(){super(...arguments);o(this,"encoder",new kl);o(this,"decoder",new wl)}}const ha=new vl,xt="NodeIdentitySnapshot";class Ae extends R{constructor(n){super();o(this,"nodes");this.nodes=n}toJSON(){return fa.encode(this)}}class Tl{convert(e){h(e,xt);const n=e[xt];return new Ae(mr.decode(n))}}class Nl{convert(e){return{[xt]:mr.encode(e.nodes)}}}class _l extends y{constructor(){super(...arguments);o(this,"encoder",new Nl);o(this,"decoder",new Tl)}}const fa=new _l,bt="StakeTableSnapshot";class Ca extends R{constructor(n){super();o(this,"stakeTable");this.stakeTable=n}toJSON(){return xa.encode(this)}}class jl{convert(e){h(e,bt);const n=e[bt];return new Ca(Lt.decode(n))}}class Pl{convert(e){return{[bt]:Lt.encode(e.stakeTable)}}}class Bl extends y{constructor(){super(...arguments);o(this,"encoder",new Pl);o(this,"decoder",new jl)}}const xa=new Bl,gt="ValidatorsSnapshot";class ba extends R{constructor(n){super();o(this,"validators");this.validators=n}toJSON(){return ga.encode(this)}}class Il{convert(e){h(e,gt);const n=e[gt];return new ba(Sr.decode(n))}}class Al{convert(e){return{[gt]:Sr.encode(e.validators)}}}class Vl extends y{constructor(){super(...arguments);o(this,"encoder",new Al);o(this,"decoder",new Il)}}const ga=new Vl,St="VotersSnapshot";class Ht extends R{constructor(n){super();o(this,"voters");this.voters=n}toJSON(){return Sa.encode(this)}}class Rl{convert(e){h(e,St);const n=e[St];return new Ht(Ts.decode(n))}}class El{convert(e){return{[St]:Ts.encode(e.voters)}}}class Dl extends y{constructor(){super(...arguments);o(this,"encoder",new El);o(this,"decoder",new Rl)}}const Sa=new Dl;class Wl{convert(e){if(I(e,dt))return oa.decode(e);if(I(e,ut))return ia.decode(e);if(I(e,pt))return ca.decode(e);if(I(e,mt))return da.decode(e);if(I(e,Ct))return ha.decode(e);if(I(e,ft))return ya.decode(e);if(I(e,ht))return pa.decode(e);if(I(e,xt))return fa.decode(e);if(I(e,St))return Sa.decode(e);if(I(e,gt))return ga.decode(e);if(I(e,bt))return xa.decode(e);throw new A}}class Ml{convert(e){if(e instanceof Ot)return oa.encode(e);if(e instanceof Be)return ia.encode(e);if(e instanceof re)return ca.encode(e);if(e instanceof la)return da.encode(e);if(e instanceof Ft)return ha.encode(e);if(e instanceof ma)return ya.encode(e);if(e instanceof ua)return pa.encode(e);if(e instanceof Ae)return fa.encode(e);if(e instanceof Ht)return Sa.encode(e);if(e instanceof ba)return ga.encode(e);if(e instanceof Ca)return xa.encode(e);throw new A}}class Ol extends y{constructor(){super(...arguments);o(this,"encoder",new Ml);o(this,"decoder",new Wl)}}const wr=new Ol,Ve="NodeValidatorResponse";class wa extends qn{constructor(n){super();o(this,"response");this.response=n}get type(){return Ve}toJSON(){return kr.encode(this)}}class Ll{convert(e){return{[Ve]:wr.encode(e.response)}}}class Fl{convert(e){h(e,Ve);const n=e[Ve];return new wa(wr.decode(n))}}class Hl extends y{constructor(){super(...arguments);o(this,"encoder",new Ll);o(this,"decoder",new Fl)}}const kr=new Hl;class Kl{convert(e){return new wa(e)}}const ql=new Kl,K=new Map;K.set(ve,Hs);K.set(we,Ls);class Ul{convert(e){const n=K.get(e.type);if(!n)throw new C(e.type,`one of ${Array.from(N(K.keys(),s=>`"${s}"`)).join(", ")}`);return{[e.type]:n.encode(e)}}}class Gl{convert(e){if(typeof e!="object"||e===null)throw new C(typeof e,"object");const n=Object.keys(e);if(n.length!==1)throw new A("multiple values contained within the response object, unexpected");const[s]=n,r=K.get(s);if(h(e,s),!r)throw new C(s,`one of ${Array.from(N(K.keys(),c=>`"${c}"`)).join(", ")}`);return r.decode(e[s])}}class zl extends y{constructor(){super(...arguments);o(this,"encoder",new Ul);o(this,"decoder",new Gl)}}function Jl(t,e){K.has(t)||K.set(t,e)}const $l=new zl;class Ql{convert(e){return new se(e)}}const Yl=new Ql;function Yt(t){return new Eo(t.hash,t.height,t.time,t.numTransactions,t.proposer,t.proposer,t.size,t.fees)}function Fa(t){return new pr(t.pubkey,t.name,null,t.company.name,new URL(t.company.website),new dr(new di(new ui(new Oa(t.location.coords[0])),new pi(new Oa(t.location.coords[1]))),t.location.country),t.operatingSystem,t.nodeType,t.networkType)}class Zl{constructor(e,n){o(this,"responseStream");o(this,"requestStream");o(this,"lifecycleResponseSink");o(this,"nodeValidatorResponseSink");o(this,"prng",new Ma(oi()));o(this,"latestBlock",Yt(ii()));o(this,"latestBlocks",j(50));o(this,"latestVoters",j(50));o(this,"histogramBlockTimeData",j(50));o(this,"histogramBlockSizeData",j(50));o(this,"histogramBlockTransactionData",j(50));o(this,"histogramBlockHeightData",j(50));o(this,"isConnected",!1);o(this,"isSubscribedToLatestBlock",!1);o(this,"isSubscribedToVoters",!1);this.requestStream=e,this.responseStream=n,this.lifecycleResponseSink=tt(La(n),Yl),this.nodeValidatorResponseSink=tt(La(n),ql)}get stream(){return this.responseStream}async send(e){await this.requestStream.publish(e)}generateVotersFromBlockDetail(e){const n=new Ma(e.time.valueOf()),s=$t.length,r=Math.ceil(s/16),c=new Uint16Array(n.fillBytes(r*2));return new Ao(Vo.lsb0,new Ro(16,0),s,Array.from(c))}async updateBlockDetails(e){const n=this.latestBlock,s=(e.time.valueOf()-n.time.valueOf())/1e3,r=this.generateVotersFromBlockDetail(e);this.latestBlock=e,this.latestBlocks.put(e),this.latestVoters.put(r),this.histogramBlockTimeData.put(s),this.histogramBlockSizeData.put(e.size),this.histogramBlockTransactionData.put(e.numTransactions),this.histogramBlockHeightData.put(e.height),this.isConnected&&(this.isSubscribedToLatestBlock&&await this.nodeValidatorResponseSink.send(new re(e)),this.isSubscribedToVoters&&this.nodeValidatorResponseSink.send(new Ft(r)))}async initializeState(){for await(const e of ci(this.prng))this.updateBlockDetails(Yt(e));await this.nodeValidatorResponseSink.send(new re(this.latestBlock)),await this.nodeValidatorResponseSink.send(new Be(new Da(Array.from(this.histogramBlockTimeData.immutableIterable()),Array.from(this.histogramBlockSizeData.immutableIterable()),Array.from(this.histogramBlockTransactionData.immutableIterable()),Array.from(this.histogramBlockHeightData.immutableIterable())))),this.nodeValidatorResponseSink.send(new Ae($t.map(Fa)))}async startProcessing(){await this.initializeState(),this.handleRequests(),this.streamBlocks()}async handleRequests(){for await(const e of this.requestStream)await this.handleRequest(e)}async streamBlocks(){const e=this.latestBlock;for await(const n of li(this.prng,e.time.valueOf(),e.height)){const s=Yt(n);this.updateBlockDetails(s)}}async handleRequest(e){if(e instanceof Yn){try{await this.handleWebSocketCommand(e.command)}catch(n){console.error("failed to handle life cycle request",e,n)}return}if(e instanceof ra){try{await this.handleNodeValidatorRequest(e.request)}catch(n){console.error("failed to handle node validator request",e,n)}return}console.error("unrecognized request type",e)}async handleWebSocketCommand(e){if(e instanceof Oe){await this.handleConnect();return}if(e instanceof Mt){await this.handleClose();return}}async handleNodeValidatorRequest(e){if(e instanceof Xn){await this.handleSubscribeLatestBlock();return}if(e instanceof Zn){await this.handleSubscribeNodeIdentity();return}if(e instanceof ea){await this.handleSubscribeVoters();return}if(e instanceof na){await this.handleRequestBlocksSnapshot();return}if(e instanceof aa){await this.handleRequestHistogramSnapshot();return}if(e instanceof ta){await this.handleRequestNodeIdentitySnapshot();return}if(e instanceof sa){await this.handleRequestVotersSnapshot();return}}async handleConnect(){if(this.isConnected)throw new Error("already connected to WebSocket");this.isConnected=!0,await this.lifecycleResponseSink.send(new Me),await this.lifecycleResponseSink.send(new pe)}async handleClose(){if(!this.isConnected)throw new Error("not connected to WebSocket");this.isConnected=!1,this.isSubscribedToLatestBlock=!1,this.isSubscribedToVoters=!1,await this.lifecycleResponseSink.send(new Z)}async assertIsConnected(){if(!this.isConnected)throw new Error("not connected to WebSocket")}async handleSubscribeLatestBlock(){await this.assertIsConnected(),this.isSubscribedToLatestBlock=!0}async handleSubscribeNodeIdentity(){await this.assertIsConnected()}async handleSubscribeVoters(){await this.assertIsConnected(),this.isSubscribedToVoters=!0}async handleRequestBlocksSnapshot(){await this.assertIsConnected(),await this.nodeValidatorResponseSink.send(new Ot(Array.from(this.latestBlocks.immutableIterable())))}async handleRequestHistogramSnapshot(){await this.assertIsConnected(),await this.nodeValidatorResponseSink.send(new Be(new Da(Array.from(this.histogramBlockTimeData.immutableIterable()),Array.from(this.histogramBlockSizeData.immutableIterable()),Array.from(this.histogramBlockTransactionData.immutableIterable()),Array.from(this.histogramBlockHeightData.immutableIterable()))))}async handleRequestNodeIdentitySnapshot(){await this.assertIsConnected(),await this.nodeValidatorResponseSink.send(new Ae($t.map(Fa)))}async handleRequestVotersSnapshot(){await this.assertIsConnected(),await this.nodeValidatorResponseSink.send(new Ht(Array.from(this.latestVoters.immutableIterable())))}}function Xl(t){return new Worker(""+new URL("node_validator_web_worker_api.js-DTb-hL11.js",import.meta.url).href,{name:t==null?void 0:t.name})}Nc(Pe,lr);Jl(Ve,kr);let Zt=null;function ed(){return Zt||(Zt=new Xl),Zt}class td{constructor(e=b(1024),n=b(1024)){o(this,"requestChannel");o(this,"responseChannel");const s=ed();this.requestChannel=e,this.responseChannel=n,s.addEventListener("message",this.handleMessage.bind(this)),s.addEventListener("messageerror",this.handleMessageError.bind(this)),s.addEventListener("error",this.handleError.bind(this)),nd(s,e)}get stream(){return this.responseChannel}async send(e){this.requestChannel.publish(e)}handleMessage(e){const n=$l.decode(e.data);this.responseChannel.publish(n)}handleMessageError(){}handleError(){}}async function nd(t,e){for await(const n of e)t.postMessage(_c.encode(n))}class ad{get stream(){throw new A}async send(){throw new A}}const wt=i.createContext(new ad),un=t=>a.jsx(wt.Provider,{value:rd(),children:t.children});let Xt=null;function sd(){return Xt===null&&(Xt=new td),Xt}function rd(){return typeof window<"u"&&"Worker"in window||typeof self<"u"&&"Worker"in self?sd():new Zl(b(1024),b(1024))}try{wt.displayName="CappuccinoNodeValidatorServiceAPIContext",wt.__docgenInfo={description:"",displayName:"CappuccinoNodeValidatorServiceAPIContext",props:{}}}catch{}try{un.displayName="ProvideCappuccinoNodeValidatorServiceAPIContext",un.__docgenInfo={description:`ProvideCappuccinoNodeValidatorServiceAPIContext is a component that provides
a Cappuccino Node Validator Service API using a default implementation that
is dependent on the environment that the code is being run within.`,displayName:"ProvideCappuccinoNodeValidatorServiceAPIContext",props:{}}}catch{}async function ka(t,e,n,s,r){await Promise.all([t.blockSizeHistogramStream.publish({blocks:Array.from(e.immutableIterable()),blockSize:Array.from(s.immutableIterable())}),t.blockTimeHistogramStream.publish({blockSize:Array.from(s.immutableIterable()),blocks:Array.from(e.immutableIterable()),blockTime:Array.from(n.immutableIterable())}),t.blockThroughputHistogramStream.publish({blocks:Array.from(e.immutableIterable()),blockThroughput:Array.from(r.immutableIterable())})])}function vr(t){var e,n,s;return{publicKey:t.publicKey,name:O(t.name),companyDetails:{name:O(t.company),website:((e=t.companyWebsite)==null?void 0:e.toString())??null},location:{coords:(n=t.location)!=null&&n.coords?[t.location.coords.lat.valueOf(),t.location.coords.lng.valueOf()]:null,country:O(((s=t.location)==null?void 0:s.country)??null)}}}function od(t,e){return t.value-e.value}function Kt(t,e){const n=new Map;for(const s of t){const r=e(s);r!==null&&n.set(r,(n.get(r)??0)+1)}return Array.from(n.entries()).map(([s,r])=>({label:s,value:r})).sort(od)}function Tr(t){return Kt(t,e=>e.operatingSystem)}function Nr(t){return Kt(t,e=>{var n;return((n=e.location)==null?void 0:n.country)??null})}function _r(t){return Kt(t,e=>e.networkType)}function jr(t){return Kt(t,e=>e.nodeType)}function Pr(t,e){const n=Array.from(N(e,r=>Array.from(N(r,Number))));return t.map((r,c)=>{const d=N(n,f=>f[c])[Symbol.iterator](),[u,m]=Et(([f,w],E)=>[f+1,w+E],[0,0],d);return{voteParticipation:m,totalVotes:u}})}function Br(t){const e=t[Symbol.iterator](),n=Et((r,c)=>{const l=N(c.proposerID,d=>Wn(r.keys(),u=>Dt(u,d)===0)??d);for(const d of l)r.set(d,(r.get(d)??0)+1);return r},new Map,e),s=Array.from(n.entries()).sort((r,c)=>c[1]-r[1]);return Array.from(N(s,([r,c])=>({proposer:r,count:c})))}const ne=50;function id(){const t=j(ne+1),e=j(ne+1),n=j(ne+1),s=j(ne+1),r=j(ne+1),c=j(ne+1);return{lastBlock:null,latestBlocks:t,blockHeightHistograms:e,blockTimeHistograms:n,blockSizeHistograms:s,blockThroughputHistograms:r,votersBitVecs:c,nodes:[],validators:new Map,stakeTable:new Map}}async function cd(t,e,n){const s=t.lastBlock;t.lastBlock=n,t.latestBlocks.put(n.latestBlock),e.latestBlockStream.publish({height:n.latestBlock.height,time:n.latestBlock.time,size:n.latestBlock.size,transactions:n.latestBlock.numTransactions,proposer:n.latestBlock.proposerID}),t.blockHeightHistograms.put(n.latestBlock.height),t.blockSizeHistograms.put(n.latestBlock.size);const r=(n.latestBlock.time.valueOf()-((s==null?void 0:s.latestBlock.time.valueOf())??0))/1e3;t.blockTimeHistograms.put(r),t.blockThroughputHistograms.put(n.latestBlock.size/Math.max(1,r)),await ka(e,t.blockHeightHistograms,t.blockTimeHistograms,t.blockSizeHistograms,t.blockThroughputHistograms),e.latestBlockProducers.publish(Br(t.latestBlocks.immutableIterable()))}async function ld(t,e,n){var r,c;for(const l of n.blocks){const d=((r=t.lastBlock)==null?void 0:r.latestBlock)??null;t.lastBlock=new re(l),t.latestBlocks.put(l),t.blockHeightHistograms.put(l.height),t.blockSizeHistograms.put(l.size);const u=(l.time.valueOf()-((d==null?void 0:d.time.valueOf())??0))/1e3;t.blockTimeHistograms.put(u),t.blockThroughputHistograms.put(l.size/Math.max(1,u))}await ka(e,t.blockHeightHistograms,t.blockTimeHistograms,t.blockSizeHistograms,t.blockThroughputHistograms);const s=((c=t.lastBlock)==null?void 0:c.latestBlock)??null;s!==null&&e.latestBlockStream.publish({height:s.height,time:s.time,size:s.size,transactions:s.numTransactions,proposer:s.proposerID}),e.latestBlockProducers.publish(Br(t.latestBlocks.immutableIterable()))}async function dd(t,e,n){for(const s of n.histograms.blockHeights)t.blockHeightHistograms.put(s);for(const s of n.histograms.blockTime)t.blockTimeHistograms.put(s);for(const s of n.histograms.blockSize)t.blockSizeHistograms.put(s);for(const s of si(t.blockTimeHistograms.immutableIterable(),t.blockSizeHistograms.immutableIterable(),(r,c)=>(c??0)/Math.max(1,r??1)))t.blockThroughputHistograms.put(s);await ka(e,t.blockHeightHistograms,t.blockTimeHistograms,t.blockSizeHistograms,t.blockThroughputHistograms)}async function ud(t,e,n){t.nodes=n.nodes;const s=Tr(t.nodes),r=Nr(t.nodes),c=_r(t.nodes),l=jr(t.nodes),d=t.nodes.map(vr);await Promise.all([e.nodesSummary.publish(d),e.nodeCoordinates.publish(d),e.pieChartCountries.publish(r),e.pieChartNetworkTypes.publish(c),e.pieChartNodeTypes.publish(l),e.pieChartOperatingSystems.publish(s)])}async function pd(t,e,n){const s=t.nodes.findIndex(m=>m.publicKey.toString()===n.nodeIdentity.publicKey.toString());s<0?t.nodes.push(n.nodeIdentity):t.nodes[s]=n.nodeIdentity;const r=Tr(t.nodes),c=Nr(t.nodes),l=_r(t.nodes),d=jr(t.nodes),u=t.nodes.map(vr);await Promise.all([e.nodesSummary.publish(u),e.nodeCoordinates.publish(u),e.pieChartCountries.publish(c),e.pieChartNetworkTypes.publish(l),e.pieChartNodeTypes.publish(d),e.pieChartOperatingSystems.publish(r)])}async function md(t,e,n){for(const r of n.voters)t.votersBitVecs.put(r);const s=Pr(t.nodes,t.votersBitVecs.immutableIterable());await e.voters.publish(s)}async function yd(t,e,n){t.votersBitVecs.put(n.latestVoter);const s=Pr(t.nodes,t.votersBitVecs.immutableIterable());await e.voters.publish(s)}async function hd(t,e,n){t.validators=new Map(N(n.validators,s=>[s.stakeTableKey.toString(),s])),await e.validatorsStreamer.publish(t.validators)}async function fd(t,e,n){t.validators.set(n.validator.stakeTableKey.toString(),n.validator),await e.validatorsStreamer.publish(t.validators)}async function Cd(t,e,n){t.stakeTable=new Map(N(n.stakeTable,s=>[s.stakeTableEntry.stakeKey.toString(),s])),await e.stakeTableStreamer.publish(t.stakeTable)}async function xd(t,e,n){t.stakeTable=new Map(N(n.stakeTable,s=>[s.stakeTableEntry.stakeKey.toString(),s])),await e.stakeTableStreamer.publish(t.stakeTable)}async function bd(t,e,n){if(n instanceof re)return cd(t,e,n);if(n instanceof Ot)return ld(t,e,n);if(n instanceof Be)return dd(t,e,n);if(n instanceof Ae)return ud(t,e,n);if(n instanceof la)return pd(t,e,n);if(n instanceof Ht)return md(t,e,n);if(n instanceof Ft)return yd(t,e,n);if(n instanceof ba)return hd(t,e,n);if(n instanceof ma)return fd(t,e,n);if(n instanceof Ca)return Cd(t,e,n);if(n instanceof ua)return xd(t,e,n)}async function gd(t,e,n,s){const r=t.status;if(r instanceof pe){e.reconnectAttempt=0,e.errors.publish(null),await s.send(new Xn),await s.send(new Zn),await s.send(new ea),await s.send(new Xs),await s.send(new Ys),await s.send(new ta),await s.send(new na),await s.send(new aa),await s.send(new sa),await s.send(new ir),await s.send(new rr);return}if(!(r instanceof Z)||!e.mounted)return;e.reconnectAttempt+=1;const c=Math.min(4**e.reconnectAttempt,4e3)*(Math.random()+1);console.info("disconnected from node validator web socket, attempting to reconnect","attempting reconnect, attempt",e.reconnectAttempt,"sleeping for",c),await Oo(c),n.send(new Oe)}const Ir=1;async function Sd(t,e,n,s,r){const c=id(),l=n.stream[Symbol.asyncIterator]();let d=l.next();for(let u=await Promise.race([e.promise,d]);u!==Ir&&!u.done;d=l.next(),u=await Promise.race([e.promise,d])){const m=u.value;if(m instanceof wa){await bd(c,t,m.response),await t.errors.publish(null);continue}if(m instanceof se){await t.lifecycle.publish(m),gd(m,t,s,r);continue}if(m instanceof Fs){await t.errors.publish(m);continue}}for(let u=await d;!u.done;u=await l.next()){const m=u.value;if(m instanceof se&&m.status instanceof Z)break}}async function wd(t,e=null){e!==null&&await t.send(new $n(e)),await t.send(new Oe)}function kd(){return{latestBlockStream:b(4),blockTimeHistogramStream:b(4),blockSizeHistogramStream:b(4),blockThroughputHistogramStream:b(4),nodesSummary:b(4),nodeCoordinates:b(4),pieChartCountries:b(4),pieChartNetworkTypes:b(4),pieChartNodeTypes:b(4),pieChartOperatingSystems:b(4),voters:b(4),latestBlockProducers:b(4),stakeTableStreamer:b(4),validatorsStreamer:b(4),errors:b(4),lifecycle:b(4),reconnectAttempt:0,mounted:!0}}const kt=i.createContext(new Map),J=i.createContext(new Map),Ha=t=>a.jsx(Y,{children:a.jsx(M,{asyncIterable:t.stream,children:t.children})}),vd=t=>{const e=i.useContext(k);return a.jsx(kt.Provider,{value:e??new Map,children:a.jsx(q,{children:t.children})})},Td=t=>{const e=i.useContext(k);return a.jsx(J.Provider,{value:e??new Map,children:a.jsx(q,{children:t.children})})},pn=t=>{const e=i.useContext(Do),n=i.useContext(wt),s=kd();return i.useEffect(()=>{const r=Ye(),c=tt(n,Wc),l=tt(n,Pc);return Sd(s,r,n,l,c),wd(l,e==null?void 0:e.nodeValidatorServiceURL),()=>{l.send(new Mt),s.mounted=!1,r.complete(Ir)}},[s,n,e==null?void 0:e.nodeValidatorServiceURL]),a.jsx(uo.Provider,{value:s.latestBlockStream,children:a.jsx(qo.Provider,{value:s.latestBlockProducers,children:a.jsx(po.Provider,{value:s.blockTimeHistogramStream,children:a.jsx(mo.Provider,{value:s.blockSizeHistogramStream,children:a.jsx(yo.Provider,{value:s.blockThroughputHistogramStream,children:a.jsx(ot.Provider,{value:s.nodesSummary,children:a.jsx(lt.Provider,{value:s.pieChartOperatingSystems,children:a.jsx(st.Provider,{value:s.pieChartNetworkTypes,children:a.jsx(rt.Provider,{value:s.pieChartNodeTypes,children:a.jsx(at.Provider,{value:s.pieChartCountries,children:a.jsx(Zo.Provider,{value:s.nodeCoordinates,children:a.jsx(it.Provider,{value:s.voters,children:a.jsx(nt.Provider,{value:s.lifecycle,children:a.jsx(Ns.Provider,{value:Fo(s.errors,async r=>(r==null?void 0:r.error)??null),children:a.jsx(Ha,{stream:s.stakeTableStreamer,children:a.jsx(vd,{children:a.jsx(Ha,{stream:s.validatorsStreamer,children:a.jsx(Td,{children:t.children})})})})})})})})})})})})})})})})})})};try{kt.displayName="CurrentStakeTableContext",kt.__docgenInfo={description:"",displayName:"CurrentStakeTableContext",props:{}}}catch{}try{J.displayName="CurrentValidatorsContext",J.__docgenInfo={description:"",displayName:"CurrentValidatorsContext",props:{}}}catch{}try{pn.displayName="ProvideCappuccinoNodeValidatorStreams",pn.__docgenInfo={description:`ProvideCappuccinoNodeValidatorStream is a React Context Provider that will
setup the node validator state, and provide React Contexts to distribute
the underlying node validator data to the components on the Node Validator
Page.`,displayName:"ProvideCappuccinoNodeValidatorStreams",props:{}}}catch{}const mn=t=>{const e=i.useContext(Ns);return a.jsx(M,{asyncIterable:e,children:a.jsx(Nd,{children:t.children})})},Nd=t=>{const e=i.useContext(k),n=i.useContext(Xe);return a.jsx(Xe.Provider,{value:n??e,children:t.children})};try{mn.displayName="ErrorStreamConsumer",mn.__docgenInfo={description:`ErrorStreamConsumer is a component that is used to consume errors off of
the ErrorStreamContext.  This component will resolve the error stream
and provide the resolved error to the children of this component.`,displayName:"ErrorStreamConsumer",props:{}}}catch{}const ce=t=>a.jsx("div",{className:"pie-chart-section-title card--padding heading--margin",children:a.jsx(W,{children:t.children})});try{ce.displayName="PieChartSectionTitle",ce.__docgenInfo={description:`PieChartSectionTitle is a component that represents the title of a section
of a pie chart. This component is useful for labeling sections of a pie
chart.`,displayName:"PieChartSectionTitle",props:{}}}catch{}const _d={AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"land Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthlemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia, Plurinational State of",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo, Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Cte d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cabo Verde",CW:"Curaao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czechia",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands (Malvinas)",FM:"Micronesia, Federated States of",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom of Great Britain and Northern Ireland",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran, Islamic Republic of",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"Korea, Democratic People's Republic of",KR:"Korea, Republic of",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Lao People's Democratic Republic",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova, Republic of",ME:"Montenegro",MF:"Saint Martin (French part)",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands, Kingdom of the",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine, State of",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Runion",RO:"Romania",RS:"Serbia",RU:"Russian Federation",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena, Ascension and Tristan da Cunha",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten (Dutch part)",SY:"Syrian Arab Republic",SZ:"Eswatini",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Trkiye",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan, Province of China",TZ:"Tanzania, United Republic of",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States of America",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See",VC:"Saint Vincent and the Grenadines",VE:"Venezuela, Bolivarian Republic of",VG:"Virgin Islands (British)",VI:"Virgin Islands (U.S.)",VN:"Viet Nam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe"};function jd(t){return _d[t]??t}function Pd(t){return{label:jd(t.label),value:t.value}}const yn=()=>{const t=i.useContext(ue),e=i.useContext(k);return t?a.jsx(a.Fragment,{}):a.jsxs(a.Fragment,{children:[a.jsx(ce,{children:a.jsx(p,{text:"Countries"})}),a.jsx("div",{className:"card--padding",children:a.jsx(Wt,{values:e.map(Pd)})})]})};try{yn.displayName="CountriesPieChart",yn.__docgenInfo={description:"",displayName:"CountriesPieChart",props:{}}}catch{}const Bd=t=>a.jsxs(a.Fragment,{children:[a.jsx(p,{text:t.label}),a.jsx(Ce,{number:t.value})]}),hn=()=>{const t=i.useContext(ue),e=i.useContext(k);return t?a.jsx(a.Fragment,{}):a.jsxs(Ln.Provider,{value:Bd,children:[a.jsx(ce,{children:a.jsx(p,{text:"Network Types"})}),a.jsx("div",{className:"card--padding",children:a.jsx(Wt,{values:e})})]})};try{hn.displayName="NetworkTypesPieChart",hn.__docgenInfo={description:"",displayName:"NetworkTypesPieChart",props:{}}}catch{}const Id=t=>a.jsxs(a.Fragment,{children:[a.jsx(p,{text:t.label}),a.jsx(Ce,{number:t.value})]}),fn=()=>{const t=i.useContext(ue),e=i.useContext(k);return t?a.jsx(a.Fragment,{}):a.jsxs(Ln.Provider,{value:Id,children:[a.jsx(ce,{children:a.jsx(p,{text:"Node Types"})}),a.jsx("div",{className:"card--padding",children:a.jsx(Wt,{values:e})})]})};try{fn.displayName="NodeTypesPieChart",fn.__docgenInfo={description:"",displayName:"NodeTypesPieChart",props:{}}}catch{}const vt=t=>a.jsxs("span",{className:"inline",children:[t.children,a.jsx(Rs,{content:t.value.toString()})]});try{vt.displayName="CopyWalletAddress",vt.__docgenInfo={description:"CopyWalletAddress is a component that will display a `CopyButton` with the\ncontents for the `CopyButton` the EIP-55 Formatted Wallet Address",displayName:"CopyWalletAddress",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"WalletAddress"}}}}}catch{}const F=i.createContext({showModal:!1,stakingPhase:null,address:null,amount:null}),$=i.createContext({showModal:()=>{},closeModal:()=>{},setAmount:()=>{},setValidator:()=>{}});try{F.displayName="StakingModalStateContext",F.__docgenInfo={description:"",displayName:"StakingModalStateContext",props:{}}}catch{}try{$.displayName="StakingModalControlsContext",$.__docgenInfo={description:"",displayName:"StakingModalControlsContext",props:{}}}catch{}const Ad=()=>{const[t]=i.useContext(_);return t.name===null||t.name===""?a.jsx(p,{text:"-"}):a.jsx(p,{text:t.name})},Vd=()=>{const[t]=i.useContext(_);return a.jsx(wi,{value:t.publicKey,children:a.jsx(ki,{value:t.publicKey})})},Rd=()=>{const[,,,t]=i.useContext(_),e=(t==null?void 0:t.account.address)??null;if(e===null)return a.jsx(p,{text:"-"});const n=new ho(e);return a.jsx(vt,{value:n,children:a.jsx(Rt,{value:n})})},Ed=()=>{const[,,,t]=i.useContext(_),e=(t==null?void 0:t.commission)??null;return e===null?a.jsx(p,{text:"-"}):a.jsx(We,{percentage:e.valueOf()})},Dd=()=>{const t=i.useContext(Vr),[,,,e]=i.useContext(_),n=(e==null?void 0:e.stake)??null;if(t===null||n===null)return a.jsx(p,{text:"-"});const s=1e5,r=Number(n*BigInt(s)/t)/s;return a.jsxs(a.Fragment,{children:[a.jsx(T,{money:S.ESP(n)})," (",a.jsx(We,{percentage:r}),")"]})},Wd=()=>{const[t]=i.useContext(_);return t.companyDetails===null||t.companyDetails.name===null||t.companyDetails.name===""?a.jsx(p,{text:"-"}):a.jsx(p,{text:t.companyDetails.name})},Md=()=>{var e;const[t]=i.useContext(_);return t.companyDetails===null||t.companyDetails.website===null||((e=t.companyDetails)==null?void 0:e.website)===""?a.jsx(p,{text:"-"}):t.companyDetails.website?a.jsx(Ci,{href:t.companyDetails.website,target:"_blank",children:a.jsx(p,{text:t.companyDetails.website})}):a.jsx(p,{text:"-"})},Od=()=>{const[,t]=i.useContext(_);return t===null?a.jsx(p,{text:"?"}):t.totalVotes===0?a.jsx(Ce,{number:t.voteParticipation}):a.jsxs(a.Fragment,{children:[a.jsx(Ce,{number:t.voteParticipation})," (",a.jsx(We,{percentage:t.voteParticipation/t.totalVotes}),")"]})},Ld=()=>{const[,,,t]=i.useContext(_),e=i.useContext($);return t===null||t.account.address===null?a.jsx(p,{text:"-"}):a.jsx(On,{title:"Delegate",onClick:()=>{e.showModal(t.account.toString())},children:a.jsx(Ds,{})})},Ar=t=>a.jsx(Bs,{columns:[{label:"Public Key",columnType:g.publicKey,buildCell:t.components[0]},{label:"Address",columnType:g.address,buildCell:t.components[1]},{label:"Name",columnType:g.name,buildCell:t.components[2]},{label:"Company",columnType:g.companyName,buildCell:t.components[3]},{label:"Website",columnType:g.companyWebSite,buildCell:t.components[4]},{label:"Commission",columnType:g.commission,buildCell:t.components[5],alignment:H.end},{label:"Stake",columnType:g.stake,buildCell:t.components[6],alignment:H.end},{label:"Vote Participation",columnType:g.voteParticipation,buildCell:t.components[7],alignment:H.end},{label:"",columnType:g.actions,buildCell:t.components[8],alignment:H.center}]}),Cn=t=>{const{numElements:e=20}=t;return a.jsx(k.Provider,{value:Array.from(Is(e)),children:a.jsx(Ar,{components:[v,v,v,v,v,v,v,v,v]})})},xn=()=>a.jsx(Ar,{components:[Vd,Rd,Ad,Wd,Md,Ed,Dd,Od,Ld]});function Ka(t,e){const[n]=t,[s]=e;return Dt(n.publicKey.data,s.publicKey.data)}function Fd(t,e){const[n]=t,[s]=e;return n.name===null&&s.name===null?0:n.name===null?1:s.name===null?-1:n.name.localeCompare(s.name)}function Hd(t,e){const[n]=t,[s]=e;return n.companyDetails===null&&s.companyDetails===null?0:n.companyDetails===null?1:s.companyDetails===null?-1:n.companyDetails.name===null&&s.companyDetails.name===null?0:n.companyDetails.name===null?1:s.companyDetails.name===null?-1:n.companyDetails.name.localeCompare(s.companyDetails.name)}function Kd(t,e){const[n]=t,[s]=e;return n.companyDetails===null&&s.companyDetails===null?0:n.companyDetails===null?1:s.companyDetails===null?-1:n.companyDetails.website===null&&s.companyDetails.website===null?0:n.companyDetails.website===null?1:s.companyDetails.website===null?-1:n.companyDetails.website.localeCompare(s.companyDetails.website)}function qd(t,e){const[,n]=t,[,s]=e;return n.voteParticipation-s.voteParticipation}function Ud(t,e){const[,,,n]=t,[,,,s]=e,r=n==null?void 0:n.account.address,c=s==null?void 0:s.account.address;return!r&&!c?0:r?c?Dt(r,c):-1:1}function Gd(t,e){const[,,n]=t,[,,s]=e,r=(n==null?void 0:n.stakeTableEntry.stakeAmount)??0n,c=(s==null?void 0:s.stakeTableEntry.stakeAmount)??0n;return Number(r-c)}function zd(t,e){const[,,,n]=t,[,,,s]=e,r=(n==null?void 0:n.commission.value)??0,c=(s==null?void 0:s.commission.value)??0;return Number(r-c)}function Jd(t,e,n,s){return t.map((r,c)=>[r,e[c]??{totalVotes:0,voteParticipation:0},n.get(r.publicKey.toString())??null,s.get(r.publicKey.toString())??null])}function $d(t){switch(t){case g.publicKey:return Ka;case g.name:return Fd;case g.companyName:return Hd;case g.companyWebSite:return Kd;case g.voteParticipation:return qd;case g.stake:return Gd;case g.address:return Ud;case g.commission:return zd;default:return Ka}}function Qd(t,e){switch(e){case ae.asc:return t;case ae.desc:return(n,s)=>-t(n,s);default:return t}}function Yd(t,e,n){const s=Qd($d(e),n);return t.sort(s)}const Vr=i.createContext(0n),bn=()=>{const[t,e]=i.useState({sortColumn:g.voteParticipation,sortDir:ae.asc}),n=i.useContext(Xe),s=i.useContext(ue),r=i.useContext(k),c=i.useContext(ct),l=i.useContext(kt),d=i.useContext(J);if(n)return a.jsx(Mn,{});if((!r||r instanceof Array&&r.length<=0)&&s)return a.jsx(Cn,{});const u=Et((U,Le)=>U+Le.stake,0n,d.values()),m=Jd(r,c,l,d),{sortColumn:f,sortDir:w}=t,E=Yd(m,f,w);return a.jsx(Vr.Provider,{value:u,children:a.jsx(js.Provider,{value:t,children:a.jsx(Ps.Provider,{value:e,children:a.jsx(k.Provider,{value:E,children:a.jsx(xn,{})})})})})};try{Cn.displayName="NodesSummaryDataTablePlaceholder",Cn.__docgenInfo={description:`NodesSummaryDataTablePlaceholder is a component that renders a placeholder
version of the Node Summary Data Table.`,displayName:"NodesSummaryDataTablePlaceholder",props:{numElements:{defaultValue:null,description:"",name:"numElements",required:!1,type:{name:"number"}}}}}catch{}try{xn.displayName="NodesSummaryDataTablePopulated",xn.__docgenInfo={description:`NodesSummaryDataTablePopulated is a component that renders the populated
version of the Node Summary Data Table.`,displayName:"NodesSummaryDataTablePopulated",props:{}}}catch{}try{bn.displayName="NodesSummaryDataTable",bn.__docgenInfo={description:`NodeSummaryDataTable handles the display of the Node Summary Data Table.
Additionally, it handles the sorting of the data via the manipulation of the
headers of the table data.`,displayName:"NodesSummaryDataTable",props:{}}}catch{}const Zd=t=>a.jsxs(a.Fragment,{children:[a.jsx(p,{text:t.label}),a.jsx(Ce,{number:t.value})]}),gn=()=>{const t=i.useContext(ue),e=i.useContext(k);return t?a.jsx(a.Fragment,{}):a.jsxs(Ln.Provider,{value:Zd,children:[a.jsx(ce,{children:a.jsx(p,{text:"Operating System"})}),a.jsx("div",{className:"card--padding",children:a.jsx(Wt,{values:e})})]})};try{gn.displayName="OperatingSystemPieChart",gn.__docgenInfo={description:"",displayName:"OperatingSystemPieChart",props:{}}}catch{}const fe=class fe{constructor(e,n){o(this,"start");o(this,"end");this.start=e,this.end=n}static collapsed(e){return new fe(e,e)}get isCollapsed(){return this.start===this.end}get isNormalized(){return this.start<=this.end}get isValid(){return this.start>=0&&this.end>=0}textAfter(e){return Jt(this.isNormalized,"TextRange must be normalized"),e.slice(this.end)}textBefore(e){return Jt(this.isNormalized,"TextRange must be normalized"),e.slice(0,this.start)}textWithin(e){return Jt(this.isNormalized,"TextRange must be normalized"),e.slice(this.start,this.end)}};o(fe,"empty",fe.collapsed(-1));let Tt=fe;class L extends Tt{constructor(n,s,r=!1){super(n<s?n:s,n<s?s:n);o(this,"baseOffset");o(this,"extentOffset");o(this,"isDirectional");this.baseOffset=n,this.extentOffset=s,this.isDirectional=r}static collapsed(n){return new L(n,n)}static fromPosition(n){return new L(n,n)}copyWith({baseOffset:n=this.baseOffset,extentOffset:s=this.extentOffset,isDirectional:r=this.isDirectional}={}){return new L(n,s,r)}expandTo(n,s=!1){if(n>=this.start&&n<=this.end)return this;const r=this.baseOffset<this.extentOffset;return n<=this.start?s?this.copyWith({baseOffset:this.end,extentOffset:n}):this.copyWith({baseOffset:r?n:this.baseOffset,extentOffset:r?this.extentOffset:n}):s?this.copyWith({baseOffset:this.start,extentOffset:n}):this.copyWith({baseOffset:r?this.baseOffset:n,extentOffset:r?n:this.extentOffset})}extendTo(n){return this.extentOffset===n?this:this.copyWith({extentOffset:n})}}class G{constructor(e,n=L.collapsed(-1),s=Tt.empty){o(this,"text");o(this,"selection");o(this,"composing");this.text=e,this.selection=n,this.composing=s}copyWith({text:e=this.text,selection:n=this.selection,composing:s=this.composing}={}){return new G(e,n,s)}}const Sn=t=>{const e=i.createRef(),{value:n,onChange:s,...r}=t,c=n??new G("",L.collapsed(-1));if(e.current&&c.selection.isValid){const l=c.selection;e.current.setSelectionRange(l.start,l.end,l.start<=l.end?"forward":"backward")}return a.jsx("input",{ref:e,type:"text",...r,value:c.text,onChange:l=>{const d=new G(l.target.value,new L(l.target.selectionStart||0,l.target.selectionEnd||0,(l.target.selectionDirection||"none")!=="none"));s&&(s(l,d),l.isDefaultPrevented())},onSelect:l=>{e.current&&s&&s(l,c.copyWith({selection:new L(e.current.selectionStart??0,e.current.selectionEnd??0,(e.current.selectionDirection||"none")!=="none")}))}})};try{Sn.displayName="TextEditing",Sn.__docgenInfo={description:`TextEditing is a ReactComponent that provides a text input field
with support for explicitly controlling the value and selection.
It uses the TextEditingValue and TextSelection types to manage
the text and selection state.

It is modelled after the TextEditingController in Flutter,`,displayName:"TextEditing",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"TextEditingValue"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((event: ChangeEvent<HTMLInputElement> | SyntheticEvent<HTMLInputElement, Event>, value: TextEditingValue) => void)"}}}}}catch{}function Xd(t){return t.type==="change"}function qa(t,e){var m;e=e.replace(/^[^\d]+/g,""),e=e.replace(/[^\d]+$/g,"");const s=((m=t.formatToParts(.5).find(f=>f.type==="decimal"))==null?void 0:m.value)??".",r=e.split(s),c=BigInt(r[0].replace(/\D/g,""))*He.significantDigitsMultiplier;if(r.length<2)return S.ESP(c);const l=r[1].replace(/\D/g,"").slice(0,He.significantDigits),d=10n**BigInt(l.length);if(d>He.significantDigitsMultiplier)throw new A("we somehow have more significant digits than the currency supports");const u=BigInt(l)*(He.significantDigitsMultiplier/d);return S.ESP(c+u)}const wn=t=>{const e=i.useContext(Yo).ESP,{value:n,onChange:s,...r}=t,c=n??S.ESP(0n),l=Number(c.value)/Number(c.currency.significantDigitsMultiplier),d=new G(e.format(l)),[u,m]=i.useState({rawValue:d,transformed:d,money:c});return u.money.value!==c.value&&m({rawValue:new G(e.format(l)),transformed:new G(e.format(l)),money:c}),a.jsx(Sn,{...r,value:u.rawValue,onKeyDown:()=>{},onChange:(f,w)=>{if(Xd(f)){const E=qa(e,w.text),U={rawValue:w,transformed:w.copyWith({text:e.format(E.value/E.currency.significantDigitsMultiplier)}),money:E};m(U),s&&s(f,U.money);return}m({...u,rawValue:w,transformed:w})},onBlur:()=>{const f=u.transformed.copyWith({selection:L.collapsed(-1)});m({...u,rawValue:f,transformed:f,money:qa(e,f.text)})}})};try{wn.displayName="ESPInput",wn.__docgenInfo={description:"",displayName:"ESPInput",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"MonetaryValue | null"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((event: ChangeEvent<HTMLInputElement> | SyntheticEvent<HTMLInputElement, Event>, value: MonetaryValue) => void)"}}}}}catch{}const va=[{type:"constructor",inputs:[],stateMutability:"nonpayable"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"allowance",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"spender",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"decimals",inputs:[],outputs:[{name:"",type:"uint8",internalType:"uint8"}],stateMutability:"view"},{type:"function",name:"getVersion",inputs:[],outputs:[{name:"majorVersion",type:"uint8",internalType:"uint8"},{name:"minorVersion",type:"uint8",internalType:"uint8"},{name:"patchVersion",type:"uint8",internalType:"uint8"}],stateMutability:"pure"},{type:"function",name:"initialize",inputs:[{name:"_owner",type:"address",internalType:"address"},{name:"_initialGrantRecipient",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"newImplementation",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Upgrade",inputs:[{name:"implementation",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"ERC20InsufficientAllowance",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"allowance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ERC20InsufficientBalance",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"balance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ERC20InvalidApprover",inputs:[{name:"approver",type:"address",internalType:"address"}]},{type:"error",name:"ERC20InvalidReceiver",inputs:[{name:"receiver",type:"address",internalType:"address"}]},{type:"error",name:"ERC20InvalidSender",inputs:[{name:"sender",type:"address",internalType:"address"}]},{type:"error",name:"ERC20InvalidSpender",inputs:[{name:"spender",type:"address",internalType:"address"}]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]}],Rr=[{type:"constructor",inputs:[],stateMutability:"nonpayable"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"_hashBlsKey",inputs:[{name:"blsVK",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"blsKeys",inputs:[{name:"blsKeyHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"used",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"claimValidatorExit",inputs:[{name:"validator",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"claimWithdrawal",inputs:[{name:"validator",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegate",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegations",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"deregisterValidator",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"exitEscrowPeriod",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getVersion",inputs:[],outputs:[{name:"majorVersion",type:"uint8",internalType:"uint8"},{name:"minorVersion",type:"uint8",internalType:"uint8"},{name:"patchVersion",type:"uint8",internalType:"uint8"}],stateMutability:"pure"},{type:"function",name:"initialize",inputs:[{name:"_tokenAddress",type:"address",internalType:"address"},{name:"_lightClientAddress",type:"address",internalType:"address"},{name:"_exitEscrowPeriod",type:"uint256",internalType:"uint256"},{name:"_initialOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"initializedAtBlock",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"lightClient",inputs:[],outputs:[{name:"",type:"address",internalType:"contract LightClientV2"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"registerValidator",inputs:[{name:"blsVK",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVK",type:"tuple",internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"blsSig",type:"tuple",internalType:"struct BN254.G1Point",components:[{name:"x",type:"uint256",internalType:"BN254.BaseField"},{name:"y",type:"uint256",internalType:"BN254.BaseField"}]},{name:"commission",type:"uint16",internalType:"uint16"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"token",inputs:[],outputs:[{name:"",type:"address",internalType:"contract ERC20"}],stateMutability:"view"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"undelegate",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"undelegations",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"},{name:"unlocksAt",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"updateConsensusKeys",inputs:[{name:"newBlsVK",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"newSchnorrVK",type:"tuple",internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"newBlsSig",type:"tuple",internalType:"struct BN254.G1Point",components:[{name:"x",type:"uint256",internalType:"BN254.BaseField"},{name:"y",type:"uint256",internalType:"BN254.BaseField"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"newImplementation",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"validatorExits",inputs:[{name:"validator",type:"address",internalType:"address"}],outputs:[{name:"unlocksAt",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"validators",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"delegatedAmount",type:"uint256",internalType:"uint256"},{name:"status",type:"uint8",internalType:"enum StakeTable.ValidatorStatus"}],stateMutability:"view"},{type:"event",name:"ConsensusKeysUpdated",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"blsVK",type:"tuple",indexed:!1,internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVK",type:"tuple",indexed:!1,internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]}],anonymous:!1},{type:"event",name:"Delegated",inputs:[{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"validator",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Undelegated",inputs:[{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"validator",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Upgrade",inputs:[{name:"implementation",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ValidatorExit",inputs:[{name:"validator",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ValidatorRegistered",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"blsVk",type:"tuple",indexed:!1,internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVk",type:"tuple",indexed:!1,internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"commission",type:"uint16",indexed:!1,internalType:"uint16"}],anonymous:!1},{type:"event",name:"Withdrawal",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"BLSSigVerificationFailed",inputs:[]},{type:"error",name:"BlsKeyAlreadyUsed",inputs:[]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InsufficientAllowance",inputs:[{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"}]},{type:"error",name:"InsufficientBalance",inputs:[{name:"",type:"uint256",internalType:"uint256"}]},{type:"error",name:"InvalidCommission",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"InvalidSchnorrVK",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"NothingToWithdraw",inputs:[]},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"PrematureWithdrawal",inputs:[]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"UndelegationAlreadyExists",inputs:[]},{type:"error",name:"ValidatorAlreadyExited",inputs:[]},{type:"error",name:"ValidatorAlreadyRegistered",inputs:[]},{type:"error",name:"ValidatorInactive",inputs:[]},{type:"error",name:"ValidatorNotExited",inputs:[]},{type:"error",name:"ZeroAddress",inputs:[]},{type:"error",name:"ZeroAmount",inputs:[]}];function eu(){const t=i.useRef(null),[e,n]=i.useState({showModal:!1,stakingPhase:null,address:null,amount:null});return{dialogRef:t,state:e,showModal:d=>{var u;n({...e,showModal:!0,address:d??null}),(u=t.current)==null||u.showModal()},closeModal:()=>{var d;n({...e,showModal:!1,address:null,amount:null}),(d=t.current)==null||d.close()},setAmount:d=>{n({...e,amount:d})},setValidator:d=>{n({...e,address:d})}}}const tu=()=>{const t=i.useContext($);return a.jsxs("header",{className:"dialog-header",children:[a.jsx(W,{children:a.jsx(p,{text:"Delegate ESP"})}),a.jsx(On,{onClick:()=>t.closeModal(),title:"Close Navigation Drawer",children:a.jsx(fi,{})})]})},nu=()=>null,au=()=>{const t=i.useContext(F);return t.address?a.jsxs(a.Fragment,{children:[a.jsx(W,{children:a.jsxs("span",{children:[a.jsx(p,{text:"Delegating to "}),a.jsx(Rt,{value:Nt.decode(t.address)})]})}),a.jsx("div",{className:"delegation-preview-title",children:a.jsx(p,{text:"Delegation Preview"})})]}):a.jsx(W,{children:a.jsx(p,{text:"No validator selected, please select a validator."})})},ye=({children:[t,e]})=>a.jsxs("tr",{children:[a.jsx("th",{children:t}),a.jsx("td",{children:e})]}),Ta=i.createContext(null),su=t=>{const e=Rr,n=Ws({address:t.contractAddress,abi:e,functionName:"validators",args:[t.address]});return n.data?a.jsx(Ta.Provider,{value:n.data,children:t.children}):t.children},ru=t=>{const e=i.useContext(F),n=i.useContext(le),s=n==null?void 0:n.stakeTableContractAddress;return!s||!e.address?t.children:a.jsx(su,{contractAddress:s,address:e.address,children:t.children})},qt=i.createContext(null),ou=t=>{const e=va,n=Fi({contracts:[{address:t.espTokenContractAddress,abi:e,functionName:"allowance",args:[t.address,t.stakingTableContractAddress]},{address:t.espTokenContractAddress,abi:e,functionName:"balanceOf",args:[t.address]}]});if(!n.data||n.data.length<2||n.data[0].status!=="success"||n.data[1].status!=="success")return t.children;const s=n.data[0].result,r=n.data[1].result;return a.jsx(qt.Provider,{value:[s,r],children:t.children})},iu=t=>{const e=i.useContext(B),n=i.useContext(le),s=n==null?void 0:n.espTokenContractAddress,r=n==null?void 0:n.stakeTableContractAddress;return!s||!r||!e?t.children:a.jsx(ou,{espTokenContractAddress:s,stakingTableContractAddress:r,address:e,children:t.children})},cu=()=>{const t=i.useContext(Ta);if(!t)return a.jsx(a.Fragment,{});const[,e]=t;switch(e){case 1:return a.jsx(p,{text:"Active"});case 2:return a.jsx(p,{text:"Exited"});default:return a.jsx(p,{text:"Unknown"})}},lu=()=>{const t=i.useContext(Ta);if(!t)return a.jsx(a.Fragment,{});const[e]=t;return a.jsxs(a.Fragment,{children:[a.jsxs(ye,{children:[a.jsx(p,{text:"Current Stake"}),a.jsx(T,{money:S.ESP(e)})]}),a.jsxs(ye,{children:[a.jsx(p,{text:"Status"}),a.jsx(cu,{})]})]})},du=()=>{const t=i.useContext(F),e=i.useContext(J);if(!t.address)return null;const n=t.address.toLowerCase(),s=Wn(e.values(),r=>r.account.toString().toLowerCase()===n)??null;return s?a.jsxs(a.Fragment,{children:[a.jsx(xe,{}),a.jsx("table",{className:"validator-information",children:a.jsxs("tbody",{children:[a.jsxs(ye,{children:[a.jsx(p,{text:"Address"}),a.jsx(Rt,{value:Nt.decode(t.address)})]}),a.jsxs(ye,{children:[a.jsx(p,{text:"Commission"}),a.jsx(We,{percentage:s.commission.valueOf()})]}),a.jsxs(ye,{children:[a.jsx(p,{text:"Current Epoch Stake"}),a.jsx(T,{money:S.ESP(s.stake)})]}),a.jsx(lu,{})]})})]}):a.jsx(a.Fragment,{})},uu=()=>{const t=i.useContext(F),e=i.useContext($),n=i.useContext(qt);if(!t.address||!n)return null;const[s,r]=n,c=s>r?r:s;return a.jsxs(a.Fragment,{children:[a.jsx(xe,{}),a.jsx(p,{text:"Amount to Delegate"}),a.jsx("br",{}),a.jsxs(Ti,{children:[a.jsx(wn,{id:"stake-amount",value:t.amount,onChange:(l,d)=>{e.setAmount(d)}}),a.jsx(De,{className:"btn--max",onClick:()=>e.setAmount(S.ESP(c)),children:a.jsx(p,{text:"Max"})})]})]})},pu=t=>{const e=va,{writeContract:n}=Ms();return a.jsx(De,{onClick:()=>{n({abi:e,address:t.espTokenContractAddress,functionName:"approve",args:[t.address,t.stakeTableContractAddress]})},className:"raise-allowance",children:a.jsx(p,{text:"Raise Allowance"})})},mu=()=>{const t=i.useContext(F),e=i.useContext(B),n=i.useContext(qt),s=i.useContext(le),r=(s==null?void 0:s.espTokenContractAddress)??null,c=(s==null?void 0:s.stakeTableContractAddress)??null;if(!s||!e||!r||!c||!t.amount||!n)return null;const[l,d]=n,u=t.amount.value;return u>d?a.jsxs(a.Fragment,{children:[a.jsx(xe,{}),a.jsxs("div",{className:"warning",children:[a.jsx(p,{text:"Insufficient Balance"}),a.jsx("br",{}),a.jsx(T,{money:S.ESP(u)})," >"," ",a.jsx(T,{money:S.ESP(d)}),a.jsx("br",{}),a.jsx(p,{text:"More ESP needed"})]})]}):u>l?a.jsxs(a.Fragment,{children:[a.jsx(xe,{}),a.jsxs("div",{className:"warning",children:[a.jsx(p,{text:"Insufficient Allowance"}),a.jsx("br",{}),a.jsx(T,{money:S.ESP(u)})," >"," ",a.jsx(T,{money:S.ESP(l)}),a.jsx("br",{}),a.jsx(pu,{address:e,espTokenContractAddress:r,stakeTableContractAddress:c})]})]}):null};function yu(t,e,n,s,r){if(!r.address||!t||!e||!(Wn(s.chains,m=>e.id===m.id)??null)||!r.amount||!n)return!1;const[l,d]=n,u=r.amount.value;return u<=0n?!1:u<=d&&u<=l}const hu=()=>{const{writeContract:t}=Ms(),e=i.useContext(B),n=i.useContext(le),s=i.useContext(F),r=i.useContext(qt),c=i.useContext(bs),l=Re(),d=(n==null?void 0:n.stakeTableContractAddress)??null,u=Rr,m=yu(e,c,r,l,s);return a.jsxs(De,{onClick:()=>{!s.address||!d||!s.amount||t({abi:u,address:d,functionName:"delegate",args:[s.address,s.amount.value]})},disabled:!m,children:[a.jsx(p,{text:"Delegate"}),s.amount?a.jsxs(a.Fragment,{children:[" ",a.jsx(T,{money:s.amount??S.ESP(0n)})]}):null]})},fu=()=>a.jsxs("div",{className:"delegation-preview",children:[a.jsx(au,{}),a.jsx(du,{}),a.jsx(uu,{}),a.jsx(mu,{}),a.jsx("div",{className:"flex-spacer"}),a.jsx(hu,{})]}),Cu=()=>a.jsx(iu,{children:a.jsx(ru,{children:a.jsxs("div",{className:"dialog-content",children:[a.jsx(nu,{}),a.jsx(fu,{})]})})}),xu=t=>a.jsxs("dialog",{ref:t.dialogRef,className:"staking-modal",children:[a.jsx(tu,{}),a.jsx(Cu,{})]}),kn=t=>{const{state:e,dialogRef:n,showModal:s,closeModal:r,setAmount:c,setValidator:l}=eu();return a.jsx(F.Provider,{value:e,children:a.jsx($.Provider,{value:{showModal:s,closeModal:r,setAmount:c,setValidator:l},children:a.jsxs(a.Fragment,{children:[t.children,a.jsx(xu,{dialogRef:n})]})})})};try{kn.displayName="StakingModal",kn.__docgenInfo={description:"",displayName:"StakingModal",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Er=i.createContext([]),bu=()=>{const[t]=i.useContext(_),e=(t==null?void 0:t.account)??null;return e===null?a.jsx(p,{text:"-"}):a.jsx(vt,{value:e,children:a.jsx(Rt,{value:e})})},gu=()=>{const[t]=i.useContext(_);return t.commission.value<=0?a.jsx(p,{text:"-"}):a.jsx(We,{percentage:t.commission.valueOf()})},Su=()=>{const[,t]=i.useContext(_);return t<=0n?a.jsx(p,{text:"-"}):a.jsx(T,{money:S.ESP(t)})},wu=()=>{const[t]=i.useContext(_);return t.stake<=0n?a.jsx(p,{text:"-"}):a.jsx(T,{money:S.ESP(t.stake)})},ku=()=>{const[t]=i.useContext(_),e=i.useContext($);return t===null||t.account.address===null?a.jsx(p,{text:"-"}):a.jsx(On,{title:"Delegate",onClick:()=>{e.showModal(t.account.toString())},children:a.jsx(Ds,{})})};function Ua(t,e){const[n]=t,[s]=e;return Dt(n.account.address,s.account.address)}function vu(t,e){const[n]=t,[s]=e;return n.commission.valueOf()-s.commission.valueOf()}function Tu(t,e){const[,n]=t,[,s]=e;return Number(n-s)}function Nu(t,e){const[n]=t,[s]=e;return Number(n.stake-s.stake)}function _u(t){switch(t){case"address":return Ua;case"commission":return vu;case"delegated":return Tu;case"stake":return Nu;default:return Ua}}function ju(t,e){switch(e){case ae.asc:return t;case ae.desc:return(n,s)=>-t(n,s);default:return t}}function Pu(t,e,n){const s=ju(_u(e),n);return t.sort(s)}const Dr=t=>a.jsx(Bs,{columns:[{label:"Address",columnType:"address",buildCell:t.components[0]},{label:"Commission",columnType:"commission",buildCell:t.components[1],alignment:H.end},{label:"Delegated",columnType:"delegated",buildCell:t.components[2],alignment:H.end},{label:"Stake",columnType:"stake",buildCell:t.components[3],alignment:H.end},{label:"",columnType:"actions",buildCell:t.components[4],alignment:H.end}]}),vn=t=>{const{numElements:e=20}=t;return a.jsx(k.Provider,{value:Array.from(Is(e)),children:a.jsx(Dr,{components:[v,v,v,v,v]})})},Tn=()=>a.jsx(Dr,{components:[bu,gu,Su,wu,ku]}),Nn=()=>{const[t,e]=i.useState({sortColumn:"delegated",sortDir:ae.desc}),n=i.useContext(Xe),s=i.useContext(ue),r=i.useContext(k);if(n)return a.jsx(Mn,{});if(!r||r instanceof Array&&r.length<=0&&s)return a.jsx(vn,{});const{sortColumn:c,sortDir:l}=t,d=Pu(r,c,l);return a.jsx(js.Provider,{value:t,children:a.jsx(Ps.Provider,{value:e,children:a.jsx(k.Provider,{value:d,children:a.jsx(Tn,{})})})})},Bu=()=>{const t=i.useContext(Er),e=Ho([t]);return a.jsx(M,{asyncIterable:e,children:a.jsx(Nn,{})})},Iu=()=>{const t=i.useContext(J),e=i.useContext(B);if(!e)return a.jsx(a.Fragment,{});const n=Array.from(N(ri(t.values(),s=>s.delegators.has(e.toLowerCase())),s=>[s,s.delegators.get(e.toLowerCase())]));return n.length<=0?a.jsxs(a.Fragment,{children:[a.jsx(p,{text:"Wanna grow your assets? Start delegating!"}),a.jsx("p",{children:a.jsx(p,{text:"You can delegate a portion of your ESP to a validator to earn rewards when they produce blocks."})})]}):a.jsx(Er.Provider,{value:n,children:a.jsx(Bu,{})})},_n=()=>a.jsxs(a.Fragment,{children:[a.jsx(xe,{}),a.jsx("br",{}),a.jsx(W,{children:a.jsx(p,{text:"Your Validators"})}),a.jsx("br",{}),a.jsx(Vs,{children:a.jsx(Iu,{})})]});try{vn.displayName="NodesSummaryDataTablePlaceholder",vn.__docgenInfo={description:"",displayName:"NodesSummaryDataTablePlaceholder",props:{numElements:{defaultValue:null,description:"",name:"numElements",required:!1,type:{name:"number"}}}}}catch{}try{Tn.displayName="NodesSummaryDataTablePopulated",Tn.__docgenInfo={description:"",displayName:"NodesSummaryDataTablePopulated",props:{}}}catch{}try{Nn.displayName="YourDelegationsDataTable",Nn.__docgenInfo={description:"",displayName:"YourDelegationsDataTable",props:{}}}catch{}try{_n.displayName="YourValidatorsSection",_n.__docgenInfo={description:"",displayName:"YourValidatorsSection",props:{}}}catch{}const Au=()=>{const t=i.useContext(gs);return a.jsx("div",{className:"staking-summary-content card--padding",children:a.jsxs("div",{children:[a.jsx(W,{children:a.jsx(p,{text:"Invalid Chain Selected"})}),a.jsxs("p",{children:[a.jsx(p,{text:"The chain that is configured with your current wallet is not supported for staking."}),a.jsx(p,{text:"Please select one of the following supported chains to view your staking summary:"})]}),a.jsx(De,{onClick:t.openChainModal,children:a.jsx(p,{text:"Select Chain"})})]})})},Vu=({address:t,espTokenAddress:e})=>{var r;const s=((r=fo({address:t,token:e}).data)==null?void 0:r.value)??null;return s===null?a.jsx(p,{text:"no balance found"}):a.jsx(T,{money:S.ESP(s)})},Ru=({address:t,espTokenAddress:e,stakeTableAddress:n})=>{const c=Ws({address:e,abi:va,functionName:"allowance",args:[t,n]}).data??null;return c===null||typeof c!="bigint"?a.jsx(p,{text:"no balance found"}):a.jsx(T,{money:S.ESP(c)})},Eu=()=>{const t=i.useContext(B),e=i.useContext(J);if(!t)return null;const n=t.toLowerCase(),s=Et((r,c)=>r+c,0n,N(e.values(),r=>r.delegators.get(n)??0n));return a.jsxs("div",{children:[a.jsx(W,{children:a.jsx(p,{text:"Delegated Amount"})}),a.jsx(T,{money:S.ESP(s)})]})};function he(t,e){return t.startsWith(e)}const Du=()=>{const t=i.useContext(B),e=i.useContext(le),n=e==null?void 0:e.espTokenContractAddress;return!t||!e||!n||!he(t,"0x")||!he(n,"0x")?null:a.jsxs("div",{children:[a.jsx(W,{children:a.jsx(p,{text:"Available Balance"})}),a.jsx(Vu,{address:t,espTokenAddress:n})]})},Wu=()=>{const t=i.useContext(B),e=i.useContext(le),n=e==null?void 0:e.espTokenContractAddress,s=e==null?void 0:e.stakeTableContractAddress;return!t||!e||!n||!s||!he(t,"0x")||!he(n,"0x")||!he(s,"0x")?null:a.jsxs("div",{children:[a.jsx(W,{children:a.jsx(p,{text:"Allowance"})}),a.jsx(Ru,{address:t,espTokenAddress:n,stakeTableAddress:s})]})},Mu=()=>{const t=i.useContext(k);return typeof t!="bigint"?a.jsx(p,{text:"no balance found"}):a.jsx(T,{money:S.ESP(t)})},Ou=()=>{const t=i.useContext(B),e=i.useContext(Wo);if(!t)return null;const n=e.rewardState.getLatestRewardBalance(t);return a.jsxs("div",{className:"rewards",children:[a.jsx(W,{children:a.jsx(p,{text:"Rewards"})}),a.jsx(Jo,{promise:n,children:a.jsx(Mu,{})})]})},Lu=()=>a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"staking-summary-content",children:[a.jsx(Eu,{}),a.jsx(Du,{}),a.jsx(Wu,{}),a.jsx(Ou,{})]}),a.jsx(_n,{})]}),jn=()=>{const t=i.useContext(B),e=i.useContext(bs),n=Re();return!t||!e?null:n.chains.find(r=>e.id===r.id)??null?a.jsx(Lu,{}):a.jsx(Au,{})};try{jn.displayName="StakingSummarySection",jn.__docgenInfo={description:`StakingSummarySection is a section that governs the current wallet's
staking information.  In general this section should only be available
to wallets that are connected, and targeting the correct chain.

If the user's chain is not correct, then this section should let the
user know that they have the wrong chain selected, and that
they should switch to the correct chain.

With an active user on the correct chain, this section should
display the user's current staking summary as of the current epoch.
This **should** include information for the user concerning the following
topics:
- Staked Amount
- Current Balance
- (Allowance?)
- Current Rewards available to claim`,displayName:"StakingSummarySection",props:{}}}catch{}const Fu=()=>{const t=i.useContext(En),e=t==null?void 0:t.ensAvatar;return e?a.jsx("img",{className:"current-wallet-ens-avatar",title:"Your ENS Avatar",src:e,alt:"ENS Avatar"}):null},Hu=()=>{const t=i.useContext(En);if(!t)return null;const e=t.ensName,n=t.address,s=t.displayName;return a.jsxs("span",{className:"inline",children:[a.jsx(p,{text:s}),a.jsx(Rs,{content:e??n})]})},Pn=()=>i.useContext(En)?a.jsxs("div",{className:"current-wallet-display",children:[a.jsx(Fu,{}),a.jsx(Hu,{})]}):null;try{Pn.displayName="CurrentWalletDisplay",Pn.__docgenInfo={description:`CurrentWalletDisplay is a React component that displays the currently
connected wallet.  This is useful for identifying the current wallet for the
interacting user.`,displayName:"CurrentWalletDisplay",props:{}}}catch{}const Ku=()=>{const t=i.useContext(gs);return a.jsx(De,{onClick:t.openConnectModal,children:a.jsx(p,{text:"Connect Wallet"})})},qu=()=>a.jsx(Pn,{}),Uu=()=>i.useContext(B)?a.jsx(qu,{}):a.jsx(Ku,{}),Gu=t=>a.jsx("header",{className:"only-wallet",...t,children:a.jsx(Uu,{})});try{onlywalletheading.displayName="onlywalletheading",onlywalletheading.__docgenInfo={description:`OnlyWalletHeading is a component that is a header that displays only the
current wallet information, or a button to connect a wallet if none is
connected.

This component is expected to be a header of only the wallet information
aligned to the right side of the page.`,displayName:"onlywalletheading",props:{}}}catch{}const Bn=({children:t})=>i.useContext(Dn)?t:null,In=({children:t})=>{const e=i.useContext(Dn),n=i.useContext(B);return!e||!n?null:t};try{Bn.displayName="RainbowKitMountedGuard",Bn.__docgenInfo={description:`RainbowKitMountedGuard is a React component that will only render its
children if the RainbowKit is mounted.

This is a useful guard to ensure that components relying on
RainbowKit's context are only rendered when RainbowKit is fully initialized.
This prevents potential issues with accessing context values before
RainbowKit is ready, such as when using the ConnectButton or other
RainbowKit components that depend on the mounted state.`,displayName:"RainbowKitMountedGuard",props:{}}}catch{}try{In.displayName="WalletConnectedGuard",In.__docgenInfo={description:`WalletConnectedGuard is a React component that will only render its
children if the user has a wallet connected.

This guard checks the RainbowKit context to determine if a wallet
address is available, indicating that a wallet is connected.
If no wallet is connected, it will not render the children components.
This is useful for protecting routes or components that should
only be accessible when a user has connected their wallet.`,displayName:"WalletConnectedGuard",props:{}}}catch{}const An=t=>{const e=i.useContext(ke),n=Ju(e),s=zu(e);return a.jsx("div",{className:Es(t.className,`web-socket-status ${s}`),children:n})};function zu(t){return t?t.status instanceof pe?"web-socket-status--connected":t.status instanceof Me?"web-socket-status--connecting":"web-socket-status--disconnected":"web-socket-status--disconnected"}function Ju(t){return t?t.status instanceof pe?a.jsx(p,{text:"WebSocket Connected"}):t.status instanceof Me?a.jsx(p,{text:"WebSocket Connecting..."}):a.jsx(p,{text:"WebSocket Disconnected"}):a.jsx(p,{text:"WebSocket Disconnected"})}try{An.displayName="WebSocketStatus",An.__docgenInfo={description:"WebSocketStatus is a component that renders the WebSocket status.",displayName:"WebSocketStatus",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const $u=t=>{const e=i.useContext(Dn),s=!i.useContext(B)||!e?"node-validator-grid edge-margin":"node-validator-grid with-wallet edge-margin";return a.jsx("div",{...t,className:Es(t.className,s),children:t.children})},Vn=t=>a.jsx(en,{children:a.jsx(mn,{children:a.jsxs($o,{page:Qo.nodes,children:[a.jsx(Si,{}),a.jsx(Bn,{children:a.jsx(Gu,{})}),a.jsx(An,{className:"edge-margin"}),a.jsx(Mn,{className:"edge-margin"}),a.jsx(kn,{children:a.jsxs($u,{...t,children:[a.jsx(Co,{children:a.jsx(mi,{className:"latest-block"})}),a.jsx(Uo,{children:a.jsx(Go,{className:"latest-block-producers"})}),a.jsx(xo,{children:a.jsx(yi,{})}),a.jsx(bo,{children:a.jsx(xi,{})}),a.jsx(go,{children:a.jsx(hi,{})}),a.jsx(te,{className:"cdn",children:a.jsx(zo,{className:"card-padding"})}),a.jsxs(te,{className:"network-map",children:[a.jsxs(bi,{className:"card--padding heading--margin",children:[a.jsx(p,{text:"Network Map"}),a.jsx("div",{})]}),a.jsx(Xo,{children:a.jsx(ei,{children:a.jsxs(ti,{children:[a.jsx(vi,{}),a.jsx(ni,{children:a.jsx(ai,{})})]})})})]}),a.jsx(te,{className:"countries",children:a.jsx(tn,{children:a.jsx(yn,{})})}),a.jsx(te,{className:"network-types",children:a.jsx(nn,{children:a.jsx(hn,{})})}),a.jsx(te,{className:"node-types",children:a.jsx(an,{children:a.jsx(fn,{})})}),a.jsx(te,{className:"operating-systems",children:a.jsx(cn,{children:a.jsx(gn,{})})}),a.jsx(In,{children:a.jsx("div",{className:"wallet-stake",children:a.jsx(jn,{})})}),a.jsx(Vs,{className:"nodes",children:a.jsx(rn,{children:a.jsx(on,{children:a.jsx(bn,{})})})})]})}),a.jsx(gi,{})]})})});try{Vn.displayName="NodesPage",Vn.__docgenInfo={description:"NodesPage is a component that renders the Nodes page.",displayName:"NodesPage",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Qu=({environment:t,stakeTableContractAddress:e,espTokenContractAddress:n,hotshotQueryServiceURL:s,nodeValidatorWebSocketURL:r,...c})=>a.jsx(a.Fragment,{children:a.jsxs(_o,{environment:t,stakeTableContractAddress:e,espTokenContractAddress:n,hotshotQueryServiceURL:s,nodeValidatorWebSocketURL:r,children:[a.jsx(jo,{}),a.jsx(Lr,{children:a.jsx(un,{children:a.jsx(Mo,{children:a.jsx(Fr,{pathResolver:new Po,children:a.jsx(pn,{children:a.jsx(Vn,{...c})})})})})})]})}),Jm={title:"Pages/Nodes",component:Qu,parameters:{layout:"fullscreen"},args:{environment:So.fakeData,stakeTableContractAddress:"",espTokenContractAddress:"",hotshotQueryServiceURL:"",nodeValidatorWebSocketURL:""}},Ke={argTypes:Q},qe={args:wo,argTypes:Q},Ue={args:ko,argTypes:Q},Ge={args:vo,argTypes:Q},ze={args:To,argTypes:Q},Je={args:No,argTypes:Q},$e={args:{environment:"milk",stakeTableContractAddress:"0x196dbcbb54b8ec4958c959d8949ebfe87ac2aaaf",espTokenContractAddress:"0xf7cd8fa9b94db2aa972023b379c7f72c65e4de9d",hotshotQueryServiceURL:"https://query-0.milk.devnet.espresso.network/v0/",nodeValidatorWebSocketURL:"ws://localhost:9000/v0/"},argTypes:Q};var Ga,za,Ja;Ke.parameters={...Ke.parameters,docs:{...(Ga=Ke.parameters)==null?void 0:Ga.docs,source:{originalSource:`{
  argTypes: environmentArgTypesWithContracts
}`,...(Ja=(za=Ke.parameters)==null?void 0:za.docs)==null?void 0:Ja.source}}};var $a,Qa,Ya;qe.parameters={...qe.parameters,docs:{...($a=qe.parameters)==null?void 0:$a.docs,source:{originalSource:`{
  args: environmentArgsMilkWithContracts,
  argTypes: environmentArgTypesWithContracts
}`,...(Ya=(Qa=qe.parameters)==null?void 0:Qa.docs)==null?void 0:Ya.source}}};var Za,Xa,es;Ue.parameters={...Ue.parameters,docs:{...(Za=Ue.parameters)==null?void 0:Za.docs,source:{originalSource:`{
  args: environmentArgsWaterWithContracts,
  argTypes: environmentArgTypesWithContracts
}`,...(es=(Xa=Ue.parameters)==null?void 0:Xa.docs)==null?void 0:es.source}}};var ts,ns,as;Ge.parameters={...Ge.parameters,docs:{...(ts=Ge.parameters)==null?void 0:ts.docs,source:{originalSource:`{
  args: environmentArgsDecafWithContracts,
  argTypes: environmentArgTypesWithContracts
}`,...(as=(ns=Ge.parameters)==null?void 0:ns.docs)==null?void 0:as.source}}};var ss,rs,os;ze.parameters={...ze.parameters,docs:{...(ss=ze.parameters)==null?void 0:ss.docs,source:{originalSource:`{
  args: environmentArgsMainnetWithContracts,
  argTypes: environmentArgTypesWithContracts
}`,...(os=(rs=ze.parameters)==null?void 0:rs.docs)==null?void 0:os.source}}};var is,cs,ls;Je.parameters={...Je.parameters,docs:{...(is=Je.parameters)==null?void 0:is.docs,source:{originalSource:`{
  args: environmentArgsFakeDataWithContracts,
  argTypes: environmentArgTypesWithContracts
}`,...(ls=(cs=Je.parameters)==null?void 0:cs.docs)==null?void 0:ls.source}}};var ds,us,ps;$e.parameters={...$e.parameters,docs:{...(ds=$e.parameters)==null?void 0:ds.docs,source:{originalSource:`{
  args: {
    environment: 'milk',
    stakeTableContractAddress: '0x196dbcbb54b8ec4958c959d8949ebfe87ac2aaaf',
    espTokenContractAddress: '0xf7cd8fa9b94db2aa972023b379c7f72c65e4de9d',
    hotshotQueryServiceURL: 'https://query-0.milk.devnet.espresso.network/v0/',
    nodeValidatorWebSocketURL: 'ws://localhost:9000/v0/'
  },
  argTypes: environmentArgTypesWithContracts
}`,...(ps=(us=$e.parameters)==null?void 0:us.docs)==null?void 0:ps.source}}};const $m=["Default","Milk","Water","Decaf","Mainnet","FakeData","LocalTestingMilk"];export{Ge as Decaf,Ke as Default,Je as FakeData,$e as LocalTestingMilk,ze as Mainnet,qe as Milk,Ue as Water,$m as __namedExportsOrder,Jm as default};
