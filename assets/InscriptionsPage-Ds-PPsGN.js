var Yt=Object.defineProperty;var Qe=t=>{throw TypeError(t)};var Ht=(t,e,n)=>e in t?Yt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var d=(t,e,n)=>Ht(t,typeof e!="symbol"?e+"":e,n),Le=(t,e,n)=>e.has(t)||Qe("Cannot "+n);var o=(t,e,n)=>(Le(t,e,"read from private field"),n?n.call(t):e.get(t)),C=(t,e,n)=>e.has(t)?Qe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),f=(t,e,n,r)=>(Le(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var J=(t,e,n,r)=>({set _(i){f(t,e,i,n)},get _(){return o(t,e,r)}});import{j as s}from"./jsx-runtime-BlAj40OV.js";import{I as Kt,J as Bt,a as Jt,r as Ut,d as b,w as Gt,e as Xt,F as Vt,W as zt,f as $t,g as Zt,E as en,h as ot,p as tn,q as nn,B as sn,K as rn,G as on,H as an}from"./ErrorStreamConsumer-5jnhQpJU.js";import{s as cn}from"./sleep-CW-vxfof.js";import{U as _,u as dn,c as ln,d as un,e as pn,m as hn,E as at,L as mn,D as fn}from"./LoadingProvider-DpAvs9pm.js";import{A as gn,p as xn,v as yn,q as Cn,r as vn,t as In,u as Sn,S as ct,w as dt,x as jn,y as x,z as Ye,M as bn,C as He,D as j,F as wn,G as kn,I as An,J as Pn,K as Ke,N as Be,O as _n,P as Je,T as Ue,U as Nn,V as On,X as Tn,Z as lt,_ as ut,$ as pt,a0 as Mn,c as En,g as Rn,m as Dn,W as Wn,Q as qn,R as Fn,a as Qn,a1 as Ln,L as Yn,a2 as ht,b as se,f as me,a3 as Hn,a4 as Kn,d as Bn}from"./provider-BauQievP.js";import{B as mt,R as Jn,c as Un,b as Gn}from"./CircularBuffer-DTeJHj1X.js";import{R as l,r as ft}from"./index-Cs7sjTYM.js";import{h as Xn,c as Vn}from"./functional-BRpe52oq.js";import{T as a}from"./Text-BU7JBOLk.js";import{W as zn,E as $n}from"./ErrorDisplay-CbfH386p.js";import{a as Y}from"./higher_order-DnPEgWEz.js";import{T as Zn,D as es}from"./TwitterLink-XnHqU_Bq.js";import{A as ts}from"./AsyncIterableResolver-CtXoVyBh.js";import{T as y,a as v,s as G,m as gt,h as ns,I as Ge,q as ie,N as ss,f as rs,g as is}from"./string-CcoL8872.js";import{n as T}from"./base64-pX9cPfQ1.js";import"./DateTimeFormattersProvider-UwNlAqY8.js";import"./LocaleProvider-B0_30C1H.js";import"./NavDrawerStateProvider-HpepdHmi.js";import"./NowProvider-D4xjbY-7.js";import"./NumberFormattersProvider-DANbX_lC.js";import"./PathResolverProvider-Xv58eOQd.js";import{N as oe}from"./NumberText-C4Z_0tU7.js";import{A as ae}from"./ArrowRight-BpPdMFVT.js";import{C as os}from"./ExternalLink-DiyMX6Il.js";import{M as xt}from"./Close-pUpeZMtg.js";import{E as as}from"./EspressoLogo-DwD84bVM.js";import{T as cs}from"./TwitterIcon-Dh1ClDTH.js";import{b as Xe}from"./boolean-G714bpgs.js";import{h as yt,p as Ve}from"./array_buffer-DEYyeAm6.js";import"./url-D2X_Lhsq.js";import{F as Ct}from"./FetchError-C1VXamgN.js";import"./monetary_value-B2EGCn_o.js";import"./TaggedBase64-D45f0-Ll.js";import"./NotFoundError-C6Rvypd-.js";async function ds(t,e){const{account:n=t.account,domain:r,message:i,primaryType:c}=e;if(!n)throw new gn({docsPath:"/docs/actions/wallet/signTypedData"});const u=vn(n),h={EIP712Domain:xn({domain:r}),...e.types};if(yn({domain:r,message:i,primaryType:c,types:h}),u.signTypedData)return u.signTypedData({domain:r,message:i,primaryType:c,types:h});const m=Cn({domain:r,message:i,primaryType:c,types:h});return t.request({method:"eth_signTypedData_v4",params:[u.address,m]},{retryCount:0})}async function ls(t,e){const{account:n,connector:r,...i}=e;let c;return typeof n=="object"&&n.type==="local"?c=t.getClient():c=await In(t,{account:n,connector:r}),Sn(c,ds,"signTypedData")({...i,...n?{account:n}:{}})}var S,st,us=(st=class extends ct{constructor(e={}){super();C(this,S);this.config=e,f(this,S,new Map)}build(e,n,r){const i=n.queryKey,c=n.queryHash??dt(i,n);let u=this.get(c);return u||(u=new jn({cache:this,queryKey:i,queryHash:c,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){o(this,S).has(e.queryHash)||(o(this,S).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=o(this,S).get(e.queryHash);n&&(e.destroy(),n===e&&o(this,S).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){x.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return o(this,S).get(e)}getAll(){return[...o(this,S).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Ye(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Ye(e,r)):n}notify(e){x.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){x.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){x.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},S=new WeakMap,st),g,L,rt,ps=(rt=class extends ct{constructor(e={}){super();C(this,g);C(this,L);this.config=e,f(this,g,new Map),f(this,L,Date.now())}build(e,n,r){const i=new bn({mutationCache:this,mutationId:++J(this,L)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=U(e),r=o(this,g).get(n)??[];r.push(e),o(this,g).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=U(e);if(o(this,g).has(n)){const i=(r=o(this,g).get(n))==null?void 0:r.filter(c=>c!==e);i&&(i.length===0?o(this,g).delete(n):o(this,g).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=o(this,g).get(U(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=o(this,g).get(U(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){x.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...o(this,g).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>He(n,r))}findAll(e={}){return this.getAll().filter(n=>He(e,n))}notify(e){x.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return x.batch(()=>Promise.all(e.map(n=>n.continue().catch(j))))}},g=new WeakMap,L=new WeakMap,rt);function U(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function ze(t){return{onFetch:(e,n)=>{var Te,Me,Ee,Re,De;const r=e.options,i=(Ee=(Me=(Te=e.fetchOptions)==null?void 0:Te.meta)==null?void 0:Me.fetchMore)==null?void 0:Ee.direction,c=((Re=e.state.data)==null?void 0:Re.pages)||[],u=((De=e.state.data)==null?void 0:De.pageParams)||[];let h={pages:[],pageParams:[]},m=0;const N=async()=>{let O=!1;const K=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(e.signal.aborted?O=!0:e.signal.addEventListener("abort",()=>{O=!0}),e.signal)})},Qt=wn(e.options,e.fetchOptions),We=async(I,w,q)=>{if(O)return Promise.reject();if(w==null&&I.pages.length)return Promise.resolve(I);const B={queryKey:e.queryKey,pageParam:w,direction:q?"backward":"forward",meta:e.options.meta};K(B);const Lt=await Qt(B),{maxPages:qe}=e.options,Fe=q?kn:An;return{pages:Fe(I.pages,Lt,qe),pageParams:Fe(I.pageParams,w,qe)}};if(i&&c.length){const I=i==="backward",w=I?hs:$e,q={pages:c,pageParams:u},B=w(r,q);h=await We(q,B,I)}else{const I=t??c.length;do{const w=m===0?u[0]??r.initialPageParam:$e(r,h);if(m>0&&w==null)break;h=await We(h,w),m++}while(m<I)}return h};e.options.persister?e.fetchFn=()=>{var O,K;return(K=(O=e.options).persister)==null?void 0:K.call(O,N,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=N}}}function $e(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function hs(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var p,k,A,M,E,P,R,D,it,ms=(it=class{constructor(t={}){C(this,p);C(this,k);C(this,A);C(this,M);C(this,E);C(this,P);C(this,R);C(this,D);f(this,p,t.queryCache||new us),f(this,k,t.mutationCache||new ps),f(this,A,t.defaultOptions||{}),f(this,M,new Map),f(this,E,new Map),f(this,P,0)}mount(){J(this,P)._++,o(this,P)===1&&(f(this,R,Pn.subscribe(async t=>{t&&(await this.resumePausedMutations(),o(this,p).onFocus())})),f(this,D,Ke.subscribe(async t=>{t&&(await this.resumePausedMutations(),o(this,p).onOnline())})))}unmount(){var t,e;J(this,P)._--,o(this,P)===0&&((t=o(this,R))==null||t.call(this),f(this,R,void 0),(e=o(this,D))==null||e.call(this),f(this,D,void 0))}isFetching(t){return o(this,p).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return o(this,k).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=o(this,p).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=o(this,p).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Be(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return o(this,p).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=o(this,p).get(r.queryHash),c=i==null?void 0:i.state.data,u=_n(e,c);if(u!==void 0)return o(this,p).build(this,r).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return x.batch(()=>o(this,p).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=o(this,p).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=o(this,p);x.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=o(this,p),r={type:"active",...t};return x.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=x.batch(()=>o(this,p).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(j).catch(j)}invalidateQueries(t={},e={}){return x.batch(()=>{if(o(this,p).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=x.batch(()=>o(this,p).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let c=i.fetch(void 0,n);return n.throwOnError||(c=c.catch(j)),i.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(r).then(j)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=o(this,p).build(this,e);return n.isStaleByTime(Be(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(j).catch(j)}fetchInfiniteQuery(t){return t.behavior=ze(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(j).catch(j)}ensureInfiniteQueryData(t){return t.behavior=ze(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ke.isOnline()?o(this,k).resumePausedMutations():Promise.resolve()}getQueryCache(){return o(this,p)}getMutationCache(){return o(this,k)}getDefaultOptions(){return o(this,A)}setDefaultOptions(t){f(this,A,t)}setQueryDefaults(t,e){o(this,M).set(Je(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...o(this,M).values()];let n={};return e.forEach(r=>{Ue(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){o(this,E).set(Je(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...o(this,E).values()];let n={};return e.forEach(r=>{Ue(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...o(this,A).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=dt(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Nn&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...o(this,A).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){o(this,p).clear(),o(this,k).clear()}},p=new WeakMap,k=new WeakMap,A=new WeakMap,M=new WeakMap,E=new WeakMap,P=new WeakMap,R=new WeakMap,D=new WeakMap,it);function fs(t){return{mutationFn(e){return ls(t,e)},mutationKey:["signTypedData"]}}function gs(t={}){const{mutation:e}=t,n=On(t),r=fs(n),{mutate:i,mutateAsync:c,...u}=Tn({...e,...r});return{...u,signTypedData:i,signTypedDataAsync:c}}function xs(t){return new Worker(""+new URL("inscription_web_worker_api.js-Bt4FT4Ui.js",import.meta.url).href,{name:t==null?void 0:t.name})}class vt{constructor(e,n){d(this,"inscription");d(this,"signature");this.inscription=e,this.signature=n,Object.freeze(this)}toJSON(){return fe.encode(this)}}class ys{convert(e){return{inscription:lt.encode(e.inscription),signature:yt.encode(e.signature)}}}class Cs{convert(e){return v(e,"inscription","signature"),new vt(lt.decode(e.inscription),yt.decode(e.signature))}}class vs extends y{constructor(){super(...arguments);d(this,"encoder",new ys);d(this,"decoder",new Cs)}}const fe=new vs;class It{}const ge="PutInscription";class xe extends It{constructor(n){super();d(this,"inscriptionAndSignature");this.inscriptionAndSignature=n,Object.freeze(this)}toJSON(){return ye.encode(this)}}class Is{convert(e){return{type:G.encode(ge),inscription_and_signature:fe.encode(e.inscriptionAndSignature)}}}class Ss{convert(e){return v(e,"type","inscription_and_signature"),gt(e,ge),new xe(fe.decode(e.inscription_and_signature))}}class js extends y{constructor(){super(...arguments);d(this,"encoder",new Is);d(this,"decoder",new Ss)}}const ye=new js,Ce="RetrieveInscriptionsForAddress";class St extends It{constructor(n){super();d(this,"address");this.address=n,Object.freeze(this)}toJSON(){return ve.encode(this)}}class bs{convert(e){return{type:G.encode(Ce),address:G.encode(e.address)}}}class ws{convert(e){return v(e,"type","address"),gt(e,Ce),new St(G.decode(e.address))}}class ks extends y{constructor(){super(...arguments);d(this,"encoder",new bs);d(this,"decoder",new ws)}}const ve=new ks;class As{convert(e){return e instanceof xe?ye.encode(e):e instanceof St?ve.encode(e):e.toJSON()}}class Ps{convert(e){if(v(e,"type"),!ns(e.type))throw new Ge(typeof e.type,"string");switch(e.type){case ge:return ye.decode(e);case Ce:return ve.decode(e);default:throw new Ge(e.type,"CappuccinoInscriptionRequest")}}}class _s extends y{constructor(){super(...arguments);d(this,"encoder",new As);d(this,"decoder",new Ps)}}const jt=new _s,F="Inscription";class bt extends Kt{constructor(n){super();d(this,"request");this.request=n}get type(){return F}toJson(){return wt.encode(this)}}class Ns{convert(e){return{[F]:jt.encode(e.request)}}}class Os{convert(e){v(e,F);const n=e[F];return new bt(jt.decode(n))}}class Ts extends y{constructor(){super(...arguments);d(this,"encoder",new Ns);d(this,"decoder",new Os)}}const wt=new Ts;class Ie{}const X="LatestInscription";class Se extends Ie{constructor(n){super();d(this,"inscriptionAndChainDetails");this.inscriptionAndChainDetails=n}toJSON(){return je.encode(this)}}class Ms{convert(e){v(e,X);const n=e[X];return new Se(ut.decode(n))}}class Es{convert(e){return{[X]:ut.encode(e.inscriptionAndChainDetails)}}}class Rs extends y{constructor(){super(...arguments);d(this,"encoder",new Es);d(this,"decoder",new Ms)}}const je=new Rs,V="RetrievedInscriptionsForWalletAddress";class be extends Ie{constructor(n){super();d(this,"inscriptionAndChainDetails");this.inscriptionAndChainDetails=n}toJSON(){return we.encode(this)}}class Ds{convert(e){v(e,V);const n=e[V];return new be(pt.decode(n))}}class Ws{convert(e){return{[V]:pt.encode(e.inscriptionAndChainDetails)}}}class qs extends y{constructor(){super(...arguments);d(this,"encoder",new Ws);d(this,"decoder",new Ds)}}const we=new qs;class kt{constructor(e,n,r){d(this,"numBlocks");d(this,"numTransactions");d(this,"numInscriptions");this.numBlocks=e,this.numTransactions=n,this.numInscriptions=r}}class Fs{convert(e){return{num_blocks:T.encode(e.numBlocks),num_transactions:T.encode(e.numTransactions),num_inscriptions:T.encode(e.numInscriptions)}}}class Qs{convert(e){return v(e,"num_blocks","num_transactions","num_inscriptions"),new kt(T.decode(e.num_blocks),T.decode(e.num_transactions),T.decode(e.num_inscriptions))}}class Ls extends y{constructor(){super(...arguments);d(this,"encoder",new Fs);d(this,"decoder",new Qs)}}const At=new Ls,z="Stats";class ke extends Ie{constructor(n){super();d(this,"stats");this.stats=n}toJSON(){return Ae.encode(this)}}class Ys{convert(e){v(e,z);const n=e[z];return new ke(At.decode(n))}}class Hs{convert(e){return{[z]:At.encode(e.stats)}}}class Ks extends y{constructor(){super(...arguments);d(this,"encoder",new Hs);d(this,"decoder",new Ys)}}const Ae=new Ks;class Bs{convert(e){if(ie(e,X))return je.decode(e);if(ie(e,z))return Ae.decode(e);if(ie(e,V))return we.decode(e);throw new _}}class Js{convert(e){if(e instanceof Se)return je.encode(e);if(e instanceof ke)return Ae.encode(e);if(e instanceof be)return we.encode(e);throw new _}}class Us extends y{constructor(){super(...arguments);d(this,"encoder",new Js);d(this,"decoder",new Bs)}}const Pt=new Us,Q="InscriptionResponse";class _t extends Bt{constructor(n){super();d(this,"response");this.response=n}get type(){return Q}toJson(){return Nt.encode(this)}}class Gs{convert(e){return{[Q]:Pt.encode(e.response)}}}class Xs{convert(e){v(e,Q);const n=e[Q];return new _t(Pt.decode(n))}}class Vs extends y{constructor(){super(...arguments);d(this,"encoder",new Gs);d(this,"decoder",new Xs)}}const Nt=new Vs;Jt(Q,Nt);Ut(F,wt);{const t=[Ct,_,mt,Jn,zn],e=null;for(const n of t)if(e instanceof n)break}class zs{constructor(e=b(1024),n=b(1024)){d(this,"requestChannel");d(this,"responseChannel");const r=new xs;this.requestChannel=e,this.responseChannel=n,r.addEventListener("message",this.handleMessage.bind(this)),r.addEventListener("messageerror",this.handleMessageError.bind(this)),r.addEventListener("error",this.handleError.bind(this)),$s(r,e)}get stream(){return this.responseChannel}async send(e){this.requestChannel.publish(e)}handleMessage(e){const n=Gt.decode(e.data);this.responseChannel.publish(n)}handleMessageError(){}handleError(){}}async function $s(t,e){for await(const n of e)t.postMessage(Xt.encode(n))}const Zs="An Infinite Garden has no walls";class er{get stream(){throw new _}async send(){throw new _}}const Pe=l.createContext(new er);function tr(){return typeof window<"u"&&"Worker"in window||typeof self<"u"&&"Worker"in self?new zs:new Vt(b(1024),b(1024))}const Ze=t=>{const e=l.useMemo(()=>tr(),[]);return s.jsx(Pe.Provider,{value:e,children:t.children})};try{Ze.displayName="ProvideWebWorkerCappuccinoInscriptionServiceAPIContext",Ze.__docgenInfo={description:"",displayName:"ProvideWebWorkerCappuccinoInscriptionServiceAPIContext",props:{}}}catch{}const $=l.createContext(new kt(0,0,0)),Z=l.createContext(dn()),le=t=>{const e=l.useContext(Z);return s.jsx(ln,{children:s.jsx(ts,{asyncIterable:e,children:s.jsx(un,{children:t.children})})})};try{$.displayName="InscriptionStatsProvider",$.__docgenInfo={description:`The InscriptionStatsProvider is a React context that is used to store the
Inscription Stats.  This context can be used to retrieve the most recent
inscription service stats. It is expected to be used to retrieve the data
asynchronously.`,displayName:"InscriptionStatsProvider",props:{}}}catch{}try{Z.displayName="InscriptionsStatsStreamContext",Z.__docgenInfo={description:`The InscriptionsStatsStreamContext is a React context that is used to
store the latest Inscriptions List.  This data can be used to stream
the latest Inscriptions List.`,displayName:"InscriptionsStatsStreamContext",props:{}}}catch{}try{le.displayName="InscriptionsStatsStreamConsumer",le.__docgenInfo={description:"InscriptionsStatsStreamConsumer is a component that is used to consume\nthe `AsyncIterable` stream of data that is defined by the current context.\nIt does this via an `AsyncIterableResolver`.  Any children passed into this\ncomponent will be passed the resolved contexts of the `AsyncIterableResolver`.",displayName:"InscriptionsStatsStreamConsumer",props:{}}}catch{}const nr=100;function sr(){return{latestInscriptions:Un(nr+1)}}function Ot(t,e){const n=t.block-e.block;return n!==0?n:t.offset-e.offset}function rr(t,e){const n=Ot(t.chainDetails,e.chainDetails);return n!==0?n:t.inscription.time.valueOf()-e.inscription.time.valueOf()}function ir(t){return(e,n)=>-t(e,n)}async function or(t,e,n){const r=Xn(t.latestInscriptions.immutableIterable(),c=>Ot(c.chainDetails,n.inscriptionAndChainDetails.chainDetails)===0);if(!r){t.latestInscriptions.put(n.inscriptionAndChainDetails),e.latestInscriptions.publish(Array.from(t.latestInscriptions.immutableIterable()));return}const i=Array.from(Vn(t.latestInscriptions,c=>c!==r));i.push(n.inscriptionAndChainDetails),i.sort(ir(rr));for(const c of i)t.latestInscriptions.put(c);e.latestInscriptions.publish(Array.from(t.latestInscriptions.immutableIterable()))}async function ar(t,e,n){if(n instanceof Se)return or(t,e,n);n instanceof be&&e.yourInscriptions.publish(n.inscriptionAndChainDetails),n instanceof ke&&await e.stats.publish(n.stats)}async function cr(t,e,n){const r=t.status;if(r instanceof sn){e.reconnectAttempt=0,e.errors.publish(null);return}if(!(r instanceof rn)||!e.mounted)return;e.reconnectAttempt+=1;const i=Math.min(4**e.reconnectAttempt,4e3)*(Math.random()+1);console.info("disconnected from inscriptions web socket, attempting to reconnect","attempting reconnect, attempt",e.reconnectAttempt,"sleeping for",i),await cn(i),n.send(new ot)}async function dr(t,e,n){const r=sr();for await(const i of e.stream){if(i instanceof _t){await ar(r,t,i.response),await t.errors.publish(null);continue}if(i instanceof Zt){await t.lifecycle.publish(i),cr(i,t,n);continue}if(i instanceof en){await t.errors.publish(i);continue}}}async function lr(t){await t.send(new ot)}function ur(){return{latestInscriptions:b(4),yourInscriptions:b(4),stats:b(4),errors:b(4),lifecycle:b(4),mounted:!0,reconnectAttempt:0}}const et=t=>{const e=l.useContext(Pe),n=ur();return l.useEffect(()=>{const r=tn(e,nn);return dr(n,e,r),(t.connectToWebSocket??!0)&&lr(r),()=>{r.send(new zt),n.mounted=!1}}),s.jsx(Mn.Provider,{value:n.latestInscriptions,children:s.jsx(En.Provider,{value:n.yourInscriptions,children:s.jsx(Z.Provider,{value:n.stats,children:s.jsx($t.Provider,{value:n.lifecycle,children:s.jsx(pn.Provider,{value:hn(n.errors,async r=>(r==null?void 0:r.error)??null),children:t.children})})})})})};try{et.displayName="ProvideCappuccinoInscriptionStreams",et.__docgenInfo={description:"",displayName:"ProvideCappuccinoInscriptionStreams",props:{connectToWebSocket:{defaultValue:null,description:"",name:"connectToWebSocket",required:!1,type:{name:"boolean"}}}}}catch{}const ue=()=>s.jsx(s.Fragment,{}),pe=()=>{const t=l.useContext($);return s.jsxs("section",{className:"inscription-stats",children:[s.jsx("span",{children:s.jsx(a,{text:"Espresso Mainnet status"})}),s.jsxs("div",{className:"chip",children:[s.jsx(oe,{number:t.numBlocks}),s.jsx(a,{text:" "}),s.jsx(a,{text:"Blocks"})]}),s.jsxs("div",{className:"chip",children:[s.jsx(oe,{number:t.numTransactions}),s.jsx(a,{text:" "}),s.jsx(a,{text:"transactions"})]}),s.jsxs("div",{className:"chip",children:[s.jsx(oe,{number:t.numInscriptions}),s.jsx(a,{text:" "}),s.jsx(a,{text:"inscriptions"})]})]})},he=t=>{const e=l.useContext(at),n=l.useContext(mn),r=l.useContext(fn);return e&&!r?s.jsx(s.Fragment,{}):n?s.jsx(ue,{...t}):s.jsx($.Provider,{value:r,children:s.jsx(pe,{...t})})};try{ue.displayName="InscriptionStatsSummaryPlaceholder",ue.__docgenInfo={description:`InscriptionStatsSummaryPlaceholder is a placeholder component that is used
to display a loading state for the InscriptionStatsSummary component.

At the moment this displays nothing.`,displayName:"InscriptionStatsSummaryPlaceholder",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}try{pe.displayName="InscriptionStatsSummaryContent",pe.__docgenInfo={description:"",displayName:"InscriptionStatsSummaryContent",props:{}}}catch{}try{he.displayName="InscriptionStatsSummaryAsyncHandler",he.__docgenInfo={description:"",displayName:"InscriptionStatsSummaryAsyncHandler",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const pr=Rn({appName:"Espresso Inscriptions",projectId:"9538d52db1aab41aa364a1a95cd57b2a",chains:[Dn],ssr:!0}),hr=new ms,mr=t=>l.createElement("h1",t),W=t=>l.createElement("h2",t),fr=(t,e)=>s.jsx("section",{ref:e,className:Y(t.className,"guided-story"),children:t.children}),H=l.forwardRef(fr),gr=t=>l.useContext(Bn)?s.jsx(s.Fragment,{children:t.children}):s.jsx(s.Fragment,{}),xr=()=>{const t=l.useContext(se),e=l.useContext(me);return t?s.jsx(s.Fragment,{}):s.jsx("button",{className:"btn--connect-wallet",onClick:e.openConnectModal,children:s.jsx(a,{text:"Connect Wallet"})})},yr=()=>{const t=l.useContext(se),e=l.useContext(me);if(!t)return s.jsx(s.Fragment,{});t.ensName,t.ensAvatar;const{displayName:n}=t;return s.jsx("button",{className:"btn--connected-account",onClick:e.openAccountModal,children:s.jsx(a,{text:n})})},Cr=()=>s.jsx("a",{href:"https://espressosys.com/about",target:"_blank",rel:"noreferrer",children:s.jsx(a,{text:"About Us"})}),vr=()=>s.jsx("nav",{className:"inscription-links",children:s.jsx(Cr,{})}),Ir=t=>s.jsx("div",{className:"icon-nav",children:t.children}),Sr=()=>s.jsxs("div",{className:"inscriptions--header--actions",children:[s.jsx(vr,{}),s.jsxs(Ir,{children:[s.jsx(Zn,{}),s.jsx(es,{}),s.jsxs(gr,{children:[s.jsx(xr,{}),s.jsx(yr,{})]})]})]});function jr(){return ft.useState({theme:""})}const Tt=l.createContext([{theme:""},()=>{}]),br=t=>{const e=jr();return s.jsx(Tt.Provider,{value:e,children:t.children})};function re(){return l.useContext(Tt)}const wr=()=>{const[t]=re();return s.jsxs("div",{className:Y(t.theme,"inscriptions--header"),children:[s.jsx("a",{href:"https://espressosys.com/",target:"_blank",rel:"noreferrer",children:s.jsx(as,{})}),s.jsx(Sr,{})]})},kr=()=>{const[t]=re();return s.jsx("div",{className:Y(t.theme,"inscriptions--footer"),children:s.jsx(Ur,{})})},Ar=t=>s.jsx("div",{className:"inscriptions--content",children:t.children}),ce=t=>{const[e,n,r]=t.children;return s.jsxs("div",{className:"engage-step",children:[s.jsx("span",{children:e}),s.jsx("span",{children:n}),r]})},de=t=>s.jsxs("div",{className:"engage-step--status","data-completed":t.done,onClick:t.onClick,children:[t.children,t.done?s.jsxs("div",{className:"done",children:[s.jsx(os,{}),s.jsx(a,{text:"Done"})]}):s.jsx(s.Fragment,{})]});function Pr(t,e,n,r,i){if(!t)return e?async()=>{try{const c=new Date,u=new Date(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes()),h=new Hn(new Kn(Ve(e.address)),u,Zs),m=await r.signTypedDataAsync({account:e.address,domain:{name:"Espresso Inscription"},types:{EspressoInscription:[{name:"address",type:"address"},{name:"message",type:"string"},{name:"time",type:"uint64"}]},primaryType:"EspressoInscription",message:{address:e.address,message:h.message,time:BigInt(Math.floor(h.time.getTime()/1e3))}});i(new vt(h,Ve(m)))}catch(c){console.error(c)}}:()=>{n.openConnectModal()}}class _r{convert(e){return{inscribed:e.inscribeYourCommitmentActivated,post:e.makeANewPostOnXActivated}}}class Nr{convert(e){return v(e,"inscribed","post"),{inscribeYourCommitmentActivated:Xe.decode(e.inscribed),makeANewPostOnXActivated:Xe.decode(e.post)}}}class Or extends y{constructor(){super(...arguments);d(this,"decoder",new Nr);d(this,"encoder",new _r)}}const Mt=new Or;class Tr{convert(e){return{engageSteps:Mt.encode(e.engageSteps),inscriptions:ht.encode(e.inscriptions)}}}class Mr{convert(e){return v(e,"engageSteps","inscriptions"),{engageSteps:Mt.decode(e.engageSteps),inscriptions:ht.decode(e.inscriptions)}}}class Er extends y{constructor(){super(...arguments);d(this,"decoder",new Mr);d(this,"encoder",new Tr)}}const ee=new Er,Rr=new ss(new rs(ee),new is(ee));class Dr{constructor(){d(this,"map");this.map=new Map}removeItem(e){this.map.delete(e)}getItem(e){return this.map.get(e)??null}setItem(e,n){this.map.set(e,n)}}const te=l.createContext(new Dr),tt=t=>typeof localStorage>"u"?t.children:s.jsx(te.Provider,{value:localStorage,children:t.children});function Wr(){const t=l.useContext(te),[,e]=ft.useState(new Date),n=l.useContext(se),r={engageSteps:{inscribeYourCommitmentActivated:!1,makeANewPostOnXActivated:!1},inscriptions:[]};if(!n)return[r,()=>{}];const i=`engageSteps-${n.address}`;t.getItem(i)||t.setItem(i,JSON.stringify(ee.encode(r)));const u=t.getItem(i);if(!u)throw new _;const h=Rr.decode(JSON.parse(u));if(!h)throw new _;return[h,m=>{t.setItem(i,JSON.stringify(ee.encode(m))),e(new Date)}]}function qr(){const[t,e]=Wr();return[t.engageSteps,n=>{e({...t,engageSteps:n})}]}const Et=l.createContext([{inscribeYourCommitmentActivated:!1,makeANewPostOnXActivated:!1},()=>{}]),Fr=t=>{const e=qr();return s.jsx(Et.Provider,{value:e,children:t.children})};function _e(){return l.useContext(Et)}function Rt(t){const e=new URL("https://twitter.com/intent/tweet");return t!==null?(e.searchParams.set("text","Join me in the Infinite Garden: https://infinitegarden.espressosys.com"),e.searchParams.set("url",t.toString())):e.searchParams.set("text",`Safeguard against silos in the Infinite Garden: https://infinitegarden.espressosys.com

Join me in making sure all chains work together as one. Inscribe Espresso Mainnet now.`),e}const Qr=()=>{const t=l.useContext(ne),e=l.useContext(se),n=l.useContext(me),r=gs(),i=l.useContext(Pe),c=Oe(),[u,h]=_e();if(u.makeANewPostOnXActivated&&u.inscribeYourCommitmentActivated)return s.jsxs("p",{className:"engage-steps-thank-you",children:[s.jsx(a,{text:"Thank you! "}),s.jsx(Dt,{})]});const m=s.jsx(de,{done:u.makeANewPostOnXActivated,children:s.jsxs(ce,{children:[s.jsx(a,{text:"3"}),s.jsx(a,{text:"Share on X"}),s.jsx(ae,{})]})});return s.jsxs("div",{className:"engage-steps",children:[s.jsx(de,{done:e!==null,onClick:e!==null?void 0:()=>{n.openConnectModal()},children:s.jsxs(ce,{children:[s.jsx(a,{text:"1"}),s.jsx(a,{text:"Connect Wallet"}),s.jsx(ae,{})]})}),s.jsx(de,{done:u.inscribeYourCommitmentActivated,onClick:Pr(u.inscribeYourCommitmentActivated,e,n,r,N=>{h({...u,inscribeYourCommitmentActivated:!0}),i.send(new bt(new xe(N))),c.openThankYouModal()}),children:s.jsxs(ce,{children:[s.jsx(a,{text:"2"}),s.jsx(a,{text:"Inscribe and Leave Your Mark on Espresso Mainnet"}),s.jsx(ae,{})]})}),u.makeANewPostOnXActivated?m:s.jsx("a",{href:Rt(t).toString(),target:"_blank",rel:"noreferrer",onClick:N=>{N.button===0&&h({...u,makeANewPostOnXActivated:!0})},children:m})]})},Lr=()=>{const t=l.useContext(at),e=l.useContext(Ne),[n,r]=_e();return t?(t instanceof Ct&&e.isThankYouModalOpen&&r({...n,inscribeYourCommitmentActivated:!1}),t instanceof Gn?(e.isThankYouModalOpen&&r({...n,inscribeYourCommitmentActivated:!1}),t.status===429&&!e.isOverCapacityModalOpen&&e.openOverCapacityModal(),s.jsx(s.Fragment,{})):t instanceof mt?(e.isThankYouModalOpen&&r({...n,inscribeYourCommitmentActivated:!1}),s.jsx(s.Fragment,{})):s.jsx($n,{className:"edge-margin"})):s.jsx(s.Fragment,{})},Yr=()=>{const t=Ft("transparent",{root:null,rootMargin:"0px",threshold:1e-4});return s.jsxs(H,{ref:t,className:"inscription-wall",children:[s.jsx(wr,{}),s.jsx(Lr,{}),s.jsxs(Ar,{children:[s.jsx(W,{children:s.jsx(a,{text:"An Infinite Garden has no walls"})}),s.jsxs("p",{children:[s.jsx(a,{text:"Join us on our mission to safeguard against silos, ensuring all chains work together as one."}),s.jsx("br",{}),s.jsx(a,{text:"Leave your mark on Espresso Mainnet by signing with your wallet."}),s.jsx("br",{}),s.jsx("span",{style:{fontSize:"0.8em",opacity:"0.8"},children:s.jsx(a,{text:"(No transaction fees required)"})})]}),s.jsx(Qr,{}),s.jsx(le,{children:s.jsx(he,{})}),s.jsx(Ln,{children:s.jsx(Yn,{})})]})]})},Dt=()=>s.jsxs(s.Fragment,{children:[s.jsx(a,{text:"Your support is now being inscribed on the Espresso Mainnet in perpetuity. To learn more about how Espresso is working to safeguard the Infinite Garden, visit our "}),s.jsx("a",{href:"https://espressosys.com/",target:"_blank",rel:"noreferrer",children:s.jsx(a,{text:"website"})}),s.jsx(a,{text:" and "}),s.jsx("a",{href:"https://docs.espressosys.com/",target:"_blank",rel:"noreferrer",children:s.jsx(a,{text:"documentation"})}),s.jsx(a,{text:"."})]}),Wt=t=>s.jsx("div",{className:"modal-barrier","data-display":t.display,children:t.children}),qt=t=>s.jsx("div",{className:"dialog-inline-padding dialog-block-start-padding dialog--heading",children:t.children}),Ne=l.createContext({openThankYouModal:()=>{},closeThankYouModal:()=>{},openOverCapacityModal:()=>{},closeOverCapacityModal:()=>{},isThankYouModalOpen:!1,isOverCapacityModalOpen:!1});function Hr(){const[t,e]=l.useState({isThankYouModalOpen:!1,isOverCapacityModalOpen:!1});return{...t,openThankYouModal:()=>{e({...t,isThankYouModalOpen:!0,isOverCapacityModalOpen:!1})},closeThankYouModal:()=>{e({...t,isThankYouModalOpen:!1})},openOverCapacityModal:()=>{e({...t,isOverCapacityModalOpen:!0,isThankYouModalOpen:!1})},closeOverCapacityModal:()=>{e({...t,isOverCapacityModalOpen:!1})}}}const Kr=t=>{const e=Hr();return s.jsx(Ne.Provider,{value:e,children:t.children})};function Oe(){return l.useContext(Ne)}const Br=()=>{const t=Oe(),e=l.useContext(ne),[n,r]=_e();return s.jsx(Wt,{display:t.isThankYouModalOpen,children:s.jsxs("dialog",{open:!0,children:[s.jsxs(qt,{children:[s.jsx(W,{children:s.jsx(a,{text:"Thank you"})}),s.jsx("button",{className:"btn-close",title:"Close",children:s.jsx(xt,{onClick:i=>{i.button===0&&t.closeThankYouModal()}})})]}),s.jsx("p",{className:"dialog-inline-padding dialog-block-end-padding",children:s.jsx(Dt,{})}),s.jsx("hr",{}),s.jsx("div",{className:"dialog--footer",children:s.jsxs("a",{href:Rt(e).toString(),className:"btn--dialog",target:"_blank",rel:"noreferrer",onClick:i=>{i.button===0&&(r({...n,makeANewPostOnXActivated:!0}),t.closeThankYouModal())},children:[s.jsx(cs,{}),s.jsx(a,{text:"Share"})]})})]})})},Jr=()=>{const t=Oe();return s.jsx(Wt,{display:t.isOverCapacityModalOpen,children:s.jsxs("dialog",{open:!0,children:[s.jsxs(qt,{children:[s.jsx(W,{children:s.jsx(a,{text:"We're over capacity"})}),s.jsx("button",{className:"btn-close",title:"Close",children:s.jsx(xt,{onClick:e=>{e.button===0&&t.closeOverCapacityModal()}})})]}),s.jsx("p",{className:"dialog-inline-padding dialog-block-end-padding",children:s.jsx(a,{text:"Your inscription has not gone through. Espresso Mainnet is currently in beta and is under heavy load.  Please try again later."})}),s.jsx("hr",{}),s.jsx("div",{className:"dialog--footer",children:s.jsx("button",{className:"btn--dialog",onClick:t.closeOverCapacityModal,title:"Close",children:s.jsx(a,{text:"OK"})})})]})})},Ur=t=>s.jsx("div",{className:Y(t.className,"scroll-to-continue-section"),children:s.jsx(a,{text:"Scroll to continue"})}),Gr=t=>s.jsx(H,{className:"escape-the-walled-garden",children:s.jsxs("div",{className:"guided-story--content",children:[s.jsx("div",{className:"background-image",children:t.backgroundImage}),s.jsxs(mr,{children:[s.jsx(a,{text:"Escape the"}),s.jsx(a,{text:" "}),s.jsx("br",{}),s.jsx(a,{text:"Walled Gardens"})]})]})}),Xr=()=>s.jsx(H,{className:"our-data",children:s.jsxs("div",{className:"guided-story--content",children:[s.jsxs(W,{children:[s.jsx(a,{text:"Our assets. Our apps. Our data."}),s.jsx(a,{text:" "}),s.jsx("br",{}),s.jsx(a,{text:"All exist in walled gardens."}),s.jsx(a,{text:" "}),s.jsx("br",{}),s.jsx(a,{text:"Silos created by corporate giants."})]}),s.jsx("p",{children:s.jsx(a,{text:"Controlling our experiences, deciding what we build, limiting how we interact."})})]})});function Ft(t,e={root:null,rootMargin:"0px",threshold:.5}){const n=l.useRef(null),[r,i]=re();return l.useEffect(()=>{const c=new IntersectionObserver(h=>{const[m]=h;m.isIntersecting&&r.theme!==t&&i({...r,theme:t}),!m.isIntersecting&&r.theme===t&&i({...r,theme:""})},e);if(!n.current)return()=>{};const{current:u}=n;return c.observe(u),()=>{c.unobserve(u)}},[n,e,r,i,t]),n}const Vr=()=>{const t=Ft("light");return s.jsx(H,{ref:t,className:"there-is-a-better-way",children:s.jsx("div",{className:"guided-story--content",children:s.jsx(W,{children:s.jsx(a,{text:"There is a better way."})})})})},zr=()=>s.jsx(H,{className:"infinite-garden",children:s.jsxs("div",{className:"guided-story--content",children:[s.jsx(W,{children:s.jsx(a,{text:"The Infinite Garden"})}),s.jsx("p",{children:s.jsx(a,{text:"Escape onchain, where anyone can contribute, anything can be built, and everyone has access. Join the enterprises, artists, degens, and dreamers who make their home in the infinite garden. Scaling across hundreds of chains, there is room for all of us."})})]})}),$r=t=>{const[e]=re();return s.jsx("main",{className:Y(e.theme,"inscriptions"),children:t.children})},ne=l.createContext(null),nt=t=>s.jsx(Wn,{config:pr,children:s.jsx(qn,{client:hr,children:s.jsx(Fn,{children:s.jsx(Qn,{children:s.jsx(on,{children:s.jsx(an,{children:s.jsx(Fr,{children:s.jsx(Kr,{children:s.jsxs(br,{children:[s.jsxs($r,{children:[s.jsx("div",{className:"background-image",children:t.backgroundImage}),s.jsx(kr,{}),s.jsx(Gr,{backgroundImage:t.escapeTheWalledGardensImage}),s.jsx(Xr,{}),s.jsx(Vr,{}),s.jsx(zr,{}),s.jsx(Yr,{})]}),s.jsx(Br,{}),s.jsx(Jr,{})]})})})})})})})})});try{te.displayName="ReducedStorageProvider",te.__docgenInfo={description:`ReducedStorageProvider is a context that provides the storage mechanism that
the EngageSteps will use to persist their state.`,displayName:"ReducedStorageProvider",props:{}}}catch{}try{tt.displayName="ProvideLocalStorage",tt.__docgenInfo={description:`ProvideLocalStorage is a component that provides the ReducedStorageProvider
of the localStorage.`,displayName:"ProvideLocalStorage",props:{}}}catch{}try{ne.displayName="TweetURLProvider",ne.__docgenInfo={description:`TweetURLProvider is a context that provides the URL of the tweet that the
user is meant to share as part of the guided engagement journey.`,displayName:"TweetURLProvider",props:{}}}catch{}try{nt.displayName="InscriptionsPage",nt.__docgenInfo={description:`InscriptionsPage represents the entire Inscriptions page.  This is the main
entry point for the Inscriptions page.`,displayName:"InscriptionsPage",props:{backgroundImage:{defaultValue:null,description:"",name:"backgroundImage",required:!0,type:{name:"ReactNode"}},escapeTheWalledGardensImage:{defaultValue:null,description:"",name:"escapeTheWalledGardensImage",required:!0,type:{name:"ReactNode"}}}}}catch{}export{Pe as C,nt as I,Ze as P,ms as Q,St as R,ne as T,et as a,tt as b,bt as c};
