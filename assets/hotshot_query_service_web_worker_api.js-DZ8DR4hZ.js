var gp=Object.defineProperty;var Cp=(ce,J,de)=>J in ce?gp(ce,J,{enumerable:!0,configurable:!0,writable:!0,value:de}):ce[J]=de;var o=(ce,J,de)=>Cp(ce,typeof J!="symbol"?J+"":J,de);(function(){"use strict";class ce{assert(){}}function J(){return new ce}const de=J();function B(r,e){de.assert(r,e)}function ur(r,e){B(typeof r===e,`type assertion failed: expected "${e}", received "${typeof r}"`)}function fc(r){B(r!==null,"expected a non-null value, received null")}function h(r,e){B(r instanceof e,`given value is not an instance of "${e.name}", specific type is "${typeof r=="object"&&r!==null?r.constructor.name:typeof r}"`)}class hr extends Error{constructor(t,n,c=`expected object with key: "${n}", instead found ${t}`){super(c);o(this,"key");o(this,"haveType");this.haveType=t,this.key=n,Object.freeze(this)}toJSON(){return{code:hr.name,message:this.message,have:this.haveType,key:this.key}}}class b{encode(e){return this.encoder.convert(e)}decode(e){return this.decoder.convert(e)}}class d extends b{}function gc(r){return typeof r=="boolean"}function Co(r){return typeof r=="number"}function le(r){return typeof r=="string"}function Cc(r){return typeof r=="object"&&r!==null}function U(r){return r!==void 0}function yc(r,e){return Array.isArray(r)&&r.every(e)}function vc(r){return e=>yc(e,r)}function M(r,e,t){return Cc(r)&&e in r&&t(r[e])}function l(r,...e){if(typeof r!="object")throw new Error("expected object");if(r===null)throw new Error("received null");for(const t of e)if(!(t in r))throw new hr("object",t)}function y(r,e){if(!le(r.code))throw new Error("code must be a string");if(r.code!==e)throw new Error(`expected code to be ${e}, got ${r.code}`)}const yo=vc(U);class Ec{convert(e){return e}}const vo=new Ec;class xc extends b{constructor(){super(...arguments);o(this,"encoder",vo);o(this,"decoder",vo)}}const Oe=new xc;class A{constructor(e){o(this,"itemCodec");this.itemCodec=e}convert(e){if(!yo(e)){const t=typeof e=="object"&&e!==null?e.constructor.name:typeof e,n="array";throw new Error(`invalid array value: have "${t}", want "${n}"`)}return e.map(t=>this.itemCodec.decode(t))}}class D{constructor(e){o(this,"itemCodec");this.itemCodec=e}convert(e){return h(e,Array),e.map(t=>this.itemCodec.encode(t))}}class T extends d{constructor(t,n){super();o(this,"encoder");o(this,"decoder");this.encoder=n,this.decoder=t}}class ue{constructor(e){o(this,"itemCodec");this.itemCodec=e}convert(e){return e===null?null:this.itemCodec.decode(e)}}class he{constructor(e){o(this,"itemCodec");this.itemCodec=e}convert(e){return e===null?null:(fc(e),this.itemCodec.encode(e))}}class pe extends d{constructor(t,n){super();o(this,"encoder");o(this,"decoder");this.encoder=n,this.decoder=t}}class bc{convert(e){if(!le(e))throw new _(typeof e,"string");return e}}class Sc{convert(e){return ur(e,"string"),e}}class kc extends d{constructor(){super(...arguments);o(this,"encoder",new Sc);o(this,"decoder",new bc)}}const p=new kc;new T(new A(p),new D(p)),new pe(new ue(p),new he(p));class v extends Error{constructor(e){super(e)}get code(){return this.constructor.name}toJSON(){return H.convert(this)}}class O{convert(e){return h(e,v),{code:e.code,message:e.message}}}const H=new O,Ic="NoCodecFoundError";class Le extends Error{constructor(t,n=`no codec found for: "${t}"`){super(n);o(this,"codec");this.codec=t,Object.freeze(this);debugger}toJSON(){return{code:p.encode(Le.name),message:p.encode(this.message),codec:p.encode(this.codec)}}get code(){return Ic}}const pr=new Map;class Rc{convert(e){l(e,"code");const t=p.decode(e.code),n=pr.get(t);if(!n)throw new Le(t);return n.decode(e)}}class Bc{convert(e){const t=pr.get(e.code);if(!t)throw new Le(e.code);return t.encode(e)}}class Ac extends b{constructor(){super(...arguments);o(this,"encoder",new Bc);o(this,"decoder",new Rc)}}const Y=new Ac;function E(r,e){pr.set(r,e)}const mr="InvalidTypeError";class _ extends v{constructor(t,n,c=`invalid type: have "${t}", want "${n}"`){super(c);o(this,"have");o(this,"want");this.have=t,this.want=n,Object.freeze(this)}toJSON(){return Eo.encode(this)}get code(){return mr}}class Dc{convert(e){return l(e,"code","have","want","message"),y(e,mr),new _(p.decode(e.have),p.decode(e.want),p.decode(e.message))}}class Tc{convert(e){return h(e,_),{...H.convert(e),have:p.encode(e.have),want:p.encode(e.want)}}}class _c extends d{constructor(){super(...arguments);o(this,"encoder",new Tc);o(this,"decoder",new Dc)}}const Eo=new _c;E(mr,Eo);class Pc{convert(e){if(!Co(e))throw new _(typeof e,"number");return e}}class Nc{convert(e){return ur(e,"number"),e}}class Uc extends d{constructor(){super(...arguments);o(this,"encoder",new Nc);o(this,"decoder",new Pc)}}const s=new Uc,xo=new pe(new ue(s),new he(s)),q=new T(new A(s),new D(s)),Z=new T(new A(xo),new D(xo)),wr="FetchError";class bo extends v{constructor(t,n=`fetch failed: ${String(t)}`){super(n);o(this,"cause");this.cause=t,Object.freeze(this)}get code(){return wr}}class Oc{convert(e){return l(e,"code","message"),y(e,wr),new bo({},p.decode(e.message))}}class Lc extends O{}class Mc extends d{constructor(){super(...arguments);o(this,"encoder",new Lc);o(this,"decoder",new Oc)}}const Fc=new Mc;E(wr,Fc);const fr="UnimplementedError";class j extends v{constructor(e="unimplemented"){super(e),Object.freeze(this);debugger}get code(){return fr}}class Hc{convert(e){return l(e,"code","message"),y(e,fr),new j(p.decode(e.message))}}class zc extends O{}class Gc extends d{constructor(){super(...arguments);o(this,"encoder",new zc);o(this,"decoder",new Hc)}}const Wc=new Gc;E(fr,Wc);const gr="InvalidInputError";class L extends v{constructor(e="invalid input"){super(e),Object.freeze(this)}get code(){return gr}}class Jc{convert(e){return l(e,"code","message"),y(e,gr),new L(p.decode(e.message))}}class qc extends O{}class jc extends d{constructor(){super(...arguments);o(this,"encoder",new qc);o(this,"decoder",new Jc)}}const Vc=new jc;E(gr,Vc);const me=s;class So{constructor(e,t,n,c){o(this,"requestID");o(this,"api");o(this,"method");o(this,"param");this.requestID=e,this.api=t,this.method=n,this.param=c}toJSON(){return{requestID:this.requestID,api:this.api,method:this.method,param:this.param}}}class $c{convert(e){return l(e,"requestID","api","method","param"),new So(me.decode(e.requestID),p.decode(e.api),p.decode(e.method),e.param)}}class Qc{convert(e){return h(e,So),{requestID:me.encode(e.requestID),api:p.encode(e.api),method:p.encode(e.method),param:e.param}}}class Xc extends d{constructor(){super(...arguments);o(this,"encoder",new Qc);o(this,"decoder",new $c)}}const Kc=new Xc;class ko{constructor(e){o(this,"requestID");this.requestID=e}}class Cr extends ko{constructor(t,n){super(t);o(this,"response");this.response=n}toJSON(){return Io.encode(this)}}class Yc{convert(e){return l(e,"requestID","response"),new Cr(me.decode(e.requestID),e.response)}}class Zc{convert(e){return h(e,Cr),{requestID:me.encode(e.requestID),response:e.response}}}class es extends d{constructor(){super(...arguments);o(this,"encoder",new Zc);o(this,"decoder",new Yc)}}const Io=new es;class yr extends ko{constructor(t,n){super(t);o(this,"error");this.error=n}toJSON(){return Ro.encode(this)}}class rs{convert(e){return l(e,"requestID","error"),new yr(me.decode(e.requestID),Y.decode(e.error))}}class ts{convert(e){return h(e,yr),{requestID:me.encode(e.requestID),error:Y.encode(e.error)}}}class os extends d{constructor(){super(...arguments);o(this,"encoder",new ts);o(this,"decoder",new rs)}}const Ro=new os,vr="CorruptBase64InputError";class ee extends v{constructor(t,n=`corrupt input error at ${t}`){super(n);o(this,"offset");this.offset=t,Object.freeze(this)}get code(){return vr}toJSON(){return Bo.encode(this)}}class ns{convert(e){return l(e,"code","offset","message"),y(e,vr),new ee(s.decode(e.offset),p.decode(e.message))}}class cs{convert(e){return h(e,ee),{...H.convert(e),offset:s.encode(e.offset),message:p.encode(e.message)}}}class ss extends d{constructor(){super(...arguments);o(this,"encoder",new cs);o(this,"decoder",new ns)}}const Bo=new ss;E(vr,Bo);const Er="IncorrectBase64PaddingError";class Ao extends v{constructor(e="incorrect padding"){super(e),Object.freeze(this)}get code(){return Er}}class as{convert(e){return l(e,"code","message"),y(e,Er),new Ao(p.decode(e.message))}}class is extends O{}class ds extends d{constructor(){super(...arguments);o(this,"encoder",new is);o(this,"decoder",new as)}}const ls=new ds;E(Er,ls);const xr="InvalidBase64AlphabetLengthError";class br extends v{constructor(t,n=`alphabet needs to be 64 characters, received ${t}`){super(n);o(this,"length");this.length=t,Object.freeze(this)}toJSON(){return Do.encode(this)}get code(){return xr}}class us{convert(e){return l(e,"code","length","message"),y(e,xr),new br(s.decode(e.length),p.decode(e.message))}}class hs{convert(e){return h(e,br),{...H.convert(e),length:s.encode(e.length)}}}class ps extends d{constructor(){super(...arguments);o(this,"encoder",new hs);o(this,"decoder",new us)}}const Do=new ps;E(xr,Do);const ms=new TextEncoder;function To(r){return ms.encode(r)}const ws=new TextDecoder;function fs(r){return ws.decode(r)}function*_o(r){yield*To(r)}function*gs(){for(let r=0;r<256;r++)yield 255}const ve=-1,Cs=61;class Ee{constructor(e,t,n=Cs,c=!1){o(this,"encodeMap");o(this,"decodeMap");o(this,"padChar");o(this,"strict");this.encodeMap=e,this.decodeMap=t,this.padChar=n,this.strict=c}static withAlphabet(e){const t=e.length;if(t!==64)throw new br(t);const n=Array.from(_o(e)),c=Array.from(gs());for(let a=0;a<t;a++)c[n[a]]=a;return new Ee(n,c)}withPadding(e){return new Ee(this.encodeMap,this.decodeMap,e,this.strict)}encode(e){if(e.byteLength===0)return new ArrayBuffer(0);let t=0,n=0;const c=Math.floor(e.byteLength/3)*3,a=Math.ceil(e.byteLength/3)*4,i=new ArrayBuffer(a),u=new DataView(e),f=new DataView(i);for(;n<c;){const g=u.getUint8(n+0)<<16|u.getUint8(n+1)<<8|u.getUint8(n+2);f.setUint8(t+0,this.encodeMap[g>>18&63]),f.setUint8(t+1,this.encodeMap[g>>12&63]),f.setUint8(t+2,this.encodeMap[g>>6&63]),f.setUint8(t+3,this.encodeMap[g&63]),n+=3,t+=4}const m=e.byteLength-n;if(m===0)return i;let C=u.getUint8(n+0)<<16;switch(m===2&&(C|=u.getUint8(n+1)<<8),f.setUint8(t+0,this.encodeMap[C>>18&63]),f.setUint8(t+1,this.encodeMap[C>>12&63]),m){case 2:return f.setUint8(t+2,this.encodeMap[C>>6&63]),this.padChar!==ve?(f.setUint8(t+3,this.padChar),i.slice(0,t+4)):i.slice(0,t+3);case 1:if(this.padChar!==ve)return f.setUint8(t+2,this.padChar),f.setUint8(t+3,this.padChar),i.slice(0,t+4);break}return i.slice(0,t+2)}decode(e){const t=e.byteLength;if(t===0)return new ArrayBuffer(0);const n=new DataView(e),c=new ArrayBuffer(Math.floor(t/4*3)),a=new DataView(c),i=new ArrayBuffer(4),u=new DataView(i);let f=0,m=0,C=0,g=!1;for(;m<t&&!g;){let S=3,F=4;for(let I=0;I<4;I++){if(m===t){if(I===0)return c;if(I===1||this.padChar!==ve)throw new ee(m-I);S=I-1,F=I,g=!0;break}const W=n.getUint8(m);m++;const wc=this.decodeMap[W];if(wc!==255){u.setUint8(I,wc);continue}if(W===10||W===13){I--;continue}if(W===this.padChar){switch(I){case 0:case 1:throw new Ao;case 2:for(;m<t&&(n.getUint8(m)===10||n.getUint8(m)===13);)m++;if(m===t)throw new ee(t);m++}for(;m<t&&(n.getUint8(m)===10||n.getUint8(m)===13);)m++;if(m<t)throw new ee(m);S=3,F=I,g=!0;break}throw new ee(m-1)}const P=u.getUint8(0)<<18|u.getUint8(1)<<12|u.getUint8(2)<<6|u.getUint8(3);switch(u.setUint8(2,P>>0&255),u.setUint8(1,P>>8&255),u.setUint8(0,P>>16&255),F){case 4:a.setUint8(C+2,u.getUint8(2)),u.setUint8(2,0);case 3:if(a.setUint8(C+1,u.getUint8(1)),this.strict&&u.getUint8(2)!==0)throw new ee(m-1);case 2:if(a.setUint8(C+0,u.getUint8(0)),this.strict&&(u.getUint8(1)!==0||u.getUint8(2)!==0))throw new ee(m-2)}C+=S,f+=F-1}return c.slice(0,f)}decodeString(e){return this.decode(To(e).buffer)}encodeToString(e){return fs(this.encode(e))}}const Po=Ee.withAlphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),ys=Po.withPadding(ve),No=Ee.withAlphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Sr=No.withPadding(ve),kr="InvalidTaggedBase64EncodingError";class Uo extends v{constructor(e="invalid tagged base64 encoding"){super(e),Object.freeze(this)}toJSON(){return Oo.encode(this)}get code(){return kr}}class vs{convert(e){return l(e,"code","message"),y(e,kr),new Uo(p.decode(e.message))}}class Es extends O{}class xs extends d{constructor(){super(...arguments);o(this,"encoder",new Es);o(this,"decoder",new vs)}}const Oo=new xs;E(kr,Oo);class x{constructor(e,t){o(this,"tag");o(this,"data");this.tag=e,this.data=t}static fromString(e){const t=e.indexOf("~");if(t<0)throw new Uo;const n=e.substring(0,t),c=Sr.decodeString(e.substring(t+1));return new x(n,c)}static inflate(e){return w.decode(e)}toString(){return`${this.tag}~${Sr.encodeToString(this.data)}`}valueOf(){return this.toString()}toJSON(){return this.toString()}}class bs{convert(e){if(typeof e!="string")throw new _(typeof e,"string");return x.fromString(e)}}class Ss{convert(e){return h(e,x),e.toString()}}class ks extends d{constructor(){super(...arguments);o(this,"encoder",new Ss);o(this,"decoder",new bs)}}const w=new ks,Ir="InvalidHexStringError";class Rr extends v{constructor(e="invalid hex string"){super(e),Object.freeze(this)}get code(){return Ir}}class Is{convert(e){return l(e,"code","message"),y(e,Ir),new Rr(p.decode(e.message))}}class Rs extends O{}class Bs extends d{constructor(){super(...arguments);o(this,"encoder",new Rs);o(this,"decoder",new Is)}}const As=new Bs;E(Ir,As);const Br="InvalidHexValueError";class Lo extends v{constructor(t,n=`invalid hex value "${t}"`){super(n);o(this,"value");this.value=t,Object.freeze(this)}toJSON(){return Mo.encode(this)}get code(){return Br}}class Ds{convert(e){return l(e,"code","value","message"),y(e,Br),new Lo(s.decode(e.value),p.decode(e.message))}}class Ts{convert(e){return{...H.convert(e),value:s.encode(e.value)}}}class _s extends d{constructor(){super(...arguments);o(this,"encoder",new Ts);o(this,"decoder",new Ds)}}const Mo=new _s;E(Br,Mo);class Ps{constructor(e,t){o(this,"value");o(this,"next");this.value=e,this.next=t}[Symbol.iterator](){return Fo(this)}}function Ns(r,e){return new Ps(e,r)}function*Fo(r){if(r!==null)for(let e=r;e!==null;e=e.next)yield e.value}const Ar="MissingElementError";class xe extends v{constructor(e="missing element"){super(e),Object.freeze(this)}get code(){return Ar}}class Us{convert(e){return l(e,"code","message"),y(e,Ar),new xe(p.decode(e.message))}}class Os extends O{}class Ls extends d{constructor(){super(...arguments);o(this,"encoder",new Os);o(this,"decoder",new Us)}}const Ms=new Ls;E(Ar,Ms);function*Fs(r,e){for(let t=r.next();!t.done;t=r.next())e(t.value)&&(yield t.value)}function Hs(r,e){return Fs(r[Symbol.iterator](),e)}function*Ho(r,e){for(let t=r.next();!t.done;t=r.next())yield e(t.value)}function zs(r,e){return Ho(r[Symbol.iterator](),e)}function*Gs(r,e){for(let t=0;t<e;t++){const n=r.next();if(n.done)return;yield n.value}}function Ws(r,e){return Gs(r[Symbol.iterator](),e)}function Js(r){let e;for(let t=r.next();!t.done;t=r.next())e=t.value;if(e===void 0)throw new xe;return e}function qs(r){return Js(r[Symbol.iterator]())}function*js(){let r=0;for(;;)yield r++}function Vs(r){return Ws(js(),Math.ceil(r))}function*$s(r,e,t){for(let n=r.next(),c=e.next();!n.done&&!c.done;n=r.next(),c=e.next())yield t(n.value,c.value)}function Qs(r,e,t){return $s(r[Symbol.iterator](),e[Symbol.iterator](),t)}function zo(r){if(r.startsWith("0x"))return zo(r.substring(2));if(r.length&1)throw new Rr;const e=new ArrayBuffer(r.length/2);return Xs(_o(r),e),e}function Xs(r,e){const t=new DataView(e);let n=0;for(;n<e.byteLength;){const c=r.next(),a=r.next();if(c.done||a.done)throw new Rr;const i=Go(c.value),u=Go(a.value),f=i<<4|u;t.setUint8(n,f),n++}}function Go(r){if(r>=48&&r<=57)return r-48;if(r>=97&&r<=102)return r-97+10;if(r>=65&&r<=70)return r-65+10;throw new Lo(r)}function Ks(r){return r.toString(16).padStart(2,"0")}function*Ys(r){yield*Ho(r,Ks)}function Zs(r){return Ys(r[Symbol.iterator]())}class ea{convert(e){if(typeof e!="string")throw new _(typeof e,"string");return zo(e)}}class ra{convert(e){return h(e,ArrayBuffer),["0x",...Zs(new Uint8Array(e))].join("")}}class ta extends d{constructor(){super(...arguments);o(this,"encoder",new ra);o(this,"decoder",new ea)}}const R=new ta;new pe(new ue(R),new he(R));const Wo=new T(new A(R),new D(R));class oa{convert(e){return e instanceof Array?Wo.decode(e):[R.decode(e)]}}class na{convert(e){return Wo.encode(e)}}class ca extends d{constructor(){super(...arguments);o(this,"encoder",new na);o(this,"decoder",new oa)}}const re=new ca;class sa{constructor(e){o(this,"encoding");this.encoding=e}convert(e){if(typeof e!="string")throw new _(typeof e,"string");return this.encoding.decodeString(e)}}class aa{constructor(e){o(this,"encoding");this.encoding=e}convert(e){return this.encoding.encodeToString(e)}}class Me extends d{constructor(t){super();o(this,"encoder");o(this,"decoder");this.encoder=new aa(t),this.decoder=new sa(t)}}new Me(Sr),new Me(ys);const Jo=new Me(No),qo=new Me(Po);class Dr{constructor(e,t,n){o(this,"r");o(this,"s");o(this,"v");this.r=e,this.s=t,this.v=n}toJSON(){return Tr.encode(this)}}class ia{convert(e){return l(e,"r","s","v"),new Dr(R.decode(e.r),R.decode(e.s),s.decode(e.v))}}class da{convert(e){return h(e,Dr),{r:R.encode(e.r),s:R.encode(e.s),v:s.encode(e.v)}}}class la extends d{constructor(){super(...arguments);o(this,"encoder",new da);o(this,"decoder",new ia)}}const Tr=new la;class _r{constructor(e,t){o(this,"account");o(this,"amount");this.account=e,this.amount=t}toJSON(){return Pr.encode(this)}}class ua{convert(e){return l(e,"account","amount"),new _r(R.decode(e.account),R.decode(e.amount))}}class ha{convert(e){return h(e,_r),{account:R.encode(e.account),amount:R.encode(e.amount)}}}class pa extends d{constructor(){super(...arguments);o(this,"encoder",new ha);o(this,"decoder",new ua)}}const Pr=new pa;class Nr{constructor(e,t,n){o(this,"number");o(this,"timestamp");o(this,"hash");this.number=e,this.timestamp=t,this.hash=n}toJSON(){return Ur.encode(this)}}class ma{convert(e){return l(e,"number","timestamp","hash"),new Nr(s.decode(e.number),p.decode(e.timestamp),p.decode(e.hash))}}class wa{convert(e){return h(e,Nr),{number:s.encode(e.number),timestamp:p.encode(e.timestamp),hash:p.encode(e.hash)}}}class fa extends d{constructor(){super(...arguments);o(this,"encoder",new wa);o(this,"decoder",new ma)}}const Ur=new fa,jo=new pe(new ue(Ur),new he(Ur));class Or{constructor(e){o(this,"bytes");this.bytes=e}toJSON(){return Lr.encode(this)}}class ga{convert(e){return l(e,"bytes"),new Or(Jo.decode(e.bytes))}}class Ca{convert(e){return h(e,Or),{bytes:Jo.encode(e.bytes)}}}class ya extends d{constructor(){super(...arguments);o(this,"encoder",new Ca);o(this,"decoder",new ga)}}const Lr=new ya;class Mr{constructor(e,t,n,c,a,i,u,f,m,C){o(this,"height");o(this,"timestamp");o(this,"l1_head");o(this,"l1_finalized");o(this,"payload_commitment");o(this,"ns_table");o(this,"block_merkle_root");o(this,"fee_merkle_root");o(this,"builder_signature");o(this,"fee_info");this.height=e,this.timestamp=t,this.l1_head=n,this.l1_finalized=c,this.payload_commitment=a,this.ns_table=i,this.block_merkle_root=u,this.fee_merkle_root=f,this.builder_signature=m,this.fee_info=C}toJSON(){return V.encode(this)}}class va{convert(e){return l(e,"height","timestamp","l1_head","l1_finalized","payload_commitment","ns_table","block_merkle_root","fee_merkle_root","builder_signature","fee_info"),new Mr(s.decode(e.height),s.decode(e.timestamp),s.decode(e.l1_head),jo.decode(e.l1_finalized),q.decode(e.payload_commitment),Lr.decode(e.ns_table),w.decode(e.block_merkle_root),w.decode(e.fee_merkle_root),Tr.decode(e.builder_signature),Pr.decode(e.fee_info))}}class Ea{convert(e){return h(e,Mr),{height:s.encode(e.height),timestamp:s.encode(e.timestamp),l1_head:s.encode(e.l1_head),l1_finalized:jo.encode(e.l1_finalized),payload_commitment:q.encode(e.payload_commitment),ns_table:Lr.encode(e.ns_table),block_merkle_root:w.encode(e.block_merkle_root),fee_merkle_root:w.encode(e.fee_merkle_root),builder_signature:Tr.encode(e.builder_signature),fee_info:Pr.encode(e.fee_info)}}}class xa extends d{constructor(){super(...arguments);o(this,"encoder",new Ea);o(this,"decoder",new va)}}const V=new xa;class be{constructor(e,t){o(this,"vm");o(this,"payload");this.vm=e,this.payload=t}toJSON(){return se.encode(this)}}class ba{convert(e){return l(e,"vm","payload"),new be(s.decode(e.vm),q.decode(e.payload))}}class Sa{convert(e){return h(e,be),{vm:s.encode(e.vm),payload:q.encode(e.payload)}}}class ka extends d{constructor(){super(...arguments);o(this,"encoder",new Sa);o(this,"decoder",new ba)}}const se=new ka,Vo=new T(new A(se),new D(se));class Fr{constructor(e){o(this,"transaction_nmt");this.transaction_nmt=e}toJSON(){return Se.encode(this)}}class Ia{convert(e){return l(e,"transaction_nmt"),new Fr(Vo.decode(e.transaction_nmt))}}class Ra{convert(e){return h(e,Fr),{transaction_nmt:Vo.encode(e.transaction_nmt)}}}class Ba extends d{constructor(){super(...arguments);o(this,"encoder",new Ra);o(this,"decoder",new Ia)}}const Se=new Ba;class Hr{constructor(e,t,n,c,a){o(this,"header");o(this,"payload");o(this,"hash");o(this,"size");o(this,"numTransactions");this.header=e,this.payload=t,this.hash=n,this.size=c,this.numTransactions=a}toJSON(){return zr.encode(this)}}class Aa{convert(e){return l(e,"header","payload","hash","size","num_transactions"),new Hr(V.decode(e.header),Se.decode(e.payload),w.decode(e.hash),s.decode(e.size),s.decode(e.num_transactions))}}class Da{convert(e){return h(e,Hr),{header:V.encode(e.header),payload:Se.encode(e.payload),hash:w.encode(e.hash),size:s.encode(e.size),num_transactions:s.encode(e.numTransactions)}}}class Ta extends b{constructor(){super(...arguments);o(this,"encoder",new Da);o(this,"decoder",new Aa)}}const zr=new Ta;class Fe{constructor(e,t,n,c,a){o(this,"header");o(this,"hash");o(this,"size");o(this,"num_transactions");o(this,"proposer_id");this.header=e,this.hash=t,this.size=n,this.num_transactions=c,this.proposer_id=a}toJSON(){return Gr.encode(this)}}class _a{convert(e){return l(e,"header","hash","size","num_transactions","proposer_id"),new Fe(V.decode(e.header),w.decode(e.hash),s.decode(e.size),s.decode(e.num_transactions),re.decode(e.proposer_id))}}class Pa{convert(e){return h(e,Fe),{header:V.encode(e.header),hash:w.encode(e.hash),size:s.encode(e.size),num_transactions:s.encode(e.num_transactions),proposer_id:re.encode(e.proposer_id)}}}class Na extends d{constructor(){super(...arguments);o(this,"encoder",new Pa);o(this,"decoder",new _a)}}const Gr=new Na,Ua=new T(new A(Gr),new D(Gr));class He{constructor(e,t,n,c){o(this,"hash");o(this,"header");o(this,"offset");o(this,"transaction");this.hash=e,this.header=t,this.offset=n,this.transaction=c}toJSON(){return Wr.encode(this)}}class Oa{convert(e){return l(e,"hash","header","offset","transaction"),new He(w.decode(e.hash),V.decode(e.header),s.decode(e.offset),se.decode(e.transaction))}}class La{convert(e){return h(e,He),{hash:w.encode(e.hash),header:V.encode(e.header),offset:s.encode(e.offset),transaction:se.encode(e.transaction)}}}class Ma extends d{constructor(){super(...arguments);o(this,"encoder",new La);o(this,"decoder",new Oa)}}const Wr=new Ma,$o=new T(new A(Wr),new D(Wr));class Fa{convert(e){if(!gc(e))throw new _(typeof e,"boolean");return e}}class Ha{convert(e){return ur(e,"boolean"),e}}class za extends d{constructor(){super(...arguments);o(this,"encoder",new Ha);o(this,"decoder",new Fa)}}const ze=new za;class Ge{constructor(e){o(this,"leaf_commit");this.leaf_commit=e}toJSON(){return Jr.encode(this)}}class Ga{convert(e){return l(e,"leaf_commit"),new Ge(w.decode(e.leaf_commit))}}class Wa{convert(e){return h(e,Ge),{leaf_commit:w.encode(e.leaf_commit)}}}class Ja extends d{constructor(){super(...arguments);o(this,"encoder",new Wa);o(this,"decoder",new Ga)}}const Jr=new Ja;class qa{convert(e){if(!le(e))throw new _(typeof e,"string");const t=new Date(e);if(Number.isNaN(t.valueOf()))throw new _("NaN","number");return t}}class ja{convert(e){return h(e,Date),e.toISOString()}}class Va extends d{constructor(){super(...arguments);o(this,"encoder",new ja);o(this,"decoder",new qa)}}const te=new Va;class $a{convert(e){if(!le(e))throw new _(typeof e,"string");return new URL(e)}}class Qa{convert(e){return e.toString()}}class Xa extends d{constructor(){super(...arguments);o(this,"encoder",new Qa);o(this,"decoder",new $a)}}const Qo=new Xa;new pe(new ue(Qo),new he(Qo));class Xo{constructor(e,t){o(this,"width");o(this,"index");this.width=e,this.index=t}toJSON(){return qr.encode(this)}}class Ka{convert(e){return l(e,"width","index"),new Xo(s.decode(e.width),s.decode(e.index))}}class Ya{convert(e){return h(e,Xo),{width:s.encode(e.width),index:s.encode(e.index)}}}class Za extends d{constructor(){super(...arguments);o(this,"encoder",new Ya);o(this,"decoder",new Ka)}}const qr=new Za;class ke{static get lsb0(){return ri}static get msb0(){return oi}valueOf(){return this.toString()}toJSON(){return this.toString()}}const Ko="bitvec::order::Lsb0",Yo="bitvec::order::Msb0";class ei extends ke{toString(){return Ko}}const ri=new ei;class ti extends ke{toString(){return Yo}}const oi=new ti;class ni{convert(e){if(typeof e!="string")throw new _(typeof e,"string");switch(e){case Ko:return ke.lsb0;case Yo:return ke.msb0;default:throw new _(e,"CappuccinoAPIBitVecOrder")}}}class ci{convert(e){return e.toString()}}class si extends d{constructor(){super(...arguments);o(this,"encoder",new ci);o(this,"decoder",new ni)}}const Zo=new si;class en{constructor(e,t,n,c){o(this,"order");o(this,"head");o(this,"bits");o(this,"data");this.order=e,this.head=t,this.bits=n,this.data=c}getBitVecIndexIterable(){return this.order===ke.lsb0?new hi(this.head.width,this.bits):new mi(this.head.width,this.bits)}[Symbol.iterator](){const e=this.getBitVecIndexIterable();return zs(e,t=>li(this.data,t))[Symbol.iterator]()}toJSON(){return Ie.encode(this)}}class ai{convert(e){return l(e,"order","head","bits","data"),new en(Zo.decode(e.order),qr.decode(e.head),s.decode(e.bits),q.decode(e.data))}}class ii{convert(e){return h(e,en),{order:Zo.encode(e.order),head:qr.encode(e.head),bits:s.encode(e.bits),data:q.encode(e.data)}}}class di extends d{constructor(){super(...arguments);o(this,"encoder",new ii);o(this,"decoder",new ai)}}const Ie=new di;new T(new A(Ie),new D(Ie));function li(r,e){return(r[e.bucket]>>e.bitOffset&1)===1}class rn{constructor(e,t){o(this,"bucket");o(this,"bitOffset");this.bucket=e,this.bitOffset=t}}function tn(r){switch(B(r===8||r===16||r===32,"bit width should be a power of two that is supported"),r){case 8:return 3;case 16:return 4;case 32:return 5;default:throw new j}}class ui{constructor(e,t){o(this,"totalBits");o(this,"bitWidthMask");o(this,"bitWidthShift");o(this,"offset",0);this.totalBits=t;const n=tn(e);this.bitWidthMask=e-1,this.bitWidthShift=n}next(){if(this.offset>=this.totalBits)return{done:!0,value:void 0};const e=this.offset>>this.bitWidthShift,t=this.offset&this.bitWidthMask;return this.offset+=1,{done:!1,value:new rn(e,t)}}}class hi{constructor(e,t){o(this,"bitWidth");o(this,"totalBits");this.bitWidth=e,this.totalBits=t}[Symbol.iterator](){return new ui(this.bitWidth,this.totalBits)}}class pi{constructor(e,t){o(this,"bitWidth");o(this,"totalBits");o(this,"bitWidthMask");o(this,"bitWidthShift");o(this,"offset",0);this.bitWidth=e,this.totalBits=t;const n=tn(e);this.bitWidthMask=e-1,this.bitWidthShift=n}next(){if(this.offset>=this.totalBits)return{done:!0,value:void 0};const e=this.offset>>this.bitWidthShift,t=this.bitWidth-1-(this.offset&this.bitWidthMask);return this.offset+=1,{done:!1,value:new rn(e,t)}}}class mi{constructor(e,t){o(this,"bitWidth");o(this,"totalBits");this.bitWidth=e,this.totalBits=t}[Symbol.iterator](){return new pi(this.bitWidth,this.totalBits)}}class on{constructor(e,t){o(this,"signature");o(this,"bitvec");this.signature=e,this.bitvec=t}toJSON(){return jr.encode(this)}}class wi{convert(e){if(!yo(e)||e.length!==2)throw new _(typeof e,"Array");return new on(w.decode(e[0]),Ie.decode(e[1]))}}class fi{convert(e){return h(e,on),[w.encode(e.signature),Ie.encode(e.bitvec)]}}class gi extends d{constructor(){super(...arguments);o(this,"encoder",new fi);o(this,"decoder",new wi)}}const jr=new gi,nn=new pe(new ue(jr),new he(jr));class We{constructor(e,t,n,c,a,i){o(this,"data");o(this,"vote_commitment");o(this,"view_number");o(this,"signatures");o(this,"is_genesis");o(this,"_pd");this.data=e,this.vote_commitment=t,this.view_number=n,this.signatures=c,this.is_genesis=a,this._pd=i}toJSON(){return Re.encode(this)}}class Ci{convert(e){return l(e,"data","vote_commitment","view_number","signatures","is_genesis","_pd"),new We(Jr.decode(e.data),w.decode(e.vote_commitment),s.decode(e.view_number),nn.decode(e.signatures),ze.decode(e.is_genesis),null)}}class yi{convert(e){return h(e,We),{data:Jr.encode(e.data),vote_commitment:w.encode(e.vote_commitment),view_number:s.encode(e.view_number),signatures:nn.encode(e.signatures),is_genesis:ze.encode(e.is_genesis),_pd:null}}}class vi extends d{constructor(){super(...arguments);o(this,"encoder",new yi);o(this,"decoder",new Ci)}}const Re=new vi;class Vr{constructor(e,t,n,c,a,i,u,f){o(this,"view_number");o(this,"justify_qc");o(this,"parent_commitment");o(this,"block_header");o(this,"block_payload");o(this,"rejected");o(this,"timestamp");o(this,"proposer_id");this.view_number=e,this.justify_qc=t,this.parent_commitment=n,this.block_header=c,this.block_payload=a,this.rejected=i,this.timestamp=u,this.proposer_id=f}toJSON(){return $r.encode(this)}}class Ei{convert(e){return l(e,"view_number","justify_qc","parent_commitment","block_header","block_payload","rejected","timestamp","proposer_id"),new Vr(s.decode(e.view_number),Re.decode(e.justify_qc),w.decode(e.parent_commitment),V.decode(e.block_header),Se.decode(e.block_payload),q.decode(e.rejected),s.decode(e.timestamp),R.decode(e.proposer_id))}}class xi{convert(e){return h(e,Vr),{view_number:s.encode(e.view_number),justify_qc:Re.encode(e.justify_qc),parent_commitment:w.encode(e.parent_commitment),block_header:V.encode(e.block_header),block_payload:Se.encode(e.block_payload),rejected:q.encode(e.rejected),timestamp:s.encode(e.timestamp),proposer_id:R.encode(e.proposer_id)}}}class bi extends d{constructor(){super(...arguments);o(this,"encoder",new xi);o(this,"decoder",new Ei)}}const $r=new bi;class Qr{constructor(e,t){o(this,"leaf");o(this,"qc");this.leaf=e,this.qc=t}toJSON(){return Xr.encode(this)}}class Si{convert(e){return l(e,"leaf","qc"),new Qr($r.decode(e.leaf),Re.decode(e.qc))}}class ki{convert(e){return h(e,Qr),{leaf:$r.encode(e.leaf),qc:Re.encode(e.qc)}}}class Ii extends d{constructor(){super(...arguments);o(this,"encoder",new ki);o(this,"decoder",new Si)}}const Xr=new Ii;class Be{}class Kr extends Be{toJSON(){return Yr.encode(this)}}class Ri{convert(e){if(!le(e)||e!=="Empty")throw new L;return new Kr}}class Bi{convert(e){return h(e,Kr),"Empty"}}class Ai extends d{constructor(){super(...arguments);o(this,"encoder",new Bi);o(this,"decoder",new Ri)}}const Yr=new Ai;class Zr extends Be{constructor(t,n,c){super();o(this,"value");o(this,"pos");o(this,"elem");this.value=t,this.pos=n,this.elem=c}toJSON(){return et.encode(this)}}class Di{convert(e){l(e,"Leaf");const t=e.Leaf;return l(t,"value","pos","elem"),new Zr(w.decode(t.value),w.decode(t.pos),w.decode(t.elem))}}class Ti{convert(e){return h(e,Zr),{Leaf:{value:w.encode(e.value),pos:w.encode(e.pos),elem:w.encode(e.elem)}}}}class _i extends b{constructor(){super(...arguments);o(this,"encoder",new Ti);o(this,"decoder",new Di)}}const et=new _i;class rt extends Be{constructor(t){super();o(this,"value");this.value=t}toJSON(){return tt.encode(this)}}class Pi{convert(e){l(e,"ForgettenSubtree");const t=e.ForgettenSubtree;return l(t,"value"),new rt(w.decode(t.value))}}class Ni{convert(e){return h(e,rt),{ForgettenSubtree:{value:w.encode(e.value)}}}}class Ui extends b{constructor(){super(...arguments);o(this,"encoder",new Ni);o(this,"decoder",new Pi)}}const tt=new Ui;class Je extends Be{constructor(t,n){super();o(this,"value");o(this,"children");this.value=t,this.children=n}toJSON(){return ot.encode(this)}}class Oi{convert(e){l(e,"Branch");const t=e.Branch;return l(t,"value","children"),new Je(w.decode(t.value),qe.decode(t.children))}}class Li{convert(e){return h(e,Je),{Branch:{value:w.encode(e.value),children:qe.encode(e.children)}}}}class Mi extends d{constructor(){super(...arguments);o(this,"encoder",new Li);o(this,"decoder",new Oi)}}const ot=new Mi;class Fi{convert(e){if(M(e,"Leaf",U))return et.decoder.convert(e);if(M(e,"Branch",U))return ot.decoder.convert(e);if(M(e,"ForgettenSubtree",U))return tt.decoder.convert(e);if(le(e))return Yr.decoder.convert(e);throw new L}}class Hi{convert(e){if(h(e,Be),e instanceof Zr)return et.encode(e);if(e instanceof Je)return ot.encode(e);if(e instanceof rt)return tt.encode(e);if(e instanceof Kr)return Yr.encode(e);throw new L}}class zi extends d{constructor(){super(...arguments);o(this,"encoder",new Hi);o(this,"decoder",new Fi)}}const cn=new zi,qe=new T(new A(cn),new D(cn));class nt{constructor(e,t){o(this,"pos");o(this,"proof");this.pos=e,this.proof=t}toJSON(){return ct.encode(this)}}class Gi{convert(e){return l(e,"pos","proof"),new nt(w.decode(e.pos),qe.decode(e.proof))}}class Wi{convert(e){return h(e,nt),{pos:w.encode(e.pos),proof:qe.encode(e.proof)}}}class Ji extends d{constructor(){super(...arguments);o(this,"encoder",new Wi);o(this,"decoder",new Gi)}}const ct=new Ji;class st{constructor(e,t,n,c,a){o(this,"transaction");o(this,"block_hash");o(this,"proof");o(this,"height");o(this,"hash");this.transaction=e,this.block_hash=t,this.proof=n,this.height=c,this.hash=a}toJSON(){return at.encode(this)}}class qi{convert(e){return l(e,"transaction","block_hash","proof","height","hash"),new st(se.decoder.convert(e.transaction),w.decode(e.block_hash),ct.decoder.convert(e.proof),s.decode(e.height),w.decode(e.hash))}}class ji{convert(e){return h(e,st),{transaction:se.encode(e.transaction),block_hash:w.encode(e.block_hash),proof:ct.encode(e.proof),height:s.encode(e.height),hash:w.encode(e.hash)}}}class Vi extends d{constructor(){super(...arguments);o(this,"encoder",new ji);o(this,"decoder",new qi)}}const at=new Vi,we="latest";class it{constructor(e){o(this,"target");this.target=e}static latest(){return new an}static height(e){return new dn(e)}toJSON(){return sn.encode(this)}}class $i{convert(e){return h(e,it),typeof e.target=="number"?s.encode(e.target):p.encode(e.target)}}class Qi{convert(e){return e===we?new an:new dn(s.decode(e))}}class Xi extends b{constructor(){super(...arguments);o(this,"encoder",new $i);o(this,"decoder",new Qi)}}const sn=new Xi;class an extends it{constructor(){super(we)}}class dn extends it{constructor(e){super(e)}}class ${constructor(e,t,n){o(this,"significantDigitsMultiplier");this.alpha3Code=e,this.code=t,this.significantDigits=n,this.alpha3Code=e,this.code=t,this.significantDigits=n,this.significantDigitsMultiplier=BigInt(10)**BigInt(this.significantDigits)}toJSON(){return je.encode(this)}}const ln=new $("JPY",392,0),Ki=new $("GBP",826,2),un=new $("USD",840,2),Yi=new $("EUR",978,2),Zi=new $("XXX",999,2),hn=new $("ETH",1001,18),dt=new $("XBT",1002,8),pn=new $("ESP",10001,18),ed=[ln,Ki,un,Yi,Zi,hn,dt,pn],rd=new Map(ed.map(r=>[r.alpha3Code,r]));class td{convert(e){if(typeof e!="string")throw new L("CurrencyCodeDecoder: expected string");if(e==="BTC")return dt;const t=rd.get(e);if(t===void 0)throw new L(`CurrencyCodeDecoder: unknown currency: "${e}"`);return t}}class od{convert(e){return h(e,$),e.alpha3Code}}class nd extends d{constructor(){super(...arguments);o(this,"decoder",new td);o(this,"encoder",new od)}}const je=new nd;class z{constructor(e,t){this.currency=e,this.value=t,this.currency=e,this.value=t}static USD(e){return new z(un,BigInt(e))}static ETH(e){return new z(hn,BigInt(e))}static ESP(e){return new z(pn,BigInt(e))}static JPY(e){return new z(ln,BigInt(e))}static BTC(e){return new z(dt,BigInt(e))}toString(){return Ve.encode(this)}toJSON(){return Ve.encode(this)}}function cd(r){return r==="."||r===","||r===" "}function sd(r,e){let t=-1;const n=r.length;for(let c=0;c<n;c++)e(r[c])&&(t=c);return t}class ad{parseCurrencyCode(e){return je.decode(e)}parseValue(e,t){let n=1n;t[0]==="-"&&(n=-1n,t=t.substring(1));const c=sd(t,cd);if(c===-1){const m=BigInt(t.replace(/\D/g,""))*e.significantDigitsMultiplier;return n*m}const a=t.substring(0,c).replace(/\D/g,""),i=t.substring(c+1).replace(/\D/g,""),u=BigInt(a)*e.significantDigitsMultiplier,f=BigInt(i)*10n**BigInt(e.significantDigits-i.length);return n*(u+f)}convert(e){if(typeof e!="string")throw new L("MonetaryValueDecoder: expected string");const t=e.indexOf(" ");if(t<=-1)throw new L("MonetaryValueDecoder: missing non-breaking space");const n=e.substring(0,t),c=e.substring(t+1);if(/^-?[\d .,]+$/.test(n)){const i=this.parseCurrencyCode(c);return new z(i,this.parseValue(i,n))}const a=this.parseCurrencyCode(n);return new z(a,this.parseValue(a,c))}}class id{convert(e){h(e,z);const t=e.value<0n?"-":"",n=e.value<0n?-e.value:e.value,c=n%e.currency.significantDigitsMultiplier,a=n/e.currency.significantDigitsMultiplier,i=String(a),u=String(c);return/^0+$/.test(u)?`${je.encode(e.currency)} ${t}${i}`:`${je.encode(e.currency)} ${t}${a}.${String(c).padStart(e.currency.significantDigits,"0")}`}}class dd extends d{constructor(){super(...arguments);o(this,"decoder",new ad);o(this,"encoder",new id)}}const Ve=new dd,mn=new T(new A(Ve),new D(Ve));class lt{constructor(e,t,n,c,a,i,u,f){o(this,"hash");o(this,"height");o(this,"time");o(this,"numTransactions");o(this,"proposerID");o(this,"feeRecipient");o(this,"size");o(this,"blockReward");this.hash=e,this.height=t,this.time=n,this.numTransactions=c,this.proposerID=a,this.feeRecipient=i,this.size=u,this.blockReward=f}toJSON(){return ae.encode(this)}}class ld{convert(e){return l(e,"hash","height","time","num_transactions","proposer_id","fee_recipient","size","block_reward"),new lt(w.decode(e.hash),s.decode(e.height),te.decode(e.time),s.decode(e.num_transactions),re.decode(e.proposer_id),re.decode(e.fee_recipient),s.decode(e.size),mn.decode(e.block_reward))}}class ud{convert(e){return h(e,lt),{hash:w.encode(e.hash),height:s.encode(e.height),time:te.encode(e.time),num_transactions:s.encode(e.numTransactions),proposer_id:re.encode(e.proposerID),fee_recipient:re.encode(e.feeRecipient),size:s.encode(e.size),block_reward:mn.encode(e.blockReward)}}}class hd extends b{constructor(){super(...arguments);o(this,"encoder",new ud);o(this,"decoder",new ld)}}const ae=new hd;new T(new A(ae),new D(ae));class ut{constructor(e){o(this,"blockDetail");this.blockDetail=e}toJSON(){return ht.encode(this)}}class pd{convert(e){return l(e,"block_detail"),new ut(ae.decode(e.block_detail))}}class md{convert(e){return h(e,ut),{block_detail:ae.encode(e.blockDetail)}}}class wd extends b{constructor(){super(...arguments);o(this,"encoder",new md);o(this,"decoder",new pd)}}const ht=new wd;class pt{constructor(e){o(this,"limit");this.limit=e}static latest(e){return new fn(e)}static from(e,t){return new gn(e,t)}toJSON(){return wn.encode(this)}}class fd{convert(e){return h(e,pt),Co(e.from)?{from:s.encode(e.from),limit:s.encode(e.limit)}:{from:p.encode(e.from),limit:s.encode(e.limit)}}}class gd{convert(e){return l(e,"from","limit"),e.from===we?new fn(s.decode(e.limit)):new gn(s.decode(e.from),s.decode(e.limit))}}class Cd extends b{constructor(){super(...arguments);o(this,"encoder",new fd);o(this,"decoder",new gd)}}const wn=new Cd;class fn extends pt{constructor(e){super(e)}get from(){return we}}class gn extends pt{constructor(t,n){super(n);o(this,"from");this.from=t}}class mt{constructor(e,t,n,c,a,i){o(this,"hash");o(this,"height");o(this,"proposerID");o(this,"numTransactions");o(this,"size");o(this,"time");this.hash=e,this.height=t,this.proposerID=n,this.numTransactions=c,this.size=a,this.time=i}toJSON(){return wt.encode(this)}}class yd{convert(e){return l(e,"hash","height","proposer_id","num_transactions","size","time"),new mt(w.decode(e.hash),s.decode(e.height),re.decode(e.proposer_id),s.decode(e.num_transactions),s.decode(e.size),te.decode(e.time))}}class vd{convert(e){return h(e,mt),{hash:w.encode(e.hash),height:s.encode(e.height),proposer_id:re.encode(e.proposerID),num_transactions:s.encode(e.numTransactions),size:s.encode(e.size),time:te.encode(e.time)}}}class Ed extends b{constructor(){super(...arguments);o(this,"encoder",new vd);o(this,"decoder",new yd)}}const wt=new Ed,fe=new T(new A(wt),new D(wt));class ft{constructor(e){o(this,"blockSummaries");this.blockSummaries=e}toJSON(){return gt.encode(this)}}class xd{convert(e){return l(e,"block_summaries"),new ft(fe.decode(e.block_summaries))}}class bd{convert(e){return h(e,ft),{block_summaries:fe.encode(e.blockSummaries)}}}class Sd extends b{constructor(){super(...arguments);o(this,"encoder",new bd);o(this,"decoder",new xd)}}const gt=new Sd;class Ct{constructor(e,t,n){o(this,"rollups");o(this,"transactions");o(this,"blocks");this.rollups=e,this.transactions=t,this.blocks=n}toJSON(){return yt.encode(this)}}class kd{convert(e){return l(e,"rollups","transactions","blocks"),new Ct(s.decode(e.rollups),s.decode(e.transactions),s.decode(e.blocks))}}class Id{convert(e){return h(e,Ct),{rollups:s.encode(e.rollups),transactions:s.encode(e.transactions),blocks:s.encode(e.blocks)}}}class Rd extends d{constructor(){super(...arguments);o(this,"encoder",new Id);o(this,"decoder",new kd)}}const yt=new Rd;function Bd(r,e){return r.blockHeights-e.blockHeights}class vt{constructor(e,t,n,c){o(this,"blockTime");o(this,"blockSize");o(this,"blockTransactions");o(this,"blockHeights");const a=[],i=Math.min(e.length,t.length,n.length,c.length);for(let P=0;P<i;P++){const I=c[P];I!==null&&a.push({blockTime:e[P],blockSize:t[P],blockTransactions:n[P],blockHeights:I})}a.sort(Bd);const u=a[0].blockHeights,f=a[a.length-1].blockHeights,m=[],C=[],g=[],S=[];for(let P=u,I=0;P<=f;P++){const W=a[I];if(W.blockHeights!==P){m.push(null),C.push(null),g.push(null),S.push(null);continue}m.push(W.blockTime),C.push(W.blockSize),g.push(W.blockTransactions),S.push(W.blockHeights),I++}const F=Math.max(0,S.length-50);this.blockTime=m.slice(F),this.blockSize=C.slice(F),this.blockTransactions=g.slice(F),this.blockHeights=S.slice(F)}toJSON(){return Et.encode(this)}}class Ad{convert(e){return l(e,"block_time","block_size","block_transactions","block_heights"),new vt(Z.decode(e.block_time),Z.decode(e.block_size),Z.decode(e.block_transactions),Z.decode(e.block_heights))}}class Dd{convert(e){return h(e,vt),{block_time:Z.encode(e.blockTime),block_size:Z.encode(e.blockSize),block_transactions:Z.encode(e.blockTransactions),block_heights:Z.encode(e.blockHeights)}}}class Td extends d{constructor(){super(...arguments);o(this,"encoder",new Dd);o(this,"decoder",new Ad)}}const Et=new Td,Cn=q;class $e{constructor(e,t,n,c,a,i){o(this,"hash");o(this,"rollups");o(this,"height");o(this,"time");o(this,"offset");o(this,"numTransactions");this.hash=e,this.rollups=t,this.height=n,this.time=c,this.offset=a,this.numTransactions=i}toJSON(){return xt.encode(this)}}class _d{convert(e){return l(e,"hash","rollups","height","time","offset","num_transactions"),new $e(w.decode(e.hash),Cn.decode(e.rollups),s.decode(e.height),te.decode(e.time),s.decode(e.offset),s.decode(e.num_transactions))}}class Pd{convert(e){return h(e,$e),{hash:w.encode(e.hash),rollups:Cn.encode(e.rollups),height:s.encode(e.height),time:te.encode(e.time),offset:s.encode(e.offset),num_transactions:s.encode(e.numTransactions)}}}class Nd extends d{constructor(){super(...arguments);o(this,"encoder",new Pd);o(this,"decoder",new _d)}}const xt=new Nd,ge=new T(new A(xt),new D(xt));class bt{constructor(e,t,n,c,a){o(this,"latestBlock");o(this,"genesisOverview");o(this,"latestBlocks");o(this,"latestTransactions");o(this,"histograms");this.latestBlock=e,this.genesisOverview=t,this.latestBlocks=n,this.latestTransactions=c,this.histograms=a}toJSON(){return St.encode(this)}}class Ud{convert(e){return l(e,"latest_block","genesis_overview","latest_blocks","latest_transactions","histograms"),new bt(ae.decode(e.latest_block),yt.decode(e.genesis_overview),fe.decode(e.latest_blocks),ge.decode(e.latest_transactions),Et.decode(e.histograms))}}class Od{convert(e){return h(e,bt),{latest_block:ae.encode(e.latestBlock),genesis_overview:yt.encode(e.genesisOverview),latest_blocks:fe.encode(e.latestBlocks),latest_transactions:ge.encode(e.latestTransactions),histograms:Et.encode(e.histograms)}}}class Ld extends d{constructor(){super(...arguments);o(this,"encoder",new Od);o(this,"decoder",new Ud)}}const St=new Ld;class kt{constructor(e){o(this,"explorerSummary");this.explorerSummary=e}toJSON(){return It.encode(this)}}class Md{convert(e){return l(e,"explorer_summary"),new kt(St.decode(e.explorer_summary))}}class Fd{convert(e){return h(e,kt),{explorer_summary:St.encode(e.explorerSummary)}}}class Hd extends d{constructor(){super(...arguments);o(this,"encoder",new Fd);o(this,"decoder",new Md)}}const It=new Hd;class yn{constructor(e){o(this,"query");this.query=e}toJSON(){return vn.encode(this)}}class zd{convert(e){return h(e,yn),p.encode(e.query)}}class Gd{convert(e){return new yn(p.decode(e))}}class Wd extends b{constructor(){super(...arguments);o(this,"encoder",new zd);o(this,"decoder",new Gd)}}const vn=new Wd;class Rt{constructor(e,t){o(this,"blocks");o(this,"transactions");this.blocks=e,this.transactions=t}toJSON(){return Bt.encode(this)}}class Jd{convert(e){return l(e,"blocks","transactions"),new Rt(fe.decode(e.blocks),ge.decode(e.transactions))}}class qd{convert(e){return h(e,Rt),{blocks:fe.encode(e.blocks),transactions:ge.encode(e.transactions)}}}class jd extends b{constructor(){super(...arguments);o(this,"encoder",new qd);o(this,"decoder",new Jd)}}const Bt=new jd;class At{constructor(e){o(this,"searchResults");this.searchResults=e}toJSON(){return Dt.encode(this)}}class Vd{convert(e){return l(e,"search_results"),new At(Bt.decode(e.search_results))}}class $d{convert(e){return h(e,At),{search_results:Bt.encode(e.searchResults)}}}class Qd extends b{constructor(){super(...arguments);o(this,"encoder",new $d);o(this,"decoder",new Vd)}}const Dt=new Qd;class Tt{static heightAndOffset(e,t){return new Ae(e,t)}static hash(e){return new De(e)}toJSON(){return En.encode(this)}}class Xd{convert(e){if(h(e,Tt),e instanceof Ae)return{height:s.encode(e.height),offset:s.encode(e.offset)};if(e instanceof De)return{hash:w.encode(e.hash)};throw new L}}class Kd{convert(e){if(M(e,"height",U)&&M(e,"offset",U))return new Ae(s.decode(e.height),s.decode(e.offset));if(M(e,"hash",U))return new De(w.decode(e.hash));throw new L}}class Yd extends d{constructor(){super(...arguments);o(this,"encoder",new Xd);o(this,"decoder",new Kd)}}const En=new Yd;class Ae extends Tt{constructor(t,n){super();o(this,"height");o(this,"offset");this.height=t,this.offset=n}}class De extends Tt{constructor(t){super();o(this,"hash");this.hash=t}}const xn=s;class _t{constructor(e,t){o(this,"namespace");o(this,"payload");this.namespace=e,this.payload=t}toJSON(){return Pt.encode(this)}}class Zd{convert(e){return l(e,"namespace","payload"),new _t(xn.decode(e.namespace),qo.decode(e.payload))}}class el{convert(e){return h(e,_t),{namespace:xn.encode(e.namespace),payload:qo.encode(e.payload)}}}class rl extends d{constructor(){super(...arguments);o(this,"encoder",new el);o(this,"decoder",new Zd)}}const Pt=new rl,bn=new T(new A(Pt),new D(Pt));class Nt{constructor(e,t,n,c,a,i,u,f,m){o(this,"hash");o(this,"height");o(this,"blockConfirmed");o(this,"offset");o(this,"numTransactions");o(this,"size");o(this,"time");o(this,"sequencingFees");o(this,"feeDetails");this.hash=e,this.height=t,this.blockConfirmed=n,this.offset=c,this.numTransactions=a,this.size=i,this.time=u,this.sequencingFees=f,this.feeDetails=m}toJSON(){return Ut.encode(this)}}class tl{convert(e){return l(e,"hash","height","block_confirmed","offset","num_transactions","size","time","sequencing_fees","fee_details"),new Nt(w.decode(e.hash),s.decode(e.height),ze.decode(e.block_confirmed),s.decode(e.offset),s.decode(e.num_transactions),s.decode(e.size),te.decode(e.time),[],[])}}class ol{convert(e){return h(e,Nt),{hash:w.encode(e.hash),height:s.encode(e.height),block_confirmed:ze.encode(e.blockConfirmed),offset:s.encode(e.offset),num_transactions:s.encode(e.numTransactions),size:s.encode(e.size),time:te.encode(e.time),sequencing_fees:[],fee_details:[]}}}class nl extends d{constructor(){super(...arguments);o(this,"encoder",new ol);o(this,"decoder",new tl)}}const Ut=new nl;class Ot{constructor(e,t){o(this,"details");o(this,"data");this.details=e,this.data=t}toJSON(){return Lt.encode(this)}}class cl{convert(e){return l(e,"details","data"),new Ot(Ut.decode(e.details),bn.decode(e.data))}}class sl{convert(e){return h(e,Ot),{details:Ut.encode(e.details),data:bn.encode(e.data)}}}class al extends d{constructor(){super(...arguments);o(this,"encoder",new sl);o(this,"decoder",new cl)}}const Lt=new al;class Qe{constructor(e){o(this,"transactionDetail");this.transactionDetail=e}toJSON(){return Mt.encode(this)}}class il{convert(e){return l(e,"transaction_detail"),new Qe(Lt.decode(e.transaction_detail))}}class dl{convert(e){return h(e,Qe),{transaction_detail:Lt.encode(e.transactionDetail)}}}class ll extends b{constructor(){super(...arguments);o(this,"encoder",new dl);o(this,"decoder",new il)}}const Mt=new ll;class Xe{constructor(){}static block(e){return new Ke(e)}static namespace(e){return new Ye(e)}static none(){return new Ht}toJSON(){return Ft.encode(this)}}class ul{convert(e){return M(e,"block",U)?new Ke(s.decode(e.block)):M(e,"namespace",U)?new Ye(s.decode(e.namespace)):new Ht}}class hl{convert(e){if(h(e,Xe),e instanceof Ht)return{};if(e instanceof Ke)return{block:s.encode(e.block)};if(e instanceof Ye)return{namespace:s.encode(e.namespace)};throw new L}}class pl extends b{constructor(){super(...arguments);o(this,"encoder",new hl);o(this,"decoder",new ul)}}const Ft=new pl;class Ht extends Xe{constructor(){super()}convertURL(e){return e}}class Ke extends Xe{constructor(t){super();o(this,"block");this.block=t}convertURL(t){return new URL(`${t.pathname}/block/${this.block}`,t)}}class Ye extends Xe{constructor(t){super();o(this,"namespace");this.namespace=t}convertURL(t){return new URL(`${t.pathname}/namespace/${this.namespace}`,t)}}class Ze{constructor(e){o(this,"limit");this.limit=e}static latest(e){return new er(e)}static heightAndOffset(e,t,n){return new rr(e,t,n)}static hash(e,t){return new tr(e,t)}toJSON(){return zt.encode(this)}}class ml{convert(e){return l(e,"limit"),M(e,"height",U)&&M(e,"offset",U)?new rr(s.decode(e.height),s.decode(e.offset),s.decode(e.limit)):M(e,"hash",U)?new tr(w.decode(e.hash),s.decode(e.limit)):new er(s.decode(e.limit))}}class wl{convert(e){if(h(e,Ze),e instanceof er)return{limit:s.encode(e.limit)};if(e instanceof rr)return{height:s.encode(e.height),offset:s.encode(e.offset),limit:s.encode(e.limit)};if(e instanceof tr)return{hash:w.encode(e.hash),limit:s.encode(e.limit)};throw new L}}class fl extends b{constructor(){super(...arguments);o(this,"encoder",new wl);o(this,"decoder",new ml)}}const zt=new fl;class er extends Ze{constructor(e){super(e)}convertURL(e){return new URL(`transactions/latest/${this.limit}`,e)}}class rr extends Ze{constructor(t,n,c){super(c);o(this,"height");o(this,"offset");this.height=t,this.offset=n}convertURL(t){return new URL(`transactions/from/${this.height}/${this.offset}/${this.limit}`,t)}}class tr extends Ze{constructor(t,n){super(n);o(this,"hash");this.hash=t}convertURL(t){return new URL(`transactions/hash/${this.hash}/${this.limit}`,t)}}class Sn{constructor(e,t){o(this,"target");o(this,"filter");this.target=e,this.filter=t}toJSON(){return kn.encode(this)}}class gl{convert(e){return l(e,"filter","target"),new Sn(zt.decode(e.target),Ft.decode(e.filter))}}class Cl{convert(e){return h(e,Sn),{filter:Ft.encode(e.filter),target:zt.encode(e.target)}}}class yl extends b{constructor(){super(...arguments);o(this,"encoder",new Cl);o(this,"decoder",new gl)}}const kn=new yl;class Te{constructor(e){o(this,"transactionSummaries");this.transactionSummaries=e}toJSON(){return Gt.encode(this)}}class vl{convert(e){return l(e,"transaction_summaries"),new Te(ge.decode(e.transaction_summaries))}}class El{convert(e){return h(e,Te),{transaction_summaries:ge.encode(e.transactionSummaries)}}}class xl extends b{constructor(){super(...arguments);o(this,"encoder",new El);o(this,"decoder",new vl)}}const Gt=new xl;class k{constructor(e,t,n,c){o(this,"namespace");o(this,"name");o(this,"site");o(this,"blockExplorer");this.namespace=e,this.name=t,this.site=n,this.blockExplorer=c}}const bl=new k(202374881,"Vienna",new URL("https://vienna.caldera.dev/"),new URL("https://vienna.calderaexplorer.xyz/")),Sl=new k(202374882,"OP Stack",new URL("https://stack.optimism.io/"),new URL("https://www.blockscout.com/")),kl=new k(33914988448,"Arbitrum",new URL("https://arbitrum.io/"),new URL("https://arbiscan.io/")),Il=new k(33914988449,"Eigen Layer",new URL("https://www.eigenlayer.xyz/"),new URL("https://www.blockscout.com/")),Rl=new k(33914988450,"Spire",new URL("https://www.spire.dev/"),new URL("https://www.blockscout.com/")),Bl=new k(33914988451,"Alt Layer",new URL("https://altlayer.io/"),new URL("https://www.blockscout.com/")),Al=new k(33914988452,"Caldera",new URL("https://www.caldera.xyz/"),new URL("https://www.blockscout.com/")),Dl=new k(33914988453,"Vistara Labs",new URL("https://vistara.dev/"),new URL("https://www.blockscout.com/")),Tl=new k(33914988454,"Polygon",new URL("https://polygon.technology/"),new URL("https://www.blockscout.com/")),_l=new k(263,"Milan",new URL("https://milan.caldera.dev/"),new URL("https://milan-devnet.explorer.caldera.xyz/")),Pl=new k(41234687,"Kyoto",new URL("https://example.com/"),new URL("https://kyoto-explorer.altlayer.io/")),Nl=new k(1918988905,"RARI",new URL("https://rarichain.org/"),new URL("https://explorer.rarichain.org/")),Ul=new k(1380012617,"RARI",new URL("https://rarichain.org/"),new URL("https://mainnet.explorer.rarichain.org/")),Ol=new k(9369,"LogX",new URL("https://logx.network/"),new URL("https://kartel-testnet-explorer.alt.technology/")),Ll=new k(936369,"LogX",new URL("https://logx.network/"),new URL("https://vzjuxmhfn70kgnlds27h-explorer.alt.technology")),Ml=new k(4661,"AppChain",new URL("https://appchain.xyz/"),new URL("https://appchaintestnet.explorer.caldera.xyz/")),Fl=new k(360,"Molten",new URL("https://www.moltennetwork.com/"),new URL("https://molten.explorer.caldera.dev/")),Hl=new k(3609,"Molten",new URL("https://www.moltennetwork.com/"),new URL("https://molten.explorer.caldera.dev/")),zl=1397311310,In=new k(zl,"Infinite Garden",new URL("https://infinitegarden.espressosys.com/"),new URL("https://explorer.main.net.espressosys.com/")),Gl=[In,Ul,Ll,Fl],Wl=[In,Nl,Ol,Ml,Hl],Jl=new Map([bl,Sl,kl,Tl,Il,Rl,Bl,Al,Dl,_l,Pl,...Gl,...Wl].map(r=>[r.namespace,r])),Rn=["Residential","Mobile","Enterprise","AWS","Azure","GCP"],Bn=["Espresso v1.0","Espresso v1.1","Espresso v1.2","Espresso v1.3","Espresso v1.4"],An=["Linux","Unix","Windows","MacOS"],Dn=[["Espresso","https://espressosys.com/"],["BlockDaemon","https://www.blockdaemon.com/"],["Unit 410","https://unit410.com/"],["Nethermind","https://www.nethermind.io/"],["Sub7","https://sub7.xyz/"],["KudasaiJP","https://kudasai.co.jp/"],["Informal Systems","https://informal.systems/"],["P2P","https://p2p.org/"],["LinkPool","https://linkpool.com/"],["ZKV","https://zkvalidator.com/"],["Figment","https://figment.io/"]],or=2147483648,ql=1103515245,jl=12345;class nr{constructor(e){o(this,"state");this.state=e!==void 0?e:Math.floor(Math.random()*(or-1))}nextInt(){return this.state=(ql*this.state+jl)%or,this.state}nextFloat(){return this.nextInt()/(or-1)}nextRange(e,t){const n=t-e,c=this.nextInt()/or;return e+Math.floor(c*n)}fillBytes(e){const t=new ArrayBuffer(e),n=new DataView(t);let c=0;for(;c<e-4;c+=4)n.setUint32(c,this.nextRange(0,4294967295));for(let a=c;a<e;a++)n.setUint8(a,this.nextRange(0,256));return t}}const Vl=[[["Mexico City",19.4333,-99.1333,"MX"],["Guadalajara",20.6767,-103.3475,"MX"],["Monterrey",25.6667,-100.3,"MX"],["Guatemala City",14.6133,-90.5353,"GT"],["Tijuana",32.525,-117.0333,"MX"],["Ecatepec",19.6097,-99.06,"MX"],["Tegucigalpa",14.1058,-87.2047,"HN"],["León de los Aldama",21.1167,-101.6833,"MX"],["San José",9.9325,-84.08,"CR"],["Panama City",8.9833,-79.5167,"PA"],["Juárez",31.745,-106.485,"MX"],["Comayagüela",14.098,-87.21,"HN"],["Mexicali",32.6633,-115.4678,"MX"],["Nezahualcóyotl",19.4081,-99.0186,"MX"],["Managua",12.1364,-86.2514,"NI"],["Morelia",19.7683,-101.1894,"MX"],["Aguascalientes",21.876,-102.296,"MX"],["Mérida",20.97,-89.62,"MX"],["Saltillo",25.4231,-100.9919,"MX"],["Culiacán",24.8069,-107.3939,"MX"]],[["Havana",23.1367,-82.3589,"CU"],["San Juan",18.3985,-66.061,"PR"],["Santiago",19.4572,-70.6889,"DO"],["Santo Domingo",18.4667,-69.95,"DO"],["Port-au-Prince",18.5333,-72.3333,"HT"],["Santo Domingo Este",18.4855,-69.8734,"DO"],["Kingston",17.9714,-76.7931,"JM"],["Carrefour",18.5344,-72.4094,"HT"],["Santiago de Cuba",20.0217,-75.8294,"CU"],["Pétion-Ville",18.5128,-72.2864,"HT"],["Holguín",20.8869,-76.2592,"CU"],["Gonaïves",19.4456,-72.6883,"HT"],["Camagüey",21.3839,-77.9075,"CU"],["Puerto Plata",19.8,-70.6833,"DO"],["Croix-des-Bouquets",18.5761,-72.2269,"HT"],["Nassau",25.0781,-77.3386,"BS"],["Fort-de-France",14.6,-61.0667,"MQ"],["Higüey",18.6167,-68.7,"DO"],["Santa Clara",22.4069,-79.9649,"CU"],["Bayamo",20.3817,-76.6428,"CU"]],[["Cairo",30.0444,31.2358,"EG"],["Lagos",6.455,3.3841,"NG"],["Kinshasa",-4.3219,15.3119,"CD"],["Luanda",-8.8383,13.2344,"AO"],["Johannesburg",-26.2044,28.0456,"ZA"],["Dar es Salaam",-6.8161,39.2803,"TZ"],["Douala",4.05,9.7,"CM"],["Giza",29.987,31.2118,"EG"],["Abidjan",5.3167,-4.0333,"CI"],["Cape Town",-33.9253,18.4239,"ZA"],["Bamako",12.6392,-8.0028,"ML"],["Abuja",9.0667,7.4833,"NG"],["Ibadan",7.3964,3.9167,"NG"],["Addis Ababa",9.03,38.74,"ET"],["Mbuji-Mayi",-6.15,23.6,"CD"],["Mogadishu",2.0392,45.3419,"SO"],["Lusaka",-15.4167,28.2833,"ZM"],["Antananarivo",-18.91,47.525,"MG"],["Awka",6.2069,7.0678,"NG"],["Bamenda",5.9614,10.1517,"CM"]],[["Tokyo",35.6897,139.6922,"JP"],["Delhi",28.61,77.23,"IN"],["Manila",14.5958,120.9772,"PH"],["Dhaka",23.7639,90.3889,"BD"],["Moscow",55.7558,37.6172,"RU"],["Ho Chi Minh City",10.7756,106.7019,"VN"],["Xi’an",34.2611,108.9422,"CN"],["Dongguan",23.021,113.752,"CN"],["Tongshan",34.204,117.284,"CN"],["Jining",35.4151,116.5871,"CN"],["Cangzhou",38.3047,116.8387,"CN"],["Shaoyang",27.2395,111.4679,"CN"],["Dalian",38.9,121.6,"CN"],["Ankara",39.93,32.85,"TR"],["Zhangzhou",24.513,117.647,"CN"],["Changsha",28.228,112.939,"CN"],["Ürümqi",43.8225,87.6125,"CN"],["Ningbo",29.8603,121.6245,"CN"],["Suihua",46.654,126.969,"CN"],["Deyang",31.127,104.398,"CN"]],[["London",51.5072,-.1275,"GB"],["Madrid",40.4169,-3.7033,"ES"],["Berlin",52.52,13.405,"DE"],["Barcelona",41.3828,2.1769,"ES"],["Athens",37.9842,23.7281,"GR"],["Budapest",47.4925,19.0514,"HU"],["Birmingham",52.48,-1.9025,"GB"],["Stuttgart",48.7775,9.18,"DE"],["Munich",48.1375,11.575,"DE"],["Hamburg",53.55,10,"DE"],["Bucharest",44.4325,26.1039,"RO"],["Vienna",48.2083,16.3725,"AT"],["Stockholm",59.3294,18.0686,"SE"],["Minsk",53.9,27.5667,"BY"],["Warsaw",52.23,21.0111,"PL"],["Valencia",39.47,-.3764,"ES"],["Amsterdam",52.3728,4.8936,"NL"],["Copenhagen",55.6761,12.5683,"DK"],["Porto",41.1621,-8.622,"PT"],["Brussels",50.8467,4.3525,"BE"]],[["New York",40.6943,-73.9249,"US"],["Los Angeles",34.1141,-118.4068,"US"],["Chicago",41.8375,-87.6866,"US"],["Miami",25.784,-80.2101,"US"],["Dallas",32.7935,-96.7667,"US"],["Philadelphia",40.0077,-75.1339,"US"],["Atlanta",33.7628,-84.422,"US"],["Boston",42.3188,-71.0852,"US"],["Phoenix",33.5722,-112.0892,"US"],["Detroit",42.3834,-83.1024,"US"],["Seattle",47.6211,-122.3244,"US"],["San Francisco",37.7558,-122.4449,"US"],["San Diego",32.8313,-117.1222,"US"],["Minneapolis",44.9635,-93.2678,"US"],["Brooklyn",40.6501,-73.9496,"US"],["Vancouver",49.25,-123.1,"CA"],["Riverside",33.9381,-117.3949,"US"],["Baltimore",39.3051,-76.6144,"US"],["Portland",45.5371,-122.65,"US"],["Sacramento",38.5677,-121.4685,"US"]],[["Melbourne",-37.8142,144.9631,"AU"],["Sydney",-33.8678,151.21,"AU"],["Brisbane",-27.4678,153.0281,"AU"],["Perth",-31.9559,115.8606,"AU"],["Auckland",-36.8406,174.74,"NZ"],["Adelaide",-34.9275,138.6,"AU"],["Port Moresby",-9.4789,147.1494,"PG"],["Gold Coast",-28.0167,153.4,"AU"],["Cranbourne",-38.0996,145.2834,"AU"],["Christchurch",-43.531,172.6365,"NZ"],["Manukau City",-37,174.885,"NZ"],["Central Coast",-33.3,151.2,"AU"],["Wollongong",-34.4331,150.8831,"AU"],["Ipswich",-27.6144,152.7608,"AU"],["Wellington",-41.2889,174.7772,"NZ"],["Northcote",-36.8019,174.7494,"NZ"],["Hobart",-42.8806,147.325,"AU"],["Lae",-6.7303,147.0008,"PG"],["Suva",-18.1416,178.4419,"FJ"],["Nouméa",-22.2758,166.458,"NC"]],[["São Paulo",-23.55,-46.6333,"BR"],["Buenos Aires",-34.6033,-58.3817,"AR"],["Rio de Janeiro",-22.9111,-43.2056,"BR"],["Lima",-12.06,-77.0375,"PE"],["Bogotá",4.7111,-74.0722,"CO"],["Santiago",-33.4372,-70.6506,"CL"],["Belo Horizonte",-19.9167,-43.9333,"BR"],["Fortaleza",-3.7275,-38.5275,"BR"],["Santa Cruz de la Sierra",-17.7892,-63.1975,"BO"],["La Paz",-16.4958,-68.1333,"BO"],["Guayaquil",-2.19,-79.8875,"EC"],["Medellín",6.2308,-75.5906,"CO"],["Salvador",-12.9747,-38.4767,"BR"],["Caracas",10.4806,-66.9036,"VE"],["Córdoba",-31.4167,-64.1833,"AR"],["Santos",-23.9369,-46.325,"BR"],["Curitiba",-25.4297,-49.2711,"BR"],["Maracaibo",10.6333,-71.6333,"VE"],["Recife",-8.05,-34.9,"BR"],["Porto Alegre",-30.0331,-51.23,"BR"]]],Tn=[0,0,5,26,28,26,9,6],$l=Tn.reduce((r,e)=>r+e,0),Ql=Tn.reduce((r,e)=>{const t=r[r.length-1]??0;return r.push(t+e),r},[]),Xl=Array.from(Qs(Ql,Vl,(r,e)=>[r,e])),cr=new Date,Wt=new Date(cr.getFullYear(),cr.getMonth(),cr.getDate()).valueOf();async function*Kl(){}function Yl(){const r=new Uint8Array(new Array(20).map(()=>0)).buffer;return{hash:new x("BLOCK",r),height:0,time:new Date(0),genTime:0,transactions:Kl(),numTransactions:0,proposer:[],size:0,fees:[]}}async function*Zl(r){let e=1,t=Wt;for(;t<cr.valueOf();){const n=Math.floor(r.nextFloat()*14*1e3);yield eu(new nr(e+n),e,t,t+n),t+=n,e++}}async function*N(r=new nr(Wt)){yield Yl(),yield*Zl(r)}function eu(r,e,t,n){const c=Math.floor(r.nextRange(0,5)),a=r.nextRange(0,Pn.length),i=Pn[a];return{hash:new x("BLOCK",r.fillBytes(32)),height:e,genTime:n-t,time:new Date(n),numTransactions:c,transactions:tu(new nr(e+t),e,t,n,c),proposer:[i.address],size:Math.floor(r.nextFloat()*1024*c)+8,fees:[z.ESP(BigInt(r.nextRange(0,1e9)*1e3))]}}const _n=Array.from(Jl.keys());function ru(r){return r.nextFloat()>.98?1:_n[r.nextRange(0,_n.length)]}async function*tu(r,e,t,n,c){const a=(n-t)/c;for(let i=0,u=t;u<n;u+=a,i++){const f=ru(r),m=Math.floor(1024*r.nextFloat());yield{block:e,index:i,size:m,hash:new x("COMMIT",r.fillBytes(32)),time:new Date(u),sender:new x("PUBKEY",r.fillBytes(32)),tree:{namespace:f,data:r.fillBytes(m)}}}}function ou(r){const e=r.nextRange(0,$l),t=Hs(Xl,([i])=>i<=e),[,n]=qs(t),c=r.nextRange(0,n.length);return n[c]}function nu(r){const e=r.nextRange(0,Dn.length);return Dn[e]}function cu(r){const e=r.nextRange(0,An.length);return An[e]}function su(r){const e=r.nextRange(0,Bn.length);return Bn[e]}function au(r){const e=r.nextRange(0,Rn.length);return Rn[e]}function iu(r){const[e,t]=nu(r),[,n,c,a]=ou(r),i=cu(r),u=su(r),f=au(r);return{pubkey:new x("PUBKEY",r.fillBytes(32)),name:`${e} Node ${a} ${r.nextRange(0,100)}`,address:r.fillBytes(32),company:{name:e,website:t},location:{coords:[n,c],country:a},operatingSystem:i,networkType:f,nodeType:u}}function*du(){const r=new nr(Wt),e=r.nextRange(50,150);for(let t=0;t<e;t++)yield iu(r)}const Pn=Array.from(du());async function*lu(r){for(let e=r.next();!e.done;e=r.next())yield e.value}function uu(r){return lu(r[Symbol.iterator]())}async function*hu(r){for(let e=await r.next();!e.done;e=await r.next())yield e.value}async function*Jt(r,e){for(let t=await r.next();!t.done;t=await r.next())e(t.value)&&(yield t.value)}function Nn(r,e){return Jt(r[Symbol.asyncIterator](),e)}async function*ie(r,e){for(let t=await r.next();!t.done;t=await r.next())yield await e(t.value)}function Q(r,e){return ie(r[Symbol.asyncIterator](),e)}async function*oe(r,e){for(let t=0;t<e;t++){const n=await r.next();if(n.done)return;yield n.value}}function qt(r,e){return oe(r[Symbol.asyncIterator](),e)}async function*jt(r,e){for(let t=await r.next();!t.done&&e(t.value);t=await r.next())yield t.value}function Vt(r,e){return jt(r[Symbol.asyncIterator](),e)}async function*ne(r,e){for(let t=0;t<e;t++)if((await r.next()).done)return;yield*hu(r)}function sr(r,e){return ne(r[Symbol.asyncIterator](),e)}async function _e(r){const e=await r.next();if(e.done)throw new xe;return e.value}async function pu(r){return _e(r[Symbol.asyncIterator]())}async function mu(r,e){for(let t=await r.next();!t.done;t=await r.next())if(e(t.value))return t.value}async function wu(r,e){return mu(r[Symbol.asyncIterator](),e)}async function Un(r){let e;for(let t=await r.next();!t.done;t=await r.next())e=t.value;if(e===void 0)throw new xe;return e}async function fu(r){return Un(r[Symbol.asyncIterator]())}async function*On(r,e){for(let t=await r.next();!t.done;t=await r.next())yield*e(t.value)}function Ce(r,e){return On(r[Symbol.asyncIterator](),e)}async function*$t(r){yield*Vs(r)}async function gu(r,e,t){const n=t;let c=e;for(let a=await n.next();!a.done;a=await n.next())c=r(await c,a.value);return c}async function*ar(r){let e=null;for(let t=await r.next();!t.done;t=await r.next())e=Ns(e,t.value);yield*Fo(e)}function Pe(r){return ar(r[Symbol.asyncIterator]())}function X(r){return gu(async(e,t)=>(e.push(t),e),Promise.resolve([]),r)}async function Qt(r){return X(r[Symbol.asyncIterator]())}function ir(r){return new Mr(r.height,r.time.valueOf()/1e3,0,new Nr(0,"00","00"),[],new Or(new ArrayBuffer(0)),new x("MERKLE_COMM",new Uint8Array([0,0,0,0]).buffer),new x("MERKLE_COMM",new Uint8Array([0,0,0,0]).buffer),new Dr(new ArrayBuffer(0),new ArrayBuffer(0),0),new _r(new ArrayBuffer(0),new ArrayBuffer(0)))}async function Cu(r){return new Hr(ir(r),new Fr(await X(Q(r.transactions,async e=>new be(e.tree.namespace,Array.from(new Uint8Array(e.tree.data)))))),new x("BLOCK",new Uint8Array([0,0,0,0]).buffer),r.size,r.numTransactions)}function yu(r){return new Fe(ir(r),new x("BLOCK",new Uint8Array([0,0,0,0]).buffer),r.size,r.numTransactions,r.proposer)}function vu(r){const e=r.transactions,t=ir(r);return Q(e,async n=>new He(n.hash,t,n.index,new be(n.tree.namespace,Array.from(new Uint8Array(n.tree.data)))))}async function*Eu(r){const e=ir(r),t=r.transactions;yield*Q(t,async n=>new st(new be(n.tree.namespace,Array.from(new Uint8Array(n.tree.data))),new x("BLOCK",new Uint8Array([0,0,0,0]).buffer),new nt(new x("POS",new Uint8Array([0,0,0,0]).buffer),[new Je(new x("EMPTY",new Uint8Array([0,0,0,0]).buffer),[])]),e.height,new x("COMMIT",n.tree.data.slice(0,32))))}class xu{async getLeafFromHeight(e){const t=await this.getBlockFromHeight(e);return new Qr(new Vr(e,new We(new Ge(new x("EMPTY",new Uint8Array([0,0,0,0]).buffer)),new x("EMPTY",new Uint8Array([0,0,0,0]).buffer),e,null,!1,null),new x("LEAF",new Uint8Array([0,0,0,0]).buffer),t.header,t.payload,[],t.header.timestamp,t.header.fee_info.account),new We(new Ge(new x("EMPTY",new Uint8Array([0,0,0,0]).buffer)),new x("EMPTY",new Uint8Array([0,0,0,0]).buffer),e,null,!1,null))}async getTransactionFromHeightAndOffset(e,t){const n=await _e(ne(N(),e)),c=Eu(n);return await pu(sr(c,t))}async getBlockSummaries(e,t){const n=ne(N(),e),c=oe(n,t-e),a=ie(c,async i=>yu(i));return await X(a)}async getBlockFromHeight(e){const t=ne(N(),e),n=await _e(t);return Cu(n)}async*streamTransactionSummaries(e){const t=jt(N(),a=>a.height<=e),n=ar(t);yield*Ce(n,a=>Pe(vu(a)))}async getTransactionSummaryRange(e,t,n){const c=this.streamTransactionSummaries(e),a=ne(c,t),i=oe(a,n);return await X(i)}async getTransactionSummaryRangeForRollup(e,t,n,c){const a=this.streamTransactionSummaries(t),i=Jt(a,m=>m.transaction.vm===e),u=ne(i,n),f=oe(u,c);return await X(f)}}class Ne extends v{constructor(t,n,c){super(c);o(this,"response");o(this,"status");this.status=t,this.response=n}toJSON(){return Ln.convert(this)}}class dr{convert(e){return h(e,Ne),{...H.convert(e),status:e.status}}}const Ln=new dr,Xt="BadResponseClientError";class Mn extends Ne{constructor(e,t,n="bad server response: client error"){super(e,t,n),Object.freeze(this)}get code(){return Xt}toJSON(){return Fn.encode(this)}}class bu{convert(e){return l(e,"code","message","status"),y(e,Xt),new Mn(Number(e.status),null,p.decode(e.message))}}class Su extends dr{}class ku extends d{constructor(){super(...arguments);o(this,"encoder",new Su);o(this,"decoder",new bu)}}const Fn=new ku;E(Xt,Fn);const Kt="BadResponseError";class Hn extends Ne{constructor(e,t,n="bad server response"){super(e,t,n),Object.freeze(this)}get code(){return Kt}toJSON(){return zn.encode(this)}}class Iu{convert(e){return l(e,"code","message","status"),y(e,Kt),new Hn(Number(e.status),null,p.decode(e.message))}}class Ru extends dr{}class Bu extends d{constructor(){super(...arguments);o(this,"encoder",new Ru);o(this,"decoder",new Iu)}}const zn=new Bu;E(Kt,zn);class Gn extends Ne{constructor(e,t,n="bad server response: server error"){super(e,t,n),Object.freeze(this)}get code(){return Yt}}const Yt="BadResponseServerError";class Au{convert(e){return l(e,"code","message","status"),y(e,Yt),new Gn(Number(e.status),null,p.decode(e.message))}}class Du extends dr{}class Tu extends d{constructor(){super(...arguments);o(this,"encoder",new Du);o(this,"decoder",new Au)}}const _u=new Tu;E(Yt,_u);const Zt="ChannelClosedError";class Pu extends v{constructor(e="channel closed"){super(e),Object.freeze(this)}get code(){return Zt}}class Nu{convert(e){return l(e,"code","message"),y(e,Zt),new Pu(p.decode(e.message))}}class Uu extends O{}class Ou extends d{constructor(){super(...arguments);o(this,"encoder",new Uu);o(this,"decoder",new Nu)}}const Lu=new Ou;E(Zt,Lu);class Wn extends v{constructor(e="completer has already been completed"){super(e),Object.freeze(this)}get code(){return Jn}}const Jn="CompleterAlreadyCompletedError";class Mu{convert(e){return l(e,"code","message"),y(e,Jn),new Wn(p.decode(e.message))}}class Fu extends O{}class Hu extends d{constructor(){super(...arguments);o(this,"encoder",new Fu);o(this,"decoder",new Mu)}}const zu=new Hu;E(Wn.name,zu);const eo="InvalidStringValueError";class qn extends v{constructor(t,n,c=`invalid string value: have "${t}", want "${n}"`){super(c);o(this,"have");o(this,"want");this.have=t,this.want=n,Object.freeze(this)}toJSON(){return jn.encode(this)}get code(){return eo}}class Gu{convert(e){return l(e,"code","have","want","message"),y(e,eo),new qn(p.decode(e.have),p.decode(e.want),p.decode(e.message))}}class Wu{convert(e){return h(e,qn),{...H.convert(e),have:p.encode(e.have),want:p.encode(e.want)}}}class Ju extends d{constructor(){super(...arguments);o(this,"encoder",new Wu);o(this,"decoder",new Gu)}}const jn=new Ju;E(eo,jn);const ro="NoCompleterFoundForRequestID";class Vn extends v{constructor(t,n=`no completer found for request id "${t}"`){super(n);o(this,"requestID");this.requestID=t,Object.freeze(this)}toJSON(){return $n.encode(this)}get code(){return ro}}class qu{convert(e){return l(e,"code","requestID","message"),y(e,ro),new Vn(Oe.decode(e.requestID),p.decode(e.message))}}class ju{convert(e){return h(e,Vn),{...H.convert(e),requestID:Oe.encode(e.requestID)}}}class Vu extends d{constructor(){super(...arguments);o(this,"encoder",new ju);o(this,"decoder",new qu)}}const $n=new Vu;E(ro,$n);const to="NotFoundError";class Qn extends v{constructor(t,n=`Not Found: ${t}`){super(n);o(this,"key");this.key=t,Object.freeze(this)}get code(){return to}}class Xn{constructor(e){o(this,"codec");this.codec=e}convert(e){return l(e,"code","key"),y(e,to),new Qn(this.codec.decode(e.key))}}class Kn{constructor(e){o(this,"codec");this.codec=e}convert(e){return{...H.convert(e),key:this.codec.encode(e.key)}}}class Yn extends d{constructor(t,n){super();o(this,"encoder");o(this,"decoder");this.encoder=t,this.decoder=n}}new Yn(new Kn(p),new Xn(p));const $u=new Yn(new Kn(Oe),new Xn(Oe));E(to,$u);const oo="NoURLProvidedError";class Qu extends v{constructor(e="no url provided"){super(e),Object.freeze(this)}get code(){return oo}}class Xu{convert(e){return l(e,"code","message"),y(e,oo),new Qu(p.decode(e.message))}}class Ku extends O{}class Yu extends d{constructor(){super(...arguments);o(this,"encoder",new Ku);o(this,"decoder",new Xu)}}const Zu=new Yu;E(oo,Zu);const no="QUERY_ERROR";class eh extends v{constructor(t,n="missing element"){super(n);o(this,"error");this.error=t,Object.freeze(this)}get code(){return no}}class rh{convert(e){return l(e,"code","error","message"),y(e,no),new eh(tc.decode(e.error),p.decode(e.message))}}class th{convert(e){return{code:e.code,error:tc.encode(e.error),message:p.encode(e.message)}}}class oh extends d{constructor(){super(...arguments);o(this,"encoder",new th);o(this,"decoder",new rh)}}const nh=new oh;class co{}const so="NotFound";class Zn extends co{constructor(){super(),Object.freeze(this)}valueOf(){return so}toJSON(){return this.valueOf()}}const ch=new Zn,ao="Missing";class ec extends co{constructor(){super(),Object.freeze(this)}valueOf(){return ao}toJSON(){return this.valueOf()}}const sh=new ec;class rc extends co{constructor(t){super();o(this,"error");this.error=t,Object.freeze(this)}toJSON(){return lo.encode(this)}}class ah{constructor(e){o(this,"message");this.message=e,Object.freeze(this)}toJSON(){return io.encode(this)}}class ih{convert(e){return l(e,"message"),new ah(p.decode(e.message))}}class dh{convert(e){return{message:p.encode(e.message)}}}class lh extends d{constructor(){super(...arguments);o(this,"encoder",new dh);o(this,"decoder",new ih)}}const io=new lh;class uh{convert(e){return l(e,"Error"),new rc(io.decode(e.Error))}}class hh{convert(e){return{Error:io.encode(e.error)}}}class ph extends d{constructor(){super(...arguments);o(this,"encoder",new hh);o(this,"decoder",new uh)}}const lo=new ph;class mh{convert(e){return e===so?ch:e===ao?sh:lo.decode(e)}}class wh{convert(e){if(e instanceof Zn)return so;if(e instanceof ec)return ao;if(e instanceof rc)return lo.encode(e);throw new j}}class fh extends d{constructor(){super(...arguments);o(this,"encoder",new wh);o(this,"decoder",new mh)}}const tc=new fh;E(no,nh);const oc="ResponseContentTypeIsNotApplicationJSONError";class Ue extends Ne{constructor(t,n,c,a="response content type is not application/json"){super(n,c,a);o(this,"haveHeaderType");this.haveHeaderType=t,Object.freeze(this)}static fromResponse(t,n){return new Ue(t.headers.get("content-type")??"undefined",t.status,t,n)}toJSON(){return nc.encode(this)}get code(){return oc}}class gh{convert(e){return l(e,"code","status","have","want","message"),y(e,oc),new Ue(p.decode(e.code),s.decode(e.status),null,p.decode(e.message))}}class Ch{convert(e){return{...Ln.convert(e),have:p.encode(e.haveHeaderType),want:p.encode("application/json")}}}class yh extends d{constructor(){super(...arguments);o(this,"encoder",new Ch);o(this,"decoder",new gh)}}const nc=new yh;E(Ue.name,nc);const uo="WebWorkerErrorResponse";class vh extends v{constructor(t,n="error in web worker"){super(n);o(this,"error");this.error=t,Object.freeze(this)}toJSON(){return cc.encode(this)}get code(){return uo}}class Eh{convert(e){return l(e,"code","error","message"),y(e,uo),new vh(Y.decode(e.error),p.decode(e.message))}}class xh{convert(e){return{...H.convert(e),error:Y.encode(e.error)}}}class bh extends d{constructor(){super(...arguments);o(this,"encoder",new xh);o(this,"decoder",new Eh)}}const cc=new bh;E(uo,cc);var ho=(r=>(r[r.success=0]="success",r[r.full=1]="full",r[r.failed=2]="failed",r))(ho||{});class Sh{getFromEmpty(){}}class kh{getFromEmpty(){return null}}class Ih{getFromEmpty(){throw new xe}}const Rh={returnNull:new kh,returnUndefined:new Sh,throwMissingElement:new Ih};class Bh{constructor(e){o(this,"maxSize");B(!Number.isNaN(e),"maxSize must not be NaN"),B(Number.isInteger(e),"maxSize must be an integer"),B(e>0,"maxSize must be greater than 0"),this.maxSize=e}nextIndex(e){return B(e>=0,"index must be greater than or equal to 0"),(e+1)%this.maxSize}}class Ah{constructor(e){o(this,"preComputedSizeMinus1");B(!Number.isNaN(e),"maxSize must not be NaN"),B(Number.isInteger(e),"maxSize must be an integer"),B(e>0,"maxSize must be greater than 0"),B(sc(e),"maxSize must be a power of two"),this.preComputedSizeMinus1=e-1}nextIndex(e){return B(e>=0,"index must be greater than or equal to 0"),e+1&this.preComputedSizeMinus1}}function sc(r){return(r&r-1)===0}const po="BufferFullError";class ac extends v{constructor(e="buffer full"){super(e),Object.freeze(this)}get code(){return po}}class Dh{convert(e){return l(e,"code","message"),y(e,po),new ac(p.decode(e.message))}}class Th extends O{}class _h extends d{constructor(){super(...arguments);o(this,"encoder",new Th);o(this,"decoder",new Dh)}}const Ph=new _h;E(po,Ph);class Nh{putToFull(e,t){return e.get(),e.put(t)}}class Uh{putToFull(){return ho.full}}class Oh{putToFull(){throw new ac}}const Lh={overwriteOldest:new Nh,returnFull:new Uh,throw:new Oh};function Mh(r){return sc(r)?new Ah(r):new Bh(r)}class Fh{constructor(e,t,n){o(this,"readIndex",0);o(this,"writeIndex",0);o(this,"buffer");o(this,"nextIndex");o(this,"getOnEmpty");o(this,"putOnFull");B(!Number.isNaN(e),"maxSize must not be NaN"),this.buffer=new Array(e),this.nextIndex=Mh(e),this.getOnEmpty=t,this.putOnFull=n}get maxSize(){return this.buffer.length}get length(){return this.writeIndex<this.readIndex?this.writeIndex+this.maxSize-this.readIndex:this.writeIndex-this.readIndex}put(e){const t=this.nextIndex.nextIndex(this.writeIndex);return t===this.readIndex?this.putOnFull.putToFull(this,e):(this.buffer[this.writeIndex]=e,this.writeIndex=t,ho.success)}get(){if(this.readIndex===this.writeIndex)return this.getOnEmpty.getFromEmpty(this);const e=this.buffer[this.readIndex];return this.readIndex=this.nextIndex.nextIndex(this.readIndex),e}[Symbol.iterator](){return new Hh(this)}immutableIterable(){return{[Symbol.iterator]:()=>this.immutableIterator()}}immutableIterator(){return new zh(this.readIndex,this.writeIndex,this.buffer,this.nextIndex)}}class Hh{constructor(e){o(this,"buffer");this.buffer=e}next(){const e=this.buffer.get();return e==null?{value:void 0,done:!0}:{value:e,done:!1}}}class zh{constructor(e,t,n,c){o(this,"readIndex");o(this,"writeIndex");o(this,"buffer");o(this,"nextIndex");this.readIndex=e,this.writeIndex=t,this.buffer=n,this.nextIndex=c}next(){if(this.readIndex===this.writeIndex)return{value:void 0,done:!0};const e=this.buffer[this.readIndex];return this.readIndex=this.nextIndex.nextIndex(this.readIndex),{value:e,done:!1}}}function K(r=32,e=Rh.returnUndefined,t=Lh.overwriteOldest){return new Fh(r,e,t)}function ic(r){return new lt(r.hash,r.height,r.time,r.numTransactions,r.proposer,r.proposer,r.size,r.fees)}function mo(r){return new mt(r.hash,r.height,r.proposer,r.numTransactions,r.size,r.time)}function dc(r,e){return new Ot(new Nt(e.hash,e.block,!0,e.index,r.numTransactions,e.size,e.time,[],[]),[new _t(e.tree.namespace,e.tree.data)])}function lr(r,e){return new $e(e.hash,[e.tree.namespace],e.block,e.time,e.index,r.numTransactions)}class Gh{async getBlockDetail(e){const t=e.target,n=await(t===we?fu(N()):_e(sr(N(),t)));return new ut(ic(n))}async getBlockSummaries(e){const t=jt(N(),u=>e.from===we||u.height<=e.from),n=ar(t),c=oe(n,e.limit),a=ie(c,async u=>mo(u)),i=await X(a);return new ft(i)}async getTransactionDetail(e){const t=N();if(e instanceof Ae){const n=Vt(t,u=>u.height<=e.height),c=Ce(n,u=>Q(u.transactions,async f=>dc(u,f))),a=sr(Pe(c),e.offset),i=await _e(a);return new Qe(i)}if(e instanceof De){const n=Ce(t,a=>Q(a.transactions,async i=>dc(a,i))),c=await wu(n,a=>a.details.hash===e.hash);if(!c)throw new Qn(e.hash);return new Qe(c)}throw new j}applyFilter(e,t){return t instanceof Ke?Nn(e,n=>n.height==t.block):t instanceof Ye?Nn(e,n=>n.rollups.indexOf(t.namespace)>=0):e}async getTransactionSummaries(e){const t=N(),{target:n,filter:c}=e;if(n instanceof er){const i=Ce(t,C=>Q(C.transactions,async g=>lr(C,g))),u=Pe(i),f=this.applyFilter(u,c),m=await Qt(qt(f,n.limit));return new Te(m)}if(n instanceof rr){const a=Vt(t,g=>g.height<=n.height),i=Ce(a,g=>Q(g.transactions,async S=>lr(g,S))),u=Pe(i),f=sr(u,n.offset),m=this.applyFilter(f,c),C=await Qt(qt(m,n.limit));return new Te(C)}if(n instanceof tr){const a=N(),i=Ce(a,g=>Q(g.transactions,async S=>new $e(S.hash,[S.tree.namespace],S.block,S.time,S.index,g.numTransactions))),u=Vt(i,g=>g.hash!==n.hash),f=Pe(u),m=this.applyFilter(f,c),C=await Qt(qt(m,n.limit));return new Te(C)}throw new j}async getExplorerOverview(){let e;const t=K(11),n=K(51),c=K(51),a=K(51),i=K(51),u=K(11);let f=0,m=0;const C=new Map;for await(const g of N()){e=ic(g),t.put(mo(g)),n.put(g.size),c.put(Math.round(g.genTime/1e3)),a.put(g.numTransactions),i.put(g.height),f++,m+=g.numTransactions;for await(const S of g.transactions){u.put(lr(g,S));const F=C.get(S.tree.namespace)||0;C.set(S.tree.namespace,F+1)}}return new kt(new bt(e,new Ct(Array.from(C.keys()).length,m,f),Array.from(t),Array.from(u),new vt(Array.from(c),Array.from(n),Array.from(a),Array.from(i))))}async getSearchResult(e){const t=K(101),n=K(10),c=K(10);for await(const a of N())t.put(a);for(const a of t){a.hash.toString().startsWith(e.query)&&n.put(mo(a));for await(const i of a.transactions)i.hash.toString().startsWith(e.query)&&c.put(lr(a,i))}return new At(new Rt(Array.from(n),Array.from(c)))}}class Wh{async blockHeight(){return(await Un(N())).height}}class Jh{constructor(){o(this,"availability",new xu);o(this,"status",new Wh);o(this,"explorer",new Gh)}}function G(r,e){return async t=>(await qh(t,e),wo(t),r.convert(await t.json()))}async function qh(r,e){if(!r.ok){if(r.status>=500&&r.status<600){try{if(wo(r),e!==void 0){const t=await r.json();throw e.convert(t)}}catch(t){if(t instanceof v)throw t;console.error("encountered an error attempting to decode a server error from the server",t)}throw new Gn(r.status,r)}if(r.status>=400&&r.status<500){try{if(wo(r),e!==void 0){const t=await r.json();throw e.convert(t)}}catch(t){if(t instanceof v)throw t;console.error("encountered an error attempting to decode a client error from the server",t)}throw new Mn(r.status,r)}throw new Hn(r.status,r)}}function wo(r){const e=r.headers.get("content-type");if(!e||!e.startsWith("application/json"))throw Ue.fromResponse(r,e||"undefined")}class lc{constructor(e){o(this,"availability");this.availability=e}toJSON(){return uc.encode(this)}}class jh{convert(e){return l(e,"Availability"),new lc(Y.decode(e.Availability))}}class Vh{convert(e){return h(e,lc),{Availability:Y.encode(e.availability)}}}class $h extends d{constructor(){super(...arguments);o(this,"encoder",new Vh);o(this,"decoder",new jh)}}const uc=new $h;class Qh{convert(e){return uc.decode(e).availability}}const fo=new Qh;async function Xh(r,e){return new Fe(r.header,r.hash,r.size,r.payload.transaction_nmt.length,[e.leaf.proposer_id])}async function*Kh(r,e){const t=e[Symbol.asyncIterator]();yield*Q(uu(r.leaf.block_payload.transaction_nmt),async n=>{const c=r.leaf.block_payload.transaction_nmt.indexOf(n),a=await t.next();if(a.done)throw new Error("Not enough transactions");return new He(a.value.hash,r.leaf.block_header,c,n)})}class Yh{constructor(e,t){o(this,"fetcher");o(this,"baseURL");this.fetcher=e,this.baseURL=t}getLeafFromHeight(e){const t=new URL(`leaf/${e}`,this.baseURL);return this.fetcher(t).then(G(Xr.decoder,fo))}getTransactionFromHeightAndOffset(e,t){const n=new URL(`transaction/${e}/${t}`,this.baseURL);return this.fetcher(n).then(G(at.decoder,fo))}async getBlockSummaries(e,t){const n=$t(t-e),c=ie(n,i=>Promise.all([this.getBlockFromHeight(e+i),this.getLeafFromHeight(e+i)])),a=ie(c,([i,u])=>Xh(i,u));return await X(a)}getBlockFromHeight(e){const t=new URL(`block/${e}`,this.baseURL);return this.fetcher(t).then(G(zr.decoder,fo))}async*streamBlocksFromHeightRange(e,t){const n=$t(e),c=ie(n,i=>this.getLeafFromHeight(e-i)),a=On(c,i=>ar(Kh(i,ie($t(i.leaf.block_payload.transaction_nmt.length),u=>this.getTransactionFromHeightAndOffset(i.leaf.block_header.height,u)))));if(t===void 0){yield*a;return}yield*oe(a,t)}async getTransactionSummaryRange(e,t,n){const c=this.streamBlocksFromHeightRange(e,50),a=ne(c,t),i=oe(a,n);return await X(i)}async getTransactionSummaryRangeForRollup(e,t,n,c){const a=this.streamBlocksFromHeightRange(t,50),i=Jt(a,m=>m.transaction.vm===e),u=ne(i,n),f=oe(u,c);return await X(f)}}class hc{constructor(e){o(this,"explorer");this.explorer=e}toJSON(){return mc.encode(this)}}class Zh{convert(e){return l(e,"Explorer"),new hc(go.decode(e.Explorer))}}class ep{convert(e){return h(e,hc),{Explorer:go.encode(e.explorer)}}}class rp extends d{constructor(){super(...arguments);o(this,"encoder",new ep);o(this,"decoder",new Zh)}}class pc{constructor(e){o(this,"error");this.error=e}toJSON(){return go.encode(this)}}class tp{convert(e){return l(e,"error"),new pc(Y.decode(e.error))}}class op{convert(e){return h(e,pc),{Explorer:Y.encode(e.error)}}}class np extends d{constructor(){super(...arguments);o(this,"encoder",new op);o(this,"decoder",new tp)}}const go=new np,mc=new rp;class cp{convert(e){return mc.decode(e).explorer.error}}const ye=new cp;class sp{constructor(e,t){o(this,"fetcher");o(this,"baseURL");this.fetcher=e,this.baseURL=t}async getBlockDetail(e){const t=new URL(`block/${e.target}`,this.baseURL);return this.fetcher(t).then(G(ht.decoder,ye))}async getBlockSummaries(e){const t=new URL(`blocks/${e.from}/${e.limit}`,this.baseURL);return this.fetcher(t).then(G(gt.decoder,ye))}async getTransactionDetail(e){let t=null;if(e instanceof De?t=new URL(`transaction/hash/${e.hash}`,this.baseURL):e instanceof Ae&&(t=new URL(`transaction/${e.height}/${e.offset}`,this.baseURL)),!t)throw new j;return this.fetcher(t).then(G(Mt.decoder,ye))}async getTransactionSummaries(e){const{target:t,filter:n}=e;let c=t.convertURL(this.baseURL);return c=n.convertURL(c),this.fetcher(c).then(G(Gt.decoder,ye))}async getExplorerOverview(){const e=new URL("explorer-summary",this.baseURL);return this.fetcher(e).then(G(It.decoder,ye))}async getSearchResult(e){const t=new URL(`search/${encodeURIComponent(e.query)}`,this.baseURL);return this.fetcher(t).then(G(Dt.decoder,ye))}}class ap{constructor(e,t){o(this,"fetcher");o(this,"baseURL");o(this,"blockHeightURL");o(this,"blockHeightResponseValidator",G(s.decoder));this.fetcher=e,this.baseURL=t,this.blockHeightURL=new URL("block-height",this.baseURL)}blockHeight(){return this.fetcher(this.blockHeightURL).then(this.blockHeightResponseValidator)}}class ip{constructor(e,t){o(this,"availability");o(this,"status");o(this,"explorer");this.availability=new Yh(e,new URL("availability/",t)),this.status=new ap(e,new URL("status/",t)),this.explorer=new sp(e,new URL("explorer/",t))}}class dp{constructor(e){o(this,"service");this.service=e}blockHeight(){return this.service.blockHeight()}async handleRequest(e){switch(e.method){case"blockHeight":return this.blockHeight();default:throw new j}}}class lp{constructor(e){o(this,"service");this.service=e}async getLeafFromHeight(e){return Xr.encode(await this.service.getLeafFromHeight(e))}async getTransactionFromHeightAndOffset(e,t){return at.encode(await this.service.getTransactionFromHeightAndOffset(e,t))}async getBlockFromHeight(e){return zr.encode(await this.service.getBlockFromHeight(e))}async getBlockSummaries(e,t){return Ua.encode(await this.service.getBlockSummaries(e,t))}async getTransactionSummaryRange(e,t,n){return $o.encode(await this.service.getTransactionSummaryRange(e,t,n))}async getTransactionSummaryRangeForRollup(e,t,n,c){return $o.encode(await this.service.getTransactionSummaryRangeForRollup(e,t,n,c))}async handleRequest(e){switch(e.method){case"getLeafFromHeight":return await this.getLeafFromHeight(s.decode(e.param[0]));case"getTransactionFromHeightAndOffset":return await this.getTransactionFromHeightAndOffset(s.decode(e.param[0]),s.decode(e.param[1]));case"getBlockFromHeight":return await this.getBlockFromHeight(s.decode(e.param[0]));case"getBlockSummaries":return await this.getBlockSummaries(s.decode(e.param[0]),s.decode(e.param[1]));case"getTransactionSummaryRange":return await this.getTransactionSummaryRange(s.decode(e.param[0]),s.decode(e.param[1]),s.decode(e.param[2]));case"getTransactionSummaryRangeForRollup":return await this.getTransactionSummaryRangeForRollup(s.decode(e.param[0]),s.decode(e.param[1]),s.decode(e.param[2]),s.decode(e.param[3]));default:throw new j}}}class up{constructor(e){o(this,"service");this.service=e}async getBlockDetail(e){return ht.encode(await this.service.getBlockDetail(e))}async getBlockSummaries(e){return gt.encode(await this.service.getBlockSummaries(e))}async getTransactionDetail(e){return Mt.encode(await this.service.getTransactionDetail(e))}async getTransactionSummaries(e){return Gt.encode(await this.service.getTransactionSummaries(e))}async getExplorerOverview(){return It.encode(await this.service.getExplorerOverview())}async getSearchResult(e){return Dt.encode(await this.service.getSearchResult(e))}async handleRequest(e){switch(e.method){case"getBlockDetail":return await this.getBlockDetail(sn.decode(e.param[0]));case"getBlockSummaries":return await this.getBlockSummaries(wn.decode(e.param[0]));case"getTransactionDetail":return this.getTransactionDetail(En.decode(e.param[0]));case"getTransactionSummaries":return this.getTransactionSummaries(kn.decode(e.param[0]));case"getExplorerOverview":return this.getExplorerOverview();case"getSearchResult":return this.getSearchResult(vn.decode(e.param[0]))}}}class hp{constructor(e){o(this,"availability");o(this,"status");o(this,"explorer");this.availability=new lp(e.availability),this.status=new dp(e.status),this.explorer=new up(e.explorer)}async handleRequest(e){switch(e.api){case"availability":return this.availability.handleRequest(e);case"status":return this.status.handleRequest(e);case"explorer":return this.explorer.handleRequest(e);default:throw new j}}}const pp=async(r,e)=>{try{return await fetch(r,e)}catch(t){throw new bo(t)}};async function mp(){try{const e=await(await fetch("/config.json")).json();if(e.hotshot_query_service_url){const t=new URL(e.hotshot_query_service_url);return new ip(pp,t)}}catch{}return new Jh}async function wp(){return new hp(await mp())}class fp{constructor(e){o(this,"service");o(this,"postMessage");this.postMessage=e,this.service=wp()}async handleEvent(e){const t=Kc.decode(e.data);try{const c=await(await this.service).handleRequest(t);this.postMessage(Io.encode(new Cr(t.requestID,c)))}catch(n){this.postMessage(Ro.encode(new yr(t.requestID,n)))}}}self.addEventListener("message",new fp(self.postMessage.bind(self)))})();
