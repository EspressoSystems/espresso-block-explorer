var Rr=Object.defineProperty;var Fr=(r,e,s)=>e in r?Rr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s;var o=(r,e,s)=>Fr(r,typeof e!="symbol"?e+"":e,s);import{T as a,i as te,I as A,g as u,A as E,h as v,j as g,C as j,a as n,r as f,B as x,b as w,s as i,d as L,o as p,u as Me,c as Q,p as Je,N as We,e as Ve,f as He,q as zr,t as $,v as K}from"./string-Cg6lWpsr.js";import{b as I,h as S,u as je,s as Le}from"./array_buffer-BiDpG-Ma.js";import{n as t,b as m}from"./base64-DW9-vpGr.js";import{t as l}from"./TaggedBase64-DeObMAd8.js";import"./url-JK4c_hib.js";import{U as Qe}from"./LoadingProvider-Cu0dkHek.js";import{m as Mr,M as Jr}from"./functional-BZC-Q2QA.js";import{I as ne,m as qe}from"./monetary_value-VO_rcuFQ.js";import"./FetchError-BbxpOD7A.js";import"./NotFoundError-zYtPBSyK.js";class Wr{convert(e){if(!te(e))throw new A(typeof e,"string");const s=new Date(e);if(Number.isNaN(s.valueOf()))throw new A("NaN","number");return s}}class Vr{convert(e){return u(e,Date),e.toISOString()}}class Hr extends a{constructor(){super(...arguments);o(this,"encoder",new Vr);o(this,"decoder",new Wr)}}const y=new Hr;class Ue{constructor(e,s,c,d,h,C){o(this,"hash");o(this,"height");o(this,"proposerID");o(this,"numTransactions");o(this,"size");o(this,"time");this.hash=e,this.height=s,this.proposerID=c,this.numTransactions=d,this.size=h,this.time=C}toJSON(){return Y.encode(this)}}class jr{convert(e){return n(e,"hash","height","proposer_id","num_transactions","size","time"),new Ue(l.decode(e.hash),t.decode(e.height),I.decode(e.proposer_id),t.decode(e.num_transactions),t.decode(e.size),y.decode(e.time))}}class Lr{convert(e){return u(e,Ue),{hash:l.encode(e.hash),height:t.encode(e.height),proposer_id:I.encode(e.proposerID),num_transactions:t.encode(e.numTransactions),size:t.encode(e.size),time:y.encode(e.time)}}}class Qr extends j{constructor(){super(...arguments);o(this,"encoder",new Lr);o(this,"decoder",new jr)}}const Y=new Qr,qc=new E(new v(Y),new g(Y)),Ge=m;class $e{constructor(e,s,c,d,h,C){o(this,"hash");o(this,"rollups");o(this,"height");o(this,"time");o(this,"offset");o(this,"numTransactions");this.hash=e,this.rollups=s,this.height=c,this.time=d,this.offset=h,this.numTransactions=C}toJSON(){return X.encode(this)}}class qr{convert(e){return n(e,"hash","rollups","height","time","offset","num_transactions"),new $e(l.decode(e.hash),Ge.decode(e.rollups),t.decode(e.height),y.decode(e.time),t.decode(e.offset),t.decode(e.num_transactions))}}class Ur{convert(e){return u(e,$e),{hash:l.encode(e.hash),rollups:Ge.encode(e.rollups),height:t.encode(e.height),time:y.encode(e.time),offset:t.encode(e.offset),num_transactions:t.encode(e.numTransactions)}}}class Gr extends a{constructor(){super(...arguments);o(this,"encoder",new Ur);o(this,"decoder",new qr)}}const X=new Gr,Uc=new E(new v(X),new g(X));class ae extends x{constructor(e="completer has already been completed"){super(e),Object.freeze(this)}get code(){return Ke}}const Ke="CompleterAlreadyCompletedError";class $r{convert(e){return n(e,"code","message"),w(e,Ke),new ae(i.decode(e.message))}}class Kr extends L{}class Yr extends a{constructor(){super(...arguments);o(this,"encoder",new Kr);o(this,"decoder",new $r)}}const Xr=new Yr;f(ae.name,Xr);function W(){return p(!1,"completer is not ready, this should never be reached")}function V(){throw new ae}class Zr{constructor(){o(this,"resolve",W);o(this,"reject",W);o(this,"completed",!1);o(this,"promise");this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s}),p(this.resolve!==W,"resolve should be set"),p(this.reject!==W,"resolve should be set")}get isCompleted(){return this.completed}complete(e){const s=this.resolve,c=this.reject;if(this.completed=!0,this.resolve=V,this.reject=V,e instanceof Promise){e.then(s,c);return}s(e)}completeError(e){this.reject(e),this.completed=!0,this.resolve=V,this.reject=V}}function Gc(){return new Zr}const de="NoCompleterFoundForRequestID";class Ye extends x{constructor(s,c=`no completer found for request id "${s}"`){super(c);o(this,"requestID");this.requestID=s,Object.freeze(this)}toJSON(){return Xe.encode(this)}get code(){return de}}class eo{convert(e){return n(e,"code","requestID","message"),w(e,de),new Ye(Me.decode(e.requestID),i.decode(e.message))}}class ro{convert(e){return u(e,Ye),{...Q.convert(e),requestID:Me.encode(e.requestID)}}}class oo extends a{constructor(){super(...arguments);o(this,"encoder",new ro);o(this,"decoder",new eo)}}const Xe=new oo;f(de,Xe);const ie="WebWorkerErrorResponse";class so extends x{constructor(s,c="error in web worker"){super(c);o(this,"error");this.error=s,Object.freeze(this)}toJSON(){return Ze.encode(this)}get code(){return ie}}class co{convert(e){return n(e,"code","error","message"),w(e,ie),new so(Je.decode(e.error),i.decode(e.message))}}class to{convert(e){return{...Q.convert(e),error:Je.encode(e.error)}}}class no extends a{constructor(){super(...arguments);o(this,"encoder",new to);o(this,"decoder",new co)}}const Ze=new no;f(ie,Ze);class er{constructor(e,s,c){o(this,"r");o(this,"s");o(this,"v");this.r=e,this.s=s,this.v=c}toJSON(){return le.encode(this)}}class ao{convert(e){return n(e,"r","s","v"),new er(S.decode(e.r),S.decode(e.s),t.decode(e.v))}}class io{convert(e){return u(e,er),{r:S.encode(e.r),s:S.encode(e.s),v:t.encode(e.v)}}}class lo extends a{constructor(){super(...arguments);o(this,"encoder",new io);o(this,"decoder",new ao)}}const le=new lo;class rr{constructor(e,s){o(this,"account");o(this,"amount");this.account=e,this.amount=s}toJSON(){return ue.encode(this)}}class uo{convert(e){return n(e,"account","amount"),new rr(S.decode(e.account),S.decode(e.amount))}}class ho{convert(e){return u(e,rr),{account:S.encode(e.account),amount:S.encode(e.amount)}}}class mo extends a{constructor(){super(...arguments);o(this,"encoder",new ho);o(this,"decoder",new uo)}}const ue=new mo;class or{constructor(e,s,c){o(this,"number");o(this,"timestamp");o(this,"hash");this.number=e,this.timestamp=s,this.hash=c}toJSON(){return Z.encode(this)}}class po{convert(e){return n(e,"number","timestamp","hash"),new or(t.decode(e.number),i.decode(e.timestamp),i.decode(e.hash))}}class fo{convert(e){return u(e,or),{number:t.encode(e.number),timestamp:i.encode(e.timestamp),hash:i.encode(e.hash)}}}class wo extends a{constructor(){super(...arguments);o(this,"encoder",new fo);o(this,"decoder",new po)}}const Z=new wo,sr=new We(new Ve(Z),new He(Z));class cr{constructor(e){o(this,"bytes");this.bytes=e}toJSON(){return he.encode(this)}}class Co{convert(e){return n(e,"bytes"),new cr(je.decode(e.bytes))}}class bo{convert(e){return u(e,cr),{bytes:je.encode(e.bytes)}}}class Eo extends a{constructor(){super(...arguments);o(this,"encoder",new bo);o(this,"decoder",new Co)}}const he=new Eo;class tr{constructor(e,s,c,d,h,C,k,B,N,_){o(this,"height");o(this,"timestamp");o(this,"l1_head");o(this,"l1_finalized");o(this,"payload_commitment");o(this,"ns_table");o(this,"block_merkle_root");o(this,"fee_merkle_root");o(this,"builder_signature");o(this,"fee_info");this.height=e,this.timestamp=s,this.l1_head=c,this.l1_finalized=d,this.payload_commitment=h,this.ns_table=C,this.block_merkle_root=k,this.fee_merkle_root=B,this.builder_signature=N,this.fee_info=_}toJSON(){return R.encode(this)}}class vo{convert(e){return n(e,"height","timestamp","l1_head","l1_finalized","payload_commitment","ns_table","block_merkle_root","fee_merkle_root","builder_signature","fee_info"),new tr(t.decode(e.height),t.decode(e.timestamp),t.decode(e.l1_head),sr.decode(e.l1_finalized),m.decode(e.payload_commitment),he.decode(e.ns_table),l.decode(e.block_merkle_root),l.decode(e.fee_merkle_root),le.decode(e.builder_signature),ue.decode(e.fee_info))}}class go{convert(e){return u(e,tr),{height:t.encode(e.height),timestamp:t.encode(e.timestamp),l1_head:t.encode(e.l1_head),l1_finalized:sr.encode(e.l1_finalized),payload_commitment:m.encode(e.payload_commitment),ns_table:he.encode(e.ns_table),block_merkle_root:l.encode(e.block_merkle_root),fee_merkle_root:l.encode(e.fee_merkle_root),builder_signature:le.encode(e.builder_signature),fee_info:ue.encode(e.fee_info)}}}class xo extends a{constructor(){super(...arguments);o(this,"encoder",new go);o(this,"decoder",new vo)}}const R=new xo;class nr{constructor(e,s){o(this,"vm");o(this,"payload");this.vm=e,this.payload=s}toJSON(){return D.encode(this)}}class Io{convert(e){return n(e,"vm","payload"),new nr(t.decode(e.vm),m.decode(e.payload))}}class So{convert(e){return u(e,nr),{vm:t.encode(e.vm),payload:m.encode(e.payload)}}}class yo extends a{constructor(){super(...arguments);o(this,"encoder",new So);o(this,"decoder",new Io)}}const D=new yo,$c=new E(new v(D),new g(D));class ar{constructor(e,s,c,d,h){o(this,"header");o(this,"hash");o(this,"size");o(this,"num_transactions");o(this,"proposer_id");this.header=e,this.hash=s,this.size=c,this.num_transactions=d,this.proposer_id=h}toJSON(){return ee.encode(this)}}class ko{convert(e){return n(e,"header","hash","size","num_transactions","proposer_id"),new ar(R.decode(e.header),l.decode(e.hash),t.decode(e.size),t.decode(e.num_transactions),I.decode(e.proposer_id))}}class Bo{convert(e){return u(e,ar),{header:R.encode(e.header),hash:l.encode(e.hash),size:t.encode(e.size),num_transactions:t.encode(e.num_transactions),proposer_id:I.encode(e.proposer_id)}}}class No extends a{constructor(){super(...arguments);o(this,"encoder",new Bo);o(this,"decoder",new ko)}}const ee=new No,Kc=new E(new v(ee),new g(ee));class dr{constructor(e,s,c,d){o(this,"hash");o(this,"header");o(this,"offset");o(this,"transaction");this.hash=e,this.header=s,this.offset=c,this.transaction=d}toJSON(){return re.encode(this)}}class _o{convert(e){return n(e,"hash","header","offset","transaction"),new dr(l.decode(e.hash),R.decode(e.header),t.decode(e.offset),D.decode(e.transaction))}}class To{convert(e){return u(e,dr),{hash:l.encode(e.hash),header:R.encode(e.header),offset:t.encode(e.offset),transaction:D.encode(e.transaction)}}}class Ao extends a{constructor(){super(...arguments);o(this,"encoder",new To);o(this,"decoder",new _o)}}const re=new Ao,Yc=new E(new v(re),new g(re));class ir{constructor(e,s){o(this,"width");o(this,"index");this.width=e,this.index=s}toJSON(){return me.encode(this)}}class Do{convert(e){return n(e,"width","index"),new ir(t.decode(e.width),t.decode(e.index))}}class Oo{convert(e){return u(e,ir),{width:t.encode(e.width),index:t.encode(e.index)}}}class Po extends a{constructor(){super(...arguments);o(this,"encoder",new Oo);o(this,"decoder",new Do)}}const me=new Po;class O{static get lsb0(){return Fo}static get msb0(){return Mo}valueOf(){return this.toString()}toJSON(){return this.toString()}}const lr="bitvec::order::Lsb0",ur="bitvec::order::Msb0";class Ro extends O{toString(){return lr}}const Fo=new Ro;class zo extends O{toString(){return ur}}const Mo=new zo;class Jo{convert(e){if(typeof e!="string")throw new A(typeof e,"string");switch(e){case lr:return O.lsb0;case ur:return O.msb0;default:throw new A(e,"CappuccinoAPIBitVecOrder")}}}class Wo{convert(e){return e.toString()}}class Vo extends a{constructor(){super(...arguments);o(this,"encoder",new Wo);o(this,"decoder",new Jo)}}const hr=new Vo;class mr{constructor(e,s,c,d){o(this,"order");o(this,"head");o(this,"bits");o(this,"data");this.order=e,this.head=s,this.bits=c,this.data=d}getBitVecIndexIterable(){return this.order===O.lsb0?new Uo(this.head.width,this.bits):new $o(this.head.width,this.bits)}[Symbol.iterator](){const e=this.getBitVecIndexIterable();return Mr(e,s=>Qo(this.data,s))[Symbol.iterator]()}toJSON(){return P.encode(this)}}class Ho{convert(e){return n(e,"order","head","bits","data"),new mr(hr.decode(e.order),me.decode(e.head),t.decode(e.bits),m.decode(e.data))}}class jo{convert(e){return u(e,mr),{order:hr.encode(e.order),head:me.encode(e.head),bits:t.encode(e.bits),data:m.encode(e.data)}}}class Lo extends a{constructor(){super(...arguments);o(this,"encoder",new jo);o(this,"decoder",new Ho)}}const P=new Lo,Xc=new E(new v(P),new g(P));function Qo(r,e){return(r[e.bucket]>>e.bitOffset&1)===1}class pr{constructor(e,s){o(this,"bucket");o(this,"bitOffset");this.bucket=e,this.bitOffset=s}}function fr(r){switch(p(r===8||r===16||r===32,"bit width should be a power of two that is supported"),r){case 8:return 3;case 16:return 4;case 32:return 5;default:throw new Qe}}class qo{constructor(e,s){o(this,"totalBits");o(this,"bitWidthMask");o(this,"bitWidthShift");o(this,"offset",0);this.totalBits=s;const c=fr(e);this.bitWidthMask=e-1,this.bitWidthShift=c}next(){if(this.offset>=this.totalBits)return{done:!0,value:void 0};const e=this.offset>>this.bitWidthShift,s=this.offset&this.bitWidthMask;return this.offset+=1,{done:!1,value:new pr(e,s)}}}class Uo{constructor(e,s){o(this,"bitWidth");o(this,"totalBits");this.bitWidth=e,this.totalBits=s}[Symbol.iterator](){return new qo(this.bitWidth,this.totalBits)}}class Go{constructor(e,s){o(this,"bitWidth");o(this,"totalBits");o(this,"bitWidthMask");o(this,"bitWidthShift");o(this,"offset",0);this.bitWidth=e,this.totalBits=s;const c=fr(e);this.bitWidthMask=e-1,this.bitWidthShift=c}next(){if(this.offset>=this.totalBits)return{done:!0,value:void 0};const e=this.offset>>this.bitWidthShift,s=this.bitWidth-1-(this.offset&this.bitWidthMask);return this.offset+=1,{done:!1,value:new pr(e,s)}}}class $o{constructor(e,s){o(this,"bitWidth");o(this,"totalBits");this.bitWidth=e,this.totalBits=s}[Symbol.iterator](){return new Go(this.bitWidth,this.totalBits)}}class wr{constructor(e,s){o(this,"signature");o(this,"bitvec");this.signature=e,this.bitvec=s}toJSON(){return oe.encode(this)}}class Ko{convert(e){if(!zr(e)||e.length!==2)throw new A(typeof e,"Array");return new wr(l.decode(e[0]),P.decode(e[1]))}}class Yo{convert(e){return u(e,wr),[l.encode(e.signature),P.encode(e.bitvec)]}}class Xo extends a{constructor(){super(...arguments);o(this,"encoder",new Yo);o(this,"decoder",new Ko)}}const oe=new Xo,Zc=new We(new Ve(oe),new He(oe));class F{}class pe extends F{toJSON(){return fe.encode(this)}}class Zo{convert(e){if(!te(e)||e!=="Empty")throw new ne;return new pe}}class es{convert(e){return u(e,pe),"Empty"}}class rs extends a{constructor(){super(...arguments);o(this,"encoder",new es);o(this,"decoder",new Zo)}}const fe=new rs;class we extends F{constructor(s,c,d){super();o(this,"value");o(this,"pos");o(this,"elem");this.value=s,this.pos=c,this.elem=d}toJSON(){return Ce.encode(this)}}class os{convert(e){n(e,"Leaf");const s=e.Leaf;return n(s,"value","pos","elem"),new we(l.decode(s.value),l.decode(s.pos),l.decode(s.elem))}}class ss{convert(e){return u(e,we),{Leaf:{value:l.encode(e.value),pos:l.encode(e.pos),elem:l.encode(e.elem)}}}}class cs extends j{constructor(){super(...arguments);o(this,"encoder",new ss);o(this,"decoder",new os)}}const Ce=new cs;class be extends F{constructor(s){super();o(this,"value");this.value=s}toJSON(){return Ee.encode(this)}}class ts{convert(e){n(e,"ForgettenSubtree");const s=e.ForgettenSubtree;return n(s,"value"),new be(l.decode(s.value))}}class ns{convert(e){return u(e,be),{ForgettenSubtree:{value:l.encode(e.value)}}}}class as extends j{constructor(){super(...arguments);o(this,"encoder",new ns);o(this,"decoder",new ts)}}const Ee=new as;class ve extends F{constructor(s,c){super();o(this,"value");o(this,"children");this.value=s,this.children=c}toJSON(){return ge.encode(this)}}class ds{convert(e){n(e,"Branch");const s=e.Branch;return n(s,"value","children"),new ve(l.decode(s.value),Cr.decode(s.children))}}class is{convert(e){return u(e,ve),{Branch:{value:l.encode(e.value),children:Cr.encode(e.children)}}}}class ls extends a{constructor(){super(...arguments);o(this,"encoder",new is);o(this,"decoder",new ds)}}const ge=new ls;class us{convert(e){if($(e,"Leaf",K))return Ce.decoder.convert(e);if($(e,"Branch",K))return ge.decoder.convert(e);if($(e,"ForgettenSubtree",K))return Ee.decoder.convert(e);if(te(e))return fe.decoder.convert(e);throw new ne}}class hs{convert(e){if(u(e,F),e instanceof we)return Ce.encode(e);if(e instanceof ve)return ge.encode(e);if(e instanceof be)return Ee.encode(e);if(e instanceof pe)return fe.encode(e);throw new ne}}class ms extends a{constructor(){super(...arguments);o(this,"encoder",new hs);o(this,"decoder",new us)}}const ze=new ms,Cr=new E(new v(ze),new g(ze));class br{constructor(e,s,c,d,h,C,k,B){o(this,"hash");o(this,"height");o(this,"time");o(this,"numTransactions");o(this,"proposerID");o(this,"feeRecipient");o(this,"size");o(this,"blockReward");this.hash=e,this.height=s,this.time=c,this.numTransactions=d,this.proposerID=h,this.feeRecipient=C,this.size=k,this.blockReward=B}toJSON(){return se.encode(this)}}class ps{convert(e){return n(e,"hash","height","time","num_transactions","proposer_id","fee_recipient","size","block_reward"),new br(l.decode(e.hash),t.decode(e.height),y.decode(e.time),t.decode(e.num_transactions),I.decode(e.proposer_id),I.decode(e.fee_recipient),t.decode(e.size),qe.decode(e.block_reward))}}class fs{convert(e){return u(e,br),{hash:l.encode(e.hash),height:t.encode(e.height),time:y.encode(e.time),num_transactions:t.encode(e.numTransactions),proposer_id:I.encode(e.proposerID),fee_recipient:I.encode(e.feeRecipient),size:t.encode(e.size),block_reward:qe.encode(e.blockReward)}}}class ws extends j{constructor(){super(...arguments);o(this,"encoder",new fs);o(this,"decoder",new ps)}}const se=new ws,et=new E(new v(se),new g(se));function H(r){return r!==null}function Cs(r,e){return r.blockHeights-e.blockHeights}class Er{constructor(e,s,c,d){o(this,"blockTime");o(this,"blockSize");o(this,"blockTransactions");o(this,"blockHeights");const h=[],C=d.length;for(let b=0;b<C;b++)h.push({blockTime:e[b],blockSize:s[b],blockTransactions:c[b],blockHeights:d[b]});h.sort(Cs);const k=h[0].blockHeights,B=h[C-1].blockHeights,N=[],_=[],G=[],M=[];for(let b=k,Fe=0;b<=B;b++){const T=h[Fe];if(T.blockHeights!==b){N.push(null),_.push(null),G.push(null),M.push(null);continue}N.push(T.blockTime),_.push(T.blockSize),G.push(T.blockTransactions),M.push(T.blockHeights),Fe++}const J=Math.max(0,M.length-50);this.blockTime=N.slice(J),this.blockSize=_.slice(J),this.blockTransactions=G.slice(J),this.blockHeights=M.slice(J)}toJSON(){return gs.encode(this)}}class bs{convert(e){return n(e,"block_time","block_size","block_transactions","block_heights"),new Er(m.decode(e.block_time),m.decode(e.block_size),m.decode(e.block_transactions),m.decode(e.block_heights))}}class Es{convert(e){return u(e,Er),{block_time:m.encode(e.blockTime.filter(H)),block_size:m.encode(e.blockSize.filter(H)),block_transactions:m.encode(e.blockTransactions.filter(H)),block_heights:m.encode(e.blockHeights.filter(H))}}}class vs extends a{constructor(){super(...arguments);o(this,"encoder",new Es);o(this,"decoder",new bs)}}const gs=new vs,vr=t;class gr{constructor(e,s){o(this,"namespace");o(this,"payload");this.namespace=e,this.payload=s}toJSON(){return ce.encode(this)}}class xs{convert(e){return n(e,"namespace","payload"),new gr(vr.decode(e.namespace),Le.decode(e.payload))}}class Is{convert(e){return u(e,gr),{namespace:vr.encode(e.namespace),payload:Le.encode(e.payload)}}}class Ss extends a{constructor(){super(...arguments);o(this,"encoder",new Is);o(this,"decoder",new xs)}}const ce=new Ss,rt=new E(new v(ce),new g(ce));class z extends x{constructor(s,c,d){super(d);o(this,"response");o(this,"status");this.status=s,this.response=c}toJSON(){return xr.convert(this)}}class q{convert(e){return u(e,z),{...Q.convert(e),status:e.status}}}const xr=new q,xe="BadResponseClientError";class ys extends z{constructor(e,s,c="bad server response: client error"){super(e,s,c),Object.freeze(this)}get code(){return xe}toJSON(){return Ir.encode(this)}}class ks{convert(e){return n(e,"code","message","status"),w(e,xe),new ys(Number(e.status),null,i.decode(e.message))}}class Bs extends q{}class Ns extends a{constructor(){super(...arguments);o(this,"encoder",new Bs);o(this,"decoder",new ks)}}const Ir=new Ns;f(xe,Ir);const Ie="BadResponseError";class _s extends z{constructor(e,s,c="bad server response"){super(e,s,c),Object.freeze(this)}get code(){return Ie}toJSON(){return Sr.encode(this)}}class Ts{convert(e){return n(e,"code","message","status"),w(e,Ie),new _s(Number(e.status),null,i.decode(e.message))}}class As extends q{}class Ds extends a{constructor(){super(...arguments);o(this,"encoder",new As);o(this,"decoder",new Ts)}}const Sr=new Ds;f(Ie,Sr);class Os extends z{constructor(e,s,c="bad server response: server error"){super(e,s,c),Object.freeze(this)}get code(){return Se}}const Se="BadResponseServerError";class Ps{convert(e){return n(e,"code","message","status"),w(e,Se),new Os(Number(e.status),null,i.decode(e.message))}}class Rs extends q{}class Fs extends a{constructor(){super(...arguments);o(this,"encoder",new Rs);o(this,"decoder",new Ps)}}const zs=new Fs;f(Se,zs);const ye="ChannelClosedError";class Ms extends x{constructor(e="channel closed"){super(e),Object.freeze(this)}get code(){return ye}}class Js{convert(e){return n(e,"code","message"),w(e,ye),new Ms(i.decode(e.message))}}class Ws extends L{}class Vs extends a{constructor(){super(...arguments);o(this,"encoder",new Ws);o(this,"decoder",new Js)}}const Hs=new Vs;f(ye,Hs);const ke="InvalidStringValueError";class yr extends x{constructor(s,c,d=`invalid string value: have "${s}", want "${c}"`){super(d);o(this,"have");o(this,"want");this.have=s,this.want=c,Object.freeze(this)}toJSON(){return kr.encode(this)}get code(){return ke}}class js{convert(e){return n(e,"code","have","want","message"),w(e,ke),new yr(i.decode(e.have),i.decode(e.want),i.decode(e.message))}}class Ls{convert(e){return u(e,yr),{...Q.convert(e),have:i.encode(e.have),want:i.encode(e.want)}}}class Qs extends a{constructor(){super(...arguments);o(this,"encoder",new Ls);o(this,"decoder",new js)}}const kr=new Qs;f(ke,kr);const Be="NoURLProvidedError";class qs extends x{constructor(e="no url provided"){super(e),Object.freeze(this)}get code(){return Be}}class Us{convert(e){return n(e,"code","message"),w(e,Be),new qs(i.decode(e.message))}}class Gs extends L{}class $s extends a{constructor(){super(...arguments);o(this,"encoder",new Gs);o(this,"decoder",new Us)}}const Ks=new $s;f(Be,Ks);const Ne="QUERY_ERROR";class Ys extends x{constructor(s,c="missing element"){super(c);o(this,"error");this.error=s,Object.freeze(this)}get code(){return Ne}}class Xs{convert(e){return n(e,"code","error","message"),w(e,Ne),new Ys(Tr.decode(e.error),i.decode(e.message))}}class Zs{convert(e){return{code:e.code,error:Tr.encode(e.error),message:i.encode(e.message)}}}class ec extends a{constructor(){super(...arguments);o(this,"encoder",new Zs);o(this,"decoder",new Xs)}}const rc=new ec;class _e{}const Te="NotFound";class Br extends _e{constructor(){super(),Object.freeze(this)}valueOf(){return Te}toJSON(){return this.valueOf()}}const oc=new Br,Ae="Missing";class Nr extends _e{constructor(){super(),Object.freeze(this)}valueOf(){return Ae}toJSON(){return this.valueOf()}}const sc=new Nr;class _r extends _e{constructor(s){super();o(this,"error");this.error=s,Object.freeze(this)}toJSON(){return Oe.encode(this)}}class cc{constructor(e){o(this,"message");this.message=e,Object.freeze(this)}toJSON(){return De.encode(this)}}class tc{convert(e){return n(e,"message"),new cc(i.decode(e.message))}}class nc{convert(e){return{message:i.encode(e.message)}}}class ac extends a{constructor(){super(...arguments);o(this,"encoder",new nc);o(this,"decoder",new tc)}}const De=new ac;class dc{convert(e){return n(e,"Error"),new _r(De.decode(e.Error))}}class ic{convert(e){return{Error:De.encode(e.error)}}}class lc extends a{constructor(){super(...arguments);o(this,"encoder",new ic);o(this,"decoder",new dc)}}const Oe=new lc;class uc{convert(e){return e===Te?oc:e===Ae?sc:Oe.decode(e)}}class hc{convert(e){if(e instanceof Br)return Te;if(e instanceof Nr)return Ae;if(e instanceof _r)return Oe.encode(e);throw new Qe}}class mc extends a{constructor(){super(...arguments);o(this,"encoder",new hc);o(this,"decoder",new uc)}}const Tr=new mc;f(Ne,rc);const Ar="ResponseContentTypeIsNotApplicationJSONError";class U extends z{constructor(s,c,d,h="response content type is not application/json"){super(c,d,h);o(this,"haveHeaderType");this.haveHeaderType=s,Object.freeze(this)}static fromResponse(s,c){return new U(s.headers.get("content-type")??"undefined",s.status,s,c)}toJSON(){return Dr.encode(this)}get code(){return Ar}}class pc{convert(e){return n(e,"code","status","have","want","message"),w(e,Ar),new U(i.decode(e.code),t.decode(e.status),null,i.decode(e.message))}}class fc{convert(e){return{...xr.convert(e),have:i.encode(e.haveHeaderType),want:i.encode("application/json")}}}class wc extends a{constructor(){super(...arguments);o(this,"encoder",new fc);o(this,"decoder",new pc)}}const Dr=new wc;f(U.name,Dr);var Pe=(r=>(r[r.success=0]="success",r[r.full=1]="full",r[r.failed=2]="failed",r))(Pe||{});class Cc{getFromEmpty(){}}class bc{getFromEmpty(){return null}}class Ec{getFromEmpty(){throw new Jr}}const vc={returnNull:new bc,returnUndefined:new Cc,throwMissingElement:new Ec};class gc{constructor(e){o(this,"maxSize");p(!Number.isNaN(e),"maxSize must not be NaN"),p(Number.isInteger(e),"maxSize must be an integer"),p(e>0,"maxSize must be greater than 0"),this.maxSize=e}nextIndex(e){return p(e>=0,"index must be greater than or equal to 0"),(e+1)%this.maxSize}}class xc{constructor(e){o(this,"preComputedSizeMinus1");p(!Number.isNaN(e),"maxSize must not be NaN"),p(Number.isInteger(e),"maxSize must be an integer"),p(e>0,"maxSize must be greater than 0"),p(Or(e),"maxSize must be a power of two"),this.preComputedSizeMinus1=e-1}nextIndex(e){return p(e>=0,"index must be greater than or equal to 0"),e+1&this.preComputedSizeMinus1}}function Or(r){return(r&r-1)===0}const Re="BufferFullError";class Pr extends x{constructor(e="buffer full"){super(e),Object.freeze(this)}get code(){return Re}}class Ic{convert(e){return n(e,"code","message"),w(e,Re),new Pr(i.decode(e.message))}}class Sc extends L{}class yc extends a{constructor(){super(...arguments);o(this,"encoder",new Sc);o(this,"decoder",new Ic)}}const kc=new yc;f(Re,kc);class Bc{putToFull(e,s){return e.get(),e.put(s)}}class Nc{putToFull(){return Pe.full}}class _c{putToFull(){throw new Pr}}const Tc={overwriteOldest:new Bc,returnFull:new Nc,throw:new _c};function Ac(r){return Or(r)?new xc(r):new gc(r)}class Dc{constructor(e,s,c){o(this,"readIndex",0);o(this,"writeIndex",0);o(this,"buffer");o(this,"nextIndex");o(this,"getOnEmpty");o(this,"putOnFull");p(!Number.isNaN(e),"maxSize must not be NaN"),this.buffer=new Array(e),this.nextIndex=Ac(e),this.getOnEmpty=s,this.putOnFull=c}get maxSize(){return this.buffer.length}get length(){return this.writeIndex<this.readIndex?this.writeIndex+this.maxSize-this.readIndex:this.writeIndex-this.readIndex}put(e){const s=this.nextIndex.nextIndex(this.writeIndex);return s===this.readIndex?this.putOnFull.putToFull(this,e):(this.buffer[this.writeIndex]=e,this.writeIndex=s,Pe.success)}get(){if(this.readIndex===this.writeIndex)return this.getOnEmpty.getFromEmpty(this);const e=this.buffer[this.readIndex];return this.readIndex=this.nextIndex.nextIndex(this.readIndex),e}[Symbol.iterator](){return new Oc(this)}immutableIterable(){return{[Symbol.iterator]:()=>this.immutableIterator()}}immutableIterator(){return new Pc(this.readIndex,this.writeIndex,this.buffer,this.nextIndex)}}class Oc{constructor(e){o(this,"buffer");this.buffer=e}next(){const e=this.buffer.get();return e==null?{value:void 0,done:!0}:{value:e,done:!1}}}class Pc{constructor(e,s,c,d){o(this,"readIndex");o(this,"writeIndex");o(this,"buffer");o(this,"nextIndex");this.readIndex=e,this.writeIndex=s,this.buffer=c,this.nextIndex=d}next(){if(this.readIndex===this.writeIndex)return{value:void 0,done:!0};const e=this.buffer[this.readIndex];return this.readIndex=this.nextIndex.nextIndex(this.readIndex),{value:e,done:!1}}}function ot(r=32,e=vc.returnUndefined,s=Tc.overwriteOldest){return new Dc(r,e,s)}export{br as A,gr as B,Ue as C,Os as D,ys as E,_s as F,Tc as G,vc as H,Ms as I,et as J,P as K,Xc as L,mr as M,Ye as N,O,ir as P,U as R,so as W,$e as a,Uc as b,qc as c,$c as d,R as e,D as f,se as g,gs as h,rt as i,Gc as j,Kc as k,Cr as l,Yc as m,Zc as n,nr as o,ve as p,tr as q,y as r,or as s,cr as t,er as u,rr as v,ar as w,dr as x,ot as y,Er as z};
