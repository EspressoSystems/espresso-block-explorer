import{j as m}from"./jsx-runtime-BlAj40OV.js";import{B as w,a as A,T as b,b as N,R as I,c as Q,E as q}from"./TransactionDetailLoader-B8c0Li90.js";import{L as z}from"./LatestBlockSummaryLoader-CsgZbA1B.js";import{T as E}from"./TaggedBase64-D45f0-Ll.js";import{C as d,c as U,d as g,e as v,f as y,g as S,h as j}from"./CappuccinoHotShotQueryServiceAPIContext-BGQhVOF6.js";import{R as h}from"./index-Cs7sjTYM.js";const f=e=>{const c=h.useContext(d);return m.jsx(w.Provider,{...e,value:{async retrieve(p){const{blockDetail:t}=await c.explorer.getBlockDetail(U.height(p));return{hash:t.hash,height:t.height,time:t.time,transactions:t.numTransactions,proposer:t.proposerID,recipient:t.feeRecipient,size:t.size,rewards:t.blockReward}}}})},_=({children:e,blocksPerPage:c=20,...p})=>{const t=h.useContext(d);return m.jsx(A.Provider,{...p,value:{async retrieve(o){const{blocksPerPage:s=c,startAtBlock:i=null}=o,a=i===null?g.latest(s):g.from(i,s),n=await t.explorer.getBlockSummaries(a),{blockSummaries:r}=n;return r.map(u=>({height:u.height,proposer:u.proposerID,transactions:u.numTransactions,size:u.size,time:u.time}))}},children:e})},C=({children:e,transactionsPerPage:c=20,...p})=>{const t=h.useContext(d);return m.jsx(b.Provider,{...p,value:{async retrieve(o){const{startAtBlock:s=null,offset:i=null,transactionsPerPage:a=c}=o;let n;s===null||i===null?n=new v(y.latest(a),S.none()):n=new v(y.heightAndOffset(s,i,a),S.none());const r=await t.explorer.getTransactionSummaries(n),{transactionSummaries:u}=r;return u.map(l=>({hash:l.hash,namespaces:l.rollups,block:l.height,offset:l.offset,time:l.time}))}},children:e})},D=({children:e,transactionsPerPage:c=20,...p})=>{const t=h.useContext(d);return m.jsx(b.Provider,{...p,value:{async retrieve(o){const{startAtBlock:s=0,offset:i=null,transactionsPerPage:a=c}=o;let n;s===null||i===null?n=new v(y.latest(a),S.block(s)):n=new v(y.heightAndOffset(s,i,a),S.block(s));const r=await t.explorer.getTransactionSummaries(n),{transactionSummaries:u}=r;return u.map(l=>({hash:l.hash,namespaces:l.rollups,block:l.height,offset:l.offset,time:l.time}))}},children:e})},x=e=>{const c=h.useContext(d);return m.jsx(N.Provider,{...e,value:{async retrieve(p){const{height:t,offset:o}=p,s=j.heightAndOffset(t,o),i=await c.explorer.getTransactionDetail(s),{transactionDetail:a}=i;return{block:a.details.height,index:a.details.offset,total:a.details.numTransactions,size:a.details.size,hash:a.details.hash,time:a.details.time,sender:new E("",new ArrayBuffer(0)),tree:{namespace:a.data[0].namespace,data:a.data[0].payload}}}}})},k=({children:e,transactionsPerPage:c=20,...p})=>{const t=h.useContext(d);return m.jsx(I.Provider,{...p,value:{async retrieve(o){const{namespace:s,height:i=null,offset:a=null,transactionsPerPage:n=c}=o;let r;i===null||a===null?r=new v(y.latest(n),S.namespace(s)):r=new v(y.heightAndOffset(i,a,n),S.namespace(s));const u=await t.explorer.getTransactionSummaries(r),{transactionSummaries:l}=u;return l.map(P=>({hash:P.hash,namespaces:P.rollups,block:P.height,offset:P.offset,time:P.time}))}},children:e})},R=e=>m.jsx(Q.Provider,{...e,value:{async retrieve(){return[]}}}),T=e=>{const c=h.useContext(d);return m.jsx(z.Provider,{...e,value:{async retrieve(){const t=(await c.explorer.getExplorerOverview()).explorerSummary.latestBlock;return{height:t.height,proposer:t.proposerID,transactions:t.numTransactions,size:t.size,time:t.time}}}})},B=e=>{const c=h.useContext(d);return m.jsx(q.Provider,{...e,value:{async retrieve(){const p=await c.explorer.getExplorerOverview(),{explorerSummary:t}=p,{latestBlock:o,latestTransactions:s,latestBlocks:i,genesisOverview:a,histograms:n}=t;return{latestBlock:{hash:o.hash,height:o.height,time:o.time,transactions:o.numTransactions,proposer:o.proposerID,recipient:o.feeRecipient,size:o.size,rewards:o.blockReward},genesisOverview:{rollups:a.rollups,transactions:a.transactions,blocks:a.blocks},latestBlocks:i.map(r=>({height:r.height,time:r.time,transactions:r.numTransactions,size:r.size,proposer:r.proposerID})),latestTransactions:s.map(r=>({hash:r.hash,block:r.height,time:r.time,offset:r.offset,namespaces:r.rollups})),histograms:{blockTime:n.blockTime,blockSize:n.blockSize,blockTransactions:n.blockTransactions,blockThroughput:[],blocks:n.blockHeights}}}}})};try{f.displayName="ProvideCappuccinoBlockDetailDataSource",f.__docgenInfo={description:`ProvideCappuccinoBlockDetailDataSource is a component that converts
the HotShot Query Service for Cappuccino into a BlockDetailAsyncRetriever.`,displayName:"ProvideCappuccinoBlockDetailDataSource",props:{}}}catch{}try{_.displayName="ProvideCappuccinoBlocksSummaryDataSource",_.__docgenInfo={description:`ProvideCappuccinoBlocksSummaryDataSource is a component that converts
the HotShot Query Service for Cappuccino into a BlockSummaryAsyncRetriever.`,displayName:"ProvideCappuccinoBlocksSummaryDataSource",props:{blocksPerPage:{defaultValue:null,description:"",name:"blocksPerPage",required:!1,type:{name:"number"}}}}}catch{}try{C.displayName="ProvideCappuccinoTransactionsSummaryDataSource",C.__docgenInfo={description:`ProvideCappuccinoTransactionsSummaryDataSource is a component that converts
the HotShot Query Service for Cappuccino into a
TransactionSummaryAsyncRetriever.`,displayName:"ProvideCappuccinoTransactionsSummaryDataSource",props:{transactionsPerPage:{defaultValue:null,description:"",name:"transactionsPerPage",required:!1,type:{name:"number"}}}}}catch{}try{D.displayName="ProvideCappuccinoTransactionsForBlockSummaryDataSource",D.__docgenInfo={description:"",displayName:"ProvideCappuccinoTransactionsForBlockSummaryDataSource",props:{transactionsPerPage:{defaultValue:null,description:"",name:"transactionsPerPage",required:!1,type:{name:"number"}}}}}catch{}try{x.displayName="ProvideCappuccinoTransactionDetailDataSource",x.__docgenInfo={description:`ProvideCappuccinoTransactionDetailDataSource is a component that converts
the HotShot Query Service for Cappuccino into a
TransactionDetailAsyncRetriever.`,displayName:"ProvideCappuccinoTransactionDetailDataSource",props:{}}}catch{}try{k.displayName="ProvideCappuccinoRollUpDetailDataSource",k.__docgenInfo={description:`ProvideCappuccinoRollUpDetailDataSource is a component that converts
the HotShot Query Service for Cappuccino into a RollUpDetailAsyncRetriever.`,displayName:"ProvideCappuccinoRollUpDetailDataSource",props:{transactionsPerPage:{defaultValue:null,description:"",name:"transactionsPerPage",required:!1,type:{name:"number"}}}}}catch{}try{R.displayName="ProvideCappuccinoRollUpsSummaryDataSource",R.__docgenInfo={description:`ProvideCappuccinoRollUpsSummaryDataSource is a component that converts
the HotShot Query Service for Cappuccino into a RollUpSummaryAsyncRetriever.`,displayName:"ProvideCappuccinoRollUpsSummaryDataSource",props:{transactionsPerPage:{defaultValue:null,description:"",name:"transactionsPerPage",required:!1,type:{name:"number"}}}}}catch{}try{T.displayName="ProvideCappuccinoLatestBlockDetails",T.__docgenInfo={description:"",displayName:"ProvideCappuccinoLatestBlockDetails",props:{}}}catch{}try{B.displayName="ProvideCappuccinoExplorerSummary",B.__docgenInfo={description:"",displayName:"ProvideCappuccinoExplorerSummary",props:{}}}catch{}export{f as P,_ as a,k as b,R as c,x as d,D as e,C as f,B as g};
