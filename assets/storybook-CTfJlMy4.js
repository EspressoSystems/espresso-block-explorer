import{g as gt,j as E,R,r as wt}from"./iframe-DNoZVhxP.js";import{a as at,E as V}from"./environment_banner-DYqE8ThH.js";import{E as X}from"./espresso-DdcGxgqh.js";import{B as bt}from"./explorer-RGdIsLFm.js";import{C as vt,h as Tt,j as Ct,U as xt,T as Et,s as pe,k as Oe,H as ye,A as it,m as It,r as St,B as st,p as rt,n as ie,o as kt,q as At,t as Pt,L as Mt,u as Nt,v as _t,w as Bt,x as me,y as Ft,z as Rt,D as Ot,E as Ut,R as se,F as Vt,G as Dt,I as q,P as Q,S as Ce,J as oe,K as ce,M as _,N as qt,O as he,Q as jt,V as Ue,W as Kt,X as Lt,Y as Qt,Z as fe,_ as j,$ as zt,a0 as Wt,a1 as Ht,a2 as ot,a3 as Gt,a4 as F,a5 as Ve,a6 as U,a7 as ct,a8 as $t,a9 as De,aa as Jt,ab as qe,ac as je,ad as Zt,ae as Ke,af as Le,ag as Xt,ah as Y,ai as A,aj as Be,ak as Yt,al as en,am as tn,an as nn,ao as an,ap as ut,aq as sn,ar as rn,as as on,at as cn,au as un}from"./en_US-RFN65H63-CMLs8i7i.js";import{c as W,w as Qe}from"./wallet_address-_-ZG_Jzi.js";import{h as K}from"./array_buffer-D67g0v0K.js";import{b as H}from"./url-B2hYd5U-.js";import"./string-IJEBdhwx.js";import"./UnimplementedError-CdIPpzwU.js";import"./MissingElementError-CbV3pOXz.js";import"./base64-KHURY7_E.js";import{d as dn}from"./assert-BI051aL8.js";import{m as dt,k as ln,g as pn}from"./functional-g5wG3Azh.js";import"./blocks-M9CpjV-n.js";import{n as yn}from"./nodes-oXhyEVah.js";function mn({chain:n,currentChainId:e}){if(!n)throw new vt;if(e!==n.id)throw new Tt({chain:n,currentChainId:e})}function hn(n,{docsPath:e,...t}){const a=(()=>{const i=Ct(n,t);return i instanceof xt?n:i})();return new Et(a,{docsPath:e,...t})}function lt(n,{errorInstance:e=new Error("timed out"),timeout:t,signal:a}){return new Promise((i,r)=>{(async()=>{let u;try{const d=new AbortController;t>0&&(u=setTimeout(()=>{a?d.abort():r(e)},t)),i(await n({signal:d?.signal||null}))}catch(d){d?.name==="AbortError"&&r(e),r(d)}finally{clearTimeout(u)}})()})}function fn(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const ze=fn();function pt(n,e={}){return{async request(t){const{body:a,fetchFn:i=e.fetchFn??fetch,onRequest:r=e.onRequest,onResponse:u=e.onResponse,timeout:d=e.timeout??1e4}=t,o={...e.fetchOptions??{},...t.fetchOptions??{}},{headers:s,method:c,signal:p}=o;try{const h=await lt(async({signal:f})=>{const y={...o,body:Array.isArray(a)?pe(a.map(v=>({jsonrpc:"2.0",id:v.id??ze.take(),...v}))):pe({jsonrpc:"2.0",id:a.id??ze.take(),...a}),headers:{"Content-Type":"application/json",...s},method:c||"POST",signal:p||(d>0?f:null)},m=new Request(n,y),C=await r?.(m,y)??{...y,url:n};return await i(C.url??n,C)},{errorInstance:new Oe({body:a,url:n}),timeout:d,signal:!0});u&&await u(h);let b;if(h.headers.get("Content-Type")?.startsWith("application/json"))b=await h.json();else{b=await h.text();try{b=JSON.parse(b||"{}")}catch(f){if(h.ok)throw f;b={error:b}}}if(!h.ok)throw new ye({body:a,details:pe(b.error)||h.statusText,headers:h.headers,status:h.status,url:n});return b}catch(h){throw h instanceof ye||h instanceof Oe?h:new ye({body:a,cause:h,url:n})}}}}function gn(n,{body:e,onError:t,onResponse:a}){return n.request({body:e,onError:t,onResponse:a}),n}async function wn(n,{body:e,timeout:t=1e4}){return n.requestAsync({body:e,timeout:t})}const ge={http(n,e){return pt(n).request(e)},webSocket:gn,webSocketAsync:wn},we=new Mt(128);async function bn(n,e){const{account:t=n.account,chain:a=n.chain,accessList:i,authorizationList:r,blobs:u,data:d,gas:o,gasPrice:s,maxFeePerBlobGas:c,maxFeePerGas:p,maxPriorityFeePerGas:h,nonce:b,type:f,value:y,...m}=e;if(typeof t>"u")throw new it({docsPath:"/docs/actions/wallet/sendTransaction"});const C=t?rt(t):null;try{It(e);const T=await(async()=>{if(e.to)return e.to;if(e.to!==null&&r&&r.length>0)return await St({authorization:r[0]}).catch(()=>{throw new st("`to` is required. Could not infer from `authorizationList`.")})})();if(C?.type==="json-rpc"||C===null){let v;a!==null&&(v=await ie(n,kt,"getChainId")({}),mn({currentChainId:v,chain:a}));const S=n.chain?.formatters?.transactionRequest?.format,g=(S||At)({...Pt(m,{format:S}),accessList:i,authorizationList:r,blobs:u,chainId:v,data:d,from:C?.address,gas:o,gasPrice:s,maxFeePerBlobGas:c,maxFeePerGas:p,maxPriorityFeePerGas:h,nonce:b,to:T,type:f,value:y},"sendTransaction"),w=we.get(n.uid),I=w?"wallet_sendTransaction":"eth_sendTransaction";try{return await n.request({method:I,params:[g]},{retryCount:0})}catch(x){if(w===!1)throw x;const k=x;if(k.name==="InvalidInputRpcError"||k.name==="InvalidParamsRpcError"||k.name==="MethodNotFoundRpcError"||k.name==="MethodNotSupportedRpcError")return await n.request({method:"wallet_sendTransaction",params:[g]},{retryCount:0}).then(P=>(we.set(n.uid,!0),P)).catch(P=>{const M=P;throw M.name==="MethodNotFoundRpcError"||M.name==="MethodNotSupportedRpcError"?(we.set(n.uid,!1),k):M});throw k}}if(C?.type==="local"){const v=await ie(n,Nt,"prepareTransactionRequest")({account:C,accessList:i,authorizationList:r,blobs:u,chain:a,data:d,gas:o,gasPrice:s,maxFeePerBlobGas:c,maxFeePerGas:p,maxPriorityFeePerGas:h,nonce:b,nonceManager:C.nonceManager,parameters:[..._t,"sidecars"],type:f,value:y,...m,to:T}),S=a?.serializers?.transaction,l=await C.signTransaction(v,{serializer:S});return await ie(n,Bt,"sendRawTransaction")({serializedTransaction:l})}throw C?.type==="smart"?new me({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new me({docsPath:"/docs/actions/wallet/sendTransaction",type:C?.type})}catch(T){throw T instanceof me?T:hn(T,{...e,account:C,chain:e.chain||void 0})}}async function vn(n,e){const{abi:t,account:a=n.account,address:i,args:r,dataSuffix:u,functionName:d,...o}=e;if(typeof a>"u")throw new it({docsPath:"/docs/contract/writeContract"});const s=a?rt(a):null,c=Ft({abi:t,args:r,functionName:d});try{return await ie(n,bn,"sendTransaction")({data:`${c}${u?u.replace("0x",""):""}`,to:i,account:s,...o})}catch(p){throw Rt(p,{abi:t,address:i,args:r,docsPath:"/docs/contract/writeContract",functionName:d,sender:s?.address})}}class Tn extends st{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function G(n,e={}){const{batch:t,fetchFn:a,fetchOptions:i,key:r="http",methods:u,name:d="HTTP JSON-RPC",onFetchRequest:o,onFetchResponse:s,retryDelay:c,raw:p}=e;return({chain:h,retryCount:b,timeout:f})=>{const{batchSize:y=1e3,wait:m=0}=typeof t=="object"?t:{},C=e.retryCount??b,T=f??e.timeout??1e4,v=h?.rpcUrls.default.http[0];if(!v)throw new Tn;const S=pt(v,{fetchFn:a,fetchOptions:i,onRequest:o,onResponse:s,timeout:T});return Ot({key:r,methods:u,name:d,async request({method:l,params:g}){const w={method:l,params:g},{schedule:I}=Ut({id:v,wait:m,shouldSplitBatch(M){return M.length>y},fn:M=>S.request({body:M}),sort:(M,B)=>M.id-B.id}),x=async M=>t?I(M):[await S.request({body:M})],[{error:k,result:P}]=await x(w);if(p)return{error:k,result:P};if(k)throw new se({body:w,error:k,url:v});return P},retryCount:C,retryDelay:c,timeout:T,type:"http"},{fetchOptions:i,url:v})}}async function D(n,e){const{account:t,chainId:a,connector:i,...r}=e;let u;return typeof t=="object"&&t?.type==="local"?u=n.getClient({chainId:a}):u=await Vt(n,{account:t??void 0,assertChainId:!1,chainId:a,connector:i}),await Dt(u,vn,"writeContract")({...r,...t?{account:t}:{},chain:a?{id:a}:null})}Fe.type="injected";function Fe(n={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:t}=n;function a(){const o=n.target;if(typeof o=="function"){const s=o();if(s)return s}return typeof o=="object"?o:typeof o=="string"?{...Cn[o]??{id:o,name:`${o[0].toUpperCase()}${o.slice(1)}`,provider:`is${o[0].toUpperCase()}${o.slice(1)}`}}:{id:"injected",name:"Injected",provider(s){return s?.ethereum}}}let i,r,u,d;return o=>({get icon(){return a().icon},get id(){return a().id},get name(){return a().name},get supportsSimulation(){return!0},type:Fe.type,async setup(){const s=await this.getProvider();s?.on&&n.target&&(u||(u=this.onConnect.bind(this),s.on("connect",u)),i||(i=this.onAccountsChanged.bind(this),s.on("accountsChanged",i)))},async connect({chainId:s,isReconnecting:c,withCapabilities:p}={}){const h=await this.getProvider();if(!h)throw new Q;let b=[];if(c)b=await this.getAccounts().catch(()=>[]);else if(e)try{b=(await h.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(y=>q(y)),b.length>0&&(b=await this.getAccounts())}catch(f){const y=f;if(y.code===_.code)throw new _(y);if(y.code===he.code)throw y}try{!b?.length&&!c&&(b=(await h.request({method:"eth_requestAccounts"})).map(m=>q(m))),u&&(h.removeListener("connect",u),u=void 0),i||(i=this.onAccountsChanged.bind(this),h.on("accountsChanged",i)),r||(r=this.onChainChanged.bind(this),h.on("chainChanged",r)),d||(d=this.onDisconnect.bind(this),h.on("disconnect",d));let f=await this.getChainId();return s&&f!==s&&(f=(await this.switchChain({chainId:s}).catch(m=>{if(m.code===_.code)throw m;return{id:f}}))?.id??f),e&&await o.storage?.removeItem(`${this.id}.disconnected`),n.target||await o.storage?.setItem("injected.connected",!0),{accounts:p?b.map(y=>({address:y,capabilities:{}})):b,chainId:f}}catch(f){const y=f;throw y.code===_.code?new _(y):y.code===he.code?new he(y):y}},async disconnect(){const s=await this.getProvider();if(!s)throw new Q;r&&(s.removeListener("chainChanged",r),r=void 0),d&&(s.removeListener("disconnect",d),d=void 0),u||(u=this.onConnect.bind(this),s.on("connect",u));try{await lt(()=>s.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await o.storage?.setItem(`${this.id}.disconnected`,!0),n.target||await o.storage?.removeItem("injected.connected")},async getAccounts(){const s=await this.getProvider();if(!s)throw new Q;return(await s.request({method:"eth_accounts"})).map(p=>q(p))},async getChainId(){const s=await this.getProvider();if(!s)throw new Q;const c=await s.request({method:"eth_chainId"});return Number(c)},async getProvider(){if(typeof window>"u")return;let s;const c=a();return typeof c.provider=="function"?s=c.provider(window):typeof c.provider=="string"?s=re(window,c.provider):s=c.provider,s&&!s.removeListener&&("off"in s&&typeof s.off=="function"?s.removeListener=s.off:s.removeListener=()=>{}),s},async isAuthorized(){try{if(e&&await o.storage?.getItem(`${this.id}.disconnected`)||!n.target&&!await o.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(t!==void 0&&t!==!1){const h=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",h),!!await this.getProvider()),b=typeof t=="number"?t:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(y=>window.addEventListener("ethereum#initialized",()=>y(h()),{once:!0}))]:[],new Promise(y=>setTimeout(()=>y(h()),b))]))return!0}throw new Q}return!!(await qt(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:s,chainId:c}){const p=await this.getProvider();if(!p)throw new Q;const h=o.chains.find(f=>f.id===c);if(!h)throw new Ce(new oe);const b=new Promise(f=>{const y=(m=>{"chainId"in m&&m.chainId===c&&(o.emitter.off("change",y),f())});o.emitter.on("change",y)});try{return await Promise.all([p.request({method:"wallet_switchEthereumChain",params:[{chainId:ce(c)}]}).then(async()=>{await this.getChainId()===c&&o.emitter.emit("change",{chainId:c})}),b]),h}catch(f){const y=f;if(y.code===4902||y?.data?.originalError?.code===4902)try{const{default:m,...C}=h.blockExplorers??{};let T;s?.blockExplorerUrls?T=s.blockExplorerUrls:m&&(T=[m.url,...Object.values(C).map(l=>l.url)]);let v;s?.rpcUrls?.length?v=s.rpcUrls:v=[h.rpcUrls.default?.http[0]??""];const S={blockExplorerUrls:T,chainId:ce(c),chainName:s?.chainName??h.name,iconUrls:s?.iconUrls,nativeCurrency:s?.nativeCurrency??h.nativeCurrency,rpcUrls:v};return await Promise.all([p.request({method:"wallet_addEthereumChain",params:[S]}).then(async()=>{if(await this.getChainId()===c)o.emitter.emit("change",{chainId:c});else throw new _(new Error("User rejected switch after adding network."))}),b]),h}catch(m){throw new _(m)}throw y.code===_.code?new _(y):new Ce(y)}},async onAccountsChanged(s){if(s.length===0)this.onDisconnect();else if(o.emitter.listenerCount("connect")){const c=(await this.getChainId()).toString();this.onConnect({chainId:c}),e&&await o.storage?.removeItem(`${this.id}.disconnected`)}else o.emitter.emit("change",{accounts:s.map(c=>q(c))})},onChainChanged(s){const c=Number(s);o.emitter.emit("change",{chainId:c})},async onConnect(s){const c=await this.getAccounts();if(c.length===0)return;const p=Number(s.chainId);o.emitter.emit("connect",{accounts:c,chainId:p});const h=await this.getProvider();h&&(u&&(h.removeListener("connect",u),u=void 0),i||(i=this.onAccountsChanged.bind(this),h.on("accountsChanged",i)),r||(r=this.onChainChanged.bind(this),h.on("chainChanged",r)),d||(d=this.onDisconnect.bind(this),h.on("disconnect",d)))},async onDisconnect(s){const c=await this.getProvider();s&&s.code===1013&&c&&(await this.getAccounts()).length||(o.emitter.emit("disconnect"),c&&(r&&(c.removeListener("chainChanged",r),r=void 0),d&&(c.removeListener("disconnect",d),d=void 0),u||(u=this.onConnect.bind(this),c.on("connect",u))))}})}const Cn={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(n){return n?.coinbaseWalletExtension?n.coinbaseWalletExtension:re(n,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(n){return re(n,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const t=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const a of t)if(e[a])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(n){return n?.phantom?.ethereum?n.phantom?.ethereum:re(n,"isPhantom")}}};function re(n,e){function t(i){return typeof e=="function"?e(i):typeof e=="string"?i[e]:!0}const a=n.ethereum;if(a?.providers)return a.providers.find(i=>t(i));if(a&&t(a))return a}Re.type="mock";function Re(n){const e=new Map,t=n.features??{defaultConnected:!1};let a=t.defaultConnected,i;return r=>({id:"mock",name:"Mock Connector",type:Re.type,async setup(){i=r.chains[0].id},async connect({chainId:u,withCapabilities:d}={}){if(t.connectError)throw typeof t.connectError=="boolean"?new _(new Error("Failed to connect.")):t.connectError;const s=await(await this.getProvider()).request({method:"eth_requestAccounts"});let c=await this.getChainId();return u&&c!==u&&(c=(await this.switchChain({chainId:u})).id),a=!0,{accounts:d?s.map(p=>({address:q(p),capabilities:{foo:{bar:p}}})):s.map(p=>q(p)),chainId:c}},async disconnect(){a=!1},async getAccounts(){if(!a)throw new Kt;return(await(await this.getProvider()).request({method:"eth_accounts"})).map(o=>q(o))},async getChainId(){const d=await(await this.getProvider()).request({method:"eth_chainId"});return Ue(d,"number")},async isAuthorized(){return!t.reconnect||!a?!1:!!(await this.getAccounts()).length},async switchChain({chainId:u}){const d=await this.getProvider(),o=r.chains.find(s=>s.id===u);if(!o)throw new Ce(new oe);return await d.request({method:"wallet_switchEthereumChain",params:[{chainId:ce(u)}]}),o},onAccountsChanged(u){u.length===0?this.onDisconnect():r.emitter.emit("change",{accounts:u.map(d=>q(d))})},onChainChanged(u){const d=Number(u);r.emitter.emit("change",{chainId:d})},async onDisconnect(u){r.emitter.emit("disconnect"),a=!1},async getProvider({chainId:u}={}){const o=(r.chains.find(c=>c.id===u)??r.chains[0]).rpcUrls.default.http[0];return jt({request:async({method:c,params:p})=>{if(c==="eth_chainId")return ce(i);if(c==="eth_requestAccounts")return n.accounts;if(c==="eth_signTypedData_v4"&&t.signTypedDataError)throw typeof t.signTypedDataError=="boolean"?new _(new Error("Failed to sign typed data.")):t.signTypedDataError;if(c==="wallet_switchEthereumChain"){if(t.switchChainError)throw typeof t.switchChainError=="boolean"?new _(new Error("Failed to switch chain.")):t.switchChainError;i=Ue(p[0].chainId,"number"),this.onChainChanged(i.toString());return}if(c==="wallet_watchAsset"){if(t.watchAssetError)throw typeof t.watchAssetError=="boolean"?new _(new Error("Failed to switch chain.")):t.watchAssetError;return a}if(c==="wallet_getCapabilities")return{"0x2105":{paymasterService:{supported:p[0]==="0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266"},sessionKeys:{supported:!0}},"0x14A34":{paymasterService:{supported:p[0]==="0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266"}}};if(c==="wallet_sendCalls"){const y=[],m=p[0].calls,C=p[0].from;for(const v of m){const{result:S,error:l}=await ge.http(o,{body:{method:"eth_sendTransaction",params:[{...v,...typeof C<"u"?{from:C}:{}}]}});if(l)throw new se({body:{method:c,params:p},error:l,url:o});y.push(S)}const T=Lt(Qt(JSON.stringify(m)));return e.set(T,y),{id:T}}if(c==="wallet_getCallsStatus"){const y=e.get(p[0]);if(!y)return{atomic:!1,chainId:"0x1",id:p[0],status:100,receipts:[],version:"2.0.0"};const C=(await Promise.all(y.map(async T=>{const{result:v,error:S}=await ge.http(o,{body:{method:"eth_getTransactionReceipt",params:[T],id:0}});if(S)throw new se({body:{method:c,params:p},error:S,url:o});return v?{blockHash:v.blockHash,blockNumber:v.blockNumber,gasUsed:v.gasUsed,logs:v.logs,status:v.status,transactionHash:v.transactionHash}:null}))).filter(T=>T!==null);return C.length===0?{atomic:!1,chainId:"0x1",id:p[0],status:100,receipts:[],version:"2.0.0"}:{atomic:!1,chainId:"0x1",id:p[0],status:200,receipts:C,version:"2.0.0"}}if(c==="wallet_showCallsStatus")return;if(c==="personal_sign"){if(t.signMessageError)throw typeof t.signMessageError=="boolean"?new _(new Error("Failed to sign message.")):t.signMessageError;c="eth_sign",p=[p[1],p[0]]}const h={method:c,params:p},{error:b,result:f}=await ge.http(o,{body:h});if(b)throw new se({body:h,error:b,url:o});return f}})({retryCount:0})}})}function xn(n){if(typeof window>"u")return;const e=t=>n(t.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function En(){const n=new Set;let e=[];const t=()=>xn(i=>{e.some(({info:r})=>r.uuid===i.info.uuid)||(e=[...e,i],n.forEach(r=>r(e,{added:[i]})))});let a=t();return{_listeners(){return n},clear(){n.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),n.clear(),a?.()},findProvider({rdns:i}){return e.find(r=>r.info.rdns===i)},getProviders(){return e},reset(){this.clear(),a?.(),a=t()},subscribe(i,{emitImmediately:r}={}){return n.add(i),r&&i(e,{added:e}),()=>n.delete(i)}}}const In=n=>(e,t,a)=>{const i=a.subscribe;return a.subscribe=(u,d,o)=>{let s=u;if(d){const c=o?.equalityFn||Object.is;let p=u(a.getState());s=h=>{const b=u(h);if(!c(p,b)){const f=p;d(p=b,f)}},o?.fireImmediately&&d(p,p)}return i(s)},n(e,t,a)},Sn=In;function kn(n,e){let t;try{t=n()}catch{return}return{getItem:i=>{var r;const u=o=>o===null?null:JSON.parse(o,void 0),d=(r=t.getItem(i))!=null?r:null;return d instanceof Promise?d.then(u):u(d)},setItem:(i,r)=>t.setItem(i,JSON.stringify(r,void 0)),removeItem:i=>t.removeItem(i)}}const xe=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(a){return xe(a)(t)},catch(a){return this}}}catch(t){return{then(a){return this},catch(a){return xe(a)(t)}}}},An=(n,e)=>(t,a,i)=>{let r={storage:kn(()=>localStorage),partialize:y=>y,version:0,merge:(y,m)=>({...m,...y}),...e},u=!1;const d=new Set,o=new Set;let s=r.storage;if(!s)return n((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${r.name}', the given storage is currently unavailable.`),t(...y)},a,i);const c=()=>{const y=r.partialize({...a()});return s.setItem(r.name,{state:y,version:r.version})},p=i.setState;i.setState=(y,m)=>{p(y,m),c()};const h=n((...y)=>{t(...y),c()},a,i);i.getInitialState=()=>h;let b;const f=()=>{var y,m;if(!s)return;u=!1,d.forEach(T=>{var v;return T((v=a())!=null?v:h)});const C=((m=r.onRehydrateStorage)==null?void 0:m.call(r,(y=a())!=null?y:h))||void 0;return xe(s.getItem.bind(s))(r.name).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==r.version){if(r.migrate)return[!0,r.migrate(T.state,T.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,T.state];return[!1,void 0]}).then(T=>{var v;const[S,l]=T;if(b=r.merge(l,(v=a())!=null?v:h),t(b,!0),S)return c()}).then(()=>{C?.(b,void 0),b=a(),u=!0,o.forEach(T=>T(b))}).catch(T=>{C?.(void 0,T)})};return i.persist={setOptions:y=>{r={...r,...y},y.storage&&(s=y.storage)},clearStorage:()=>{s?.removeItem(r.name)},getOptions:()=>r,rehydrate:()=>f(),hasHydrated:()=>u,onHydrate:y=>(d.add(y),()=>{d.delete(y)}),onFinishHydration:y=>(o.add(y),()=>{o.delete(y)})},r.skipHydration||f(),b||h},Pn=An,We=n=>{let e;const t=new Set,a=(s,c)=>{const p=typeof s=="function"?s(e):s;if(!Object.is(p,e)){const h=e;e=c??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(b=>b(e,h))}},i=()=>e,d={setState:a,getState:i,getInitialState:()=>o,subscribe:s=>(t.add(s),()=>t.delete(s))},o=e=n(a,i,d);return d},be=n=>n?We(n):We;var ve={exports:{}},He;function Mn(){return He||(He=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(t=!1));function i(o,s,c){this.fn=o,this.context=s,this.once=c||!1}function r(o,s,c,p,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var b=new i(c,p||o,h),f=t?t+s:s;return o._events[f]?o._events[f].fn?o._events[f]=[o._events[f],b]:o._events[f].push(b):(o._events[f]=b,o._eventsCount++),o}function u(o,s){--o._eventsCount===0?o._events=new a:delete o._events[s]}function d(){this._events=new a,this._eventsCount=0}d.prototype.eventNames=function(){var s=[],c,p;if(this._eventsCount===0)return s;for(p in c=this._events)e.call(c,p)&&s.push(t?p.slice(1):p);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(c)):s},d.prototype.listeners=function(s){var c=t?t+s:s,p=this._events[c];if(!p)return[];if(p.fn)return[p.fn];for(var h=0,b=p.length,f=new Array(b);h<b;h++)f[h]=p[h].fn;return f},d.prototype.listenerCount=function(s){var c=t?t+s:s,p=this._events[c];return p?p.fn?1:p.length:0},d.prototype.emit=function(s,c,p,h,b,f){var y=t?t+s:s;if(!this._events[y])return!1;var m=this._events[y],C=arguments.length,T,v;if(m.fn){switch(m.once&&this.removeListener(s,m.fn,void 0,!0),C){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,c),!0;case 3:return m.fn.call(m.context,c,p),!0;case 4:return m.fn.call(m.context,c,p,h),!0;case 5:return m.fn.call(m.context,c,p,h,b),!0;case 6:return m.fn.call(m.context,c,p,h,b,f),!0}for(v=1,T=new Array(C-1);v<C;v++)T[v-1]=arguments[v];m.fn.apply(m.context,T)}else{var S=m.length,l;for(v=0;v<S;v++)switch(m[v].once&&this.removeListener(s,m[v].fn,void 0,!0),C){case 1:m[v].fn.call(m[v].context);break;case 2:m[v].fn.call(m[v].context,c);break;case 3:m[v].fn.call(m[v].context,c,p);break;case 4:m[v].fn.call(m[v].context,c,p,h);break;default:if(!T)for(l=1,T=new Array(C-1);l<C;l++)T[l-1]=arguments[l];m[v].fn.apply(m[v].context,T)}}return!0},d.prototype.on=function(s,c,p){return r(this,s,c,p,!1)},d.prototype.once=function(s,c,p){return r(this,s,c,p,!0)},d.prototype.removeListener=function(s,c,p,h){var b=t?t+s:s;if(!this._events[b])return this;if(!c)return u(this,b),this;var f=this._events[b];if(f.fn)f.fn===c&&(!h||f.once)&&(!p||f.context===p)&&u(this,b);else{for(var y=0,m=[],C=f.length;y<C;y++)(f[y].fn!==c||h&&!f[y].once||p&&f[y].context!==p)&&m.push(f[y]);m.length?this._events[b]=m.length===1?m[0]:m:u(this,b)}return this},d.prototype.removeAllListeners=function(s){var c;return s?(c=t?t+s:s,this._events[c]&&u(this,c)):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=t,d.EventEmitter=d,n.exports=d})(ve)),ve.exports}var Nn=Mn();const _n=gt(Nn);class Bn{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new _n})}on(e,t){this._emitter.on(e,t)}once(e,t){this._emitter.once(e,t)}off(e,t){this._emitter.off(e,t)}emit(e,...t){const a=t[0];this._emitter.emit(e,{uid:this.uid,...a})}listenerCount(e){return this._emitter.listenerCount(e)}}function Fn(n){return new Bn(n)}function Rn(n,e){return JSON.parse(n,(t,a)=>{let i=a;return i?.__type==="bigint"&&(i=BigInt(i.value)),i?.__type==="Map"&&(i=new Map(i.value)),e?.(t,i)??i})}function Ge(n,e){return n.slice(0,e).join(".")||"."}function $e(n,e){const{length:t}=n;for(let a=0;a<t;++a)if(n[a]===e)return a+1;return 0}function On(n,e){const t=typeof n=="function",a=typeof e=="function",i=[],r=[];return function(d,o){if(typeof o=="object")if(i.length){const s=$e(i,this);s===0?i[i.length]=this:(i.splice(s),r.splice(s)),r[r.length]=d;const c=$e(i,o);if(c!==0)return a?e.call(this,d,o,Ge(r,c)):`[ref=${Ge(r,c)}]`}else i[0]=o,r[0]=d;return t?n.call(this,d,o):o}}function Un(n,e,t,a){return JSON.stringify(n,On((i,r)=>{let u=r;return typeof u=="bigint"&&(u={__type:"bigint",value:r.toString()}),u instanceof Map&&(u={__type:"Map",value:Array.from(r.entries())}),e?.(i,u)??u},a),t??void 0)}function Vn(n){const{deserialize:e=Rn,key:t="wagmi",serialize:a=Un,storage:i=yt}=n;function r(u){return u instanceof Promise?u.then(d=>d).catch(()=>null):u}return{...i,key:t,async getItem(u,d){const o=i.getItem(`${t}.${u}`),s=await r(o);return s?e(s)??null:d??null},async setItem(u,d){const o=`${t}.${u}`;d===null?await r(i.removeItem(o)):await r(i.setItem(o,a(d)))},async removeItem(u){await r(i.removeItem(`${t}.${u}`))}}}const yt={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function Dn(){const n=typeof window<"u"&&window.localStorage?window.localStorage:yt;return{getItem(e){return n.getItem(e)},removeItem(e){n.removeItem(e)},setItem(e,t){try{n.setItem(e,t)}catch{}}}}const Ee=256;let ee=Ee,te;function qn(n=11){if(!te||ee+n>Ee*2){te="",ee=0;for(let e=0;e<Ee;e++)te+=(256+Math.random()*256|0).toString(16).substring(1)}return te.substring(ee,ee+++n)}function $(n){const{multiInjectedProviderDiscovery:e=!0,storage:t=Vn({storage:Dn()}),syncConnectedChain:a=!0,ssr:i=!1,...r}=n,u=typeof window<"u"&&e?En():void 0,d=be(()=>r.chains),o=be(()=>{const l=[],g=new Set;for(const w of r.connectors??[]){const I=s(w);if(l.push(I),!i&&I.rdns){const x=typeof I.rdns=="string"?[I.rdns]:I.rdns;for(const k of x)g.add(k)}}if(!i&&u){const w=u.getProviders();for(const I of w)g.has(I.info.rdns)||l.push(s(c(I)))}return l});function s(l){const g=Fn(qn()),w={...l({emitter:g,chains:d.getState(),storage:t,transports:r.transports}),emitter:g,uid:g.uid};return g.on("connect",v),w.setup?.(),w}function c(l){const{info:g}=l,w=l.provider;return Fe({target:{...g,id:g.rdns,provider:w}})}const p=new Map;function h(l={}){const g=l.chainId??m.getState().chainId,w=d.getState().find(x=>x.id===g);if(l.chainId&&!w)throw new oe;{const x=p.get(m.getState().chainId);if(x&&!w)return x;if(!w)throw new oe}{const x=p.get(g);if(x)return x}let I;if(r.client)I=r.client({chain:w});else{const x=w.id,k=d.getState().map(B=>B.id),P={},M=Object.entries(r);for(const[B,L]of M)if(!(B==="chains"||B==="client"||B==="connectors"||B==="transports"))if(typeof L=="object")if(x in L)P[B]=L[x];else{if(k.some(ft=>ft in L))continue;P[B]=L}else P[B]=L;I=j({...P,chain:w,batch:P.batch??{multicall:!0},transport:B=>r.transports[x]({...B,connectors:o})})}return p.set(g,I),I}function b(){return{chainId:d.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let f;const y="0.0.0-canary-";fe.startsWith(y)?f=Number.parseInt(fe.replace(y,""),10):f=Number.parseInt(fe.split(".")[0]??"0",10);const m=be(Sn(t?Pn(b,{migrate(l,g){if(g===f)return l;const w=b(),I=C(l,w.chainId);return{...w,chainId:I}},name:"store",partialize(l){return{connections:{__type:"Map",value:Array.from(l.connections.entries()).map(([g,w])=>{const{id:I,name:x,type:k,uid:P}=w.connector;return[g,{...w,connector:{id:I,name:x,type:k,uid:P}}]})},chainId:l.chainId,current:l.current}},merge(l,g){typeof l=="object"&&l&&"status"in l&&delete l.status;const w=C(l,g.chainId);return{...g,...l,chainId:w}},skipHydration:i,storage:t,version:f}):b));m.setState(b());function C(l,g){return l&&typeof l=="object"&&"chainId"in l&&typeof l.chainId=="number"&&d.getState().some(w=>w.id===l.chainId)?l.chainId:g}a&&m.subscribe(({connections:l,current:g})=>g?l.get(g)?.chainId:void 0,l=>{if(d.getState().some(w=>w.id===l))return m.setState(w=>({...w,chainId:l??w.chainId}))}),u?.subscribe(l=>{const g=new Set,w=new Set;for(const x of o.getState())if(g.add(x.id),x.rdns){const k=typeof x.rdns=="string"?[x.rdns]:x.rdns;for(const P of k)w.add(P)}const I=[];for(const x of l){if(w.has(x.info.rdns))continue;const k=s(c(x));g.has(k.id)||I.push(k)}t&&!m.persist.hasHydrated()||o.setState(x=>[...x,...I],!0)});function T(l){m.setState(g=>{const w=g.connections.get(l.uid);return w?{...g,connections:new Map(g.connections).set(l.uid,{accounts:l.accounts??w.accounts,chainId:l.chainId??w.chainId,connector:w.connector})}:g})}function v(l){m.getState().status==="connecting"||m.getState().status==="reconnecting"||m.setState(g=>{const w=o.getState().find(I=>I.uid===l.uid);return w?(w.emitter.listenerCount("connect")&&w.emitter.off("connect",T),w.emitter.listenerCount("change")||w.emitter.on("change",T),w.emitter.listenerCount("disconnect")||w.emitter.on("disconnect",S),{...g,connections:new Map(g.connections).set(l.uid,{accounts:l.accounts,chainId:l.chainId,connector:w}),current:l.uid,status:"connected"}):g})}function S(l){m.setState(g=>{const w=g.connections.get(l.uid);if(w){const x=w.connector;x.emitter.listenerCount("change")&&w.connector.emitter.off("change",T),x.emitter.listenerCount("disconnect")&&w.connector.emitter.off("disconnect",S),x.emitter.listenerCount("connect")||w.connector.emitter.on("connect",v)}if(g.connections.delete(l.uid),g.connections.size===0)return{...g,connections:new Map,current:null,status:"disconnected"};const I=g.connections.values().next().value;return{...g,connections:new Map(g.connections),current:I.connector.uid}})}return{get chains(){return d.getState()},get connectors(){return o.getState()},storage:t,getClient:h,get state(){return m.getState()},setState(l){let g;typeof l=="function"?g=l(m.getState()):g=l;const w=b();typeof g!="object"&&(g=w),Object.keys(w).some(x=>!(x in g))&&(g=w),m.setState(g,!0)},subscribe(l,g,w){return m.subscribe(l,g,w?{...w,fireImmediately:w.emitImmediately}:void 0)},_internal:{mipd:u,async revalidate(){const l=m.getState(),g=l.connections;let w=l.current;for(const[,I]of g){const x=I.connector;x.isAuthorized&&await x.isAuthorized()||(g.delete(x.uid),w===x.uid&&(w=null))}m.setState(I=>({...I,connections:g,current:w}))},store:m,ssr:!!i,syncConnectedChain:a,transports:r.transports,chains:{setState(l){const g=typeof l=="function"?l(d.getState()):l;if(g.length!==0)return d.setState(g,!0)},subscribe(l){return d.subscribe(l)}},connectors:{providerDetailToConnector:c,setup:s,setState(l){return o.setState(typeof l=="function"?l(o.getState()):l,!0)},subscribe(l){return o.subscribe(l)}},events:{change:T,connect:v,disconnect:S}}}}function Je(n){return{onFetch:(e,t)=>{const a=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,r=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},o=0;const s=async()=>{let c=!1;const p=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},h=zt(e.options,e.fetchOptions),b=async(f,y,m)=>{if(c)return Promise.reject();if(y==null&&f.pages.length)return Promise.resolve(f);const T=(()=>{const g={client:e.client,queryKey:e.queryKey,pageParam:y,direction:m?"backward":"forward",meta:e.options.meta};return p(g),g})(),v=await h(T),{maxPages:S}=e.options,l=m?Wt:Ht;return{pages:l(f.pages,v,S),pageParams:l(f.pageParams,y,S)}};if(i&&r.length){const f=i==="backward",y=f?jn:Ze,m={pages:r,pageParams:u},C=y(a,m);d=await b(m,C,f)}else{const f=n??r.length;do{const y=o===0?u[0]??a.initialPageParam:Ze(a,d);if(o>0&&y==null)break;d=await b(d,y),o++}while(o<f)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(s,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=s}}}function Ze(n,{pages:e,pageParams:t}){const a=e.length-1;return e.length>0?n.getNextPageParam(e[a],e,t[a],t):void 0}function jn(n,{pages:e,pageParams:t}){return e.length>0?n.getPreviousPageParam?.(e[0],e,t[0],t):void 0}var Kn=class extends ot{constructor(n={}){super(),this.config=n,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(n,e,t){const a=new Gt({client:n,mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(e),state:t});return this.add(a),a}add(n){this.#e.add(n);const e=ne(n);if(typeof e=="string"){const t=this.#t.get(e);t?t.push(n):this.#t.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#e.delete(n)){const e=ne(n);if(typeof e=="string"){const t=this.#t.get(e);if(t)if(t.length>1){const a=t.indexOf(n);a!==-1&&t.splice(a,1)}else t[0]===n&&this.#t.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=ne(n);if(typeof e=="string"){const a=this.#t.get(e)?.find(i=>i.state.status==="pending");return!a||a===n}else return!0}runNext(n){const e=ne(n);return typeof e=="string"?this.#t.get(e)?.find(a=>a!==n&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){F.batch(()=>{this.#e.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(n){const e={exact:!0,...n};return this.getAll().find(t=>Ve(e,t))}findAll(n={}){return this.getAll().filter(e=>Ve(n,e))}notify(n){F.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return F.batch(()=>Promise.all(n.map(e=>e.continue().catch(U))))}};function ne(n){return n.options.scope?.id}var Ln=class extends ot{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,e,t){const a=e.queryKey,i=e.queryHash??ct(a,e);let r=this.get(i);return r||(r=new $t({client:n,queryKey:a,queryHash:i,options:n.defaultQueryOptions(e),state:t,defaultOptions:n.getQueryDefaults(a)}),this.add(r)),r}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#e.get(n.queryHash);e&&(n.destroy(),e===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){F.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(t=>De(e,t))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(t=>De(n,t)):e}notify(n){F.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){F.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){F.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},Qn=class{#e;#t;#n;#i;#s;#a;#r;#o;constructor(n={}){this.#e=n.queryCache||new Ln,this.#t=n.mutationCache||new Kn,this.#n=n.defaultOptions||{},this.#i=new Map,this.#s=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#r=Jt.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=qe.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#r?.(),this.#r=void 0,this.#o?.(),this.#o=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=this.#e.build(this,e),a=t.state.data;return a===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(je(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(a))}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:e,state:t})=>{const a=t.data;return[e,a]})}setQueryData(n,e,t){const a=this.defaultQueryOptions({queryKey:n}),r=this.#e.get(a.queryHash)?.state.data,u=Zt(e,r);if(u!==void 0)return this.#e.build(this,a).setData(u,{...t,manual:!0})}setQueriesData(n,e,t){return F.batch(()=>this.#e.findAll(n).map(({queryKey:a})=>[a,this.setQueryData(a,e,t)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state}removeQueries(n){const e=this.#e;F.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=this.#e;return F.batch(()=>(t.findAll(n).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},a=F.batch(()=>this.#e.findAll(n).map(i=>i.cancel(t)));return Promise.all(a).then(U).catch(U)}invalidateQueries(n,e={}){return F.batch(()=>(this.#e.findAll(n).forEach(t=>{t.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},a=F.batch(()=>this.#e.findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let r=i.fetch(void 0,t);return t.throwOnError||(r=r.catch(U)),i.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(a).then(U)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=this.#e.build(this,e);return t.isStaleByTime(je(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(U).catch(U)}fetchInfiniteQuery(n){return n.behavior=Je(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(U).catch(U)}ensureInfiniteQueryData(n){return n.behavior=Je(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return qe.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#i.set(Ke(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#i.values()],t={};return e.forEach(a=>{Le(n,a.queryKey)&&Object.assign(t,a.defaultOptions)}),t}setMutationDefaults(n,e){this.#s.set(Ke(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#s.values()],t={};return e.forEach(a=>{Le(n,a.mutationKey)&&Object.assign(t,a.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=ct(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Xt&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}};const zn=Y({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0}),O=[{type:"constructor",inputs:[],stateMutability:"nonpayable"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"allowance",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"spender",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"decimals",inputs:[],outputs:[{name:"",type:"uint8",internalType:"uint8"}],stateMutability:"view"},{type:"function",name:"getVersion",inputs:[],outputs:[{name:"majorVersion",type:"uint8",internalType:"uint8"},{name:"minorVersion",type:"uint8",internalType:"uint8"},{name:"patchVersion",type:"uint8",internalType:"uint8"}],stateMutability:"pure"},{type:"function",name:"initialize",inputs:[{name:"_owner",type:"address",internalType:"address"},{name:"_initialGrantRecipient",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"newImplementation",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Upgrade",inputs:[{name:"implementation",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"ERC20InsufficientAllowance",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"allowance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ERC20InsufficientBalance",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"balance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ERC20InvalidApprover",inputs:[{name:"approver",type:"address",internalType:"address"}]},{type:"error",name:"ERC20InvalidReceiver",inputs:[{name:"receiver",type:"address",internalType:"address"}]},{type:"error",name:"ERC20InvalidSender",inputs:[{name:"sender",type:"address",internalType:"address"}]},{type:"error",name:"ERC20InvalidSpender",inputs:[{name:"spender",type:"address",internalType:"address"}]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]}];class Wn{contractAddress;chainID;config;constructor(e,t,a){this.contractAddress=a,this.chainID=t,this.config=e}async getVersion(){return A(this.config,{abi:O,address:this.contractAddress,chainId:this.chainID,functionName:"getVersion"})}async name(){return A(this.config,{abi:O,address:this.contractAddress,chainId:this.chainID,functionName:"name"})}async symbol(){return A(this.config,{abi:O,address:this.contractAddress,chainId:this.chainID,functionName:"symbol"})}async decimals(){return A(this.config,{abi:O,address:this.contractAddress,chainId:this.chainID,functionName:"decimals"})}async totalSupply(){return A(this.config,{abi:O,address:this.contractAddress,chainId:this.chainID,functionName:"totalSupply"})}async balanceOf(e){return A(this.config,{abi:O,address:this.contractAddress,chainId:this.chainID,functionName:"balanceOf",args:[e]})}async allowance(e,t){return A(this.config,{abi:O,address:this.contractAddress,chainId:this.chainID,functionName:"allowance",args:[e,t]})}async transfer(e,t){return D(this.config,{abi:O,address:this.contractAddress,chainId:this.chainID,functionName:"transfer",args:[e,t]})}async approve(e,t){return D(this.config,{abi:O,address:this.contractAddress,chainId:this.chainID,functionName:"approve",args:[e,t]})}async transferFrom(e,t,a){return D(this.config,{abi:O,address:this.contractAddress,chainId:this.chainID,functionName:"transferFrom",args:[e,t,a]})}}const J=R.createContext(null),Ie=({children:n})=>E.jsx(Hn,{children:n}),Hn=({children:n})=>{const e=Be(),t=R.useContext(X);if(!t||!t.espTokenContractAddress)return E.jsx(E.Fragment,{children:n});const a=new Wn(e,e.chains[0].id,t.espTokenContractAddress);return E.jsx(J.Provider,{value:a,children:n})};try{J.displayName="ESPTokenContractContext",J.__docgenInfo={description:`ESPTokenContractContext provides a React Context
for the ESP token contract.`,displayName:"ESPTokenContractContext",props:{}}}catch{}try{Ie.displayName="ProvideESPTokenContract",Ie.__docgenInfo={description:`ProvideESPTokenContract is a React component that provides
the ESP token contract via ESPTokenContractContext.`,displayName:"ProvideESPTokenContract",props:{}}}catch{}const N=[{type:"constructor",inputs:[],stateMutability:"nonpayable"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"_hashBlsKey",inputs:[{name:"blsVK",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"blsKeys",inputs:[{name:"blsKeyHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"used",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"claimValidatorExit",inputs:[{name:"validator",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"claimWithdrawal",inputs:[{name:"validator",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegate",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegations",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"deregisterValidator",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"exitEscrowPeriod",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getVersion",inputs:[],outputs:[{name:"majorVersion",type:"uint8",internalType:"uint8"},{name:"minorVersion",type:"uint8",internalType:"uint8"},{name:"patchVersion",type:"uint8",internalType:"uint8"}],stateMutability:"pure"},{type:"function",name:"initialize",inputs:[{name:"_tokenAddress",type:"address",internalType:"address"},{name:"_lightClientAddress",type:"address",internalType:"address"},{name:"_exitEscrowPeriod",type:"uint256",internalType:"uint256"},{name:"_initialOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"initializedAtBlock",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"lightClient",inputs:[],outputs:[{name:"",type:"address",internalType:"contract LightClientV2"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"registerValidator",inputs:[{name:"blsVK",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVK",type:"tuple",internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"blsSig",type:"tuple",internalType:"struct BN254.G1Point",components:[{name:"x",type:"uint256",internalType:"BN254.BaseField"},{name:"y",type:"uint256",internalType:"BN254.BaseField"}]},{name:"commission",type:"uint16",internalType:"uint16"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"token",inputs:[],outputs:[{name:"",type:"address",internalType:"contract ERC20"}],stateMutability:"view"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"undelegate",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"undelegations",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"},{name:"unlocksAt",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"updateConsensusKeys",inputs:[{name:"newBlsVK",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"newSchnorrVK",type:"tuple",internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"newBlsSig",type:"tuple",internalType:"struct BN254.G1Point",components:[{name:"x",type:"uint256",internalType:"BN254.BaseField"},{name:"y",type:"uint256",internalType:"BN254.BaseField"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"newImplementation",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"validatorExits",inputs:[{name:"validator",type:"address",internalType:"address"}],outputs:[{name:"unlocksAt",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"validators",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"delegatedAmount",type:"uint256",internalType:"uint256"},{name:"status",type:"uint8",internalType:"enum StakeTable.ValidatorStatus"}],stateMutability:"view"},{type:"event",name:"ConsensusKeysUpdated",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"blsVK",type:"tuple",indexed:!1,internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVK",type:"tuple",indexed:!1,internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]}],anonymous:!1},{type:"event",name:"Delegated",inputs:[{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"validator",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Undelegated",inputs:[{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"validator",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Upgrade",inputs:[{name:"implementation",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ValidatorExit",inputs:[{name:"validator",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ValidatorRegistered",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"blsVk",type:"tuple",indexed:!1,internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVk",type:"tuple",indexed:!1,internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"commission",type:"uint16",indexed:!1,internalType:"uint16"}],anonymous:!1},{type:"event",name:"Withdrawal",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"BLSSigVerificationFailed",inputs:[]},{type:"error",name:"BlsKeyAlreadyUsed",inputs:[]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InsufficientAllowance",inputs:[{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"}]},{type:"error",name:"InsufficientBalance",inputs:[{name:"",type:"uint256",internalType:"uint256"}]},{type:"error",name:"InvalidCommission",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"InvalidSchnorrVK",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"NothingToWithdraw",inputs:[]},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"PrematureWithdrawal",inputs:[]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"UndelegationAlreadyExists",inputs:[]},{type:"error",name:"ValidatorAlreadyExited",inputs:[]},{type:"error",name:"ValidatorAlreadyRegistered",inputs:[]},{type:"error",name:"ValidatorInactive",inputs:[]},{type:"error",name:"ValidatorNotExited",inputs:[]},{type:"error",name:"ZeroAddress",inputs:[]},{type:"error",name:"ZeroAmount",inputs:[]}];class mt{contractAddress;chainID;config;constructor(e,t,a){this.contractAddress=a,this.chainID=t,this.config=e}async lightClient(){return A(this.config,{abi:N,address:this.contractAddress,chainId:this.chainID,functionName:"lightClient"})}async token(){return A(this.config,{abi:N,address:this.contractAddress,chainId:this.chainID,functionName:"token"})}async validator(e){return await A(this.config,{abi:N,address:this.contractAddress,chainId:this.chainID,functionName:"validators",args:[e]})}async blsKey(e){return A(this.config,{abi:N,address:this.contractAddress,chainId:this.chainID,functionName:"blsKeys",args:[e]})}async validatorExit(e){return A(this.config,{abi:N,address:this.contractAddress,chainId:this.chainID,functionName:"validatorExits",args:[e]})}async delegation(e,t){return A(this.config,{abi:N,address:this.contractAddress,chainId:this.chainID,functionName:"delegations",args:[e,t]})}async undelegation(e,t){return A(this.config,{abi:N,address:this.contractAddress,chainId:this.chainID,functionName:"undelegations",args:[e,t]})}async exitEscrowPeriod(){return A(this.config,{abi:N,address:this.contractAddress,chainId:this.chainID,functionName:"exitEscrowPeriod"})}async getVersion(){return A(this.config,{abi:N,address:this.contractAddress,chainId:this.chainID,functionName:"getVersion"})}async deregisterValidator(){return D(this.config,{abi:N,address:this.contractAddress,chainId:this.chainID,functionName:"deregisterValidator"})}async delegate(e,t){return D(this.config,{abi:N,address:this.contractAddress,chainId:this.chainID,functionName:"delegate",args:[e,t]})}async undelegate(e,t){return D(this.config,{abi:N,address:this.contractAddress,chainId:this.chainID,functionName:"undelegate",args:[e,t]})}async claimWithdrawal(e){return D(this.config,{abi:N,address:this.contractAddress,chainId:this.chainID,functionName:"claimWithdrawal",args:[e]})}async claimValidatorExit(e){return D(this.config,{abi:N,address:this.contractAddress,chainId:this.chainID,functionName:"claimValidatorExit",args:[e]})}}const z=[{type:"constructor",inputs:[],stateMutability:"nonpayable"},{type:"function",name:"DEFAULT_ADMIN_ROLE",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"PAUSER_ROLE",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"_hashBlsKey",inputs:[{name:"blsVK",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"activeStake",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"blsKeys",inputs:[{name:"blsKeyHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"used",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"claimValidatorExit",inputs:[{name:"validator",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"claimWithdrawal",inputs:[{name:"validator",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"commissionTracking",inputs:[{name:"validator",type:"address",internalType:"address"}],outputs:[{name:"commission",type:"uint16",internalType:"uint16"},{name:"lastIncreaseTime",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"delegate",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegations",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"deregisterValidator",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"exitEscrowPeriod",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getRoleAdmin",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getVersion",inputs:[],outputs:[{name:"majorVersion",type:"uint8",internalType:"uint8"},{name:"minorVersion",type:"uint8",internalType:"uint8"},{name:"patchVersion",type:"uint8",internalType:"uint8"}],stateMutability:"pure"},{type:"function",name:"grantRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"hasRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"_tokenAddress",type:"address",internalType:"address"},{name:"_lightClientAddress",type:"address",internalType:"address"},{name:"_exitEscrowPeriod",type:"uint256",internalType:"uint256"},{name:"_timelock",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"initializeV2",inputs:[{name:"pauser",type:"address",internalType:"address"},{name:"admin",type:"address",internalType:"address"},{name:"initialActiveStake",type:"uint256",internalType:"uint256"},{name:"initialCommissions",type:"tuple[]",internalType:"struct StakeTableV2.InitialCommission[]",components:[{name:"validator",type:"address",internalType:"address"},{name:"commission",type:"uint16",internalType:"uint16"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"initializedAtBlock",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"lightClient",inputs:[],outputs:[{name:"",type:"address",internalType:"contract ILightClient"}],stateMutability:"view"},{type:"function",name:"maxCommissionIncrease",inputs:[],outputs:[{name:"",type:"uint16",internalType:"uint16"}],stateMutability:"view"},{type:"function",name:"minCommissionIncreaseInterval",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"pause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"paused",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"registerValidator",inputs:[{name:"",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"",type:"tuple",internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"",type:"tuple",internalType:"struct BN254.G1Point",components:[{name:"x",type:"uint256",internalType:"BN254.BaseField"},{name:"y",type:"uint256",internalType:"BN254.BaseField"}]},{name:"",type:"uint16",internalType:"uint16"}],outputs:[],stateMutability:"pure"},{type:"function",name:"registerValidatorV2",inputs:[{name:"blsVK",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVK",type:"tuple",internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"blsSig",type:"tuple",internalType:"struct BN254.G1Point",components:[{name:"x",type:"uint256",internalType:"BN254.BaseField"},{name:"y",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrSig",type:"bytes",internalType:"bytes"},{name:"commission",type:"uint16",internalType:"uint16"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"renounceRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"callerConfirmation",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"revokeRole",inputs:[{name:"role",type:"bytes32",internalType:"bytes32"},{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"schnorrKeys",inputs:[{name:"schnorrKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"used",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"setMaxCommissionIncrease",inputs:[{name:"newMaxIncrease",type:"uint16",internalType:"uint16"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setMinCommissionUpdateInterval",inputs:[{name:"newInterval",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"token",inputs:[],outputs:[{name:"",type:"address",internalType:"contract ERC20"}],stateMutability:"view"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"undelegate",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"undelegations",inputs:[{name:"validator",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"},{name:"unlocksAt",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"unpause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateCommission",inputs:[{name:"newCommission",type:"uint16",internalType:"uint16"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateConsensusKeys",inputs:[{name:"",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"",type:"tuple",internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"",type:"tuple",internalType:"struct BN254.G1Point",components:[{name:"x",type:"uint256",internalType:"BN254.BaseField"},{name:"y",type:"uint256",internalType:"BN254.BaseField"}]}],outputs:[],stateMutability:"pure"},{type:"function",name:"updateConsensusKeysV2",inputs:[{name:"blsVK",type:"tuple",internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVK",type:"tuple",internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"blsSig",type:"tuple",internalType:"struct BN254.G1Point",components:[{name:"x",type:"uint256",internalType:"BN254.BaseField"},{name:"y",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrSig",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateExitEscrowPeriod",inputs:[{name:"newExitEscrowPeriod",type:"uint64",internalType:"uint64"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"newImplementation",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"validatorExits",inputs:[{name:"validator",type:"address",internalType:"address"}],outputs:[{name:"unlocksAt",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"validators",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"delegatedAmount",type:"uint256",internalType:"uint256"},{name:"status",type:"uint8",internalType:"enum StakeTable.ValidatorStatus"}],stateMutability:"view"},{type:"event",name:"CommissionUpdated",inputs:[{name:"validator",type:"address",indexed:!0,internalType:"address"},{name:"timestamp",type:"uint256",indexed:!1,internalType:"uint256"},{name:"oldCommission",type:"uint16",indexed:!1,internalType:"uint16"},{name:"newCommission",type:"uint16",indexed:!1,internalType:"uint16"}],anonymous:!1},{type:"event",name:"ConsensusKeysUpdated",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"blsVK",type:"tuple",indexed:!1,internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVK",type:"tuple",indexed:!1,internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]}],anonymous:!1},{type:"event",name:"ConsensusKeysUpdatedV2",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"blsVK",type:"tuple",indexed:!1,internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVK",type:"tuple",indexed:!1,internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"blsSig",type:"tuple",indexed:!1,internalType:"struct BN254.G1Point",components:[{name:"x",type:"uint256",internalType:"BN254.BaseField"},{name:"y",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrSig",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"Delegated",inputs:[{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"validator",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"ExitEscrowPeriodUpdated",inputs:[{name:"newExitEscrowPeriod",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"MaxCommissionIncreaseUpdated",inputs:[{name:"newMaxIncrease",type:"uint16",indexed:!1,internalType:"uint16"}],anonymous:!1},{type:"event",name:"MinCommissionUpdateIntervalUpdated",inputs:[{name:"newInterval",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Paused",inputs:[{name:"account",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"RoleAdminChanged",inputs:[{name:"role",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"previousAdminRole",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"newAdminRole",type:"bytes32",indexed:!0,internalType:"bytes32"}],anonymous:!1},{type:"event",name:"RoleGranted",inputs:[{name:"role",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"sender",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"RoleRevoked",inputs:[{name:"role",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"sender",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Undelegated",inputs:[{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"validator",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Unpaused",inputs:[{name:"account",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ValidatorExit",inputs:[{name:"validator",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ValidatorRegistered",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"blsVk",type:"tuple",indexed:!1,internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVk",type:"tuple",indexed:!1,internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"commission",type:"uint16",indexed:!1,internalType:"uint16"}],anonymous:!1},{type:"event",name:"ValidatorRegisteredV2",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"blsVK",type:"tuple",indexed:!1,internalType:"struct BN254.G2Point",components:[{name:"x0",type:"uint256",internalType:"BN254.BaseField"},{name:"x1",type:"uint256",internalType:"BN254.BaseField"},{name:"y0",type:"uint256",internalType:"BN254.BaseField"},{name:"y1",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrVK",type:"tuple",indexed:!1,internalType:"struct EdOnBN254.EdOnBN254Point",components:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{name:"commission",type:"uint16",indexed:!1,internalType:"uint16"},{name:"blsSig",type:"tuple",indexed:!1,internalType:"struct BN254.G1Point",components:[{name:"x",type:"uint256",internalType:"BN254.BaseField"},{name:"y",type:"uint256",internalType:"BN254.BaseField"}]},{name:"schnorrSig",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"Withdrawal",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"AccessControlBadConfirmation",inputs:[]},{type:"error",name:"AccessControlUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"},{name:"neededRole",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"BLSSigVerificationFailed",inputs:[]},{type:"error",name:"BN254PairingProdFailed",inputs:[]},{type:"error",name:"BlsKeyAlreadyUsed",inputs:[]},{type:"error",name:"CommissionAlreadyInitialized",inputs:[{name:"validator",type:"address",internalType:"address"}]},{type:"error",name:"CommissionIncreaseExceedsMax",inputs:[]},{type:"error",name:"CommissionUnchanged",inputs:[]},{type:"error",name:"CommissionUpdateTooSoon",inputs:[]},{type:"error",name:"DeprecatedFunction",inputs:[]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"EnforcedPause",inputs:[]},{type:"error",name:"ExitEscrowPeriodInvalid",inputs:[]},{type:"error",name:"ExpectedPause",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InitialActiveStakeExceedsBalance",inputs:[]},{type:"error",name:"InsufficientAllowance",inputs:[{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"}]},{type:"error",name:"InsufficientBalance",inputs:[{name:"",type:"uint256",internalType:"uint256"}]},{type:"error",name:"InvalidCommission",inputs:[]},{type:"error",name:"InvalidG1",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"InvalidRateLimitParameters",inputs:[]},{type:"error",name:"InvalidSchnorrSig",inputs:[]},{type:"error",name:"InvalidSchnorrVK",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"NothingToWithdraw",inputs:[]},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"PowPrecompileFailed",inputs:[]},{type:"error",name:"PrematureWithdrawal",inputs:[]},{type:"error",name:"SchnorrKeyAlreadyUsed",inputs:[]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"UndelegationAlreadyExists",inputs:[]},{type:"error",name:"ValidatorAlreadyExited",inputs:[]},{type:"error",name:"ValidatorAlreadyRegistered",inputs:[]},{type:"error",name:"ValidatorInactive",inputs:[]},{type:"error",name:"ValidatorNotExited",inputs:[]},{type:"error",name:"ZeroAddress",inputs:[]},{type:"error",name:"ZeroAmount",inputs:[]}];class Gn extends mt{constructor(e,t,a){super(e,t,a)}async PAUSER_ROLE(){return A(this.config,{abi:z,address:this.contractAddress,chainId:this.chainID,functionName:"PAUSER_ROLE"})}async minCommissionIncreaseInterval(){return A(this.config,{abi:z,address:this.contractAddress,chainId:this.chainID,functionName:"minCommissionIncreaseInterval"})}async maxCommissionIncrease(){return A(this.config,{abi:z,address:this.contractAddress,chainId:this.chainID,functionName:"maxCommissionIncrease"})}async activeStake(){return A(this.config,{abi:z,address:this.contractAddress,chainId:this.chainID,functionName:"activeStake"})}async commissionTracking(e){return A(this.config,{abi:z,address:this.contractAddress,chainId:this.chainID,functionName:"commissionTracking",args:[e]})}async updateConsensusKeysV2(e,t,a,i){return D(this.config,{abi:z,address:this.contractAddress,chainId:this.chainID,functionName:"updateConsensusKeysV2",args:[e,t,a,i]})}}const Z=R.createContext(null),Xe=({children:n})=>E.jsx($n,{children:n}),$n=({children:n})=>{const e=Be(),t=R.useContext(X);if(!t||!t.stakeTableContractAddress)return E.jsx(E.Fragment,{children:n});const a=new mt(e,e.chains[0].id,t.stakeTableContractAddress);return E.jsx(Z.Provider,{value:a,children:n})};try{Z.displayName="StakeTableContractContext",Z.__docgenInfo={description:"",displayName:"StakeTableContractContext",props:{}}}catch{}try{Xe.displayName="ProvideStakeTableContract",Xe.__docgenInfo={description:`ProvideESPTokenContract is a React component that provides
the ESP token contract via ESPTokenContractContext.`,displayName:"ProvideStakeTableContract",props:{}}}catch{}const ue=R.createContext(null),Se=({children:n})=>E.jsx(Jn,{children:n}),Jn=({children:n})=>{const e=Be(),t=R.useContext(X);if(!t||!t.stakeTableContractAddress)return E.jsx(E.Fragment,{children:n});const a=new Gn(e,e.chains[0].id,t.stakeTableContractAddress);return E.jsx(Z.Provider,{value:a,children:E.jsx(ue.Provider,{value:a,children:n})})};try{ue.displayName="StakeTableV2ContractContext",ue.__docgenInfo={description:"",displayName:"StakeTableV2ContractContext",props:{}}}catch{}try{Se.displayName="ProvideStakeTableV2Contract",Se.__docgenInfo={description:`ProvideStakeTableV2Contract is a React component that provides
the Stake Table V2 contract via StakeTableV2ContractContext.`,displayName:"ProvideStakeTableV2Contract",props:{}}}catch{}const de="0xdeadc0dedeadc0dedeadc0dedeadc0dedeadc0de",Zn={address:de,displayName:"mocked_account.eth",hasPendingTransactions:!1},Ye={id:31337,hasIcon:!1};function Xn(){const[n,e]=wt.useState({account:null,chain:null});return{openAccountModal:()=>{e(t=>({...t,account:null,chain:null}))},openChainModal:()=>{e(t=>({...t,chain:Ye}))},openConnectModal:()=>{e(t=>({...t,account:Zn,chain:Ye}))},accountModalOpen:!1,chainModalOpen:!1,connectModalOpen:!1,account:n.account,chain:n.chain,authenticationStatus:n.account===null?"unauthenticated":"authenticated"}}const ke=({children:n})=>{const{openAccountModal:e,openChainModal:t,openConnectModal:a,accountModalOpen:i,chainModalOpen:r,connectModalOpen:u,account:d,chain:o,authenticationStatus:s}=Xn();return E.jsx(Yt.Provider,{value:!0,children:E.jsx(en.Provider,{value:{openAccountModal:e,openChainModal:t,openConnectModal:a,accountModalOpen:i,chainModalOpen:r,connectModalOpen:u},children:E.jsx(tn,{value:d??null,children:E.jsx(nn.Provider,{value:o??null,children:E.jsx(an.Provider,{value:s??null,children:n})})})})})};try{de.displayName="MockAddress",de.__docgenInfo={description:`MockAddress is a predefined mock address used in the
MockRainbowKit component.`,displayName:"MockAddress",props:{}}}catch{}try{ke.displayName="MockRainbowKit",ke.__docgenInfo={description:`MockRainbowKit is a React component that provides
mock implementations of RainbowKit contexts for testing
and development purposes.

When it comes to testing UI / UX and layout of current designs, it is
helpful to have a mock implementation of RainbowKit components available
and ready to use in order to generate a predefined controllable state.

Such configurations allow for the accounting of various edge cases
and scenarios that may arise during actual usage of the application.`,displayName:"MockRainbowKit",props:{}}}catch{}function et(n,e){n(t=>({...e.applyToState(t),actions:[...t.actions,e],actionMap:new Map(t.actionMap).set(e.hash(),e)}))}class ht{}class Yn extends ht{constructor(e,t,a){super(),this.from=e,this.to=t,this.amount=a,this.from=e,this.to=t,this.amount=a}ts=new Date;hash(){const e=W("keccak256"),t=new TextEncoder;return e.update(t.encode("Transfer").buffer),e.update(t.encode(this.ts.toISOString()).buffer),e.update(t.encode(this.from).buffer),e.update(t.encode(this.to).buffer),e.update(t.encode(H.encoder.convert(this.amount)).buffer),K.encode(e.digest())}applyToState(e){const t=new Map(e.balances),a=t.get(this.from)??0n,i=t.get(this.to)??0n;return t.set(this.from,a-this.amount),t.set(this.to,i+this.amount),{...e,balances:t}}}class ea extends ht{constructor(e,t,a){super(),this.owner=e,this.spender=t,this.amount=a,this.owner=e,this.spender=t,this.amount=a}ts=new Date;hash(){const e=W("keccak256"),t=new TextEncoder;return e.update(t.encode("Approve").buffer),e.update(t.encode(this.ts.toISOString()).buffer),e.update(t.encode(this.owner).buffer),e.update(t.encode(this.spender).buffer),e.update(t.encode(H.encoder.convert(this.amount)).buffer),K.encode(e.digest())}applyToState(e){const t=new Map(e.allowances),a=new Map(t.get(this.owner)??new Map);return a.set(this.spender,this.amount),t.set(this.owner,a),{...e,allowances:t}}}class Ae{constructor(e,t,a){this.state=e,this.mutate=t,this.accountAddress=a,this.state=e,this.mutate=t,this.accountAddress=a}async getVersion(){return this.state.version}async name(){return this.state.name}async symbol(){return this.state.symbol}async decimals(){return this.state.decimals}async totalSupply(){return this.state.totalSupply}async balanceOf(e){return this.state.balances.get(e)??0n}async allowance(e,t){return this.state.allowances.get(e)?.get(t)??0n}async transfer(e,t){if(!this.accountAddress)throw new Error("No account address available for transfer.");return this.transferFrom(this.accountAddress,e,t)}async approve(e,t){if(!this.accountAddress)throw new Error("No account address available for approve.");const a=new ea(this.accountAddress,e,t);return et(this.mutate,a),a.hash()}async transferFrom(e,t,a){if(a<0n)throw new Error("Transfer value cannot be negative.");if(a>await this.balanceOf(e))throw new Error("Insufficient balance for transfer.");const i=new Yn(e,t,a);return et(this.mutate,i),i.hash()}}function ta(){return R.useState({contractAddress:`0x${"00".repeat(20)}`,version:[1,0,0],name:"Espresso Token",symbol:"ESP",decimals:18,totalSupply:12345678900n*10n**18n,balances:new Map([[de,10000000000n]]),allowances:new Map,actions:[],actionMap:new Map})}const Pe=({children:n})=>{const[e,t]=ta(),a=R.useContext(ut),i=new Ae(e,t,a);return E.jsx(J.Provider,{value:i,children:n})};try{Ae.displayName="MockESPTokenContractImpl",Ae.__docgenInfo={description:`MockESPTokenContractImpl is a mock implementation of the ESPTokenContract
interface for testing and development purposes.

It simulates the behavior of an actual ESPTokenContract by maintaining
an internal state and providing methods to interact with that state.
This is done to simulate some consistency of the expected behavior of the
real contract without needing to connect to a live blockchain.`,displayName:"MockESPTokenContractImpl",props:{}}}catch{}try{Pe.displayName="MockESPTokenContract",Pe.__docgenInfo={description:`MockESPTokenContract is a React component that provides
a mock ESPTokenContract implementation via context for
testing and development purposes.

It will overwrite the ESPTokenContractContext with a mock
implementation that simulates the behavior of an actual
ESPTokenContract.`,displayName:"MockESPTokenContract",props:{}}}catch{}class le{}function ae(n,e){n(t=>({...e.applyToState(t),actions:[...t.actions,e],actionMap:new Map(t.actionMap).set(e.hash(),e)}))}class na extends le{constructor(e,t,a){super(),this.validator=e,this.delegator=t,this.amount=a,this.validator=e,this.delegator=t,this.amount=a}ts=new Date;hash(){const e=W("keccak256"),t=new TextEncoder;return e.update(t.encode("Delegate").buffer),e.update(t.encode(this.validator).buffer),e.update(t.encode(this.delegator).buffer),e.update(t.encode(H.encoder.convert(this.amount)).buffer),K.encode(e.digest())}applyToState(e){const t=new Map(e.delegations),a=t.get(this.validator)??new Map,i=a.get(this.delegator)??0n;return a.set(this.delegator,i+this.amount),t.set(this.validator,a),{...e,delegations:t}}}class aa extends le{constructor(e,t,a){super(),this.validator=e,this.delegator=t,this.amount=a,this.validator=e,this.delegator=t,this.amount=a}ts=new Date;hash(){const e=W("keccak256"),t=new TextEncoder;return e.update(t.encode("Undelegate").buffer),e.update(t.encode(this.validator).buffer),e.update(t.encode(this.delegator).buffer),e.update(t.encode(H.encoder.convert(this.amount)).buffer),K.encode(e.digest())}applyToState(e){const t=new Map(e.delegations),a=t.get(this.validator)??new Map,i=a.get(this.delegator)??0n;a.set(this.delegator,i-this.amount),t.set(this.validator,a);const r=new Map(e.undelegations),u=r.get(this.validator)??new Map;return u.set(this.delegator,[this.amount,BigInt(this.ts.valueOf())+e.exitEscrowPeriod]),r.set(this.validator,u),{...e,delegations:t,undelegations:r}}}class ia extends le{constructor(e,t,a){super(),this.validator=e,this.delegator=t,this.amount=a,this.validator=e,this.delegator=t,this.amount=a}ts=new Date;hash(){const e=W("keccak256"),t=new TextEncoder;return e.update(t.encode("ClaimWithdrawal").buffer),e.update(t.encode(this.validator).buffer),e.update(t.encode(this.delegator).buffer),e.update(t.encode(H.encoder.convert(this.amount)).buffer),K.encode(e.digest())}applyToState(e){const t=new Map(e.undelegations),a=t.get(this.validator)??new Map;return a.delete(this.delegator),t.set(this.validator,a),{...e,undelegations:t}}}class sa extends le{constructor(e,t,a){super(),this.validator=e,this.delegator=t,this.amount=a,this.validator=e,this.delegator=t,this.amount=a}ts=new Date;hash(){const e=W("keccak256"),t=new TextEncoder;return e.update(t.encode("ClaimValidatorExit").buffer),e.update(t.encode(this.validator).buffer),e.update(t.encode(this.delegator).buffer),e.update(t.encode(H.encoder.convert(this.amount)).buffer),K.encode(e.digest())}applyToState(e){const t=new Map(e.validatorExits);return t.delete(this.validator),{...e,validatorExits:t}}}class ra{constructor(e,t,a){this.state=e,this.mutate=t,this.accountAddress=a,this.state=e,this.mutate=t}async PAUSER_ROLE(){return this.state.pauserRole}async minCommissionIncreaseInterval(){return this.state.minCommissionIncreaseInterval}async maxCommissionIncrease(){return this.state.maxCommissionIncrease}async activeStake(){return ln((e,t)=>e+t,0n,pn(this.state.delegations,([,e])=>dt(e,([,t])=>t)))}async commissionTracking(e){return this.state.commissionTracking.get(e)??[0,0n]}async lightClient(){return"0xLIGHT_CLIENT_ADDRESS"}async token(){return"0xESP_TOKEN_ADDRESS"}async validator(e){return this.state.validators.get(e)??[0n,0]}async blsKey(){throw new Error("Method not implemented.")}async validatorExit(e){return this.state.validatorExits.get(e)??0n}async delegation(e,t){return this.state.delegations.get(e)?.get(t)??0n}async undelegation(e,t){return this.state.undelegations.get(e)?.get(t)??[0n,0n]}async exitEscrowPeriod(){return this.state.exitEscrowPeriod}async getVersion(){return[2,0,0]}async updateConsensusKeysV2(){throw new Error("Method not implemented.")}deregisterValidator(){throw new Error("Method not implemented.")}async delegate(e,t){if(t<=0n)throw new Error("Amount must be greater than zero");if(!this.accountAddress)throw new Error("No account address available for delegation.");if(await this.state.espToken.balanceOf(this.accountAddress)<t)throw new Error("Insufficient balance");if(await this.state.espToken.allowance(this.accountAddress,this.accountAddress)<t)throw new Error("Insufficient allowance");await this.state.espToken.transferFrom(this.accountAddress,this.state.contractAddress,t);const a=new na(e,this.accountAddress,t);return ae(this.mutate,a),a.hash()}async undelegate(e,t){if(!this.accountAddress)throw new Error("No account address available for undelegation.");if(t<=0n)throw new Error("Amount must be greater than zero");if((this.state.delegations.get(e)?.get(this.accountAddress)??0n)<t)throw new Error("Insufficient delegated amount");if(this.state.validatorExits.has(e))throw new Error("Validator is exiting, cannot undelegate");if(this.state.undelegations.get(e)?.has(this.accountAddress))throw new Error("Existing undelegation in progress");const i=new aa(e,this.accountAddress,t);return ae(this.mutate,i),i.hash()}async claimWithdrawal(e){const t=BigInt(Date.now());if(!this.accountAddress)throw new Error("No account address available for claim withdrawal.");const a=this.state.undelegations.get(e)?.get(this.accountAddress);if(!a)throw new Error("No undelegation found for this delegator and validator.");const[i,r]=a;if(t<r)throw new Error("Undelegation period has not yet elapsed.");await this.state.espToken.transferFrom(this.state.contractAddress,this.accountAddress,i);const u=new ia(e,this.accountAddress,i);return ae(this.mutate,u),u.hash()}async claimValidatorExit(e){const t=BigInt(Date.now());if(!this.accountAddress)throw new Error("No account address available for claim validator exit.");const a=this.state.validatorExits.get(e)??0n;if(!a)throw new Error("Validator is not exiting.");const i=this.state.delegations.get(e)?.get(this.accountAddress)??0n;if(i<=0n)throw new Error("No stake found for this delegator and validator.");if(t<a)throw new Error("Validator exit period has not yet elapsed.");await this.state.espToken.transferFrom(this.state.contractAddress,this.accountAddress,i);const r=new sa(e,this.accountAddress,i);return ae(this.mutate,r),r.hash()}}function oa(n,e=new Map){const[t,a]=R.useState({contractAddress:`0x${"11".repeat(20)}`,espToken:n,validators:new Map,blsKeys:new Set,validatorExits:new Map,delegations:e,undelegations:new Map,exitEscrowPeriod:0n,pauserRole:"0xPAUSER_ROLE",minCommissionIncreaseInterval:24n*60n*60n,maxCommissionIncrease:1,commissionTracking:new Map,schnorrKeys:new Set,actions:[],actionMap:new Map});return[t,a]}const Me=({children:n})=>{const e=R.useContext(ut),t=R.useContext(J);dn(t);const a=new Map(dt(yn,d=>{const o=K.encode(d.address);return[o,new Map([[o,d.stake]])]})),[i,r]=oa(t,a),u=new ra(i,r,e);return E.jsx(ue.Provider,{value:u,children:E.jsx(Z.Provider,{value:u,children:n})})};try{Me.displayName="MockStakeTableV2Contract",Me.__docgenInfo={description:`MockStakeTableV2Contract is a React component that provides
a mock StakeTableV2Contract implementation via context for
testing and development purposes.

It will overwrite the StakeTableV2ContractContext with a mock
implementation that simulates the behavior of an actual
StakeTableV2Contract.

It **MUST** be given a valid ESPTokenContract via the
\`ESPTokenContractContext\` context.

It pre-populates the delegations mapping with initial stakes
derived from the \`nodeList\` fake data.`,displayName:"MockStakeTableV2Contract",props:{}}}catch{}const Ne=({children:n})=>{const e=R.useContext(at),t=R.useContext(X);return e!==V.fakeData||t?.espTokenContractAddress||t?.stakeTableContractAddress?E.jsx(E.Fragment,{children:n}):E.jsx(ke,{children:E.jsx(Pe,{children:E.jsx(Me,{children:n})})})};try{Ne.displayName="FakeDataMockOverrides",Ne.__docgenInfo={description:`FakeDataMockOverrides is a React component that provides
mock overrides for various contexts when the environment
is set to FakeData and the relevant contracts are not
already provided in the Espresso configuration.`,displayName:"FakeDataMockOverrides",props:{}}}catch{}function ca(n=null,e=null){return{espTokenContractAddress:n??null,stakeTableContractAddress:e??null}}const ua=$({chains:[sn],client({chain:n}){return j({chain:n,transport:G()})}}),da=$({chains:[zn],client({chain:n}){return j({chain:n,transport:G()})}}),la=$({chains:[Y({id:900,name:"GETH (water)",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://geth.water.devnet.espresso.network"],webSocket:["wss://wsgeth.water.devnet.espresso.network"]}},testnet:!0})],client({chain:n}){return j({chain:n,transport:G()})}}),pa=$({chains:[Y({id:900,name:"GETH (milk)",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://geth.milk.devnet.espresso.network"],webSocket:["wss://wsgeth.milk.devnet.espresso.network"]}},testnet:!0})],client({chain:n}){return j({chain:n,transport:G()})}}),ya=$({chains:[Y({id:31337,name:"GETH (Local DevNet)",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["http://localhost:8545"],webSocket:["ws://localhost:8546"]}},testnet:!0})],client({chain:n}){return j({chain:n,transport:G()})}}),ma=$({chains:[Y({id:31337,name:"GETH (Fake Data)",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["http://localhost:8545"],webSocket:["ws://localhost:8546"]}},testnet:!0,connectors:[Re({accounts:["0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266","0x70997970c51812dc3a010c7d01b50e0d17dc79c8","0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC"]})]})],client({chain:n}){return j({chain:n,transport:G()})}});function ha(n){switch(n){case V.mainnet:return ua;case V.decaf:return da;case V.water:return la;case V.milk:return pa;case V.fakeData:return ma;case V.localDevNet:return ya;default:throw new Error(`Unsupported environment: ${n}`)}}const fa=new Qn;function Te(n){if(n==null||n==="")return null;try{return new URL(n).toString()}catch(e){return console.error("Invalid URL provided:",n,e),null}}const _e=({environment:n=V.fakeData,hotshotQueryServiceURL:e,nodeValidatorWebSocketURL:t,l1ValidatorServiceURL:a,children:i})=>{const r={hotshotQueryServiceURL:Te(e??null),nodeValidatorServiceURL:Te(t??null),l1ValidatorServiceURL:Te(a??null)};return E.jsx(at.Provider,{value:n,children:E.jsx(bt.Provider,{value:r,children:i})})};function tt(n){if(n==null||n===""||!n.startsWith("0x"))return null;const e=Qe.decode(n);return Qe.encode(e)}const nt=({environment:n=V.fakeData,hotshotQueryServiceURL:e,nodeValidatorWebSocketURL:t,espTokenContractAddress:a,stakeTableContractAddress:i,l1ValidatorServiceURL:r,children:u})=>{const d=ha(n),o=ca(tt(a),tt(i));return E.jsx(_e,{environment:n,hotshotQueryServiceURL:e,nodeValidatorWebSocketURL:t,l1ValidatorServiceURL:r,children:E.jsx(X.Provider,{value:o,children:E.jsx(rn,{config:d,children:E.jsx(on,{client:fa,children:E.jsx(cn,{children:E.jsx(un,{children:E.jsx(Ie,{children:E.jsx(Se,{children:E.jsx(Ne,{children:u})})})})})})})})})};try{_e.displayName="StoryBookSpecifyEnvironment",_e.__docgenInfo={description:"",displayName:"StoryBookSpecifyEnvironment",props:{environment:{defaultValue:{value:"Environment.fakeData"},description:"",name:"environment",required:!1,type:{name:"enum",value:[{value:'"mainnet"'},{value:'"decaf"'},{value:'"milk"'},{value:'"water"'},{value:'"fakeData"'},{value:'"localDevNet"'}]}},hotshotQueryServiceURL:{defaultValue:null,description:"",name:"hotshotQueryServiceURL",required:!1,type:{name:"string"}},nodeValidatorWebSocketURL:{defaultValue:null,description:"",name:"nodeValidatorWebSocketURL",required:!1,type:{name:"string"}},l1ValidatorServiceURL:{defaultValue:null,description:"",name:"l1ValidatorServiceURL",required:!1,type:{name:"string"}}}}}catch{}try{nt.displayName="StoryBookSpecifyEnvironmentAndContracts",nt.__docgenInfo={description:"",displayName:"StoryBookSpecifyEnvironmentAndContracts",props:{espTokenContractAddress:{defaultValue:null,description:"",name:"espTokenContractAddress",required:!1,type:{name:"string"}},stakeTableContractAddress:{defaultValue:null,description:"",name:"stakeTableContractAddress",required:!1,type:{name:"string"}},environment:{defaultValue:{value:"Environment.fakeData"},description:"",name:"environment",required:!1,type:{name:"enum",value:[{value:'"mainnet"'},{value:'"decaf"'},{value:'"milk"'},{value:'"water"'},{value:'"fakeData"'},{value:'"localDevNet"'}]}},hotshotQueryServiceURL:{defaultValue:null,description:"",name:"hotshotQueryServiceURL",required:!1,type:{name:"string"}},nodeValidatorWebSocketURL:{defaultValue:null,description:"",name:"nodeValidatorWebSocketURL",required:!1,type:{name:"string"}},l1ValidatorServiceURL:{defaultValue:null,description:"",name:"l1ValidatorServiceURL",required:!1,type:{name:"string"}}}}}catch{}export{J as E,_e as S,nt as a,O as b};
