import{B,r as x,T as C,a as b,b as P,c as S,s as M,e as h,A as $,l as T,m}from"./string-B8Rshh3e.js";const w="InvalidInputError";class d extends B{constructor(e="invalid input"){super(e),Object.freeze(this)}get code(){return w}}class O{convert(e){return P(e,"code","message"),S(e,w),new d(M.decode(e.message))}}class X extends b{}class V extends C{encoder=new X;decoder=new O}const A=new V;x(w,A);class i{constructor(e,n,t){this.alpha3Code=e,this.code=n,this.significantDigits=t,this.alpha3Code=e,this.code=n,this.significantDigits=t,this.significantDigitsMultiplier=BigInt(10)**BigInt(this.significantDigits)}significantDigitsMultiplier;toJSON(){return l.encode(this)}}const y=new i("JPY",392,0),J=new i("GBP",826,2),I=new i("USD",840,2),U=new i("EUR",978,2),k=new i("XXX",999,2),D=new i("ETH",1001,18),f=new i("XBT",1002,8),E=new i("ESP",10001,18),N=[y,J,I,U,k,D,f,E],H=new Map(N.map(r=>[r.alpha3Code,r]));class R{convert(e){if(typeof e!="string")throw new d("CurrencyCodeDecoder: expected string");if(e==="BTC")return f;const n=H.get(e);if(n===void 0)throw new d(`CurrencyCodeDecoder: unknown currency: "${e}"`);return n}}class Y{convert(e){return h(e,i),e.alpha3Code}}class G extends C{decoder=new R;encoder=new Y}const l=new G;class c{constructor(e,n){this.currency=e,this.value=n,this.currency=e,this.value=n}static USD(e){return new c(I,BigInt(e))}static ETH(e){return new c(D,BigInt(e))}static ESP(e){return new c(E,BigInt(e))}static JPY(e){return new c(y,BigInt(e))}static BTC(e){return new c(f,BigInt(e))}toString(){return u.encode(this)}toJSON(){return u.encode(this)}}function j(r){return r==="."||r===","||r===" "}function z(r,e){let n=-1;const t=r.length;for(let s=0;s<t;s++)e(r[s])&&(n=s);return n}class K{parseCurrencyCode(e){return l.decode(e)}parseValue(e,n){let t=1n;n[0]==="-"&&(t=-1n,n=n.substring(1));const s=z(n,j);if(s===-1){const p=BigInt(n.replace(/\D/g,""))*e.significantDigitsMultiplier;return t*p}const o=n.substring(0,s).replace(/\D/g,""),a=n.substring(s+1).replace(/\D/g,""),g=BigInt(o)*e.significantDigitsMultiplier,v=BigInt(a)*10n**BigInt(e.significantDigits-a.length);return t*(g+v)}convert(e){if(typeof e!="string")throw new d("MonetaryValueDecoder: expected string");const n=e.indexOf(" ");if(n<=-1)throw new d("MonetaryValueDecoder: missing non-breaking space");const t=e.substring(0,n),s=e.substring(n+1);if(/^-?[\d .,]+$/.test(t)){const a=this.parseCurrencyCode(s);return new c(a,this.parseValue(a,t))}const o=this.parseCurrencyCode(t);return new c(o,this.parseValue(o,s))}}class W{convert(e){h(e,c);const n=e.value<0n?"-":"",t=e.value<0n?-e.value:e.value,s=t%e.currency.significantDigitsMultiplier,o=t/e.currency.significantDigitsMultiplier,a=String(o),g=String(s);return/^0+$/.test(g)?`${l.encode(e.currency)} ${n}${a}`:`${l.encode(e.currency)} ${n}${o}.${String(s).padStart(e.currency.significantDigits,"0")}`}}class q extends C{decoder=new K;encoder=new W}const u=new q,L=new $(new T(u),new m(u));export{E,d as I,c as M,l as c,L as m};
