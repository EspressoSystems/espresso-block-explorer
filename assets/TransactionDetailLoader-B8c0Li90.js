var Q=Object.defineProperty;var X=(e,t,r)=>t in e?Q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var S=(e,t,r)=>X(e,typeof t!="symbol"?t+"":t,r);import{j as n}from"./jsx-runtime-BlAj40OV.js";import{a as N}from"./higher_order-DnPEgWEz.js";import{W as Y,L as Z,e as ee,f as te,g as re}from"./LatestBlockSummaryLoader-CsgZbA1B.js";import{U as d,D as T}from"./LoadingProvider-C5_w0NiA.js";import{T as m}from"./TaggedBase64-D45f0-Ll.js";import{R as a}from"./index-Cs7sjTYM.js";import{P as H}from"./PathResolverProvider-Xv58eOQd.js";import{T as y}from"./Text-BU7JBOLk.js";import{P as p}from"./PromiseResolver-CnoUt_1T.js";import{S as v,D as l,a as M}from"./DataTable-CCTGG29u.js";import{L as x}from"./LabeledAnchorButton-Ccf2RRuc.js";const $=a.createContext(0),w=a.createContext({hash:new m("",new ArrayBuffer(0)),height:0,time:new Date,transactions:0,proposer:[],recipient:[],size:0,rewards:[]}),f=a.createContext({async retrieve(){throw new d}}),A=({children:e})=>{const t=a.useContext($),r=a.useContext(f);return n.jsx(p,{promise:r.retrieve(t),children:e})};try{w.displayName="BlockDetailContext",w.__docgenInfo={description:`BlockDetailContext is a React Context for holding the current BlockDetail.
It is useful for making BlockDetail information available to descendent
components.`,displayName:"BlockDetailContext",props:{}}}catch{}try{f.displayName="BlockDetailAsyncRetrieverContext",f.__docgenInfo={description:`RetrieverContext is a React Context for retrieving a BlockDetail from a
BlockDetailAsyncRetriever.`,displayName:"BlockDetailAsyncRetrieverContext",props:{}}}catch{}try{A.displayName="BlockDetailsLoader",A.__docgenInfo={description:`BlockDetails kicks off the retrieval of the details for the individual
Block, and ensures that the data is available for BlockDetailsContent`,displayName:"BlockDetailsLoader",props:{}}}catch{}const ae=Y("div"),j=e=>n.jsx(ae,{...e,className:N(e.className,"page-title")});try{j.displayName="PageTitle",j.__docgenInfo={description:`PageTitle is a container element to hold the page's title, sub-heading
information, and potentially navigation elements.`,displayName:"PageTitle",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}var b=(e=>(e.height="height",e.proposer="proposer",e.size="size",e.time="time",e.transactions="transaction",e))(b||{});function oe(e){return async t=>{const r=t;return(await e.retrieve({startAtBlock:r.startAtBlock})).map(s=>({block:s.height,proposer:s.proposer,transactions:s.transactions,size:s.size,time:s.time}))}}const h=a.createContext({async retrieve(){throw new d}}),ne=e=>{const t=a.useContext(h),r=a.useContext(l),o=oe(t);return n.jsx(p,{promise:o(r),children:n.jsx(M.Provider,{value:()=>{},children:n.jsx(n.Fragment,{children:e.children})})})},L=({startAtBlock:e,...t})=>{const[r,o]=a.useState({sortColumn:b.height,sortDir:v.desc,startAtBlock:e});return e!==void 0&&r.startAtBlock!==e&&o({...r,startAtBlock:e}),n.jsx(l.Provider,{value:r,children:n.jsx(M.Provider,{value:o,children:a.createElement(ne,t)})})},se=20,P=e=>{const t=a.useContext(T),r=a.useContext(H),o=a.useContext(l),s=[],i=[];return o.startAtBlock!==void 0&&s.push(n.jsx(x,{href:r.blocks(o.startAtBlock+se),children:n.jsx(y,{text:"Previous"})},0)),t.length>0&&t[t.length-1].block>0&&s.push(n.jsx(x,{href:r.blocks(t[t.length-1].block-1),children:n.jsx(y,{text:"Next"})},1)),n.jsxs("nav",{className:N(e.className,"blocks-navigation"),children:[s,i]})};try{h.displayName="BlockSummaryAsyncRetrieverContext",h.__docgenInfo={description:`RetrieverContext represents the retriever to be utilized for retrieving
the BlockSummary data.`,displayName:"BlockSummaryAsyncRetrieverContext",props:{}}}catch{}try{L.displayName="BlockSummaryDataLoader",L.__docgenInfo={description:`BlockSummaryDataLoader is a component that provides the initial state of
the Block Summary state, and loads the data.`,displayName:"BlockSummaryDataLoader",props:{startAtBlock:{defaultValue:null,description:"",name:"startAtBlock",required:!1,type:{name:"number"}}}}}catch{}try{P.displayName="BlocksNavigation",P.__docgenInfo={description:"",displayName:"BlocksNavigation",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const W=a.createContext({retrieve(){throw new d}}),Te=a.createContext({rollups:0,transactions:0,blocks:0,sequencerNodes:0}),I=e=>{const t=a.useContext(W);return n.jsx(p,{promise:t.retrieve(),children:e.children})};try{I.displayName="ExplorerOverviewLoader",I.__docgenInfo={description:"",displayName:"ExplorerOverviewLoader",props:{}}}catch{}function ie(e){return async()=>(await e.retrieve()).map(r=>({namespace:r.namespace,transactions:r.transactions}))}const u=a.createContext({async retrieve(){throw new d}}),ce=e=>{const t=a.useContext(u),r=ie(t);return n.jsx(p,{promise:r(),children:e.children})},E=e=>{const[t]=a.useState({sortColumn:b.height,sortDir:v.desc});return n.jsx(l.Provider,{value:t,children:a.createElement(ce,e)})};try{u.displayName="RollUpSummaryAsyncRetrieverContext",u.__docgenInfo={description:`RetrieverContext represents the retriever to be utilized for retrieving
the BlockSummary data.`,displayName:"RollUpSummaryAsyncRetrieverContext",props:{}}}catch{}try{E.displayName="RollUpsSummaryLoader",E.__docgenInfo={description:"",displayName:"RollUpsSummaryLoader",props:{}}}catch{}var B=(e=>(e.hash="hash",e.rollup="rollup",e.block="block",e.time="time",e))(B||{});const _=a.createContext({async retrieve(){throw new d}});function le(e){return{async retrieve(t){const r=t;return(await e.retrieve({startAtBlock:r.height,offset:r.offset})).map(s=>({hash:s.hash,block:s.block,offset:s.offset,rollups:s.namespaces,time:s.time}))}}}const de=e=>{const t=a.useContext(_),r=a.useContext(l),o=le(t);return n.jsx(p,{promise:o.retrieve(r),children:n.jsx(n.Fragment,{children:e.children})})},U=e=>{const{startAtBlock:t,offset:r,...o}=e,[s]=a.useState({sortColumn:B.block,sortDir:v.desc,height:t,offset:r});return n.jsx(l.Provider,{value:s,children:a.createElement(de,o)})},q=e=>{const t=a.useContext(T),r=a.useContext(H),o=[],s=[];if(t[t.length-1].block>0){const i=t[t.length-1];o.push(n.jsx(x,{href:r.transactions(i.block,i.offset+1),children:n.jsx(y,{text:"Next"})},1))}return n.jsxs("nav",{className:N(e.className,"transactions-navigation"),children:[o,s]})};try{_.displayName="TransactionSummaryAsyncRetrieverContext",_.__docgenInfo={description:`RetrieverContext is a React Context that holds a reference to a
TransactionSummaryAsyncRetriever`,displayName:"TransactionSummaryAsyncRetrieverContext",props:{}}}catch{}try{U.displayName="TransactionSummaryDataLoader",U.__docgenInfo={description:`TransactionSummaryDataLoader sets up the intial state of the DataTableState
and kicks begins the process of retrieving the data.`,displayName:"TransactionSummaryDataLoader",props:{startAtBlock:{defaultValue:null,description:"",name:"startAtBlock",required:!1,type:{name:"number"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"number"}}}}}catch{}try{q.displayName="TransactionsNavigation",q.__docgenInfo={description:"",displayName:"TransactionsNavigation",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const pe=a.createContext({retrieve(){throw new d}});a.createContext({latestBlock:{hash:new m("",new ArrayBuffer(0)),height:0,time:new Date(0),transactions:0,proposer:[],recipient:[],size:0,rewards:[]},genesisOverview:{rollups:0,transactions:0,blocks:0},latestBlocks:[],latestTransactions:[],histograms:{blockTime:[],blockSize:[],blockTransactions:[],blockThroughput:[],blocks:[]}});class c{constructor(t){S(this,"promise");this.promise=t}retrieve(){return this.promise}}const z=e=>{const r=a.useContext(pe).retrieve();return n.jsx(Z.Provider,{value:new c(r.then(({latestBlock:o})=>o)),children:n.jsx(h.Provider,{value:new c(r.then(({latestBlocks:o})=>o)),children:n.jsx(_.Provider,{value:new c(r.then(({latestTransactions:o})=>o)),children:n.jsx(W.Provider,{value:new c(r.then(({genesisOverview:o})=>({...o,sequencerNodes:0}))),children:n.jsx(u.Provider,{value:new c(Promise.resolve([])),children:n.jsx(ee.Provider,{value:new c(r.then(({histograms:o})=>o)),children:n.jsx(te.Provider,{value:new c(r.then(({histograms:o})=>o)),children:n.jsx(re.Provider,{value:new c(r.then(({histograms:o})=>({blocks:o.blocks,blockThroughput:o.blockSize.map((s,i)=>s===null||o.blockTime[i]===null?null:s/Math.max(1,o.blockTime[i]))}))),children:e.children})})})})})})})})};try{z.displayName="ExplorerSummaryLoader",z.__docgenInfo={description:"",displayName:"ExplorerSummaryLoader",props:{}}}catch{}const C=a.createContext(0),g=a.createContext({async retrieve(){throw new d}});function me(e,t){return{async retrieve(r){const o=r;return(await e.retrieve({namespace:t,height:o.height,offset:o.offset})).map(i=>({hash:i.hash,block:i.block,offset:0,rollups:i.namespaces,time:i.time}))}}}const O=({children:e,startAtBlock:t,offset:r,...o})=>{const[s]=a.useState({sortColumn:B.block,sortDir:v.desc,height:t,offset:r}),i=a.useContext(C),G=a.useContext(g),J=a.useContext(l),K=me(G,i);return n.jsx(l.Provider,{value:s,children:n.jsx(p,{promise:K.retrieve(J),...o,children:e})})};try{C.displayName="NamespaceContext",C.__docgenInfo={description:`NamespaceContext is a React Context that holds a reference to the
current Namespace`,displayName:"NamespaceContext",props:{}}}catch{}try{g.displayName="RollUpDetailAsyncRetrieverContext",g.__docgenInfo={description:`RetrieverContext is a React Context that holds a reference to a
RollUpDetailAsyncRetriever`,displayName:"RollUpDetailAsyncRetrieverContext",props:{}}}catch{}try{O.displayName="RollUpDetailsDataLoader",O.__docgenInfo={description:`RollUpDetailsDataLoader uses the Retriever from the
RetrieverContext and kicks off requests using the state retrieved
by the DataTableStateContext.`,displayName:"RollUpDetailsDataLoader",props:{startAtBlock:{defaultValue:null,description:"",name:"startAtBlock",required:!1,type:{name:"number"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"number"}}}}}catch{}const V=a.createContext(new ArrayBuffer(0)),k=a.createContext(0),R=a.createContext({block:0,index:0,total:0,size:0,hash:new m("ERR",new ArrayBuffer(0)),time:new Date,sender:new m("ERR",new ArrayBuffer(0)),tree:{namespace:0,data:new ArrayBuffer(0)}}),D=a.createContext({async retrieve(){throw new d}}),he=e=>{const t=a.useContext(T);return t===void 0?e.children:n.jsx(R.Provider,{value:t,children:e.children})},F=e=>{const t=a.useContext($),r=a.useContext(k),o=a.useContext(D);return n.jsx(p,{promise:o.retrieve({height:t,offset:r}),children:n.jsx(he,{children:e.children})})};try{V.displayName="TransactionCommitContext",V.__docgenInfo={description:"TransactionCommitContext represents the current hash for a Transaction.",displayName:"TransactionCommitContext",props:{}}}catch{}try{k.displayName="TransactionOffsetContext",k.__docgenInfo={description:`TransactionOffsetContext represents the current offset for this Transaction
within a block.`,displayName:"TransactionOffsetContext",props:{}}}catch{}try{R.displayName="TransactionDetailContext",R.__docgenInfo={description:`TransactionDetailContext is a context that indicates the current
TransactionDetail to make available to the descendants of the component
tree.`,displayName:"TransactionDetailContext",props:{}}}catch{}try{D.displayName="TransactionDetailAsyncRetrieverContext",D.__docgenInfo={description:`RetrieverContext is a context for retrieving the TransactionDetail
response.`,displayName:"TransactionDetailAsyncRetrieverContext",props:{}}}catch{}try{F.displayName="TransactionDetailContentLoader",F.__docgenInfo={description:`TransactionDetailContent uses the retriever from the RetrieverContext
to retrieve the data using the hash retrieved from the
TransactionCommitContext`,displayName:"TransactionDetailContentLoader",props:{}}}catch{}export{f as B,pe as E,C as N,j as P,g as R,_ as T,h as a,D as b,u as c,b as d,B as e,A as f,$ as g,L as h,P as i,O as j,E as k,F as l,k as m,U as n,q as o,Te as p,I as q,z as r,R as s};
