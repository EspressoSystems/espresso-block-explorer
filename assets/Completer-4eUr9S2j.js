var Rr=Object.defineProperty;var Fr=(r,e,s)=>e in r?Rr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s;var o=(r,e,s)=>Fr(r,typeof e!="symbol"?e+"":e,s);import{T as a,a as n,j as u,N as Me,f as Je,g as We,s as i,A as b,k as E,l as v,h as ne,I as O,w as m,x as zr,y as K,z as Y,C as L,B as g,c as Q,r as p,b as f,d as q,u as Ve,t as He}from"./string-CcoL8872.js";import{h as I,u as je,b as y,s as Le}from"./array_buffer-B1tGIozn.js";import{n as t,b as S,d as x}from"./base64-pX9cPfQ1.js";import{t as l}from"./TaggedBase64-D45f0-Ll.js";import"./url-D2X_Lhsq.js";import{U as Qe}from"./LoadingProvider-BbWjDjJb.js";import{m as Mr,M as Jr}from"./functional-Bu4SNxPm.js";import{I as ae,m as qe}from"./monetary_value-B2EGCn_o.js";import"./FetchError-C1VXamgN.js";import"./NotFoundError-C6Rvypd-.js";class Ue{constructor(e,s,c){o(this,"r");o(this,"s");o(this,"v");this.r=e,this.s=s,this.v=c}toJSON(){return de.encode(this)}}class Wr{convert(e){return n(e,"r","s","v"),new Ue(I.decode(e.r),I.decode(e.s),t.decode(e.v))}}class Vr{convert(e){return u(e,Ue),{r:I.encode(e.r),s:I.encode(e.s),v:t.encode(e.v)}}}class Hr extends a{constructor(){super(...arguments);o(this,"encoder",new Vr);o(this,"decoder",new Wr)}}const de=new Hr;class Ge{constructor(e,s){o(this,"account");o(this,"amount");this.account=e,this.amount=s}toJSON(){return ie.encode(this)}}class jr{convert(e){return n(e,"account","amount"),new Ge(I.decode(e.account),I.decode(e.amount))}}class Lr{convert(e){return u(e,Ge),{account:I.encode(e.account),amount:I.encode(e.amount)}}}class Qr extends a{constructor(){super(...arguments);o(this,"encoder",new Lr);o(this,"decoder",new jr)}}const ie=new Qr;class $e{constructor(e,s,c){o(this,"number");o(this,"timestamp");o(this,"hash");this.number=e,this.timestamp=s,this.hash=c}toJSON(){return X.encode(this)}}class qr{convert(e){return n(e,"number","timestamp","hash"),new $e(t.decode(e.number),i.decode(e.timestamp),i.decode(e.hash))}}class Ur{convert(e){return u(e,$e),{number:t.encode(e.number),timestamp:i.encode(e.timestamp),hash:i.encode(e.hash)}}}class Gr extends a{constructor(){super(...arguments);o(this,"encoder",new Ur);o(this,"decoder",new qr)}}const X=new Gr,Ke=new Me(new Je(X),new We(X));class Ye{constructor(e){o(this,"bytes");this.bytes=e}toJSON(){return le.encode(this)}}class $r{convert(e){return n(e,"bytes"),new Ye(je.decode(e.bytes))}}class Kr{convert(e){return u(e,Ye),{bytes:je.encode(e.bytes)}}}class Yr extends a{constructor(){super(...arguments);o(this,"encoder",new Kr);o(this,"decoder",new $r)}}const le=new Yr;class Xe{constructor(e,s,c,d,h,C,B,N,_,T){o(this,"height");o(this,"timestamp");o(this,"l1_head");o(this,"l1_finalized");o(this,"payload_commitment");o(this,"ns_table");o(this,"block_merkle_root");o(this,"fee_merkle_root");o(this,"builder_signature");o(this,"fee_info");this.height=e,this.timestamp=s,this.l1_head=c,this.l1_finalized=d,this.payload_commitment=h,this.ns_table=C,this.block_merkle_root=B,this.fee_merkle_root=N,this.builder_signature=_,this.fee_info=T}toJSON(){return z.encode(this)}}class Xr{convert(e){return n(e,"height","timestamp","l1_head","l1_finalized","payload_commitment","ns_table","block_merkle_root","fee_merkle_root","builder_signature","fee_info"),new Xe(t.decode(e.height),t.decode(e.timestamp),t.decode(e.l1_head),Ke.decode(e.l1_finalized),S.decode(e.payload_commitment),le.decode(e.ns_table),l.decode(e.block_merkle_root),l.decode(e.fee_merkle_root),de.decode(e.builder_signature),ie.decode(e.fee_info))}}class Zr{convert(e){return u(e,Xe),{height:t.encode(e.height),timestamp:t.encode(e.timestamp),l1_head:t.encode(e.l1_head),l1_finalized:Ke.encode(e.l1_finalized),payload_commitment:S.encode(e.payload_commitment),ns_table:le.encode(e.ns_table),block_merkle_root:l.encode(e.block_merkle_root),fee_merkle_root:l.encode(e.fee_merkle_root),builder_signature:de.encode(e.builder_signature),fee_info:ie.encode(e.fee_info)}}}class eo extends a{constructor(){super(...arguments);o(this,"encoder",new Zr);o(this,"decoder",new Xr)}}const z=new eo;class Ze{constructor(e,s){o(this,"vm");o(this,"payload");this.vm=e,this.payload=s}toJSON(){return P.encode(this)}}class ro{convert(e){return n(e,"vm","payload"),new Ze(t.decode(e.vm),S.decode(e.payload))}}class oo{convert(e){return u(e,Ze),{vm:t.encode(e.vm),payload:S.encode(e.payload)}}}class so extends a{constructor(){super(...arguments);o(this,"encoder",new oo);o(this,"decoder",new ro)}}const P=new so,qc=new b(new E(P),new v(P));class er{constructor(e,s,c,d,h){o(this,"header");o(this,"hash");o(this,"size");o(this,"num_transactions");o(this,"proposer_id");this.header=e,this.hash=s,this.size=c,this.num_transactions=d,this.proposer_id=h}toJSON(){return Z.encode(this)}}class co{convert(e){return n(e,"header","hash","size","num_transactions","proposer_id"),new er(z.decode(e.header),l.decode(e.hash),t.decode(e.size),t.decode(e.num_transactions),y.decode(e.proposer_id))}}class to{convert(e){return u(e,er),{header:z.encode(e.header),hash:l.encode(e.hash),size:t.encode(e.size),num_transactions:t.encode(e.num_transactions),proposer_id:y.encode(e.proposer_id)}}}class no extends a{constructor(){super(...arguments);o(this,"encoder",new to);o(this,"decoder",new co)}}const Z=new no,Uc=new b(new E(Z),new v(Z));class rr{constructor(e,s,c,d){o(this,"hash");o(this,"header");o(this,"offset");o(this,"transaction");this.hash=e,this.header=s,this.offset=c,this.transaction=d}toJSON(){return ee.encode(this)}}class ao{convert(e){return n(e,"hash","header","offset","transaction"),new rr(l.decode(e.hash),z.decode(e.header),t.decode(e.offset),P.decode(e.transaction))}}class io{convert(e){return u(e,rr),{hash:l.encode(e.hash),header:z.encode(e.header),offset:t.encode(e.offset),transaction:P.encode(e.transaction)}}}class lo extends a{constructor(){super(...arguments);o(this,"encoder",new io);o(this,"decoder",new ao)}}const ee=new lo,Gc=new b(new E(ee),new v(ee));class uo{convert(e){if(!ne(e))throw new O(typeof e,"string");const s=new Date(e);if(Number.isNaN(s.valueOf()))throw new O("NaN","number");return s}}class ho{convert(e){return u(e,Date),e.toISOString()}}class mo extends a{constructor(){super(...arguments);o(this,"encoder",new ho);o(this,"decoder",new uo)}}const k=new mo;class or{constructor(e,s){o(this,"width");o(this,"index");this.width=e,this.index=s}toJSON(){return ue.encode(this)}}class po{convert(e){return n(e,"width","index"),new or(t.decode(e.width),t.decode(e.index))}}class fo{convert(e){return u(e,or),{width:t.encode(e.width),index:t.encode(e.index)}}}class wo extends a{constructor(){super(...arguments);o(this,"encoder",new fo);o(this,"decoder",new po)}}const ue=new wo;class R{static get lsb0(){return bo}static get msb0(){return vo}valueOf(){return this.toString()}toJSON(){return this.toString()}}const sr="bitvec::order::Lsb0",cr="bitvec::order::Msb0";class Co extends R{toString(){return sr}}const bo=new Co;class Eo extends R{toString(){return cr}}const vo=new Eo;class go{convert(e){if(typeof e!="string")throw new O(typeof e,"string");switch(e){case sr:return R.lsb0;case cr:return R.msb0;default:throw new O(e,"CappuccinoAPIBitVecOrder")}}}class xo{convert(e){return e.toString()}}class Io extends a{constructor(){super(...arguments);o(this,"encoder",new xo);o(this,"decoder",new go)}}const tr=new Io;class nr{constructor(e,s,c,d){o(this,"order");o(this,"head");o(this,"bits");o(this,"data");this.order=e,this.head=s,this.bits=c,this.data=d}getBitVecIndexIterable(){return this.order===R.lsb0?new _o(this.head.width,this.bits):new Ao(this.head.width,this.bits)}[Symbol.iterator](){const e=this.getBitVecIndexIterable();return Mr(e,s=>Bo(this.data,s))[Symbol.iterator]()}toJSON(){return F.encode(this)}}class yo{convert(e){return n(e,"order","head","bits","data"),new nr(tr.decode(e.order),ue.decode(e.head),t.decode(e.bits),S.decode(e.data))}}class So{convert(e){return u(e,nr),{order:tr.encode(e.order),head:ue.encode(e.head),bits:t.encode(e.bits),data:S.encode(e.data)}}}class ko extends a{constructor(){super(...arguments);o(this,"encoder",new So);o(this,"decoder",new yo)}}const F=new ko,$c=new b(new E(F),new v(F));function Bo(r,e){return(r[e.bucket]>>e.bitOffset&1)===1}class ar{constructor(e,s){o(this,"bucket");o(this,"bitOffset");this.bucket=e,this.bitOffset=s}}function dr(r){switch(m(r===8||r===16||r===32,"bit width should be a power of two that is supported"),r){case 8:return 3;case 16:return 4;case 32:return 5;default:throw new Qe}}class No{constructor(e,s){o(this,"totalBits");o(this,"bitWidthMask");o(this,"bitWidthShift");o(this,"offset",0);this.totalBits=s;const c=dr(e);this.bitWidthMask=e-1,this.bitWidthShift=c}next(){if(this.offset>=this.totalBits)return{done:!0,value:void 0};const e=this.offset>>this.bitWidthShift,s=this.offset&this.bitWidthMask;return this.offset+=1,{done:!1,value:new ar(e,s)}}}class _o{constructor(e,s){o(this,"bitWidth");o(this,"totalBits");this.bitWidth=e,this.totalBits=s}[Symbol.iterator](){return new No(this.bitWidth,this.totalBits)}}class To{constructor(e,s){o(this,"bitWidth");o(this,"totalBits");o(this,"bitWidthMask");o(this,"bitWidthShift");o(this,"offset",0);this.bitWidth=e,this.totalBits=s;const c=dr(e);this.bitWidthMask=e-1,this.bitWidthShift=c}next(){if(this.offset>=this.totalBits)return{done:!0,value:void 0};const e=this.offset>>this.bitWidthShift,s=this.bitWidth-1-(this.offset&this.bitWidthMask);return this.offset+=1,{done:!1,value:new ar(e,s)}}}class Ao{constructor(e,s){o(this,"bitWidth");o(this,"totalBits");this.bitWidth=e,this.totalBits=s}[Symbol.iterator](){return new To(this.bitWidth,this.totalBits)}}class ir{constructor(e,s){o(this,"signature");o(this,"bitvec");this.signature=e,this.bitvec=s}toJSON(){return re.encode(this)}}class Do{convert(e){if(!zr(e)||e.length!==2)throw new O(typeof e,"Array");return new ir(l.decode(e[0]),F.decode(e[1]))}}class Oo{convert(e){return u(e,ir),[l.encode(e.signature),F.encode(e.bitvec)]}}class Po extends a{constructor(){super(...arguments);o(this,"encoder",new Oo);o(this,"decoder",new Do)}}const re=new Po,Kc=new Me(new Je(re),new We(re));class M{}class he extends M{toJSON(){return me.encode(this)}}class Ro{convert(e){if(!ne(e)||e!=="Empty")throw new ae;return new he}}class Fo{convert(e){return u(e,he),"Empty"}}class zo extends a{constructor(){super(...arguments);o(this,"encoder",new Fo);o(this,"decoder",new Ro)}}const me=new zo;class pe extends M{constructor(s,c,d){super();o(this,"value");o(this,"pos");o(this,"elem");this.value=s,this.pos=c,this.elem=d}toJSON(){return fe.encode(this)}}class Mo{convert(e){n(e,"Leaf");const s=e.Leaf;return n(s,"value","pos","elem"),new pe(l.decode(s.value),l.decode(s.pos),l.decode(s.elem))}}class Jo{convert(e){return u(e,pe),{Leaf:{value:l.encode(e.value),pos:l.encode(e.pos),elem:l.encode(e.elem)}}}}class Wo extends L{constructor(){super(...arguments);o(this,"encoder",new Jo);o(this,"decoder",new Mo)}}const fe=new Wo;class we extends M{constructor(s){super();o(this,"value");this.value=s}toJSON(){return Ce.encode(this)}}class Vo{convert(e){n(e,"ForgettenSubtree");const s=e.ForgettenSubtree;return n(s,"value"),new we(l.decode(s.value))}}class Ho{convert(e){return u(e,we),{ForgettenSubtree:{value:l.encode(e.value)}}}}class jo extends L{constructor(){super(...arguments);o(this,"encoder",new Ho);o(this,"decoder",new Vo)}}const Ce=new jo;class be extends M{constructor(s,c){super();o(this,"value");o(this,"children");this.value=s,this.children=c}toJSON(){return Ee.encode(this)}}class Lo{convert(e){n(e,"Branch");const s=e.Branch;return n(s,"value","children"),new be(l.decode(s.value),lr.decode(s.children))}}class Qo{convert(e){return u(e,be),{Branch:{value:l.encode(e.value),children:lr.encode(e.children)}}}}class qo extends a{constructor(){super(...arguments);o(this,"encoder",new Qo);o(this,"decoder",new Lo)}}const Ee=new qo;class Uo{convert(e){if(K(e,"Leaf",Y))return fe.decoder.convert(e);if(K(e,"Branch",Y))return Ee.decoder.convert(e);if(K(e,"ForgettenSubtree",Y))return Ce.decoder.convert(e);if(ne(e))return me.decoder.convert(e);throw new ae}}class Go{convert(e){if(u(e,M),e instanceof pe)return fe.encode(e);if(e instanceof be)return Ee.encode(e);if(e instanceof we)return Ce.encode(e);if(e instanceof he)return me.encode(e);throw new ae}}class $o extends a{constructor(){super(...arguments);o(this,"encoder",new Go);o(this,"decoder",new Uo)}}const ze=new $o,lr=new b(new E(ze),new v(ze));class J extends g{constructor(s,c,d){super(d);o(this,"response");o(this,"status");this.status=s,this.response=c}toJSON(){return ur.convert(this)}}class U{convert(e){return u(e,J),{...Q.convert(e),status:e.status}}}const ur=new U,ve="BadResponseClientError";class Ko extends J{constructor(e,s,c="bad server response: client error"){super(e,s,c),Object.freeze(this)}get code(){return ve}toJSON(){return hr.encode(this)}}class Yo{convert(e){return n(e,"code","message","status"),f(e,ve),new Ko(Number(e.status),null,i.decode(e.message))}}class Xo extends U{}class Zo extends a{constructor(){super(...arguments);o(this,"encoder",new Xo);o(this,"decoder",new Yo)}}const hr=new Zo;p(ve,hr);const ge="BadResponseError";class es extends J{constructor(e,s,c="bad server response"){super(e,s,c),Object.freeze(this)}get code(){return ge}toJSON(){return mr.encode(this)}}class rs{convert(e){return n(e,"code","message","status"),f(e,ge),new es(Number(e.status),null,i.decode(e.message))}}class os extends U{}class ss extends a{constructor(){super(...arguments);o(this,"encoder",new os);o(this,"decoder",new rs)}}const mr=new ss;p(ge,mr);class cs extends J{constructor(e,s,c="bad server response: server error"){super(e,s,c),Object.freeze(this)}get code(){return xe}}const xe="BadResponseServerError";class ts{convert(e){return n(e,"code","message","status"),f(e,xe),new cs(Number(e.status),null,i.decode(e.message))}}class ns extends U{}class as extends a{constructor(){super(...arguments);o(this,"encoder",new ns);o(this,"decoder",new ts)}}const ds=new as;p(xe,ds);const Ie="ChannelClosedError";class is extends g{constructor(e="channel closed"){super(e),Object.freeze(this)}get code(){return Ie}}class ls{convert(e){return n(e,"code","message"),f(e,Ie),new is(i.decode(e.message))}}class us extends q{}class hs extends a{constructor(){super(...arguments);o(this,"encoder",new us);o(this,"decoder",new ls)}}const ms=new hs;p(Ie,ms);class ye extends g{constructor(e="completer has already been completed"){super(e),Object.freeze(this)}get code(){return pr}}const pr="CompleterAlreadyCompletedError";class ps{convert(e){return n(e,"code","message"),f(e,pr),new ye(i.decode(e.message))}}class fs extends q{}class ws extends a{constructor(){super(...arguments);o(this,"encoder",new fs);o(this,"decoder",new ps)}}const Cs=new ws;p(ye.name,Cs);const Se="InvalidStringValueError";class fr extends g{constructor(s,c,d=`invalid string value: have "${s}", want "${c}"`){super(d);o(this,"have");o(this,"want");this.have=s,this.want=c,Object.freeze(this)}toJSON(){return wr.encode(this)}get code(){return Se}}class bs{convert(e){return n(e,"code","have","want","message"),f(e,Se),new fr(i.decode(e.have),i.decode(e.want),i.decode(e.message))}}class Es{convert(e){return u(e,fr),{...Q.convert(e),have:i.encode(e.have),want:i.encode(e.want)}}}class vs extends a{constructor(){super(...arguments);o(this,"encoder",new Es);o(this,"decoder",new bs)}}const wr=new vs;p(Se,wr);const ke="NoCompleterFoundForRequestID";class Cr extends g{constructor(s,c=`no completer found for request id "${s}"`){super(c);o(this,"requestID");this.requestID=s,Object.freeze(this)}toJSON(){return br.encode(this)}get code(){return ke}}class gs{convert(e){return n(e,"code","requestID","message"),f(e,ke),new Cr(Ve.decode(e.requestID),i.decode(e.message))}}class xs{convert(e){return u(e,Cr),{...Q.convert(e),requestID:Ve.encode(e.requestID)}}}class Is extends a{constructor(){super(...arguments);o(this,"encoder",new xs);o(this,"decoder",new gs)}}const br=new Is;p(ke,br);const Be="NoURLProvidedError";class ys extends g{constructor(e="no url provided"){super(e),Object.freeze(this)}get code(){return Be}}class Ss{convert(e){return n(e,"code","message"),f(e,Be),new ys(i.decode(e.message))}}class ks extends q{}class Bs extends a{constructor(){super(...arguments);o(this,"encoder",new ks);o(this,"decoder",new Ss)}}const Ns=new Bs;p(Be,Ns);const Ne="QUERY_ERROR";class _s extends g{constructor(s,c="missing element"){super(c);o(this,"error");this.error=s,Object.freeze(this)}get code(){return Ne}}class Ts{convert(e){return n(e,"code","error","message"),f(e,Ne),new _s(xr.decode(e.error),i.decode(e.message))}}class As{convert(e){return{code:e.code,error:xr.encode(e.error),message:i.encode(e.message)}}}class Ds extends a{constructor(){super(...arguments);o(this,"encoder",new As);o(this,"decoder",new Ts)}}const Os=new Ds;class _e{}const Te="NotFound";class Er extends _e{constructor(){super(),Object.freeze(this)}valueOf(){return Te}toJSON(){return this.valueOf()}}const Ps=new Er,Ae="Missing";class vr extends _e{constructor(){super(),Object.freeze(this)}valueOf(){return Ae}toJSON(){return this.valueOf()}}const Rs=new vr;class gr extends _e{constructor(s){super();o(this,"error");this.error=s,Object.freeze(this)}toJSON(){return Oe.encode(this)}}class Fs{constructor(e){o(this,"message");this.message=e,Object.freeze(this)}toJSON(){return De.encode(this)}}class zs{convert(e){return n(e,"message"),new Fs(i.decode(e.message))}}class Ms{convert(e){return{message:i.encode(e.message)}}}class Js extends a{constructor(){super(...arguments);o(this,"encoder",new Ms);o(this,"decoder",new zs)}}const De=new Js;class Ws{convert(e){return n(e,"Error"),new gr(De.decode(e.Error))}}class Vs{convert(e){return{Error:De.encode(e.error)}}}class Hs extends a{constructor(){super(...arguments);o(this,"encoder",new Vs);o(this,"decoder",new Ws)}}const Oe=new Hs;class js{convert(e){return e===Te?Ps:e===Ae?Rs:Oe.decode(e)}}class Ls{convert(e){if(e instanceof Er)return Te;if(e instanceof vr)return Ae;if(e instanceof gr)return Oe.encode(e);throw new Qe}}class Qs extends a{constructor(){super(...arguments);o(this,"encoder",new Ls);o(this,"decoder",new js)}}const xr=new Qs;p(Ne,Os);const Ir="ResponseContentTypeIsNotApplicationJSONError";class G extends J{constructor(s,c,d,h="response content type is not application/json"){super(c,d,h);o(this,"haveHeaderType");this.haveHeaderType=s,Object.freeze(this)}static fromResponse(s,c){return new G(s.headers.get("content-type")??"undefined",s.status,s,c)}toJSON(){return yr.encode(this)}get code(){return Ir}}class qs{convert(e){return n(e,"code","status","have","want","message"),f(e,Ir),new G(i.decode(e.code),t.decode(e.status),null,i.decode(e.message))}}class Us{convert(e){return{...ur.convert(e),have:i.encode(e.haveHeaderType),want:i.encode("application/json")}}}class Gs extends a{constructor(){super(...arguments);o(this,"encoder",new Us);o(this,"decoder",new qs)}}const yr=new Gs;p(G.name,yr);const Pe="WebWorkerErrorResponse";class $s extends g{constructor(s,c="error in web worker"){super(c);o(this,"error");this.error=s,Object.freeze(this)}toJSON(){return Sr.encode(this)}get code(){return Pe}}class Ks{convert(e){return n(e,"code","error","message"),f(e,Pe),new $s(He.decode(e.error),i.decode(e.message))}}class Ys{convert(e){return{...Q.convert(e),error:He.encode(e.error)}}}class Xs extends a{constructor(){super(...arguments);o(this,"encoder",new Ys);o(this,"decoder",new Ks)}}const Sr=new Xs;p(Pe,Sr);var Re=(r=>(r[r.success=0]="success",r[r.full=1]="full",r[r.failed=2]="failed",r))(Re||{});class Zs{getFromEmpty(){}}class ec{getFromEmpty(){return null}}class rc{getFromEmpty(){throw new Jr}}const oc={returnNull:new ec,returnUndefined:new Zs,throwMissingElement:new rc};class sc{constructor(e){o(this,"maxSize");m(!Number.isNaN(e),"maxSize must not be NaN"),m(Number.isInteger(e),"maxSize must be an integer"),m(e>0,"maxSize must be greater than 0"),this.maxSize=e}nextIndex(e){return m(e>=0,"index must be greater than or equal to 0"),(e+1)%this.maxSize}}class cc{constructor(e){o(this,"preComputedSizeMinus1");m(!Number.isNaN(e),"maxSize must not be NaN"),m(Number.isInteger(e),"maxSize must be an integer"),m(e>0,"maxSize must be greater than 0"),m(kr(e),"maxSize must be a power of two"),this.preComputedSizeMinus1=e-1}nextIndex(e){return m(e>=0,"index must be greater than or equal to 0"),e+1&this.preComputedSizeMinus1}}function kr(r){return(r&r-1)===0}const Fe="BufferFullError";class Br extends g{constructor(e="buffer full"){super(e),Object.freeze(this)}get code(){return Fe}}class tc{convert(e){return n(e,"code","message"),f(e,Fe),new Br(i.decode(e.message))}}class nc extends q{}class ac extends a{constructor(){super(...arguments);o(this,"encoder",new nc);o(this,"decoder",new tc)}}const dc=new ac;p(Fe,dc);class ic{putToFull(e,s){return e.get(),e.put(s)}}class lc{putToFull(){return Re.full}}class uc{putToFull(){throw new Br}}const hc={overwriteOldest:new ic,returnFull:new lc,throw:new uc};function mc(r){return kr(r)?new cc(r):new sc(r)}class pc{constructor(e,s,c){o(this,"readIndex",0);o(this,"writeIndex",0);o(this,"buffer");o(this,"nextIndex");o(this,"getOnEmpty");o(this,"putOnFull");m(!Number.isNaN(e),"maxSize must not be NaN"),this.buffer=new Array(e),this.nextIndex=mc(e),this.getOnEmpty=s,this.putOnFull=c}get maxSize(){return this.buffer.length}get length(){return this.writeIndex<this.readIndex?this.writeIndex+this.maxSize-this.readIndex:this.writeIndex-this.readIndex}put(e){const s=this.nextIndex.nextIndex(this.writeIndex);return s===this.readIndex?this.putOnFull.putToFull(this,e):(this.buffer[this.writeIndex]=e,this.writeIndex=s,Re.success)}get(){if(this.readIndex===this.writeIndex)return this.getOnEmpty.getFromEmpty(this);const e=this.buffer[this.readIndex];return this.readIndex=this.nextIndex.nextIndex(this.readIndex),e}[Symbol.iterator](){return new fc(this)}immutableIterable(){return{[Symbol.iterator]:()=>this.immutableIterator()}}immutableIterator(){return new wc(this.readIndex,this.writeIndex,this.buffer,this.nextIndex)}}class fc{constructor(e){o(this,"buffer");this.buffer=e}next(){const e=this.buffer.get();return e==null?{value:void 0,done:!0}:{value:e,done:!1}}}class wc{constructor(e,s,c,d){o(this,"readIndex");o(this,"writeIndex");o(this,"buffer");o(this,"nextIndex");this.readIndex=e,this.writeIndex=s,this.buffer=c,this.nextIndex=d}next(){if(this.readIndex===this.writeIndex)return{value:void 0,done:!0};const e=this.buffer[this.readIndex];return this.readIndex=this.nextIndex.nextIndex(this.readIndex),{value:e,done:!1}}}function Yc(r=32,e=oc.returnUndefined,s=hc.overwriteOldest){return new pc(r,e,s)}class Nr{constructor(e,s,c,d,h,C,B,N){o(this,"hash");o(this,"height");o(this,"time");o(this,"numTransactions");o(this,"proposerID");o(this,"feeRecipient");o(this,"size");o(this,"blockReward");this.hash=e,this.height=s,this.time=c,this.numTransactions=d,this.proposerID=h,this.feeRecipient=C,this.size=B,this.blockReward=N}toJSON(){return oe.encode(this)}}class Cc{convert(e){return n(e,"hash","height","time","num_transactions","proposer_id","fee_recipient","size","block_reward"),new Nr(l.decode(e.hash),t.decode(e.height),k.decode(e.time),t.decode(e.num_transactions),y.decode(e.proposer_id),y.decode(e.fee_recipient),t.decode(e.size),qe.decode(e.block_reward))}}class bc{convert(e){return u(e,Nr),{hash:l.encode(e.hash),height:t.encode(e.height),time:k.encode(e.time),num_transactions:t.encode(e.numTransactions),proposer_id:y.encode(e.proposerID),fee_recipient:y.encode(e.feeRecipient),size:t.encode(e.size),block_reward:qe.encode(e.blockReward)}}}class Ec extends L{constructor(){super(...arguments);o(this,"encoder",new bc);o(this,"decoder",new Cc)}}const oe=new Ec,Xc=new b(new E(oe),new v(oe));class _r{constructor(e,s,c,d,h,C){o(this,"hash");o(this,"height");o(this,"proposerID");o(this,"numTransactions");o(this,"size");o(this,"time");this.hash=e,this.height=s,this.proposerID=c,this.numTransactions=d,this.size=h,this.time=C}toJSON(){return se.encode(this)}}class vc{convert(e){return n(e,"hash","height","proposer_id","num_transactions","size","time"),new _r(l.decode(e.hash),t.decode(e.height),y.decode(e.proposer_id),t.decode(e.num_transactions),t.decode(e.size),k.decode(e.time))}}class gc{convert(e){return u(e,_r),{hash:l.encode(e.hash),height:t.encode(e.height),proposer_id:y.encode(e.proposerID),num_transactions:t.encode(e.numTransactions),size:t.encode(e.size),time:k.encode(e.time)}}}class xc extends L{constructor(){super(...arguments);o(this,"encoder",new gc);o(this,"decoder",new vc)}}const se=new xc,Zc=new b(new E(se),new v(se));function Ic(r,e){return r.blockHeights-e.blockHeights}class Tr{constructor(e,s,c,d){o(this,"blockTime");o(this,"blockSize");o(this,"blockTransactions");o(this,"blockHeights");const h=[],C=Math.min(e.length,s.length,c.length,d.length);for(let w=0;w<C;w++){const A=d[w];A!==null&&h.push({blockTime:e[w],blockSize:s[w],blockTransactions:c[w],blockHeights:A})}h.sort(Ic);const B=h[0].blockHeights,N=h[h.length-1].blockHeights,_=[],T=[],$=[],W=[];for(let w=B,A=0;w<=N;w++){const D=h[A];if(D.blockHeights!==w){_.push(null),T.push(null),$.push(null),W.push(null);continue}_.push(D.blockTime),T.push(D.blockSize),$.push(D.blockTransactions),W.push(D.blockHeights),A++}const V=Math.max(0,W.length-50);this.blockTime=_.slice(V),this.blockSize=T.slice(V),this.blockTransactions=$.slice(V),this.blockHeights=W.slice(V)}toJSON(){return Bc.encode(this)}}class yc{convert(e){return n(e,"block_time","block_size","block_transactions","block_heights"),new Tr(x.decode(e.block_time),x.decode(e.block_size),x.decode(e.block_transactions),x.decode(e.block_heights))}}class Sc{convert(e){return u(e,Tr),{block_time:x.encode(e.blockTime),block_size:x.encode(e.blockSize),block_transactions:x.encode(e.blockTransactions),block_heights:x.encode(e.blockHeights)}}}class kc extends a{constructor(){super(...arguments);o(this,"encoder",new Sc);o(this,"decoder",new yc)}}const Bc=new kc,Ar=S;class Dr{constructor(e,s,c,d,h,C){o(this,"hash");o(this,"rollups");o(this,"height");o(this,"time");o(this,"offset");o(this,"numTransactions");this.hash=e,this.rollups=s,this.height=c,this.time=d,this.offset=h,this.numTransactions=C}toJSON(){return ce.encode(this)}}class Nc{convert(e){return n(e,"hash","rollups","height","time","offset","num_transactions"),new Dr(l.decode(e.hash),Ar.decode(e.rollups),t.decode(e.height),k.decode(e.time),t.decode(e.offset),t.decode(e.num_transactions))}}class _c{convert(e){return u(e,Dr),{hash:l.encode(e.hash),rollups:Ar.encode(e.rollups),height:t.encode(e.height),time:k.encode(e.time),offset:t.encode(e.offset),num_transactions:t.encode(e.numTransactions)}}}class Tc extends a{constructor(){super(...arguments);o(this,"encoder",new _c);o(this,"decoder",new Nc)}}const ce=new Tc,et=new b(new E(ce),new v(ce)),Or=t;class Pr{constructor(e,s){o(this,"namespace");o(this,"payload");this.namespace=e,this.payload=s}toJSON(){return te.encode(this)}}class Ac{convert(e){return n(e,"namespace","payload"),new Pr(Or.decode(e.namespace),Le.decode(e.payload))}}class Dc{convert(e){return u(e,Pr),{namespace:Or.encode(e.namespace),payload:Le.encode(e.payload)}}}class Oc extends a{constructor(){super(...arguments);o(this,"encoder",new Dc);o(this,"decoder",new Ac)}}const te=new Oc,rt=new b(new E(te),new v(te));function H(){return m(!1,"completer is not ready, this should never be reached")}function j(){throw new ye}class Pc{constructor(){o(this,"resolve",H);o(this,"reject",H);o(this,"completed",!1);o(this,"promise");this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s}),m(this.resolve!==H,"resolve should be set"),m(this.reject!==H,"resolve should be set")}get isCompleted(){return this.completed}complete(e){const s=this.resolve,c=this.reject;if(this.completed=!0,this.resolve=j,this.reject=j,e instanceof Promise){e.then(s,c);return}s(e)}completeError(e){this.reject(e),this.completed=!0,this.resolve=j,this.reject=j}}function ot(){return new Pc}export{$e as A,cs as B,_r as C,Ye as D,Ue as E,Ge as F,rr as G,Zc as H,et as I,k as J,rt as K,Pr as L,Uc as M,Cr as N,Gc as O,es as P,G as R,$s as W,Dr as a,Yc as b,ot as c,Ko as d,hc as e,oc as f,is as g,Xc as h,Bc as i,oe as j,F as k,$c as l,nr as m,R as n,or as o,Tr as p,Nr as q,qc as r,z as s,Kc as t,lr as u,P as v,Ze as w,er as x,be as y,Xe as z};
