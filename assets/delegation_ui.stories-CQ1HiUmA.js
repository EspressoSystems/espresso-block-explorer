import{R as c,j as r,r as Is}from"./iframe-DIKNrIIb.js";import{N as dn,P as Ps}from"./now_provider-DNU3NT7E.js";import{E as As,b as Ds}from"./environment_banner-CTDpxXvK.js";import{k as Bs,l as Us,m as Rs,n as br,o as Ms,i as Cn}from"./controls-oDRpLzgy.js";import{a as Os}from"./storybook-CcdPS4xF.js";import{G as To,n as ye}from"./en_US-KAK2ZBDO-DGANWWhU.js";import{W as Cr,B as J,C as Ls,P as Vs}from"./cappuccino_hot_shot_query_service_api_context-r0klQ_HY.js";import{g as ke,a as w,b as Fs}from"./react.esm-PYvwRhAE.js";import{l as T,X as Hs,a5 as P,f as wr,i as Sr,j as Er,a7 as yt,a8 as un,C as Ws,m as kr,_ as $s,a9 as pn,F as we,t as D,aa as Ks,ab as Gs,ac as R,G as qs,T as Xs,q as zs,r as Ys,ad as Qs,ae as fn,J as Fo,af as Js,A as Io,ag as Zs,ah as ei,e as Bt,ai as ti,aj as ni,W as B,ak as jr,al as Nr,am as Tr,an as oi,ao as Ir,ap as Pr,D as K,Y as Te,Z as Po,aq as ri,ar as si,as as ii,at as ai,au as li,av as ci,aw as di,o as ui,n as pi,k as fi,ax as Ho,d as G,ay as hi,az as mi,L as Ar,E as Wo,aA as gi,aB as $o,aC as yi}from"./staking_modal_validator_confirmed_content-BuGeqQho.js";import{m as S,r as hn,f as vt,p as b,c as A,q as He,n as oe,s as re,e as Ko,h as vi}from"./functional-DLuq-Zgx.js";import{W as We}from"./staking_modal-CexauEpd.js";import{n as xi,D as xt,s as N}from"./loading_provider-Dn9ytlaz.js";import{A as mn}from"./async_iterable_resolver-B2HzFsrP.js";import{b as _i}from"./provide_async_states-BI-8x1rH.js";import"./transaction_detail_content-Ce6wVV1w.js";import{P as bi}from"./promise_resolver-BBokiobc.js";import"./data_table-D7kIY5bn.js";import{E as Ci,L as wi}from"./stake_table_contract_context-DAUcazLz.js";import{E as Si}from"./espresso_logo_and_title-DTeWGGud.js";import{T as f}from"./text-CEhLEmI-.js";import{W as Ei}from"./deserializer-BsZKD2ue.js";import{a as X}from"./higher_order-CERhs-Yx.js";import{S as _t}from"./svg_icon_base-CJsibPKU.js";import{h as y}from"./array_buffer-DYdk84gS.js";import"./bigint-Rw5otYDY.js";import{d as Dr}from"./string-DO2hqbbz.js";import{U as bt}from"./unimplemented_error-BGJ4_cDZ.js";import"./missing_element_error-Bky0HlCJ.js";import"./base64-Dpbg5EzT.js";import"./url-BkzmLfUb.js";import{W as ki}from"./wallet_address-cs0DJHAB.js";import{R as gn,N as yn,S as ji,P as Ni,a as Ti,b as Ii,c as Pi}from"./staking_modal_content-Ben8Pvf6.js";import{M as Ie}from"./money_text-YqxDusDO.js";import{M as Pe}from"./monetary_value-CGCIrnLJ.js";import{P as Se}from"./transactions_per_second_text-CoujvQ_L.js";import{C as Ai}from"./date_time_formatters_provider-DhcWWpu8.js";import"./locale_provider-DYOAFLcG.js";import"./page_path_provider-B1N-ENWh.js";import{C as Br}from"./number_formatters_provider-CoB2HbbC.js";import"./path_resolver_provider-D_k7zmI5.js";import{N as Di}from"./number_text-C_D0_0Sh.js";import"./byte_size_text-CVlm-gPG.js";import"./copy_hex-zR5ZV97x.js";import"./date_time_text-Di9xHhdz.js";import"./full_hex_text-Cv2FWqgk.js";import"./hex_text-C5T8OYp6.js";import"./relative_time_since_date_text-BLwzRj7T.js";import"./tagged_base64_text-DaoCGQRV.js";import"./time_text-DhxGW57C.js";import"./blocks-D62ayDG_.js";import{n as wt}from"./nodes-BtP9A9m5.js";import"./block_page-BhwTHL4l.js";import"./blocks_page-CGmdlThS.js";import"./nodes_summary_data_table-CI9bbHZT.js";import"./explorer_page-B8aoHlur.js";import"./roll_up_page-f-Yc0XNe.js";import"./roll_ups_page-Bti_jPvs.js";import"./transaction_page-a-1bdWko.js";import"./transactions_for_block_page-OzVpFN6k.js";import"./transactions_page-CFdNiPQX.js";import{M as Bi,a as wn,S as Go,R as qo,V as Ao,D as vn,U as $e,C as xn,b as Ke,c as Ur}from"./fake_data-Dwfg1chF.js";import"./preload-helper-PPVm8Dsz.js";import"./typography-C-u2xTwd.js";import"./espresso-DEWpFEEM.js";import"./explorer-CHE_VWBP.js";import"./index-B1u9hlBx.js";import"./index-C8ROo_QO.js";import"./transaction_detail_loader-CPL1cunz.js";import"./tagged_base64-DlPC3yRR.js";import"./assert-B20_bgky.js";import"./block_summary-CBGYsBbN.js";import"./labeled_anchor_button-DvI8IUHk.js";import"./anchor_button-CVIibbZU.js";import"./transaction_summary-_-RUzodv.js";import"./fetch_error-DuIs0boE.js";import"./not_found_error-bihNLxJz.js";import"./validator-DiMZuNkp.js";import"./client-Cgb01xwx.js";import"./nav_bar-DIRc3ntC.js";import"./link-BA2MO7y4.js";import"./icon_button-BGLl4jNp.js";import"./button-l8w1UYOD.js";import"./menu-BnYgJGIq.js";import"./esp_input-Ctug45Sh.js";import"./text-BdL-rF17.js";import"./circular_progress_indicator-BwmKD8wi.js";import"./error_display-CiNYKFM0.js";import"./label-BBqImYri.js";import"./table_labeled_value-B8ju-C3C.js";import"./skeleton_content-DoayltBs.js";import"./twitter_icon-xEkWMwR6.js";import"./arrow_right-BExABYK8.js";import"./icon_anchor_button-Ds62PSMY.js";import"./labeled_button-DG2mDBpp.js";import"./heading2-Boff_b8b.js";/* empty css                */import"./card-DkiVkAU4.js";import"./block_size_histogram-CQmXO6mn.js";import"./loading_shimmer-BevhGYCh.js";import"./affine_transform-UCCpzMIM.js";import"./container_loading-D6SGm2EM.js";import"./svg_tool_tip-DWTJCm-L.js";import"./svg_path_builder-4dyJLere.js";import"./summary_table_labeled_value-CLIBVlWL.js";import"./data-QnfQTY7I.js";import"./roll_up_simple-D_DPRQ3W.js";import"./espresso_logo-B5uM5svJ.js";import"./transaction_summary_data_table-zrhANSjQ.js";import"./copy_button-DrvH4bvD.js";import"./check_circle_filled-B7jxOVSh.js";import"./copy-CnbsWkwa.js";/* empty css               */import"./nitro_batch_display-D9WiwrOI.js";import"./optimism_batch_display-ZSnKNpLM.js";import"./heading1-BUYpHcL3.js";import"./summary_value_labeled-VMq9a0Xx.js";import"./chevron_up-BShDt5bd.js";import"./hex_dump-C69TH_dh.js";import"./payments-BMcETgCD.js";import"./medium_icon-D01Ebkks.js";import"./search_glass-Clik28DF.js";import"./x_icon-MwYGSnfS.js";import"./footer-BIJBxAIx.js";import"./social_media_links-CiF6GQL6.js";import"./header-DRuKudEp.js";import"./latest_block_summary-RqQSs4A6.js";import"./block_summary_data_table-D8YqMGoK.js";import"./roll_ups_summary_data_table-b-_y_O9a.js";import"./world_map_dots_population_full_resolution-D3mbqmnh.js";import"./constants-BzXKN_my.js";import"./world_map_dots_full_resolution-C-i_H1vk.js";import"./pie_chart-CHoJUmMq.js";import"./search_input-CpR5o-pv.js";import"./container-JfJutzVA.js";function h(e,t,n){return e.namespaceURI&&e.namespaceURI!=="http://www.w3.org/1999/xhtml"||(t=Array.isArray(t)?t:[t],!t.includes(e.tagName.toLowerCase()))?!1:n?Object.entries(n).every(([o,s])=>e[o]===s):!0}function U(e){var t;if(Ui(e)&&e.defaultView)return e.defaultView;if(!((t=e.ownerDocument)===null||t===void 0)&&t.defaultView)return e.ownerDocument.defaultView;throw new Error(`Could not determine window of node. Node was ${Ri(e)}`)}function Ui(e){return e.nodeType===9}function Ri(e){return typeof e=="function"?`function ${e.name}`:e===null?"null":String(e)}function Rr(e,t){return new Promise((n,o)=>{const s=new t;s.onerror=o,s.onabort=o,s.onload=()=>{n(String(s.result))},s.readAsText(e)})}function Do(e,t){const n={...t,length:t.length,item:o=>n[o],[Symbol.iterator]:function*(){for(let s=0;s<n.length;s++)yield n[s]}};return n.constructor=e.FileList,e.FileList&&Object.setPrototypeOf(n,e.FileList.prototype),Object.freeze(n),n}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Mr{getAsFile(){return this.file}getAsString(t){typeof this.data=="string"&&t(this.data)}webkitGetAsEntry(){throw new Error("not implemented")}constructor(t,n){Q(this,"kind",void 0),Q(this,"type",void 0),Q(this,"file",null),Q(this,"data",void 0),typeof t=="string"?(this.kind="string",this.type=String(n),this.data=t):(this.kind="file",this.type=t.type,this.file=t)}}class Mi extends Array{add(...t){const n=new Mr(t[0],t[1]);return this.push(n),n}clear(){this.splice(0,this.length)}remove(t){this.splice(t,1)}}function St(e,t){const[n,o]=e.split("/"),s=!o||o==="*";return i=>t?i.type===(s?n:e):s?i.type.startsWith(`${n}/`):i.type===n}function Oi(e){return new class{getData(n){var o;const s=(o=this.items.find(St(n,!0)))!==null&&o!==void 0?o:this.items.find(St(n,!1));let i="";return s?.getAsString(a=>{i=a}),i}setData(n,o){const s=this.items.findIndex(St(n,!0)),i=new Mr(o,n);s>=0?this.items.splice(s,1,i):this.items.push(i)}clearData(n){if(n){const o=this.items.findIndex(St(n,!0));o>=0&&this.items.remove(o)}else this.items.clear()}get types(){const n=[];return this.files.length&&n.push("Files"),this.items.forEach(o=>n.push(o.type)),Object.freeze(n),n}setDragImage(){}constructor(){Q(this,"dropEffect","none"),Q(this,"effectAllowed","uninitialized"),Q(this,"items",new Mi),Q(this,"files",Do(e,[]))}}}function Bo(e,t=[]){const n=typeof e.DataTransfer>"u"?Oi(e):new e.DataTransfer;return Object.defineProperty(n,"files",{get:()=>Do(e,t)}),n}async function Li(e,t){return t.kind==="file"?t.getAsFile():new e.Blob([await new Promise(n=>t.getAsString(n))],{type:t.type})}function Or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lr(e,...t){const n=Object.fromEntries(t.map(o=>[typeof o=="string"?"text/plain":o.type,Promise.resolve(o)]));return typeof e.ClipboardItem<"u"?new e.ClipboardItem(n):new class{get types(){return Array.from(Object.keys(this.data))}async getType(s){const i=await this.data[s];if(!i)throw new Error(`${s} is not one of the available MIME types on this item.`);return i instanceof e.Blob?i:new e.Blob([i],{type:s})}constructor(s){Or(this,"data",void 0),this.data=s}}(n)}const Ae=Symbol("Manage ClipboardSub");function Xo(e,t){return Object.assign(new class extends e.EventTarget{async read(){return Array.from(this.items)}async readText(){let o="";for(const s of this.items){const i=s.types.includes("text/plain")?"text/plain":s.types.find(a=>a.startsWith("text/"));i&&(o+=await s.getType(i).then(a=>Rr(a,e.FileReader)))}return o}async write(o){this.items=o}async writeText(o){this.items=[Lr(e,o)]}constructor(...o){super(...o),Or(this,"items",[])}},{[Ae]:t})}function Uo(e){return!!e?.[Ae]}function Vi(e){if(Uo(e.navigator.clipboard))return e.navigator.clipboard[Ae];const t=Object.getOwnPropertyDescriptor(e.navigator,"clipboard");let n;const o={resetClipboardStub:()=>{n=Xo(e,o)},detachClipboardStub:()=>{t?Object.defineProperty(e.navigator,"clipboard",t):Object.defineProperty(e.navigator,"clipboard",{value:void 0,configurable:!0})}};return n=Xo(e,o),Object.defineProperty(e.navigator,"clipboard",{get:()=>n,configurable:!0}),n[Ae]}function Fi(e){Uo(e.navigator.clipboard)&&e.navigator.clipboard[Ae].resetClipboardStub()}function Hi(e){Uo(e.navigator.clipboard)&&e.navigator.clipboard[Ae].detachClipboardStub()}async function Wi(e){const t=e.defaultView,n=t?.navigator.clipboard,o=n&&await n.read();if(!o)throw new Error("The Clipboard API is unavailable.");const s=Bo(t);for(const i of o)for(const a of i.types)s.setData(a,await i.getType(a).then(l=>Rr(l,t.FileReader)));return s}async function Vr(e,t){const n=U(e),o=n.navigator.clipboard,s=[];for(let a=0;a<t.items.length;a++){const l=t.items[a],d=await Li(n,l);s.push(Lr(n,d))}if(!(o&&await o.write(s).then(()=>!0,()=>!1)))throw new Error("The Clipboard API is unavailable.")}const Lt=globalThis;typeof Lt.afterEach=="function"&&Lt.afterEach(()=>Fi(globalThis.window));typeof Lt.afterAll=="function"&&Lt.afterAll(()=>Hi(globalThis.window));const Fr=["input:not([type=hidden]):not([disabled])","button:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contenteditable=""]','[contenteditable="true"]',"a[href]","[tabindex]:not([disabled])"].join(", ");function Ro(e){return e.matches(Fr)}function $i(e){return new e.constructor(e.type,e)}function q(e){for(let n=e;n;n=n.parentElement)if(h(n,["button","input","select","textarea","optgroup","option"])){if(n.hasAttribute("disabled"))return!0}else if(h(n,"fieldset")){var t;if(n.hasAttribute("disabled")&&!(!((t=n.querySelector(":scope > legend"))===null||t===void 0)&&t.contains(e)))return!0}else if(n.tagName.includes("-")&&n.constructor.formAssociated&&n.hasAttribute("disabled"))return!0;return!1}function Ct(e){const t=e.activeElement;return t?.shadowRoot?Ct(t.shadowRoot):q(t)?e.ownerDocument?e.ownerDocument.body:e.body:t}function Sn(e){var t;return(t=Ct(e))!==null&&t!==void 0?t:e.body}function Ki(e,t){let n=e;do{if(t(n))return n;n=n.parentElement}while(n&&n!==e.ownerDocument.body)}function ve(e){return e.hasAttribute("contenteditable")&&(e.getAttribute("contenteditable")=="true"||e.getAttribute("contenteditable")=="")}function ot(e){const t=Gi(e);return t&&(t.closest('[contenteditable=""]')||t.closest('[contenteditable="true"]'))}function Gi(e){return e.nodeType===1?e:e.parentElement}var Hr=(function(e){return e.button="button",e.color="color",e.file="file",e.image="image",e.reset="reset",e.submit="submit",e.checkbox="checkbox",e.radio="radio",e})(Hr||{});function Wr(e){return h(e,"button")||h(e,"input")&&e.type in Hr}function De(e){return Kr(e)&&!e.readOnly||ve(e)}var $r=(function(e){return e.text="text",e.date="date",e["datetime-local"]="datetime-local",e.email="email",e.month="month",e.number="number",e.password="password",e.search="search",e.tel="tel",e.time="time",e.url="url",e.week="week",e})($r||{});function Kr(e){return h(e,"textarea")||h(e,"input")&&e.type in $r}function V(e){return Gr(e)&&Kr(e)}function qi(e){return Gr(e)&&Wr(e)}function Gr(e){return e.nodeType===1}function Xi(e){const t=e.ownerDocument.getSelection();if(t?.focusNode&&V(e)){const o=ot(t.focusNode);if(o){if(!t.isCollapsed){var n;const s=((n=o.firstChild)===null||n===void 0?void 0:n.nodeType)===3?o.firstChild:o;t.setBaseAndExtent(s,0,s,0)}}else t.setBaseAndExtent(e,0,e,0)}}function Be(e,t){return ke().eventWrapper(e)}function Z(e){const t=Ki(e,Ro),n=Ct(e.ownerDocument);(t??e.ownerDocument.body)!==n&&(Be(t?()=>t.focus():()=>n?.blur()),Xi(t??e.ownerDocument.body))}function zi(e){!Ro(e)||!(Ct(e.ownerDocument)===e)||Be(()=>e.blur())}const ee={};ee.click=(e,t,n)=>{const o=t.closest("button,input,label,select,textarea"),s=o&&h(o,"label")&&o.control;if(s&&s!==t)return()=>{Ro(s)&&(Z(s),n.dispatchEvent(s,$i(e)))};if(h(t,"input",{type:"file"}))return()=>{zi(t),t.dispatchEvent(new(U(t)).Event("fileDialog")),Z(t)}};const Ue=Symbol("Displayed value in UI"),W=Symbol("Displayed selection in UI"),Vt=Symbol("Initial value to compare on blur");function Yi(e){return typeof e=="object"&&Ue in e}function Qi(e){return!!e&&typeof e=="object"&&W in e}function Ji(e,t){e[Vt]===void 0&&(e[Vt]=e.value),e[Ue]=t,e.value=Object.assign(new String(t),{[Ue]:!0})}function F(e){return e[Ue]===void 0?e.value:String(e[Ue])}function Mo(e){e[Ue]=void 0}function qr(e){e[Vt]=void 0}function Zi(e){return e[Vt]}function ea(e,t){e[W]=t}function Ge(e,{focusOffset:t,anchorOffset:n=t},o="replace"){const s=F(e).length,i=m=>Math.max(0,Math.min(s,m)),a=o==="replace"||e[W]===void 0?i(n):e[W].anchorOffset,l=i(t),d=Math.min(a,l),u=Math.max(a,l);if(e[W]={anchorOffset:a,focusOffset:l},e.selectionStart===d&&e.selectionEnd===u)return;const p=Object.assign(new Number(d),{[W]:!0});try{e.setSelectionRange(p,u)}catch{}}function rt(e){var t,n,o;const s=(o=e[W])!==null&&o!==void 0?o:{anchorOffset:(t=e.selectionStart)!==null&&t!==void 0?t:0,focusOffset:(n=e.selectionEnd)!==null&&n!==void 0?n:0};return{...s,startOffset:Math.min(s.anchorOffset,s.focusOffset),endOffset:Math.max(s.anchorOffset,s.focusOffset)}}function ta(e){return!!e[W]}function Ut(e){e[W]=void 0}const Ft=globalThis.parseInt;function na(e){const t=e.replace(/\D/g,"");if(t.length<2)return e;const n=Ft(t[0],10),o=Ft(t[1],10);if(n>=3||n===2&&o>=4){let s;return n>=3?s=1:s=2,zo(t,s)}return e.length===2?e:zo(t,2)}function zo(e,t){const n=e.slice(0,t),o=Math.min(Ft(n,10),23),s=e.slice(t),i=Ft(s,10),a=Math.min(i,59);return`${o.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`}function Xr(e,t){const n=e.cloneNode();return n.value=t,n.value===t}var zr=(function(e){return e.email="email",e.password="password",e.search="search",e.telephone="telephone",e.text="text",e.url="url",e})(zr||{});function oa(e){var t;const n=(t=e.getAttribute("maxlength"))!==null&&t!==void 0?t:"";return/^\d+$/.test(n)&&Number(n)>=0?Number(n):void 0}function ra(e){return h(e,"textarea")||h(e,"input")&&e.type in zr}function Yr(e,t,n,o){if(Rt(e)&&t+n>=0&&t+n<=e.nodeValue.length)return{node:e,offset:t+n};const s=Yo(e,t,n);if(s){if(Rt(s))return{node:s,offset:n>0?Math.min(1,s.nodeValue.length):Math.max(s.nodeValue.length-1,0)};if(h(s,"br")){const i=Yo(s,void 0,n);return i?Rt(i)?{node:i,offset:n>0?0:i.nodeValue.length}:n<0&&h(i,"br")?{node:s.parentNode,offset:Et(s)}:{node:i.parentNode,offset:Et(i)+(n>0?0:1)}:n<0&&o==="deleteContentBackward"?{node:s.parentNode,offset:Et(s)}:void 0}else return{node:s.parentNode,offset:Et(s)+(n>0?1:0)}}}function Yo(e,t,n){const o=Number(t)+(n<0?-1:0);return t!==void 0&&Oo(e)&&o>=0&&o<e.children.length&&(e=e.children[o]),ia(e,n===1?"next":"previous",sa)}function sa(e){if(Rt(e))return!0;if(Oo(e)){if(h(e,["input","textarea"]))return e.type!=="hidden";if(h(e,"br"))return!0}return!1}function Et(e){let t=0;for(;e.previousSibling;)t++,e=e.previousSibling;return t}function Oo(e){return e.nodeType===1}function Rt(e){return e.nodeType===3}function ia(e,t,n){for(;;){var o;const s=e[`${t}Sibling`];if(s){if(e=aa(s,t==="next"?"first":"last"),n(e))return e}else if(e.parentNode&&(!Oo(e.parentNode)||!ve(e.parentNode)&&e.parentNode!==((o=e.ownerDocument)===null||o===void 0?void 0:o.body)))e=e.parentNode;else break}}function aa(e,t){for(;e.hasChildNodes();)e=e[`${t}Child`];return e}const st=Symbol("Track programmatic changes for React workaround");function la(e){return Object.getOwnPropertyNames(e).some(t=>t.startsWith("__react"))&&U(e).REACT_VERSION===17}function ca(e){la(e)&&(e[st]={previousValue:String(e.value),tracked:[]})}function da(e,t){var n,o;(o=e[st])===null||o===void 0||(n=o.tracked)===null||n===void 0||n.push(t),e[st]||(Mo(e),Ge(e,{focusOffset:t.length}))}function ua(e,t){var n;const o=e[st];if(e[st]=void 0,!(!(o==null||(n=o.tracked)===null||n===void 0)&&n.length))return;const s=o.tracked.length===2&&o.tracked[0]===o.previousValue&&o.tracked[1]===e.value;s||Mo(e),ta(e)&&Ge(e,{focusOffset:s?t:e.value.length})}function Qr(e){const t=pa(e);if(t&&V(t))return{type:"input",selection:rt(t)};const n=t?.ownerDocument.getSelection();return{type:ot(e)&&n?.anchorNode&&ot(n.anchorNode)?"contenteditable":"default",selection:n}}function pa(e){return e.nodeType===1?e:e.parentElement}function fa(e){const t=Qr(e);if(t.type==="input")return t.selection;if(t.type==="contenteditable"){var n;return(n=t.selection)===null||n===void 0?void 0:n.getRangeAt(0)}}function xe({focusNode:e,focusOffset:t,anchorNode:n=e,anchorOffset:o=t}){var s,i;if(Qr(e).type==="input")return Ge(e,{anchorOffset:o,focusOffset:t});(i=n.ownerDocument)===null||i===void 0||(s=i.getSelection())===null||s===void 0||s.setBaseAndExtent(n,o,e,t)}function Jr(e){return h(e,"input")&&["date","time"].includes(e.type)}function Re(e,t,n,o="insertText"){const s=fa(t);s&&(!Jr(t)&&!e.dispatchUIEvent(t,"beforeinput",{inputType:o,data:n})||("startContainer"in s?ha(e,t,s,n,o):ma(e,t,s,n,o)))}function ha(e,t,n,o,s){let i=!1;if(!n.collapsed)i=!0,n.deleteContents();else if(["deleteContentBackward","deleteContentForward"].includes(s)){const a=Yr(n.startContainer,n.startOffset,s==="deleteContentBackward"?-1:1,s);if(a){i=!0;const l=n.cloneRange();l.comparePoint(a.node,a.offset)<0?l.setStart(a.node,a.offset):l.setEnd(a.node,a.offset),l.deleteContents()}}if(o)if(n.endContainer.nodeType===3){const a=n.endOffset;n.endContainer.insertData(a,o),n.setStart(n.endContainer,a+o.length),n.setEnd(n.endContainer,a+o.length)}else{const a=t.ownerDocument.createTextNode(o);n.insertNode(a),n.setStart(a,o.length),n.setEnd(a,o.length)}(i||o)&&e.dispatchUIEvent(t,"input",{inputType:s})}function ma(e,t,n,o,s){let i=o;if(ra(t)){const u=oa(t);if(u!==void 0&&o.length>0){const p=u-t.value.length;if(p>0)i=o.substring(0,p);else return}}const{newValue:a,newOffset:l,oldValue:d}=ga(i,t,n,s);a===d&&l===n.startOffset&&l===n.endOffset||h(t,"input",{type:"number"})&&!ya(a)||(Ji(t,a),xe({focusNode:t,anchorOffset:l,focusOffset:l}),Jr(t)?Xr(t,a)&&(Qo(e,t,l,{}),e.dispatchUIEvent(t,"change"),qr(t)):Qo(e,t,l,{data:o,inputType:s}))}function ga(e,t,{startOffset:n,endOffset:o},s){const i=F(t),a=Math.max(0,n===o&&s==="deleteContentBackward"?n-1:n),l=i.substring(0,a),d=Math.min(i.length,n===o&&s==="deleteContentForward"?n+1:o),u=i.substring(d,i.length);let p=`${l}${e}${u}`,m=a+e.length;if(h(t,"input",{type:"time"})){const v=na(p);v!==""&&Xr(t,v)&&(p=v,m=v.length)}return{oldValue:i,newValue:p,newOffset:m}}function Qo(e,t,n,o){e.dispatchUIEvent(t,"input",o),ua(t,n)}function ya(e){var t,n;const o=e.split("e",2);return!(/[^\d.\-e]/.test(e)||Number((t=e.match(/-/g))===null||t===void 0?void 0:t.length)>2||Number((n=e.match(/\./g))===null||n===void 0?void 0:n.length)>1||o[1]&&!/^-?\d*$/.test(o[1]))}ee.cut=(e,t,n)=>()=>{De(t)&&Re(n,t,"","deleteByCut")};function va(e){return e?ve(e)?e.textContent:F(e):null}function xa(e){const t=U(e);for(let n=e;n?.ownerDocument;n=n.parentElement){const{display:o,visibility:s}=t.getComputedStyle(n);if(o==="none"||s==="hidden")return!1}return!0}function _a(e,t){const n=e.ownerDocument,o=n.querySelectorAll(Fr),s=Array.from(o).filter(d=>d===e||!(Number(d.getAttribute("tabindex"))<0||q(d)));Number(e.getAttribute("tabindex"))>=0&&s.sort((d,u)=>{const p=Number(d.getAttribute("tabindex")),m=Number(u.getAttribute("tabindex"));return p===m?0:p===0?1:m===0?-1:p-m});const i={};let a=[n.body];const l=h(e,"input",{type:"radio"})?e.name:void 0;s.forEach(d=>{const u=d;if(h(u,"input",{type:"radio"})&&u.name){if(u===e){a.push(u);return}else if(u.name===l)return;if(u.checked){a=a.filter(p=>!h(p,"input",{type:"radio",name:u.name})),a.push(u),i[u.name]=u;return}if(typeof i[u.name]<"u")return}a.push(u)});for(let d=a.findIndex(u=>u===e);;)if(d+=t?-1:1,d===a.length?d=0:d===-1&&(d=a.length-1),a[d]===e||a[d]===n.body||xa(a[d]))return a[d]}function Jo(e,t){if(V(e)){const n=rt(e);xe({focusNode:e,focusOffset:n.startOffset===n.endOffset?n.focusOffset+t:t<0?n.startOffset:n.endOffset})}else{const n=e.ownerDocument.getSelection();if(!n?.focusNode)return;if(n.isCollapsed){const o=Yr(n.focusNode,n.focusOffset,t);o&&xe({focusNode:o.node,focusOffset:o.offset})}else n[t<0?"collapseToStart":"collapseToEnd"]()}}function Zr(e){if(V(e))return xe({focusNode:e,anchorOffset:0,focusOffset:F(e).length});var t;const n=(t=ot(e))!==null&&t!==void 0?t:e.ownerDocument.body;xe({focusNode:n,anchorOffset:0,focusOffset:n.childNodes.length})}function ba(e){if(V(e))return rt(e).startOffset===0&&rt(e).endOffset===F(e).length;var t;const n=(t=ot(e))!==null&&t!==void 0?t:e.ownerDocument.body,o=e.ownerDocument.getSelection();return o?.anchorNode===n&&o.focusNode===n&&o.anchorOffset===0&&o.focusOffset===n.childNodes.length}function Ze(e,t,n){var o;if(V(e))return xe({focusNode:e,anchorOffset:t,focusOffset:n});if(ve(e)&&((o=e.firstChild)===null||o===void 0?void 0:o.nodeType)===3)return xe({focusNode:e.firstChild,anchorOffset:t,focusOffset:n});throw new Error("Not implemented. The result of this interaction is unreliable.")}function kt(e,t,n){const o=U(t),s=Array.from(t.ownerDocument.querySelectorAll(t.name?`input[type="radio"][name="${o.CSS.escape(t.name)}"]`:'input[type="radio"][name=""], input[type="radio"]:not([name])'));for(let i=s.findIndex(a=>a===t)+n;;i+=n){if(s[i]||(i=n>0?0:s.length-1),s[i]===t)return;if(!q(s[i])){Z(s[i]),e.dispatchUIEvent(s[i],"click");return}}}ee.keydown=(e,t,n)=>{var o,s;return(s=(o=Zo[e.key])===null||o===void 0?void 0:o.call(Zo,e,t,n))!==null&&s!==void 0?s:Ca(e,t,n)};const Zo={ArrowDown:(e,t,n)=>{if(h(t,"input",{type:"radio"}))return()=>kt(n,t,1)},ArrowLeft:(e,t,n)=>h(t,"input",{type:"radio"})?()=>kt(n,t,-1):()=>Jo(t,-1),ArrowRight:(e,t,n)=>h(t,"input",{type:"radio"})?()=>kt(n,t,1):()=>Jo(t,1),ArrowUp:(e,t,n)=>{if(h(t,"input",{type:"radio"}))return()=>kt(n,t,-1)},Backspace:(e,t,n)=>{if(De(t))return()=>{Re(n,t,"","deleteContentBackward")}},Delete:(e,t,n)=>{if(De(t))return()=>{Re(n,t,"","deleteContentForward")}},End:(e,t)=>{if(h(t,["input","textarea"])||ve(t))return()=>{var n,o;const s=(o=(n=va(t))===null||n===void 0?void 0:n.length)!==null&&o!==void 0?o:0;Ze(t,s,s)}},Home:(e,t)=>{if(h(t,["input","textarea"])||ve(t))return()=>{Ze(t,0,0)}},PageDown:(e,t)=>{if(h(t,["input"]))return()=>{const n=F(t).length;Ze(t,n,n)}},PageUp:(e,t)=>{if(h(t,["input"]))return()=>{Ze(t,0,0)}},Tab:(e,t,n)=>()=>{const o=_a(t,n.system.keyboard.modifiers.Shift);Z(o),V(o)&&Ge(o,{anchorOffset:0,focusOffset:o.value.length})}},Ca=(e,t,n)=>{if(e.code==="KeyA"&&n.system.keyboard.modifiers.Control)return()=>Zr(t)};ee.keypress=(e,t,n)=>{if(e.key==="Enter"){if(h(t,"button")||h(t,"input")&&wa.includes(t.type)||h(t,"a")&&t.href)return()=>{n.dispatchUIEvent(t,"click")};if(h(t,"input")){const o=t.form,s=o?.querySelector('input[type="submit"], button:not([type]), button[type="submit"]');return s?()=>n.dispatchUIEvent(s,"click"):o&&Sa.includes(t.type)&&o.querySelectorAll("input").length===1?()=>n.dispatchUIEvent(o,"submit"):void 0}}if(De(t)){const o=e.key==="Enter"?ve(t)&&!n.system.keyboard.modifiers.Shift?"insertParagraph":"insertLineBreak":"insertText",s=e.key==="Enter"?`
`:e.key;return()=>Re(n,t,s,o)}};const wa=["button","color","file","image","reset","submit"],Sa=["email","month","password","search","tel","text","url","week"];ee.keyup=(e,t,n)=>{var o;return(o=er[e.key])===null||o===void 0?void 0:o.call(er,e,t,n)};const er={" ":(e,t,n)=>{if(Wr(t))return()=>n.dispatchUIEvent(t,"click")}};ee.paste=(e,t,n)=>{if(De(t))return()=>{var o;const s=(o=e.clipboardData)===null||o===void 0?void 0:o.getData("text");s&&Re(n,t,s,"insertFromPaste")}};const es={auxclick:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},beforeinput:{EventType:"InputEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},blur:{EventType:"FocusEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},click:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},contextmenu:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},copy:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},change:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!1}},cut:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},dblclick:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},focus:{EventType:"FocusEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},focusin:{EventType:"FocusEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},focusout:{EventType:"FocusEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},keydown:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},keypress:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},keyup:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},paste:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},input:{EventType:"InputEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},mousedown:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseenter:{EventType:"MouseEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},mouseleave:{EventType:"MouseEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},mousemove:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseout:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseover:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseup:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerover:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerenter:{EventType:"PointerEvent",defaultInit:{bubbles:!1,cancelable:!1}},pointerdown:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointermove:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerup:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointercancel:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},pointerout:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerleave:{EventType:"PointerEvent",defaultInit:{bubbles:!1,cancelable:!1}},submit:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!0}}};function ts(e){return es[e].EventType}const Ea=["MouseEvent","PointerEvent"];function ka(e){return Ea.includes(ts(e))}function ja(e){return ts(e)==="KeyboardEvent"}const Na={ClipboardEvent:[Ia],Event:[],FocusEvent:[Je,Pa],InputEvent:[Je,Aa],MouseEvent:[Je,En,tr],PointerEvent:[Je,En,tr,Ba],KeyboardEvent:[Je,En,Da]};function ns(e,t,n){const o=U(t),{EventType:s,defaultInit:i}=es[e],a=new(Ta(o))[s](e,i);return Na[s].forEach(l=>l(a,n??{})),a}function Ta(e){var t;const n=(t=e.Event)!==null&&t!==void 0?t:class{};var o;const s=(o=e.AnimationEvent)!==null&&o!==void 0?o:class extends n{};var i;const a=(i=e.ClipboardEvent)!==null&&i!==void 0?i:class extends n{};var l;const d=(l=e.PopStateEvent)!==null&&l!==void 0?l:class extends n{};var u;const p=(u=e.ProgressEvent)!==null&&u!==void 0?u:class extends n{};var m;const v=(m=e.TransitionEvent)!==null&&m!==void 0?m:class extends n{};var x;const C=(x=e.UIEvent)!==null&&x!==void 0?x:class extends n{};var z;const Xe=(z=e.CompositionEvent)!==null&&z!==void 0?z:class extends C{};var ae;const ze=(ae=e.FocusEvent)!==null&&ae!==void 0?ae:class extends C{};var le;const Ye=(le=e.InputEvent)!==null&&le!==void 0?le:class extends C{};var ce;const Qe=(ce=e.KeyboardEvent)!==null&&ce!==void 0?ce:class extends C{};var de;const ue=(de=e.MouseEvent)!==null&&de!==void 0?de:class extends C{};var pe;const js=(pe=e.DragEvent)!==null&&pe!==void 0?pe:class extends ue{};var _n;const Ns=(_n=e.PointerEvent)!==null&&_n!==void 0?_n:class extends ue{};var bn;const Ts=(bn=e.TouchEvent)!==null&&bn!==void 0?bn:class extends C{};return{Event:n,AnimationEvent:s,ClipboardEvent:a,PopStateEvent:d,ProgressEvent:p,TransitionEvent:v,UIEvent:C,CompositionEvent:Xe,FocusEvent:ze,InputEvent:Ye,KeyboardEvent:Qe,MouseEvent:ue,DragEvent:js,PointerEvent:Ns,TouchEvent:Ts}}function se(e,t){for(const[n,o]of Object.entries(t))Object.defineProperty(e,n,{get:()=>o??null})}function _(e){return Number(e??0)}function Ia(e,{clipboardData:t}){se(e,{clipboardData:t})}function Pa(e,{relatedTarget:t}){se(e,{relatedTarget:t})}function Aa(e,{data:t,inputType:n,isComposing:o}){se(e,{data:t,isComposing:!!o,inputType:String(n)})}function Je(e,{view:t,detail:n}){se(e,{view:t,detail:_(n??0)})}function En(e,{altKey:t,ctrlKey:n,metaKey:o,shiftKey:s,modifierAltGraph:i,modifierCapsLock:a,modifierFn:l,modifierFnLock:d,modifierNumLock:u,modifierScrollLock:p,modifierSymbol:m,modifierSymbolLock:v}){se(e,{altKey:!!t,ctrlKey:!!n,metaKey:!!o,shiftKey:!!s,getModifierState(x){return!!{Alt:t,AltGraph:i,CapsLock:a,Control:n,Fn:l,FnLock:d,Meta:o,NumLock:u,ScrollLock:p,Shift:s,Symbol:m,SymbolLock:v}[x]}})}function Da(e,{key:t,code:n,location:o,repeat:s,isComposing:i,charCode:a}){se(e,{key:String(t),code:String(n),location:_(o),repeat:!!s,isComposing:!!i,charCode:a})}function tr(e,{x:t,y:n,screenX:o,screenY:s,clientX:i=t,clientY:a=n,button:l,buttons:d,relatedTarget:u,offsetX:p,offsetY:m,pageX:v,pageY:x}){se(e,{screenX:_(o),screenY:_(s),clientX:_(i),x:_(i),clientY:_(a),y:_(a),button:_(l),buttons:_(d),relatedTarget:u,offsetX:_(p),offsetY:_(m),pageX:_(v),pageY:_(x)})}function Ba(e,{pointerId:t,width:n,height:o,pressure:s,tangentialPressure:i,tiltX:a,tiltY:l,twist:d,pointerType:u,isPrimary:p}){se(e,{pointerId:_(t),width:_(n??1),height:_(o??1),pressure:_(s),tangentialPressure:_(i),tiltX:_(a),tiltY:_(l),twist:_(d),pointerType:String(u),isPrimary:!!p})}function Ua(e,t,n,o=!1){(ka(t)||ja(t))&&(n={...n,...this.system.getUIEventModifiers()});const s=ns(t,e,n);return os.call(this,e,s,o)}function os(e,t,n=!1){var o;const s=t.type,i=n?()=>{}:(o=ee[s])===null||o===void 0?void 0:o.call(ee,t,e,this);if(i){t.preventDefault();let a=!1;return Object.defineProperty(t,"defaultPrevented",{get:()=>a}),Object.defineProperty(t,"preventDefault",{value:()=>{a=t.cancelable}}),Be(()=>e.dispatchEvent(t)),a||i(),!a}return Be(()=>e.dispatchEvent(t))}function ge(e,t,n){const o=ns(t,e,n);Be(()=>e.dispatchEvent(o))}const nr=Symbol("patched focus/blur methods");function rs(e){if(e.prototype[nr])return;const{focus:t,blur:n}=e.prototype;Object.defineProperties(e.prototype,{focus:{configurable:!0,get:()=>s},blur:{configurable:!0,get:()=>i},[nr]:{configurable:!0,get:()=>({focus:t,blur:n})}});let o;function s(a){if(this.ownerDocument.visibilityState!=="hidden")return t.call(this,a);const l=or(this.ownerDocument);if(l===this)return;const d=Symbol("focus call");o=d,l&&(n.call(l),ge(l,"blur",{relatedTarget:this}),ge(l,"focusout",{relatedTarget:o===d?this:null})),o===d&&(t.call(this,a),ge(this,"focus",{relatedTarget:l})),o===d&&ge(this,"focusin",{relatedTarget:l})}function i(){if(this.ownerDocument.visibilityState!=="hidden")return n.call(this);const a=or(this.ownerDocument);if(a!==this)return;o=Symbol("blur call"),n.call(this),ge(a,"blur",{relatedTarget:null}),ge(a,"focusout",{relatedTarget:null})}}function or(e){const t=Ct(e);return t?.tagName==="BODY"?null:t}const kn=Symbol("Interceptor for programmatical calls");function je(e,t,n){const o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=Object.getOwnPropertyDescriptor(e,t),i=o?.set?"set":"value";if(typeof o?.[i]!="function"||o[i][kn])throw new Error(`Element ${e.tagName} does not implement "${String(t)}".`);function a(...l){const{applyNative:d=!1,realArgs:u,then:p}=n.call(this,...l),m=(!d&&s||o)[i];i==="set"?m.call(this,u):m.call(this,...u),p?.()}a[kn]=kn,Object.defineProperty(e,t,{...s??o,[i]:a})}function Ra(e){je(e,"value",function(n){const o=Yi(n);return o&&ca(this),{applyNative:!!o,realArgs:Ma(this,n),then:o?void 0:()=>da(this,String(n))}})}function Ma(e,t){return h(e,"input",{type:"number"})&&String(t)!==""&&!Number.isNaN(Number(t))?String(Number(t)):String(t)}function Oa(e){je(e,"setSelectionRange",function(n,...o){const s=Qi(n);return{applyNative:!!s,realArgs:[Number(n),...o],then:()=>s?void 0:Ut(e)}}),je(e,"selectionStart",function(n){return{realArgs:n,then:()=>Ut(e)}}),je(e,"selectionEnd",function(n){return{realArgs:n,then:()=>Ut(e)}}),je(e,"select",function(){return{realArgs:[],then:()=>ea(e,{anchorOffset:0,focusOffset:F(e).length})}})}function La(e){je(e,"setRangeText",function(...n){return{realArgs:n,then:()=>{Mo(e),Ut(e)}}})}const Ne=Symbol("Node prepared with document state workarounds");function ss(e){e[Ne]||(e.addEventListener("focus",t=>{const n=t.target;rr(n)},{capture:!0,passive:!0}),e.activeElement&&rr(e.activeElement),e.addEventListener("blur",t=>{const n=t.target,o=Zi(n);o!==void 0&&(n.value!==o&&ge(n,"change"),qr(n))},{capture:!0,passive:!0}),e[Ne]=Ne)}function rr(e){e[Ne]||(h(e,["input","textarea"])&&(Ra(e),Oa(e),La(e)),e[Ne]=Ne)}function Va(e){return Fa(e)?e:e.ownerDocument}function Fa(e){return e.nodeType===9}var I=(function(e){return e[e.Trigger=2]="Trigger",e[e.Call=1]="Call",e})({});function et(e,t){e.levelRefs[t]={}}function jt(e,t){return e.levelRefs[t]}function Me(e){const t=e.delay;if(typeof t=="number")return Promise.all([new Promise(n=>globalThis.setTimeout(()=>n(),t)),e.advanceTimers(t)])}var Mt=(function(e){return e[e.EachTrigger=4]="EachTrigger",e[e.EachApiCall=2]="EachApiCall",e[e.EachTarget=1]="EachTarget",e[e.Never=0]="Never",e})({});function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=(function(e){return e[e.STANDARD=0]="STANDARD",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.NUMPAD=3]="NUMPAD",e})({});const Ha=["Alt","AltGraph","Control","Fn","Meta","Shift","Symbol"];function sr(e){return Ha.includes(e)}const Wa=["CapsLock","FnLock","NumLock","ScrollLock","SymbolLock"];function ir(e){return Wa.includes(e)}class $a{isKeyPressed(t){return this.pressed.has(String(t.code))}getPressedKeys(){return this.pressed.values().map(t=>t.keyDef)}async keydown(t,n){const o=String(n.key),s=String(n.code),i=Sn(t.config.document);this.setKeydownTarget(i),this.pressed.add(s,n),sr(o)&&(this.modifiers[o]=!0);const a=t.dispatchUIEvent(i,"keydown",{key:o,code:s});ir(o)&&!this.modifiers[o]&&(this.modifiers[o]=!0,this.modifierLockStart[o]=!0),a&&this.pressed.setUnprevented(s),a&&this.hasKeyPress(o)&&t.dispatchUIEvent(Sn(t.config.document),"keypress",{key:o,code:s,charCode:n.key==="Enter"?13:String(n.key).charCodeAt(0)})}async keyup(t,n){const o=String(n.key),s=String(n.code),i=this.pressed.isUnprevented(s);this.pressed.delete(s),sr(o)&&!this.pressed.values().find(a=>a.keyDef.key===o)&&(this.modifiers[o]=!1),t.dispatchUIEvent(Sn(t.config.document),"keyup",{key:o,code:s},!i),ir(o)&&this.modifiers[o]&&(this.modifierLockStart[o]?this.modifierLockStart[o]=!1:this.modifiers[o]=!1)}setKeydownTarget(t){t!==this.lastKeydownTarget&&(this.carryChar=""),this.lastKeydownTarget=t}hasKeyPress(t){return(t.length===1||t==="Enter")&&!this.modifiers.Control&&!this.modifiers.Alt}constructor(t){fe(this,"system",void 0),fe(this,"modifiers",{Alt:!1,AltGraph:!1,CapsLock:!1,Control:!1,Fn:!1,FnLock:!1,Meta:!1,NumLock:!1,ScrollLock:!1,Shift:!1,Symbol:!1,SymbolLock:!1}),fe(this,"pressed",new class{add(n,o){var s,i,a;(a=(s=this.registry)[i=n])!==null&&a!==void 0||(s[i]={keyDef:o,unpreventedDefault:!1})}has(n){return!!this.registry[n]}setUnprevented(n){const o=this.registry[n];o&&(o.unpreventedDefault=!0)}isUnprevented(n){var o;return!!(!((o=this.registry[n])===null||o===void 0)&&o.unpreventedDefault)}delete(n){delete this.registry[n]}values(){return Object.values(this.registry)}constructor(){fe(this,"registry",{})}}),fe(this,"carryChar",""),fe(this,"lastKeydownTarget",void 0),fe(this,"modifierLockStart",{}),this.system=t}}const Ka=[..."0123456789".split("").map(e=>({code:`Digit${e}`,key:e})),...")!@#$%^&*(".split("").map((e,t)=>({code:`Digit${t}`,key:e,shiftKey:!0})),..."abcdefghijklmnopqrstuvwxyz".split("").map(e=>({code:`Key${e.toUpperCase()}`,key:e})),..."ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").map(e=>({code:`Key${e}`,key:e,shiftKey:!0})),{code:"BracketLeft",key:"["},{code:"BracketLeft",key:"{",shiftKey:!0},{code:"BracketRight",key:"]"},{code:"BracketRight",key:"}",shiftKey:!0},{code:"Space",key:" "},{code:"AltLeft",key:"Alt",location:M.LEFT},{code:"AltRight",key:"Alt",location:M.RIGHT},{code:"ShiftLeft",key:"Shift",location:M.LEFT},{code:"ShiftRight",key:"Shift",location:M.RIGHT},{code:"ControlLeft",key:"Control",location:M.LEFT},{code:"ControlRight",key:"Control",location:M.RIGHT},{code:"MetaLeft",key:"Meta",location:M.LEFT},{code:"MetaRight",key:"Meta",location:M.RIGHT},{code:"OSLeft",key:"OS",location:M.LEFT},{code:"OSRight",key:"OS",location:M.RIGHT},{code:"ContextMenu",key:"ContextMenu"},{code:"Tab",key:"Tab"},{code:"CapsLock",key:"CapsLock"},{code:"Backspace",key:"Backspace"},{code:"Enter",key:"Enter"},{code:"Escape",key:"Escape"},{code:"ArrowUp",key:"ArrowUp"},{code:"ArrowDown",key:"ArrowDown"},{code:"ArrowLeft",key:"ArrowLeft"},{code:"ArrowRight",key:"ArrowRight"},{code:"Home",key:"Home"},{code:"End",key:"End"},{code:"Delete",key:"Delete"},{code:"PageUp",key:"PageUp"},{code:"PageDown",key:"PageDown"},{code:"Fn",key:"Fn"},{code:"Symbol",key:"Symbol"},{code:"AltRight",key:"AltGraph"}],Ga=[{name:"MouseLeft",pointerType:"mouse",button:"primary"},{name:"MouseRight",pointerType:"mouse",button:"secondary"},{name:"MouseMiddle",pointerType:"mouse",button:"auxiliary"},{name:"TouchA",pointerType:"touch"},{name:"TouchB",pointerType:"touch"},{name:"TouchC",pointerType:"touch"}];function qa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class is{getButtons(){let t=0;for(const n of Object.keys(this.pressed))t|=2**Number(n);return t}down(t){const n=Tn(t.button);if(n in this.pressed){this.pressed[n].push(t);return}return this.pressed[n]=[t],n}up(t){const n=Tn(t.button);if(n in this.pressed&&(this.pressed[n]=this.pressed[n].filter(o=>o.name!==t.name),this.pressed[n].length===0))return delete this.pressed[n],n}constructor(){qa(this,"pressed",{})}}const ar={primary:0,secondary:1,auxiliary:2,back:3,X1:3,forward:4,X2:4};function Tn(e=0){return e in ar?ar[e]:Number(e)}const lr={1:2,2:1};function In(e){return e=Tn(e),e in lr?lr[e]:e}function Xa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class za{get countPressed(){return this.pressedKeys.size}isPressed(t){return this.pressedKeys.has(t.name)}addPressed(t){return this.pressedKeys.add(t.name)}removePressed(t){return this.pressedKeys.delete(t.name)}constructor(){Xa(this,"pressedKeys",new Set)}}function nt(e,t){const n=[];for(let i=e;i;i=i.parentElement)n.push(i);const o=[];for(let i=t;i;i=i.parentElement)o.push(i);let s=0;for(;!(s>=n.length||s>=o.length||n[n.length-1-s]!==o[o.length-1-s]);s++);return[n.slice(0,n.length-s),o.slice(0,o.length-s),o.slice(o.length-s)]}function Pn({target:e,node:t,offset:n}){return V(e)?{node:e,offset:n??F(e).length}:t?{node:t,offset:n??(t.nodeType===3?t.nodeValue.length:t.childNodes.length)}:as(e,n)}function as(e,t,n=!0){let o=t===void 0?e.childNodes.length-1:0;const s=t===void 0?-1:1;for(;t===void 0?o>=(n?Math.max(e.childNodes.length-1,0):0):o<=e.childNodes.length;){if(t&&o===e.childNodes.length)throw new Error("The given offset is out of bounds.");const i=e.childNodes.item(o),a=String(i.textContent);if(a.length)if(t!==void 0&&a.length<t)t-=a.length;else{if(i.nodeType===1)return as(i,t,!1);if(i.nodeType===3)return{node:i,offset:t??i.nodeValue.length}}o+=s}return{node:e,offset:e.childNodes.length}}function Ya({document:e,target:t,clickCount:n,node:o,offset:s}){if(qi(t))return;const i=V(t),a=String(i?F(t):t.textContent),[l,d]=o?[s,s]:Qa(a,s,n);if(i)return Ge(t,{anchorOffset:l??a.length,focusOffset:d??a.length}),{node:t,start:l??0,end:d??a.length};{const{node:u,offset:p}=Pn({target:t,node:o,offset:l}),{node:m,offset:v}=Pn({target:t,node:o,offset:d}),x=t.ownerDocument.createRange();try{x.setStart(u,p),x.setEnd(m,v)}catch{throw new Error("The given offset is out of bounds.")}const C=e.getSelection();return C?.removeAllRanges(),C?.addRange(x.cloneRange()),x}}function Qa(e,t,n){if(n%3===1||e.length===0)return[t,t];const o=t??e.length;return n%3===2?[o-e.substr(0,t).match(/(\w+|\s+|\W)?$/)[0].length,t===void 0?t:t+e.substr(t).match(/^(\w+|\s+|\W)?/)[0].length]:[o-e.substr(0,t).match(/[^\r\n]*$/)[0].length,t===void 0?t:t+e.substr(t).match(/^[^\r\n]*/)[0].length]}function Ja(e,{document:t,target:n,node:o,offset:s}){const i=Pn({target:n,node:o,offset:s});if("node"in e){if(i.node===e.node){const a=i.offset<e.start?e.end:e.start,l=i.offset>e.end||i.offset<e.start?i.offset:e.end;Ge(e.node,{anchorOffset:a,focusOffset:l})}}else{const a=e.cloneRange(),l=a.comparePoint(i.node,i.offset);l<0?a.setStart(i.node,i.offset):l>0&&a.setEnd(i.node,i.offset);const d=t.getSelection();d?.removeAllRanges(),d?.addRange(a.cloneRange())}}function ls(e,t){var n,o,s,i,a,l,d,u,p,m,v,x,C,z,Xe,ae,ze,le,Ye,ce,Qe,de,ue,pe;return e.target!==t.target||((n=e.coords)===null||n===void 0?void 0:n.x)!==((o=t.coords)===null||o===void 0?void 0:o.x)||((s=e.coords)===null||s===void 0?void 0:s.y)!==((i=t.coords)===null||i===void 0?void 0:i.y)||((a=e.coords)===null||a===void 0?void 0:a.clientX)!==((l=t.coords)===null||l===void 0?void 0:l.clientX)||((d=e.coords)===null||d===void 0?void 0:d.clientY)!==((u=t.coords)===null||u===void 0?void 0:u.clientY)||((p=e.coords)===null||p===void 0?void 0:p.offsetX)!==((m=t.coords)===null||m===void 0?void 0:m.offsetX)||((v=e.coords)===null||v===void 0?void 0:v.offsetY)!==((x=t.coords)===null||x===void 0?void 0:x.offsetY)||((C=e.coords)===null||C===void 0?void 0:C.pageX)!==((z=t.coords)===null||z===void 0?void 0:z.pageX)||((Xe=e.coords)===null||Xe===void 0?void 0:Xe.pageY)!==((ae=t.coords)===null||ae===void 0?void 0:ae.pageY)||((ze=e.coords)===null||ze===void 0?void 0:ze.screenX)!==((le=t.coords)===null||le===void 0?void 0:le.screenX)||((Ye=e.coords)===null||Ye===void 0?void 0:Ye.screenY)!==((ce=t.coords)===null||ce===void 0?void 0:ce.screenY)||((Qe=e.caret)===null||Qe===void 0?void 0:Qe.node)!==((de=t.caret)===null||de===void 0?void 0:de.node)||((ue=e.caret)===null||ue===void 0?void 0:ue.offset)!==((pe=t.caret)===null||pe===void 0?void 0:pe.offset)}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Za{move(t,n,o){const s=this.position,i=this.getTarget(t);if(this.position=n,!ls(s,n))return;const a=this.getTarget(t),l=this.getEventInit("mousemove"),[d,u]=nt(i,a);return{leave:()=>{i!==a&&(t.dispatchUIEvent(i,"mouseout",l),d.forEach(p=>t.dispatchUIEvent(p,"mouseleave",l)))},enter:()=>{i!==a&&(t.dispatchUIEvent(a,"mouseover",l),u.forEach(p=>t.dispatchUIEvent(p,"mouseenter",l)))},move:()=>{o||(t.dispatchUIEvent(a,"mousemove",l),this.modifySelecting(t))}}}down(t,n,o){const s=this.buttons.down(n);if(s===void 0)return;const i=this.getTarget(t);this.buttonDownTarget[s]=i;const a=this.getEventInit("mousedown",n.button),l=q(i);!o&&(l||t.dispatchUIEvent(i,"mousedown",a))&&(this.startSelecting(t,a.detail),Z(i)),!l&&In(n.button)===2&&t.dispatchUIEvent(i,"contextmenu",this.getEventInit("contextmenu",n.button))}up(t,n,o){const s=this.buttons.up(n);if(s===void 0)return;const i=this.getTarget(t);if(!q(i)){if(!o){const l=this.getEventInit("mouseup",n.button);t.dispatchUIEvent(i,"mouseup",l),this.endSelecting()}const a=nt(this.buttonDownTarget[s],i)[2][0];if(a){const l=this.getEventInit("click",n.button);l.detail&&(t.dispatchUIEvent(a,l.button===0?"click":"auxclick",l),l.button===0&&l.detail===2&&t.dispatchUIEvent(a,"dblclick",{...this.getEventInit("dblclick",n.button),detail:l.detail}))}}}resetClickCount(){this.clickCount.reset()}getEventInit(t,n){const o={...this.position.coords};return o.button=In(n),o.buttons=this.buttons.getButtons(),t==="mousedown"?o.detail=this.clickCount.getOnDown(o.button):t==="mouseup"?o.detail=this.clickCount.getOnUp(o.button):(t==="click"||t==="auxclick")&&(o.detail=this.clickCount.incOnClick(o.button)),o}getTarget(t){var n;return(n=this.position.target)!==null&&n!==void 0?n:t.config.document.body}startSelecting(t,n){var o,s;this.selecting=Ya({document:t.config.document,target:this.getTarget(t),node:(o=this.position.caret)===null||o===void 0?void 0:o.node,offset:(s=this.position.caret)===null||s===void 0?void 0:s.offset,clickCount:n})}modifySelecting(t){var n,o;this.selecting&&Ja(this.selecting,{document:t.config.document,target:this.getTarget(t),node:(n=this.position.caret)===null||n===void 0?void 0:n.node,offset:(o=this.position.caret)===null||o===void 0?void 0:o.offset})}endSelecting(){this.selecting=void 0}constructor(){he(this,"position",{}),he(this,"buttons",new is),he(this,"selecting",void 0),he(this,"buttonDownTarget",{}),he(this,"clickCount",new class{incOnClick(t){const n=this.down[t]===void 0?void 0:Number(this.down[t])+1;return this.count=this.count[t]===void 0?{}:{[t]:Number(this.count[t])+1},n}getOnDown(t){var n;this.down={[t]:(n=this.count[t])!==null&&n!==void 0?n:0};var o;return this.count={[t]:(o=this.count[t])!==null&&o!==void 0?o:0},Number(this.count[t])+1}getOnUp(t){return this.down[t]===void 0?void 0:Number(this.down[t])+1}reset(){this.count={}}constructor(){he(this,"down",{}),he(this,"count",{})}})}}function Ht(e,t){var n;return((n=cs(e,t))===null||n===void 0?void 0:n.pointerEvents)!=="none"}function el(e){const t=U(e);for(let n=e,o=[];n?.ownerDocument;n=n.parentElement){o.push(n);const s=t.getComputedStyle(n).pointerEvents;if(s&&!["inherit","unset"].includes(s))return{pointerEvents:s,tree:o}}}const cr=Symbol("Last check for pointer-events");function cs(e,t){const n=t[cr];if(!(e.config.pointerEventsCheck!==Mt.Never&&(!n||dr(e.config.pointerEventsCheck,Mt.EachApiCall)&&n[I.Call]!==jt(e,I.Call)||dr(e.config.pointerEventsCheck,Mt.EachTrigger)&&n[I.Trigger]!==jt(e,I.Trigger))))return n?.result;const s=el(t);return t[cr]={[I.Call]:jt(e,I.Call),[I.Trigger]:jt(e,I.Trigger),result:s},s}function tt(e,t){const n=cs(e,t);if(n?.pointerEvents==="none")throw new Error([`Unable to perform pointer interaction as the element ${n.tree.length>1?"inherits":"has"} \`pointer-events: none\`:`,"",tl(n.tree)].join(`
`))}function tl(e){return e.reverse().map((t,n)=>["".padEnd(n),t.tagName,t.id&&`#${t.id}`,t.hasAttribute("data-testid")&&`(testId=${t.getAttribute("data-testid")})`,nl(t),e.length>1&&n===0&&"  <-- This element declared `pointer-events: none`",e.length>1&&n===e.length-1&&"  <-- Asserted pointer events here"].filter(Boolean).join("")).join(`
`)}function nl(e){var t;let n;if(e.hasAttribute("aria-label"))n=e.getAttribute("aria-label");else if(e.hasAttribute("aria-labelledby")){var o,s;n=(s=e.ownerDocument.getElementById(e.getAttribute("aria-labelledby")))===null||s===void 0||(o=s.textContent)===null||o===void 0?void 0:o.trim()}else if(h(e,["button","input","meter","output","progress","select","textarea"])&&(!((t=e.labels)===null||t===void 0)&&t.length))n=Array.from(e.labels).map(a=>{var l;return(l=a.textContent)===null||l===void 0?void 0:l.trim()}).join("|");else if(h(e,"button")){var i;n=(i=e.textContent)===null||i===void 0?void 0:i.trim()}return n=n?.replace(/\n/g,"  "),Number(n?.length)>30&&(n=`${n?.substring(0,29)}â€¦`),n?`(label=${n})`:""}function dr(e,t){return(e&t)>0}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ol{init(t){const n=this.getTarget(t),[,o]=nt(null,n),s=this.getEventInit();return tt(t,n),t.dispatchUIEvent(n,"pointerover",s),o.forEach(i=>t.dispatchUIEvent(i,"pointerenter",s)),this}move(t,n){const o=this.position,s=this.getTarget(t);if(this.position=n,!ls(o,n))return;const i=this.getTarget(t),a=this.getEventInit(-1),[l,d]=nt(s,i);return{leave:()=>{Ht(t,s)&&s!==i&&(t.dispatchUIEvent(s,"pointerout",a),l.forEach(u=>t.dispatchUIEvent(u,"pointerleave",a)))},enter:()=>{tt(t,i),s!==i&&(t.dispatchUIEvent(i,"pointerover",a),d.forEach(u=>t.dispatchUIEvent(u,"pointerenter",a)))},move:()=>{t.dispatchUIEvent(i,"pointermove",a)}}}down(t,n=0){if(this.isDown)return;const o=this.getTarget(t);tt(t,o),this.isDown=!0,this.isPrevented=!t.dispatchUIEvent(o,"pointerdown",this.getEventInit(n))}up(t,n=0){if(!this.isDown)return;const o=this.getTarget(t);tt(t,o),this.isPrevented=!1,this.isDown=!1,t.dispatchUIEvent(o,"pointerup",this.getEventInit(n))}release(t){const n=this.getTarget(t),[o]=nt(n,null),s=this.getEventInit();Ht(t,n)&&(t.dispatchUIEvent(n,"pointerout",s),o.forEach(i=>t.dispatchUIEvent(i,"pointerleave",s))),this.isCancelled=!0}getTarget(t){var n;return(n=this.position.target)!==null&&n!==void 0?n:t.config.document.body}getEventInit(t){return{...this.position.coords,pointerId:this.pointerId,pointerType:this.pointerType,isPrimary:this.isPrimary,button:In(t),buttons:this.buttons.getButtons()}}constructor({pointerId:t,pointerType:n,isPrimary:o},s){H(this,"pointerId",void 0),H(this,"pointerType",void 0),H(this,"isPrimary",void 0),H(this,"buttons",void 0),H(this,"isMultitouch",!1),H(this,"isCancelled",!1),H(this,"isDown",!1),H(this,"isPrevented",!1),H(this,"position",{}),this.pointerId=t,this.pointerType=n,this.isPrimary=o,this.isMultitouch=!o,this.buttons=s}}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class rl{isKeyPressed(t){return this.devices.get(t.pointerType).isPressed(t)}async press(t,n,o){this.devices.get(n.pointerType).addPressed(n),this.buttons.down(n);const s=this.getPointerName(n),i=n.pointerType==="touch"?this.pointers.new(s,n.pointerType,this.buttons):this.pointers.get(s);i.position=o,i.pointerType!=="touch"&&(this.mouse.position=o),i.pointerType==="touch"&&i.init(t),i.down(t,n.button),i.pointerType!=="touch"&&this.mouse.down(t,n,i.isPrevented)}async move(t,n,o){const s=this.pointers.get(n),i=s.move(t,o),a=s.pointerType==="touch"?void 0:this.mouse.move(t,o,s.isPrevented);i?.leave(),a?.leave(),i?.enter(),a?.enter(),i?.move(),a?.move()}async release(t,n,o){const s=this.devices.get(n.pointerType);s.removePressed(n),this.buttons.up(n);const i=this.pointers.get(this.getPointerName(n)),a=i.isPrevented;if(i.position=o,i.pointerType!=="touch"&&(this.mouse.position=o),s.countPressed===0&&i.up(t,n.button),i.pointerType==="touch"&&i.release(t),i.pointerType==="touch"&&!i.isMultitouch){const l=this.mouse.move(t,o,a);l?.leave(),l?.enter(),l?.move(),this.mouse.down(t,n,a)}if(!i.isMultitouch){const l=this.mouse.move(t,o,a);l?.leave(),l?.enter(),l?.move(),this.mouse.up(t,n,a)}}getPointerName(t){return t.pointerType==="touch"?t.name:t.pointerType}getPreviousPosition(t){return this.pointers.has(t)?this.pointers.get(t).position:void 0}resetClickCount(){this.mouse.resetClickCount()}getMouseTarget(t){var n;return(n=this.mouse.position.target)!==null&&n!==void 0?n:t.config.document.body}setMousePosition(t){this.mouse.position=t,this.pointers.get("mouse").position=t}constructor(t){Y(this,"system",void 0),Y(this,"mouse",void 0),Y(this,"buttons",void 0),Y(this,"devices",new class{get(n){var o,s,i;return(i=(o=this.registry)[s=n])!==null&&i!==void 0?i:o[s]=new za}constructor(){Y(this,"registry",{})}}),Y(this,"pointers",new class{new(n,o,s){const i=o!=="touch"||!Object.values(this.registry).some(a=>a.pointerType==="touch"&&!a.isCancelled);return i||Object.values(this.registry).forEach(a=>{a.pointerType===o&&!a.isCancelled&&(a.isMultitouch=!0)}),this.registry[n]=new ol({pointerId:this.nextId++,pointerType:o,isPrimary:i},s),this.registry[n]}get(n){if(!this.has(n))throw new Error(`Trying to access pointer "${n}" which does not exist.`);return this.registry[n]}has(n){return n in this.registry}constructor(){Y(this,"registry",{}),Y(this,"nextId",1)}}),this.system=t,this.buttons=new is,this.mouse=new Za,this.pointers.new("mouse","mouse",this.buttons)}}function ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ds{getUIEventModifiers(){return{altKey:this.keyboard.modifiers.Alt,ctrlKey:this.keyboard.modifiers.Control,metaKey:this.keyboard.modifiers.Meta,shiftKey:this.keyboard.modifiers.Shift,modifierAltGraph:this.keyboard.modifiers.AltGraph,modifierCapsLock:this.keyboard.modifiers.CapsLock,modifierFn:this.keyboard.modifiers.Fn,modifierFnLock:this.keyboard.modifiers.FnLock,modifierNumLock:this.keyboard.modifiers.NumLock,modifierScrollLock:this.keyboard.modifiers.ScrollLock,modifierSymbol:this.keyboard.modifiers.Symbol,modifierSymbolLock:this.keyboard.modifiers.SymbolLock}}constructor(){ur(this,"keyboard",new $a(this)),ur(this,"pointer",new rl(this))}}async function sl(e){const t=[];return this.config.skipHover||t.push({target:e}),t.push({keys:"[MouseLeft]",target:e}),this.pointer(t)}async function il(e){return this.pointer([{target:e},"[MouseLeft][MouseLeft]"])}async function al(e){return this.pointer([{target:e},"[MouseLeft][MouseLeft][MouseLeft]"])}async function ll(e){return this.pointer({target:e})}async function cl(e){return tt(this,this.system.pointer.getMouseTarget(this)),this.pointer({target:e.ownerDocument.body})}async function dl({shift:e}={}){return this.keyboard(e===!0?"{Shift>}{Tab}{/Shift}":e===!1?"[/ShiftLeft][/ShiftRight]{Tab}":"{Tab}")}var Lo=(function(e){return e["{"]="}",e["["]="]",e})(Lo||{});function us(e,t){let n=0;const o=e[n]in Lo?e[n]:"";n+=o.length;const i=new RegExp(`^\\${o}{2}`).test(e)?"":o;return{type:i,...i===""?ul(e,n,t):pl(e,n,i,t)}}function ul(e,t,n){const o=e[t];return ps(o,e,t,n),t+=o.length,{consumedLength:t,descriptor:o,releasePrevious:!1,releaseSelf:!0,repeat:1}}function pl(e,t,n,o){var s,i;const a=e[t]==="/"?"/":"";t+=a.length;const l=n==="{"&&e[t]==="\\";t+=Number(l);const d=l?e[t]:(s=e.slice(t).match(n==="{"?/^\w+|^[^}>/]/:/^\w+/))===null||s===void 0?void 0:s[0];ps(d,e,t,o),t+=d.length;var u;const p=(u=(i=e.slice(t).match(/^>\d+/))===null||i===void 0?void 0:i[0])!==null&&u!==void 0?u:"";t+=p.length;const m=e[t]==="/"||!p&&e[t]===">"?e[t]:"";t+=m.length;const v=Lo[n],x=e[t]===v?v:"";if(!x)throw new Error(fs([!p&&"repeat modifier",!m&&"release modifier",`"${v}"`].filter(Boolean).join(" or "),e[t],e,o));return t+=x.length,{consumedLength:t,descriptor:d,releasePrevious:!!a,repeat:p?Math.max(Number(p.substr(1)),1):1,releaseSelf:fl(m,p)}}function ps(e,t,n,o){if(!e)throw new Error(fs("key descriptor",t[n],t,o))}function fl(e,t){if(e)return e==="/";if(t)return!1}function fs(e,t,n,o){return`Expected ${e} but found "${t??""}" in "${n}"
    See ${o==="pointer"?"https://testing-library.com/docs/user-event/pointer#pressing-a-button-or-touching-the-screen":"https://testing-library.com/docs/user-event/keyboard"}
    for more information about how userEvent parses your input.`}function hl(e,t){const n=[];do{const{type:s,descriptor:i,consumedLength:a,releasePrevious:l,releaseSelf:d=!0,repeat:u}=us(t,"keyboard");var o;const p=(o=e.find(m=>{if(s==="["){var v;return((v=m.code)===null||v===void 0?void 0:v.toLowerCase())===i.toLowerCase()}else if(s==="{"){var x;return((x=m.key)===null||x===void 0?void 0:x.toLowerCase())===i.toLowerCase()}return m.key===i}))!==null&&o!==void 0?o:{key:"Unknown",code:"Unknown",[s==="["?"code":"key"]:i};n.push({keyDef:p,releasePrevious:l,releaseSelf:d,repeat:u}),t=t.slice(a)}while(t);return n}async function ml(e){const t=hl(this.config.keyboardMap,e);for(let n=0;n<t.length;n++)await Me(this.config),await gl(this,t[n])}async function gl(e,{keyDef:t,releasePrevious:n,releaseSelf:o,repeat:s}){const{system:i}=e;if(i.keyboard.isKeyPressed(t)&&await i.keyboard.keyup(e,t),!n){for(let a=1;a<=s;a++)await i.keyboard.keydown(e,t),a<s&&await Me(e.config);o&&await i.keyboard.keyup(e,t)}}async function yl(e){for(const t of e.system.keyboard.getPressedKeys())await e.system.keyboard.keyup(e,t)}function hs(e){const t=V(e)?{"text/plain":vl(e)}:{"text/plain":String(e.ownerDocument.getSelection())},n=Bo(U(e));for(const o in t)t[o]&&n.setData(o,t[o]);return n}function vl(e){const t=rt(e);return F(e).substring(t.startOffset,t.endOffset)}async function xl(){const e=this.config.document;var t;const n=(t=e.activeElement)!==null&&t!==void 0?t:e.body,o=hs(n);if(o.items.length!==0)return this.dispatchUIEvent(n,"copy",{clipboardData:o})&&this.config.writeToClipboard&&await Vr(e,o),o}async function _l(){const e=this.config.document;var t;const n=(t=e.activeElement)!==null&&t!==void 0?t:e.body,o=hs(n);if(o.items.length!==0)return this.dispatchUIEvent(n,"cut",{clipboardData:o})&&this.config.writeToClipboard&&await Vr(n.ownerDocument,o),o}async function bl(e){const t=this.config.document;var n;const o=(n=t.activeElement)!==null&&n!==void 0?n:t.body;var s;const i=(s=typeof e=="string"?Cl(t,e):e)!==null&&s!==void 0?s:await Wi(t).catch(()=>{throw new Error("`userEvent.paste()` without `clipboardData` requires the `ClipboardAPI` to be available.")});this.dispatchUIEvent(o,"paste",{clipboardData:i})}function Cl(e,t){const n=Bo(U(e));return n.setData("text",t),n}function pr(e,t){const n=[];do{const{descriptor:o,consumedLength:s,releasePrevious:i,releaseSelf:a=!0}=us(t,"pointer"),l=e.find(d=>d.name===o);l&&n.push({keyDef:l,releasePrevious:i,releaseSelf:a}),t=t.slice(s)}while(t);return n}async function wl(e){const{pointerMap:t}=this.config,n=[];(Array.isArray(e)?e:[e]).forEach(o=>{typeof o=="string"?n.push(...pr(t,o)):"keys"in o?n.push(...pr(t,o.keys).map(s=>({...o,...s}))):n.push(o)});for(let o=0;o<n.length;o++)await Me(this.config),await Sl(this,n[o]);this.system.pointer.resetClickCount()}async function Sl(e,t){var n,o;const s="pointerName"in t&&t.pointerName?t.pointerName:"keyDef"in t?e.system.pointer.getPointerName(t.keyDef):"mouse",i=e.system.pointer.getPreviousPosition(s);var a,l,d,u;const p={target:(a=t.target)!==null&&a!==void 0?a:El(e,i),coords:(l=t.coords)!==null&&l!==void 0?l:i?.coords,caret:{node:(d=t.node)!==null&&d!==void 0?d:fr(t)||i==null||(n=i.caret)===null||n===void 0?void 0:n.node,offset:(u=t.offset)!==null&&u!==void 0?u:fr(t)||i==null||(o=i.caret)===null||o===void 0?void 0:o.offset}};"keyDef"in t?(e.system.pointer.isKeyPressed(t.keyDef)&&(et(e,I.Trigger),await e.system.pointer.release(e,t.keyDef,p)),t.releasePrevious||(et(e,I.Trigger),await e.system.pointer.press(e,t.keyDef,p),t.releaseSelf&&(et(e,I.Trigger),await e.system.pointer.release(e,t.keyDef,p)))):(et(e,I.Trigger),await e.system.pointer.move(e,s,p))}function fr(e){var t,n;return!!((n=(t=e.target)!==null&&t!==void 0?t:e.node)!==null&&n!==void 0?n:e.offset!==void 0)}function El(e,t){if(!t)throw new Error("This pointer has no previous position. Provide a target property!");var n;return(n=t.target)!==null&&n!==void 0?n:e.config.document.body}async function kl(e){if(!De(e)||q(e))throw new Error("clear()` is only supported on editable elements.");if(Z(e),e.ownerDocument.activeElement!==e)throw new Error("The element to be cleared could not be focused.");if(Zr(e),!ba(e))throw new Error("The element content to be cleared could not be selected.");Re(this,e,"","deleteContentBackward")}async function jl(e,t){return ms.call(this,!0,e,t)}async function Nl(e,t){return ms.call(this,!1,e,t)}async function ms(e,t,n){if(!e&&!t.multiple)throw ke().getElementError("Unable to deselect an option in a non-multiple select. Use selectOptions to change the selection instead.",t);const o=Array.isArray(n)?n:[n],s=Array.from(t.querySelectorAll('option, [role="option"]')),i=o.map(l=>{if(typeof l!="string"&&s.includes(l))return l;{const d=s.find(u=>u.value===l||u.innerHTML===l);if(d)return d;throw ke().getElementError(`Value "${String(l)}" not found in options`,t)}}).filter(l=>!q(l));if(q(t)||!i.length)return;const a=l=>{l.selected=e,this.dispatchUIEvent(t,"input",{bubbles:!0,cancelable:!1,composed:!0}),this.dispatchUIEvent(t,"change")};if(h(t,"select"))if(t.multiple)for(const l of i){const d=this.config.pointerEventsCheck===0?!0:Ht(this,l);d&&(this.dispatchUIEvent(l,"pointerover"),this.dispatchUIEvent(t,"pointerenter"),this.dispatchUIEvent(l,"mouseover"),this.dispatchUIEvent(t,"mouseenter"),this.dispatchUIEvent(l,"pointermove"),this.dispatchUIEvent(l,"mousemove"),this.dispatchUIEvent(l,"pointerdown"),this.dispatchUIEvent(l,"mousedown")),Z(t),d&&(this.dispatchUIEvent(l,"pointerup"),this.dispatchUIEvent(l,"mouseup")),a(l),d&&this.dispatchUIEvent(l,"click"),await Me(this.config)}else if(i.length===1){const l=this.config.pointerEventsCheck===0?!0:Ht(this,t);l?await this.click(t):Z(t),a(i[0]),l&&(this.dispatchUIEvent(t,"pointerover"),this.dispatchUIEvent(t,"pointerenter"),this.dispatchUIEvent(t,"mouseover"),this.dispatchUIEvent(t,"mouseenter"),this.dispatchUIEvent(t,"pointerup"),this.dispatchUIEvent(t,"mouseup"),this.dispatchUIEvent(t,"click")),await Me(this.config)}else throw ke().getElementError("Cannot select multiple options on a non-multiple select",t);else if(t.getAttribute("role")==="listbox")for(const l of i)await this.click(l),await this.unhover(l);else throw ke().getElementError("Cannot select options on elements that are neither select nor listbox elements",t)}async function Tl(e,t,{skipClick:n=this.config.skipClick,skipAutoClose:o=this.config.skipAutoClose,initialSelectionStart:s,initialSelectionEnd:i}={}){e.disabled||(n||await this.click(e),s!==void 0&&Ze(e,s,i??s),await this.keyboard(t),o||await yl(this))}const hr=Symbol("files and value properties are mocked");function jn(e,t,n){n?Object.defineProperty(e,t,n):delete e[t]}function Il(e,t){var n;(n=e[hr])===null||n===void 0||n.restore();const o=Object.getOwnPropertyDescriptor(e,"type"),s=Object.getOwnPropertyDescriptor(e,"value"),i=Object.getOwnPropertyDescriptor(e,"files");function a(){jn(e,"type",o),jn(e,"value",s),jn(e,"files",i)}e[hr]={restore:a},Object.defineProperties(e,{files:{configurable:!0,get:()=>t},value:{configurable:!0,get:()=>t.length?`C:\\fakepath\\${t[0].name}`:"",set(l){if(l==="")a();else{var d;s==null||(d=s.set)===null||d===void 0||d.call(e,l)}}},type:{configurable:!0,get:()=>"file",set(l){l!=="file"&&(a(),e.type=l)}}})}async function Pl(e,t){const n=h(e,"label")?e.control:e;if(!n||!h(n,"input",{type:"file"}))throw new TypeError(`The ${n===e?"given":"associated"} ${n?.tagName} element does not accept file uploads`);if(q(e))return;const o=(Array.isArray(t)?t:[t]).filter(i=>!this.config.applyAccept||Al(i,n.accept)).slice(0,n.multiple?void 0:1),s=()=>{var i;o.length===((i=n.files)===null||i===void 0?void 0:i.length)&&o.every((a,l)=>{var d;return a===((d=n.files)===null||d===void 0?void 0:d.item(l))})||(Il(n,Do(U(e),o)),this.dispatchUIEvent(n,"input"),this.dispatchUIEvent(n,"change"))};n.addEventListener("fileDialog",s),await this.click(e),n.removeEventListener("fileDialog",s)}function Nt(e){return e.toLowerCase().replace(/(\.|\/)jpg\b/g,"$1jpeg")}function Al(e,t){if(!t)return!0;const n=["audio/*","image/*","video/*"];return Nt(t).trim().split(/\s*,\s*/).some(o=>o.startsWith(".")?Nt(e.name).endsWith(o):n.includes(o)?Nt(e.type).startsWith(o.replace("*","")):Nt(e.type)===o)}const mr={click:sl,dblClick:il,tripleClick:al,hover:ll,unhover:cl,tab:dl,keyboard:ml,copy:xl,cut:_l,paste:bl,pointer:wl,clear:kl,deselectOptions:Nl,selectOptions:jl,type:Tl,upload:Pl};function Dl(e){return ke().asyncWrapper(e)}const gs={applyAccept:!0,autoModify:!0,delay:0,document:globalThis.document,keyboardMap:Ka,pointerMap:Ga,pointerEventsCheck:Mt.EachApiCall,skipAutoClose:!1,skipClick:!1,skipHover:!1,writeToClipboard:!1,advanceTimers:()=>Promise.resolve()},Bl={...gs,writeToClipboard:!0};function ys(e={},t=Bl,n){const o=Ol(e,n,t);return{...t,...e,document:o}}function Ul(e={}){const t=ys(e);ss(t.document),rs(U(t.document).HTMLElement);var n;const o=(n=t.document.defaultView)!==null&&n!==void 0?n:globalThis.window;return Vi(o),Vo(t).api}function E({keyboardState:e,pointerState:t,...n}={},o){const s=ys(n,gs,o);ss(s.document),rs(U(s.document).HTMLElement);var i;const a=(i=t??e)!==null&&i!==void 0?i:new ds;return{api:Vo(s,a).api,system:a}}function Rl(e){return Vo({...this.config,...e},this.system).api}function Ml(e,t){function n(...o){return et(e,I.Call),Dl(()=>t.apply(e,o).then(async s=>(await Me(e.config),s)))}return Object.defineProperty(n,"name",{get:()=>t.name}),n}function Vo(e,t=new ds){const n={};return Object.assign(n,{config:e,dispatchEvent:os.bind(n),dispatchUIEvent:Ua.bind(n),system:t,levelRefs:{},...mr}),{instance:n,api:{...Object.fromEntries(Object.entries(mr).map(([o,s])=>[o,Ml(n,s)])),setup:Rl.bind(n)}}}function Ol(e,t,n){var o,s;return(s=(o=e.document)!==null&&o!==void 0?o:t&&Va(t))!==null&&s!==void 0?s:n.document}function Ll(e){return E().api.clear(e)}function Vl(e,t={}){return E(t,e).api.click(e)}function Fl(e={}){return E(e).api.copy()}function Hl(e={}){return E(e).api.cut()}function Wl(e,t={}){return E(t).api.dblClick(e)}function $l(e,t,n={}){return E(n).api.deselectOptions(e,t)}function Kl(e,t={}){return E(t).api.hover(e)}async function Gl(e,t={}){const{api:n,system:o}=E(t);return n.keyboard(e).then(()=>o)}async function ql(e,t={}){const{api:n,system:o}=E(t);return n.pointer(e).then(()=>o)}function Xl(e,t){return E(t).api.paste(e)}function zl(e,t,n={}){return E(n).api.selectOptions(e,t)}function Yl(e,t={}){return E(t).api.tripleClick(e)}function Ql(e,t,n={}){return E(n,e).api.type(e,t,n)}function Jl(e,t={}){const{api:n,system:o}=E(t);return o.pointer.setMousePosition({target:e}),n.unhover(e)}function Zl(e,t,n={}){return E(n).api.upload(e,t)}function ec(e={}){return E().api.tab(e)}const tc=Object.freeze(Object.defineProperty({__proto__:null,clear:Ll,click:Vl,copy:Fl,cut:Hl,dblClick:Wl,deselectOptions:$l,hover:Kl,keyboard:Gl,paste:Xl,pointer:ql,selectOptions:zl,tab:ec,tripleClick:Yl,type:Ql,unhover:Jl,upload:Zl},Symbol.toStringTag,{value:"Module"})),An={...tc,setup:Ul},{expect:O,findAllByText:nc,findByRole:gr,findByText:k,waitFor:me}=__STORYBOOK_MODULE_TEST__;async function oc(e,t,n){await me(async()=>{O(await k(e,"",{selector:"section"})).toBeVisible()});const o=await k(e,"",{selector:"main.delegation-ui"});O(o).toBeInTheDocument(),O(o).toBeVisible();const s=await k(o,"",{selector:"section.delegation-ui-content"});await t("Wait For Page Load",async()=>{await me(async()=>{const a=await gr(s,"table");O(a).toBeInTheDocument(),O(a).toBeVisible();const l=await k(a,"Total Stake",{selector:"th"});O(l).toBeInTheDocument(),O(l).toBeVisible()},{timeout:2e4})}),await t("Connect Account",async()=>{const a=await w(async()=>k(o,"Connect Wallet",{selector:"button"}));await w(async()=>n.click(a))}),await t("Sort By Rank",async()=>{const a=await w(async()=>k(o,"Total Stake",{selector:"th"}));await w(async()=>n.click(a)),await w(async()=>n.click(a))}),await t("Spawn New Delegation Modal",async()=>{const a=await w(async()=>nc(o,"Delegate",{selector:"td > button"})),[l]=a;await w(async()=>n.click(l)),await me(async()=>{const d=await k(o,"",{selector:"dialog.staking-modal"});O(d).toBeInTheDocument()})});const i=await w(async()=>k(o,"",{selector:"dialog.staking-modal"}));await t("Enter Delegation Amount",async()=>{const a=await w(async()=>gr(i,"textbox"));await w(async()=>An.click(a)),await w(async()=>An.type(a,"100")),await me(async()=>{O(await k(i,"Approve",{selector:"button"})).toBeEnabled()})}),await t("Approve Allowance",async()=>{if(await w(async()=>{try{return Fs(i,"Approved",{selector:"button"})}catch{return null}}))return;const l=await w(async()=>k(i,"Approve",{selector:"button"}));await w(async()=>n.click(l)),await me(async()=>{await k(i,"Confirm Delegation")},{timeout:24e3})}),await t("Delegate Funds",async()=>{const a=await w(async()=>k(i,"Delegate",{selector:"button"}));await w(async()=>n.click(a)),await me(async()=>{await k(i,"Delegation successful"),await k(i,"Close",{selector:"button"})},{timeout:24e3})}),await t("Close Modal",async()=>{const a=await w(async()=>k(i,"Close",{selector:"button"}));await w(async()=>n.click(a)),await me(async()=>{O(i).not.toBeVisible()})})}async function rc(e,t){const n=An.setup();await t("New Delegation",async({canvasElement:o,step:s})=>{await oc(o,s,n)})}const Wt=c.createContext(new Map),Dn=({children:e})=>{const t=c.useContext(We),n=new Map(S(t?.nodes??hn(),o=>[o.nodeText,o]));return r.jsx(Wt.Provider,{value:n,children:e})};try{Wt.displayName="CurrentDelegationsContext",Wt.__docgenInfo={description:`CurrentDelegationsContext provides a React Context
for the current map of validators with whom we are currently delegated.`,displayName:"CurrentDelegationsContext",props:{}}}catch{}try{Dn.displayName="DeriveCurrentDelegations",Dn.__docgenInfo={description:`DeriveCurrentDelegations is a React Component that
derives the current mapping of all of the current wallet's delegations.`,displayName:"DeriveCurrentDelegations",props:{}}}catch{}const te=c.createContext(new Map),Bn=({children:e})=>{const t=c.useContext(We),n=new Map(S(t?.pendingExits??hn(),o=>[o.nodeText,o]));return r.jsx(te.Provider,{value:n,children:e})};try{te.displayName="PendingExitsContext",te.__docgenInfo={description:`PendingExitsContext provides a React Context
for the current map of validators who have exited, and your pending amount`,displayName:"PendingExitsContext",props:{}}}catch{}try{Bn.displayName="DerivePendingExits",Bn.__docgenInfo={description:`DerivePendingExits is a React Component that
derives the current mapping of all of the pending exits for the
current wallet.`,displayName:"DerivePendingExits",props:{}}}catch{}const ne=c.createContext(new Map),Un=({children:e})=>{const t=c.useContext(We),n=new Map(S(t?.pendingUndelegations??hn(),o=>[o.nodeText,o]));return r.jsx(ne.Provider,{value:n,children:e})};try{ne.displayName="PendingUndelegationsContext",ne.__docgenInfo={description:`PendingUndelegationsContext provides a React Context
for the current map of validators with whom we have undelegated already.`,displayName:"PendingUndelegationsContext",props:{}}}catch{}try{Un.displayName="DerivePendingUndelegations",Un.__docgenInfo={description:`DerivePendingUndelegations is a React Component that
derives the current mapping of all of the pending undelegations for the
current wallet.`,displayName:"DerivePendingUndelegations",props:{}}}catch{}const it=c.createContext(0n),Rn=({children:e})=>r.jsx(sc,{children:e}),sc=({children:e})=>{const t=c.useContext(T),n=vt((o,s)=>o+s.stake,0n,t?.nodes??hn());return r.jsx(it.Provider,{value:n,children:e})};try{it.displayName="TotalStakeContext",it.__docgenInfo={description:`TotalStakeContext provides a React Context
for the total stake of all validators.`,displayName:"TotalStakeContext",props:{}}}catch{}try{Rn.displayName="DeriveTotalStake",Rn.__docgenInfo={description:`DeriveTotalStake is a component that Provides the TotalStakeContext
by calculating the total stake from the AllValidatorsContext.`,displayName:"DeriveTotalStake",props:{}}}catch{}const $t=c.createContext(null),yr=c.createContext(_i.nothing()),Mn=({children:e})=>r.jsx(On,{children:e}),On=({children:e})=>{c.useContext(Hs);const t=c.useContext(Ci),n=t?t.totalSupply():xi;return r.jsx(bi,{promise:n,children:r.jsx(ic,{children:e})})},ic=({children:e})=>{const t=c.useContext(xt)??null;return r.jsx($t.Provider,{value:t,children:e})};try{$t.displayName="TotalSupplyContext",$t.__docgenInfo={description:`TotalSupplyContext provides a React Context
for the total supply of the ESP token.`,displayName:"TotalSupplyContext",props:{}}}catch{}try{yr.displayName="TotalSupplyAsyncSnapshotContext",yr.__docgenInfo={description:"",displayName:"TotalSupplyAsyncSnapshotContext",props:{}}}catch{}try{Mn.displayName="ProvideTotalSupply",Mn.__docgenInfo={description:`ProvideTotalSupply is a React component that fetches
the total supply of the ESP token from the blockchain
and provides it via TotalSupplyContext.`,displayName:"ProvideTotalSupply",props:{}}}catch{}try{On.displayName="ProvideTotalSupplyFromContractCall",On.__docgenInfo={description:`ProvideTotalSupplyFromAPICall is a React component that fetches
the total supply of the ESP token from the local ESPTokenContract
and provides it via TotalSupplyContext.`,displayName:"ProvideTotalSupplyFromContractCall",props:{}}}catch{}const ac=e=>c.createElement(_t,{...e,className:X(e.className,"stroked")},r.jsxs(r.Fragment,{children:[r.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),r.jsx("polyline",{points:"16 17 21 12 16 7"}),r.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}));try{logout.displayName="logout",logout.__docgenInfo={description:"LogOut represents a logout icon.",displayName:"logout",props:{}}}catch{}const Ln=e=>c.createElement(_t,{...e,className:X(e.className,"stroked")},r.jsxs("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-plus",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}));try{plus.displayName="plus",plus.__docgenInfo={description:"Plus represents a plus sign.",displayName:"plus",props:{}}}catch{}const Vn=()=>{const e=c.useContext(To),t=c.useContext(ye);return t?r.jsxs("span",{className:"wallet-connected-container",children:[r.jsx("span",{className:"wallet-address-preview",children:r.jsx(Ei,{value:new ki(y.decode(t))})}),"Â ",r.jsxs(P,{className:"connect-wallet connected-wallet",onClick:e.openAccountModal,children:[r.jsx("span",{className:"disconnect-label",children:r.jsx(f,{text:"Disconnect"})}),r.jsx(ac,{})]})]}):r.jsxs(P,{className:"connect-wallet",onClick:e.openConnectModal,children:[r.jsx(Ln,{}),r.jsx(f,{text:"Connect Wallet"})]})};try{Vn.displayName="ConnectWalletButton",Vn.__docgenInfo={description:`ConnectWalletButton is a button that will open the RainbowKit Wallet Connect
Modal when pressed.`,displayName:"ConnectWalletButton",props:{}}}catch{}const Fn=e=>r.jsxs("header",{className:"delegation",...e,children:[r.jsx(Si,{}),r.jsx(Vn,{})]});try{Fn.displayName="DelegationHeader",Fn.__docgenInfo={description:"DelegationHeader is the header component for the Delegation UI page.",displayName:"DelegationHeader",props:{}}}catch{}var _e=(e=>(e[e.all=0]="all",e[e.myStakes=1]="myStakes",e))(_e||{});const Oe=c.createContext(0),Kt=c.createContext(()=>{}),Hn=({children:e})=>{const[t,n]=c.useState(0);return r.jsx(Oe.Provider,{value:t,children:r.jsx(Kt.Provider,{value:n,children:e})})};try{_e.displayName="Sections",_e.__docgenInfo={description:"Sections enum defines the different sections available in the Delegation UI.",displayName:"Sections",props:{}}}catch{}try{Oe.displayName="CurrentSectionContext",Oe.__docgenInfo={description:`CurrentSectionContext is a React context that holds the current section
being viewed in the Delegation UI.`,displayName:"CurrentSectionContext",props:{}}}catch{}try{Kt.displayName="SetCurrentSectionContext",Kt.__docgenInfo={description:`SetCurrentSectionContext is a React context that holds a setter function
to update the current section being viewed in the Delegation UI.`,displayName:"SetCurrentSectionContext",props:{}}}catch{}try{Hn.displayName="ProvideSectionSelection",Hn.__docgenInfo={description:`ProvideSectionSelection is a React component that provides the current
section selection context to its children.`,displayName:"ProvideSectionSelection",props:{}}}catch{}const at=c.createContext(!1),Gt=c.createContext(()=>{}),Wn=({children:e})=>{const[t,n]=c.useState(!1);return r.jsx(at.Provider,{value:t,children:r.jsx(Gt.Provider,{value:n,children:e})})};try{at.displayName="OnlyShowTop100Context",at.__docgenInfo={description:`OnlyShowTop100Context is a React context that holds a boolean value
indicating whether only the top 100 entries should be shown.`,displayName:"OnlyShowTop100Context",props:{}}}catch{}try{Gt.displayName="SetOnlyShowTop100Context",Gt.__docgenInfo={description:`SetOnlyShowTop100Context is a React context that holds a setter function
to update the boolean value indicating whether only the top 100 entries
should be shown.`,displayName:"SetOnlyShowTop100Context",props:{}}}catch{}try{Wn.displayName="ProvideShowTop100Filter",Wn.__docgenInfo={description:`ProvideShowTop100Filter is a React component that provides the context
for filtering to show only the top 100 entries.`,displayName:"ProvideShowTop100Filter",props:{}}}catch{}const be=e=>r.jsx("div",{className:"value",children:e.children});try{be.displayName="CardContentValue",be.__docgenInfo={description:"CardContentValue is a container for the main value displayed in a card.",displayName:"CardContentValue",props:{}}}catch{}const $n=e=>r.jsx("div",{className:X(e.className,"bcard"),children:e.children});try{$n.displayName="Card",$n.__docgenInfo={description:"Card component for displaying content in a card layout.",displayName:"Card",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Ce=e=>r.jsx($n,{className:X(e.className,"card-value"),children:e.children});try{Ce.displayName="CardValue",Ce.__docgenInfo={description:"",displayName:"CardValue",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Kn=()=>{const e=c.useContext(wr);return r.jsxs(Ce,{className:"estimated-apr-card",children:[r.jsx("h2",{children:r.jsx(f,{text:"Available Balance"})}),r.jsx(be,{children:r.jsx(Ie,{money:Pe.ESP(e)})})]})};try{Kn.displayName="AvailableBalanceCard",Kn.__docgenInfo={description:`AvailableBalanceCard is a component that displays the Available Balance of
the active Wallet.`,displayName:"AvailableBalanceCard",props:{}}}catch{}const Gn=()=>{const e=c.useContext(Sr),t=c.useContext(Er)??0n,n=(e?.lifetimeRewards??t)-t;return r.jsxs(Ce,{className:"claimable-rewards-card",children:[r.jsx("h2",{children:r.jsx(f,{text:"Claimable Rewards"})}),r.jsx(qt,{children:r.jsx(f,{text:"Claim All"})}),r.jsx(be,{children:r.jsx(Ie,{money:Pe.ESP(n)})})]})},qt=({children:e})=>{const t=c.useContext(Sr),n=c.useContext(Er)??0n,o=(t?.lifetimeRewards??n)-n,s=c.useContext(yt),i=c.useContext(un);return o<=0n?r.jsx(P,{className:"action",disabled:!0,children:e}):r.jsx(P,{className:"action",onClick:()=>{i(new Ws),s.open()},children:e})};try{Gn.displayName="ClaimableRewardsCard",Gn.__docgenInfo={description:`ClaimableRewardsCard is a component that displays the Claimable Rewards
amount.

This is meant to represent the total amount of ESP that can be claimed as
rewards by the active wallet.`,displayName:"ClaimableRewardsCard",props:{}}}catch{}try{qt.displayName="ClaimAllButton",qt.__docgenInfo={description:"",displayName:"ClaimAllButton",props:{}}}catch{}const qn=()=>{const e=c.useContext(wr);return r.jsxs(Ce,{className:"estimated-apr-card",children:[r.jsx("h2",{children:r.jsx(f,{text:"Total Balance"})}),r.jsx(be,{children:r.jsx(Ie,{money:Pe.ESP(e)})})]})};try{qn.displayName="TotalBalanceCard",qn.__docgenInfo={description:`TotalBalanceCard is a component that displays the Total Balance of the
active Wallet.

Total Balance is defined as the sum of the Available Balance and the
Staked Balance.`,displayName:"TotalBalanceCard",props:{}}}catch{}const Xn=()=>{const e=c.useContext(We);if(!e)return r.jsxs(Ce,{className:"estimated-apr-card",children:[r.jsx("h2",{children:r.jsx(f,{text:"Total Staked"})}),r.jsx(be,{children:r.jsx(Ie,{money:Pe.ESP(0n)})})]});const t=vt((n,o)=>n+o.amount,0n,e.nodes);return r.jsxs(Ce,{className:"estimated-apr-card",children:[r.jsx("h2",{children:r.jsx(f,{text:"Total Staked"})}),r.jsx(be,{children:r.jsx(Ie,{money:Pe.ESP(t)})})]})};try{Xn.displayName="TotalStakedCard",Xn.__docgenInfo={description:`TotalStakedCard is a component that displays the Total Staked amount.

This is meant to represent the total amount of ESP that has been staked by
the active wallet.`,displayName:"TotalStakedCard",props:{}}}catch{}const zn=()=>c.useContext(ye)?r.jsxs("section",{className:"my-balance",children:[r.jsx("h2",{children:r.jsx(f,{text:"My Balance"})}),r.jsxs("div",{className:"my-balance-stats",children:[r.jsx(qn,{}),r.jsx(Kn,{}),r.jsx(Xn,{}),r.jsx(Gn,{})]}),r.jsx(qt,{children:r.jsx(f,{text:"Claim All Rewards"})})]}):null;try{zn.displayName="MyBalance",zn.__docgenInfo={description:"",displayName:"MyBalance",props:{}}}catch{}const Le=({children:e})=>r.jsx("div",{className:"network-stat-value",children:e});try{Le.displayName="NetworkStatValue",Le.__docgenInfo={description:"",displayName:"NetworkStatValue",props:{}}}catch{}const Yn=()=>{const e=c.useContext(it),t=c.useContext($t);return r.jsxs(Le,{children:[r.jsx("h2",{children:r.jsx(f,{text:"Currently Staked"})}),r.jsx(Se,{percentage:Number(e)/Number(t)})]})};try{Yn.displayName="CurrentlyStaked",Yn.__docgenInfo={description:"",displayName:"CurrentlyStaked",props:{}}}catch{}function lc(e){return e!=null}function cc(e){const t=e<0?-1:1,n=Math.floor(e/1e3),o=Math.floor(n/60);return[Math.floor(o/60),o%60,n%60].map(i=>i*t)}const Qn=e=>{const t=Is.useContext(Ai),[n,o,s]=cc(e.durationInMilliseconds),i=[t.hours.format(n),t.minutes.format(o),t.seconds.format(s)].filter(lc);return r.jsx(f,{text:i.join(" ")})};try{timelefttext.displayName="timelefttext",timelefttext.__docgenInfo={description:`TimeLeftText displays the duration specified in terms of the total number
of hours, minutes, and seconds that comprise the total milliseconds provided.`,displayName:"timelefttext",props:{durationInMilliseconds:{defaultValue:null,description:"",name:"durationInMilliseconds",required:!0,type:{name:"number"}}}}}catch{}const Jn=()=>{const e=c.useContext(Br),t=c.useContext(kr);if(t==null)return r.jsxs(Le,{children:[r.jsxs("h2",{children:[r.jsx(f,{text:"Epoch"}),"Â ",r.jsx("span",{className:"accent",children:r.jsx(f,{text:"-"})}),"Â ",r.jsx(f,{text:"ends in"})]}),r.jsx(f,{text:"-"})]});const n=t.espressoBlock,o=n.block,s=n.blocksPerEpoch,i=o%s,a=s-i,l=Number(a)*6*1e3;return r.jsxs(Le,{children:[r.jsxs("h2",{children:[r.jsx(f,{text:"Epoch"}),"Â ",r.jsx("span",{className:"accent",title:e.default.format(n.block),children:r.jsx(Di,{number:t?.espressoBlock.epoch??0n})}),"Â ",r.jsx(f,{text:"ends in"})]}),r.jsx(Qn,{durationInMilliseconds:l})]})};try{Jn.displayName="EpochEndsIn",Jn.__docgenInfo={description:"",displayName:"EpochEndsIn",props:{}}}catch{}const Zn=()=>r.jsxs(Le,{children:[r.jsx("h2",{children:r.jsx(f,{text:"Estimated APR"})}),r.jsx(Se,{percentage:.035})]});try{Zn.displayName="EstimatedAPR",Zn.__docgenInfo={description:`EstimatedAPRCard displays the estimated annual percentage rate (APR).
The APR is currently hardcoded to 3.5%.`,displayName:"EstimatedAPR",props:{}}}catch{}const eo=()=>r.jsxs("div",{className:"network-stats",children:[r.jsx("h1",{children:r.jsx(f,{text:"ESP Delegation"})}),r.jsxs("div",{className:"network-stats-grid",children:[r.jsx(Yn,{}),r.jsx(Zn,{}),r.jsx(Jn,{})]})]});try{eo.displayName="NetworkStats",eo.__docgenInfo={description:"NetworkStats component displays key statistics about the chain.",displayName:"NetworkStats",props:{}}}catch{}const to=({value:e,disabled:t,onChange:n,...o})=>r.jsx("input",{type:"checkbox",className:"bswitch",checked:e,disabled:t,onChange:s=>{n&&n(s.target.checked)},...o});try{to.displayName="BaseSwitch",to.__docgenInfo={description:`BaseSwitch is a simple switch component that represents a boolean value.
It is implemented via a checkbox input element.`,displayName:"BaseSwitch",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((checked: boolean) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}const no=()=>{const e=c.useContext(at),t=c.useContext(Gt);return r.jsxs("span",{className:"only-top-100-filter",children:[r.jsx("label",{htmlFor:"show-top-100",children:r.jsx(f,{text:"Only show top 100"})}),r.jsx(to,{id:"show-top-100",value:e,onChange:t})]})};try{no.displayName="OnlyTop100Filter",no.__docgenInfo={description:`OnlyTop100Filter is a React context provider for the "only show top 100"
filter.`,displayName:"OnlyTop100Filter",props:{}}}catch{}const vs=e=>c.createElement(_t,{...e,className:X(e.className,"stroked")},r.jsxs("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-unlock",children:[r.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),r.jsx("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"})]}));try{unlock.displayName="unlock",unlock.__docgenInfo={description:"Unlock represents an open Lock.",displayName:"unlock",props:{}}}catch{}const ie=e=>c.createElement(_t,{...e,className:X(e.className,"stroked")},r.jsx("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-check-circle",children:r.jsx("polyline",{points:"6 9 12 15 18 9"})}));try{chevrondown.displayName="chevrondown",chevrondown.__docgenInfo={description:"ChevronDown represents a downward pointing chevron arrow.",displayName:"chevrondown",props:{}}}catch{}var $=(e=>(e[e.collapsed=0]="collapsed",e[e.expanded=1]="expanded",e))($||{});const Ve=c.createContext(0),lt=c.createContext(()=>{});function dc(e=0){const[t,n]=c.useState(e);return[t,n]}const Xt=({children:e})=>{const[t,n]=dc();return r.jsx(Ve.Provider,{value:t,children:r.jsx(lt.Provider,{value:n,children:e})})};try{Ve.displayName="CollapseStateContext",Ve.__docgenInfo={description:`CollapseStateContext provides a React Context that represents the current
collapse state of a UI element.`,displayName:"CollapseStateContext",props:{}}}catch{}try{lt.displayName="SetCollapseStateContext",lt.__docgenInfo={description:`SetCollapseStateContext provides a React Context that represents the setter
function to update the current collapse state of a UI element.`,displayName:"SetCollapseStateContext",props:{}}}catch{}try{Xt.displayName="ProvideCollapseState",Xt.__docgenInfo={description:`ProvideCollapseState is a React Component that defines a collapse state,
and provides contexts for reading, and setting it.`,displayName:"ProvideCollapseState",props:{}}}catch{}const zt=({children:e,className:t,...n})=>r.jsx(Xt,{children:r.jsx(uc,{className:t,...n,children:e})}),uc=({children:e,className:t,...n})=>{const o=c.useRef(null),s=c.useContext(Ve),i=c.useContext(lt);return r.jsx("details",{ref:o,className:X(t,"collapsable-section"),...n,open:s===$.expanded,onToggle:a=>{if(a.stopPropagation(),a.preventDefault(),a.newState==="open"){i($.expanded);return}i($.collapsed)},children:e})},Yt=({children:e})=>r.jsxs("summary",{className:"collapsable-header",children:[e,r.jsx(fc,{})]});function pc(e){switch(e){case $.collapsed:return $.expanded;case $.expanded:return $.collapsed}}const fc=()=>{const e=c.useContext(Ve),t=c.useContext(lt);return r.jsxs(P,{className:"bbtn-collapse-toggle",onClick:()=>t(pc(e)),children:[r.jsx("span",{children:r.jsx(f,{text:e?"Collapse":"Expand"})}),r.jsx(ie,{})]})},Qt=({children:e})=>c.useContext(Ve)===$.collapsed?null:e;try{zt.displayName="CollapsableSection",zt.__docgenInfo={description:"",displayName:"CollapsableSection",props:{}}}catch{}try{Yt.displayName="CollapsableHeader",Yt.__docgenInfo={description:"",displayName:"CollapsableHeader",props:{}}}catch{}try{Qt.displayName="CollapseGuard",Qt.__docgenInfo={description:"",displayName:"CollapseGuard",props:{}}}catch{}var g=(e=>(e[e.rank=0]="rank",e[e.validator=1]="validator",e[e.totalStake=2]="totalStake",e[e.fee=3]="fee",e[e.missedSlots=4]="missedSlots",e[e.participationRate=5]="participationRate",e[e.hotShotConsensus=6]="hotShotConsensus",e))(g||{}),oo=(e=>(e[e.asc=0]="asc",e[e.desc=1]="desc",e))(oo||{});const ct=c.createContext({sortBy:()=>{}}),dt=c.createContext({sortBy:2,sortDirection:1}),ro=()=>{const[e,t]=c.useState({sortBy:2,sortDirection:1});return{tableState:e,tableControls:{sortBy:o=>{t(s=>{if(s.sortBy!==o)return{...s,sortBy:o};switch(s.sortDirection){case 0:return{...s,sortDirection:1};case 1:return{...s,sortDirection:0}}})}}}};function hc(e,t){return e[1]-t[1]}function mc(e,t){return b(e[0].address,t[0].address)}function gc(e,t){return Number(e[0].commission.valueOf()-t[0].commission.valueOf())}function yc(e,t){const n=e[2]?.leaderParticipation?.ratio??-1,o=t[2]?.leaderParticipation?.ratio??-1;return n-o}function vc(e,t){const n=e[2]?.voterParticipation?.ratio??-1,o=t[2]?.voterParticipation?.ratio??-1;return n-o}function xc(e,t){return+!!e[2]-+!!t[2]}function _c(e,t){return Number(e[0].stake-t[0].stake)}function bc(e){switch(e){case 0:return hc;case 1:return mc;case 2:return _c;case 3:return gc;case 4:return yc;case 5:return vc;case 6:return xc;default:throw new bt}}function Cc(e){switch(e){case 0:return t=>t;case 1:return t=>(n,o)=>-t(n,o)}}function wc(e,t,n,o){if(!e)return e;const{sortBy:s,sortDirection:i}=t,l=Cc(i)(bc(s));return new we(e.l1Block,e.nodes.map(d=>{const u=d.addressText;return[d,n.get(u)??Number.MAX_SAFE_INTEGER,o.get(u)??null]}).sort(l).map(d=>d[0]))}const ut=e=>{const{tableState:t,tableControls:n}=ro(),o=c.useContext(T),s=c.useContext($s),i=c.useContext(pn),a=wc(o,t,s,i);return r.jsx(T.Provider,{value:a,children:r.jsx(dt.Provider,{value:t,children:r.jsx(ct.Provider,{value:n,children:e.children})})})};try{g.displayName="CellType",g.__docgenInfo={description:`CellType enumerates the different types of columns that can be
sorted in the validator table.`,displayName:"CellType",props:{}}}catch{}try{oo.displayName="SortDirection",oo.__docgenInfo={description:"SortDirection enumerates the possible directions for sorting the table.",displayName:"SortDirection",props:{}}}catch{}try{ct.displayName="TableSortControlsContext",ct.__docgenInfo={description:"",displayName:"TableSortControlsContext",props:{}}}catch{}try{dt.displayName="TableSortStateContext",dt.__docgenInfo={description:"",displayName:"TableSortStateContext",props:{}}}catch{}try{ro.displayName="useValidatorTableSortState",ro.__docgenInfo={description:`useValidatorTableSortState is a custom hook that manages the sorting state
for the validator table, providing the current state and controls to modify
it.`,displayName:"useValidatorTableSortState",props:{}}}catch{}try{ut.displayName="ValidatorTableSortStateProvider",ut.__docgenInfo={description:`ValidatorTableSortStateProvider is a context provider that manages
the sorting state for the validator table and provides sorted validator
data to its children.`,displayName:"ValidatorTableSortStateProvider",props:{}}}catch{}const Jt=()=>r.jsx(r.Fragment,{});try{Jt.displayName="ActionsHeadCell",Jt.__docgenInfo={description:`ActionsHeadCell is the header cell for the actions to take in the
validator table.`,displayName:"ActionsHeadCell",props:{}}}catch{}const Ee=e=>c.createElement(_t,{...e,viewBox:"0 0 12 12",className:X(e.className,"stroked")},r.jsxs(r.Fragment,{children:[r.jsx("path",{d:"M9.25 7.75049L6 11.0005L2.75 7.75049",strokeWidth:"1.5"}),r.jsx("path",{d:"M9.25 4.25049L6 1.00049L2.75 4.25049",strokeWidth:"1.5"})]}));try{verticalscroll.displayName="verticalscroll",verticalscroll.__docgenInfo={description:"VerticalScroll represents a vertical scroll icon.",displayName:"verticalscroll",props:{}}}catch{}const Zt=()=>r.jsxs(r.Fragment,{children:[r.jsx(f,{text:"Commission Rate"}),"Â ",r.jsx(Ee,{}),r.jsx(ie,{})]});try{Zt.displayName="FeeHeadCell",Zt.__docgenInfo={description:"FeeHeadCell is the header cell for the Fee column in the validator table.",displayName:"FeeHeadCell",props:{}}}catch{}const en=()=>r.jsxs(r.Fragment,{children:[r.jsx(f,{text:"Consensus"}),"Â ",r.jsx(Ee,{}),r.jsx(ie,{})]});try{en.displayName="HotShotConsensusHeadCell",en.__docgenInfo={description:`HotShotConsensusHeadCell is the header cell for the HotShot Consensus
column in the validator table.`,displayName:"HotShotConsensusHeadCell",props:{}}}catch{}const tn=()=>r.jsxs(r.Fragment,{children:[r.jsx(f,{text:"Missed Slots"}),"Â ",r.jsx(Ee,{}),r.jsx(ie,{})]});try{tn.displayName="MissedSlotsHeadCell",tn.__docgenInfo={description:`MissedSlotsHeadCell is the header cell for the Missed Slots column in the
validator table.`,displayName:"MissedSlotsHeadCell",props:{}}}catch{}const nn=()=>r.jsxs(r.Fragment,{children:[r.jsx(f,{text:"Participation"}),"Â ",r.jsx(Ee,{}),r.jsx(ie,{})]});try{nn.displayName="ParticipationRateHeadCell",nn.__docgenInfo={description:`ParticipationRateHeadCell is the header cell for the Participation Rate
column in the validator table.`,displayName:"ParticipationRateHeadCell",props:{}}}catch{}const on=()=>r.jsxs(r.Fragment,{children:[r.jsx(f,{text:"Rank"}),"Â ",r.jsx(Ee,{}),r.jsx(ie,{})]});try{on.displayName="RankHeadCell",on.__docgenInfo={description:"RankHeadCell is the header cell for the Rank column in the validator table.",displayName:"RankHeadCell",props:{}}}catch{}const rn=()=>r.jsxs(r.Fragment,{children:[r.jsx(f,{text:"Total Stake"}),"Â ",r.jsx(Ee,{}),r.jsx(ie,{})]});try{rn.displayName="TotalStakeHeadCell",rn.__docgenInfo={description:`TotalStakeHeadCell is the header cell for the Total Stake column in the
validator table.`,displayName:"TotalStakeHeadCell",props:{}}}catch{}const sn=()=>r.jsxs(r.Fragment,{children:[r.jsx(f,{text:"Validator"}),"Â ",r.jsx(Ee,{}),r.jsx(ie,{})]});try{sn.displayName="ValidatorHeadCell",sn.__docgenInfo={description:`ValidatorHeadCell is the header cell for the Validator column in the
validator table.`,displayName:"ValidatorHeadCell",props:{}}}catch{}const an=()=>{const{sortBy:e}=c.useContext(ct),{sortDirection:t,sortBy:n}=c.useContext(dt);return r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"sortable","data-sort-column":n===g.rank?t:void 0,onClick:()=>e(g.rank),children:r.jsx(on,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.validator?t:void 0,onClick:()=>e(g.validator),children:r.jsx(sn,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.totalStake?t:void 0,onClick:()=>e(g.totalStake),children:r.jsx(rn,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.fee?t:void 0,onClick:()=>e(g.fee),children:r.jsx(Zt,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.missedSlots?t:void 0,onClick:()=>e(g.missedSlots),children:r.jsx(tn,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.participationRate?t:void 0,onClick:()=>e(g.participationRate),children:r.jsx(nn,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.hotShotConsensus?t:void 0,onClick:()=>e(g.hotShotConsensus),children:r.jsx(en,{})}),r.jsx("th",{children:r.jsx(Jt,{})})]})})};try{an.displayName="ClaimsDelegationTableHeader",an.__docgenInfo={description:`ClaimsDelegationTableHeader is a component that renders
the header row of the delegation table with sortable columns.`,displayName:"ClaimsDelegationTableHeader",props:{}}}catch{}const Fe=()=>{const e=c.useContext(D),t=c.useContext(pn),n=e.addressText;return t.has(n)?r.jsx(Ks,{}):r.jsx(Gs,{})};try{Fe.displayName="HotShotConsensusCell",Fe.__docgenInfo={description:`HotShotConsensusCell displays whether a validator is part of the
HotShot consensus set using active/inactive consensus chips.`,displayName:"HotShotConsensusCell",props:{}}}catch{}const pt=()=>r.jsxs(r.Fragment,{children:["#",r.jsx(gn,{}),r.jsx(yn,{}),r.jsx(Fe,{})]});try{pt.displayName="CombinedDetailsCell",pt.__docgenInfo={description:`CombinedDetailsCell combines multiple details about a validator node
into a single cell for display in the validator nodes table.`,displayName:"CombinedDetailsCell",props:{}}}catch{}const ft=()=>{const e=c.useContext(D);return r.jsx(Se,{percentage:e.commission.valueOf()})};try{ft.displayName="FeeCell",ft.__docgenInfo={description:"FeeCell displays the commission fee of a validator as a percentage.",displayName:"FeeCell",props:{}}}catch{}const ln=({rate:e})=>{const n=c.useContext(Br).default;return r.jsx("span",{title:`${n.format(e.numerator)} / ${n.format(e.denominator)}`,children:r.jsx(Se,{percentage:e.ratio})})};try{ln.displayName="RatioRationalText",ln.__docgenInfo={description:`RatioRationalText is a component that displays a RatioRational
as a percentage, with a tooltip showing the exact fraction.`,displayName:"RatioRationalText",props:{rate:{defaultValue:null,description:"",name:"rate",required:!0,type:{name:"RatioRational"}}}}}catch{}const ht=()=>{const e=c.useContext(D),n=c.useContext(pn).get(e.addressText);if(!n||n.leaderParticipation==null)return r.jsx(f,{text:"-"});const o=n.leaderParticipation,s=o.ratio;return!Number.isFinite(s)||Number.isNaN(s)?r.jsx(f,{text:"-"}):o instanceof R?r.jsx(ln,{rate:o.oneMinus()}):r.jsx(Se,{percentage:1-s})};try{ht.displayName="MissedSlotsCell",ht.__docgenInfo={description:"MissedSlotsCell displays the percentage of missed slots for a validator.",displayName:"MissedSlotsCell",props:{}}}catch{}const mt=()=>{const e=c.useContext(D),n=c.useContext(pn).get(e.addressText);if(!n||n.voterParticipation==null)return r.jsx(f,{text:"-"});const o=n.voterParticipation,s=o.ratio;return!Number.isFinite(s)||Number.isNaN(s)?r.jsx(f,{text:"-"}):o instanceof R?r.jsx(ln,{rate:o}):r.jsx(Se,{percentage:n.voterParticipation.ratio})};try{mt.displayName="ParticipationRateCell",mt.__docgenInfo={description:"ParticipationRateCell displays the voter participation rate for a validator.",displayName:"ParticipationRateCell",props:{}}}catch{}const so=()=>{const e=c.useContext(D),t=c.useContext(yt),n=c.useContext(un);return r.jsx(P,{className:"action",onClick:()=>{n(new qs(e.address)),t.open()},children:r.jsx(f,{text:"Withdraw"})})};try{so.displayName="PendingClaimActionsCell",so.__docgenInfo={description:"",displayName:"PendingClaimActionsCell",props:{}}}catch{}const gt=()=>{const e=c.useContext(it),t=c.useContext(D),n=Number(t.stake)/Number(e);return r.jsxs("span",{children:[r.jsx(Ie,{money:Pe.ESP(t.stake)}),"Â ",r.jsxs("span",{className:"percentage-text",children:["(",r.jsx(Se,{percentage:n}),")"]})]})};try{gt.displayName="TotalStakeCell",gt.__docgenInfo={description:`TotalStakeCell displays the stake amount for a validator node, along with its
percentage of the total stake.`,displayName:"TotalStakeCell",props:{}}}catch{}const io=()=>r.jsxs("tr",{children:[r.jsx("td",{className:"combined-details-cell",children:r.jsx(pt,{})}),r.jsx("td",{children:r.jsx(gn,{})}),r.jsx("td",{children:r.jsx(yn,{})}),r.jsx("td",{children:r.jsx(gt,{})}),r.jsx("td",{children:r.jsx(ft,{})}),r.jsx("td",{children:r.jsx(ht,{})}),r.jsx("td",{children:r.jsx(mt,{})}),r.jsx("td",{children:r.jsx(Fe,{})}),r.jsx("td",{children:r.jsx(so,{})})]});try{io.displayName="PendingClaimsNodeValidatorTableRow",io.__docgenInfo={description:`PendingClaimsNodeValidatorTableRow is a component that represents a single
row in the validator nodes table, displaying various details about the validator.`,displayName:"PendingClaimsNodeValidatorTableRow",props:{}}}catch{}const ao=()=>{const e=c.useContext(T);return e?r.jsxs("table",{className:"all-validators-table pending-claims",children:[r.jsx(an,{}),r.jsx("tbody",{children:e.nodes.map((t,n)=>r.jsx(D.Provider,{value:t,children:r.jsx(io,{})},n))})]}):r.jsx(r.Fragment,{})};try{ao.displayName="PendingClaimsDelegationTable",ao.__docgenInfo={description:`PendingClaimsDelegationTable is a component that renders
the table of validator nodes in the delegation UI for Pending Claims`,displayName:"PendingClaimsDelegationTable",props:{}}}catch{}const lo=()=>r.jsx(Sc,{children:r.jsx(Xt,{children:r.jsx(kc,{})})}),Sc=({children:e})=>c.useContext(ne).size<=0?null:r.jsx(Ec,{children:e}),Ec=({children:e})=>{const t=c.useContext(dn),n=c.useContext(ne);return A(n.values(),s=>s.availableTime<=t).next().done?null:e},kc=()=>r.jsxs(zt,{className:"pending-claims",children:[r.jsxs(Yt,{children:[r.jsx(vs,{}),r.jsx("h2",{children:r.jsx(f,{text:"Your recently unstaked your delegation.  You can claim back your delegation now."})})]}),r.jsx(Qt,{children:r.jsx(Nc,{})})]});function jc(e,t){return e?new we(e.l1Block,Array.from(A(e.nodes,n=>t.has(n.addressText)))):null}const Nc=()=>{const e=c.useContext(ne),t=c.useContext(T);return r.jsx(T.Provider,{value:jc(t,e),children:r.jsx(ut,{children:r.jsx(ao,{})})})};try{lo.displayName="PendingClaims",lo.__docgenInfo={description:"",displayName:"PendingClaims",props:{}}}catch{}const co=()=>{const e=c.useContext(D),t=c.useContext(yt),n=c.useContext(un);return r.jsx(P,{className:"action",onClick:()=>{n(new Xs(e.address)),t.open()},children:r.jsx(f,{text:"Withdraw"})})};try{co.displayName="PendingExitActionsCell",co.__docgenInfo={description:"",displayName:"PendingExitActionsCell",props:{}}}catch{}const uo=()=>r.jsxs("tr",{children:[r.jsx("td",{className:"combined-details-cell",children:r.jsx(pt,{})}),r.jsx("td",{children:r.jsx(gn,{})}),r.jsx("td",{children:r.jsx(yn,{})}),r.jsx("td",{children:r.jsx(gt,{})}),r.jsx("td",{children:r.jsx(ft,{})}),r.jsx("td",{children:r.jsx(ht,{})}),r.jsx("td",{children:r.jsx(mt,{})}),r.jsx("td",{children:r.jsx(Fe,{})}),r.jsx("td",{children:r.jsx(co,{})})]});try{uo.displayName="PendingExitsNodeValidatorTableRow",uo.__docgenInfo={description:`PendingExitsNodeValidatorTableRow is a component that represents a single
row in the validator nodes table, displaying various details about the validator.`,displayName:"PendingExitsNodeValidatorTableRow",props:{}}}catch{}const po=()=>{const e=c.useContext(T);return e?r.jsxs("table",{className:"all-validators-table pending-claims",children:[r.jsx(an,{}),r.jsx("tbody",{children:e.nodes.map((t,n)=>r.jsx(D.Provider,{value:t,children:r.jsx(uo,{})},n))})]}):r.jsx(r.Fragment,{})};try{po.displayName="PendingExitsDelegationTable",po.__docgenInfo={description:`PendingExitsDelegationTable is a component that renders
the table of validator nodes in the delegation UI for Pending Exits`,displayName:"PendingExitsDelegationTable",props:{}}}catch{}const fo=()=>r.jsx(Tc,{children:r.jsx(Pc,{})}),Tc=({children:e})=>c.useContext(te).size<=0?null:r.jsx(Ic,{children:e}),Ic=({children:e})=>{const t=c.useContext(dn),n=c.useContext(te);return A(n.values(),s=>s.availableTime<=t).next().done?null:e},Pc=()=>r.jsxs(zt,{className:"pending-exits",children:[r.jsxs(Yt,{children:[r.jsx(vs,{}),r.jsx("h2",{children:r.jsx(f,{text:"Validators you have delegated to have exited the Staking Table.  You can claim back your delegation now."})})]}),r.jsx(Qt,{children:r.jsx(Dc,{})})]});function Ac(e,t){return e?new we(e.l1Block,Array.from(A(e.nodes,n=>t.has(n.addressText)))):null}const Dc=()=>{const e=c.useContext(te),t=c.useContext(T);return r.jsx(T.Provider,{value:Ac(t,e),children:r.jsx(ut,{children:r.jsx(po,{})})})};try{fo.displayName="PendingExits",fo.__docgenInfo={description:"",displayName:"PendingExits",props:{}}}catch{}function Bc(e){const[t,n]=c.useState(e);return[t,n]}const xs=c.createContext(null),_s=c.createContext(()=>{}),bs=c.createContext(null);function ho(e){const[t,n]=Bc(e.selected);return r.jsx(bs.Provider,{value:t,children:r.jsx(_s.Provider,{value:o=>{n(o),e.onSelectionChange(o)},children:r.jsx("div",{className:X(e.className,"btn-segmented"),children:e.segments.map((o,s)=>r.jsx(xs.Provider,{value:o,children:r.jsx(Uc,{})},s))})})})}const Uc=()=>{const e=c.useContext(xs),t=c.useContext(bs),n=c.useContext(_s);return e?r.jsx(P,{className:"btn-segment","data-selected":e.value===t,onClick:()=>{n(e.value)},children:e.label}):null};try{ho.displayName="SegmentedButton",ho.__docgenInfo={description:`SegmentedButton is a button group that allows the user to select one of
multiple segments. Each segment is represented by a button. The selected
segment is highlighted.`,displayName:"SegmentedButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"T"}},onSelectionChange:{defaultValue:null,description:"",name:"onSelectionChange",required:!0,type:{name:"(value: T) => void"}},segments:{defaultValue:null,description:"",name:"segments",required:!0,type:{name:"ButtonSegment<T>[]"}}}}}catch{}const mo=()=>{const e=c.useContext(Oe),t=c.useContext(Kt);return r.jsx(ho,{selected:e,onSelectionChange:n=>{t(n)},segments:[{value:_e.all,label:r.jsx(f,{text:"All"})},{value:_e.myStakes,label:r.jsx(f,{text:"My Stakes"})}]})};try{mo.displayName="SectionFilter",mo.__docgenInfo={description:"SearchFilter is a React context provider for the search filter input.",displayName:"SectionFilter",props:{}}}catch{}const go=e=>r.jsx(zs,{className:"staking-modal",closedby:"none",open:e.open,children:r.jsx(Ys,{children:r.jsx(Qs,{children:r.jsx(ji,{})})})});try{go.displayName="StakingModal",go.__docgenInfo={description:"",displayName:"StakingModal",props:{open:{defaultValue:null,description:"",name:"open",required:!1,type:{name:"boolean"}}}}}catch{}const yo=()=>r.jsx(r.Fragment,{children:r.jsx(f,{text:"Claim In"})});try{yo.displayName="ClaimInHeadCell",yo.__docgenInfo={description:`ClaimInHeadCell is the header cell for the Claim In column in the
validator table.`,displayName:"ClaimInHeadCell",props:{}}}catch{}const cn=()=>{const{sortBy:e}=c.useContext(ct),{sortDirection:t,sortBy:n}=c.useContext(dt);return r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"sortable","data-sort-column":n===g.rank?t:void 0,onClick:()=>e(g.rank),children:r.jsx(on,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.validator?t:void 0,onClick:()=>e(g.validator),children:r.jsx(sn,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.totalStake?t:void 0,onClick:()=>e(g.totalStake),children:r.jsx(rn,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.fee?t:void 0,onClick:()=>e(g.fee),children:r.jsx(Zt,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.missedSlots?t:void 0,onClick:()=>e(g.missedSlots),children:r.jsx(tn,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.participationRate?t:void 0,onClick:()=>e(g.participationRate),children:r.jsx(nn,{})}),r.jsx("th",{className:"sortable","data-sort-column":n===g.hotShotConsensus?t:void 0,onClick:()=>e(g.hotShotConsensus),children:r.jsx(en,{})}),r.jsx("th",{children:r.jsx(yo,{})}),r.jsx("th",{children:r.jsx(Jt,{})})]})})};try{cn.displayName="DelegationTableHeader",cn.__docgenInfo={description:`DelegationTableHeader is a component that renders
the header row of the delegation table with sortable columns.`,displayName:"DelegationTableHeader",props:{}}}catch{}const vo=()=>r.jsx(fn,{className:"consensus-chip inactive",children:r.jsx(f,{text:"Exited"})});try{vo.displayName="ExitedChip",vo.__docgenInfo={description:"",displayName:"ExitedChip",props:{}}}catch{}const xo=()=>r.jsx(fn,{className:"consensus-chip inactive",children:r.jsx(f,{text:"Exiting"})});try{xo.displayName="ExitingChip",xo.__docgenInfo={description:"",displayName:"ExitingChip",props:{}}}catch{}const _o=()=>r.jsx(fn,{className:"consensus-chip inactive",children:r.jsx(f,{text:"Undelegated"})});try{_o.displayName="UndelegatedChip",_o.__docgenInfo={description:"",displayName:"UndelegatedChip",props:{}}}catch{}const bo=()=>r.jsx(fn,{className:"consensus-chip inactive",children:r.jsx(f,{text:"Undelegating"})});try{bo.displayName="UndelegatingChip",bo.__docgenInfo={description:"",displayName:"UndelegatingChip",props:{}}}catch{}const Co=()=>{const e=c.useContext(D),t=c.useContext(ye),n=c.useContext(To),o=c.useContext(dn),s=c.useContext(yt),i=c.useContext(te),a=c.useContext(ne),l=c.useContext(Wt),d=c.useContext(un);if(!t||n.connectModalOpen)return r.jsx(r.Fragment,{children:r.jsx(P,{className:"action",onClick:n.openConnectModal,children:r.jsx(f,{text:"Delegate"})})});const u=e.addressText,p=i.get(u)??null,m=a.get(u)??null;return p?p.availableTime.valueOf()<o.valueOf()?r.jsx(vo,{}):r.jsx(xo,{}):m?m.availableTime.valueOf()<o.valueOf()?r.jsx(_o,{}):r.jsx(bo,{}):l.has(u)?r.jsx(P,{className:"action",onClick:()=>{d(new Fo(e.address)),s.open()},children:r.jsx(f,{text:"Manage"})}):r.jsx(P,{className:"action",onClick:()=>{d(new Fo(e.address)),s.open()},children:r.jsx(f,{text:"Delegate"})})};try{Co.displayName="ActionsCell",Co.__docgenInfo={description:"",displayName:"ActionsCell",props:{}}}catch{}const wo=()=>{const e=c.useContext(D),t=c.useContext(dn),n=c.useContext(te),o=c.useContext(ne),s=e.addressText,i=n.get(s)??null,a=o.get(s)??null;if(i){const l=i.availableTime.valueOf()-t.valueOf();return l<=0?r.jsx("span",{className:"claimable",children:r.jsx(f,{text:"Claimable"})}):r.jsx(Qn,{durationInMilliseconds:l})}if(a){const l=a.availableTime.valueOf()-t.valueOf();return l<=0?r.jsx("span",{className:"claimable",children:r.jsx(f,{text:"Claimable"})}):r.jsx(Qn,{durationInMilliseconds:l})}return r.jsx(r.Fragment,{children:r.jsx(f,{text:"-"})})};try{wo.displayName="ClaimInCell",wo.__docgenInfo={description:`ClaimInCell displays information related to being able to withdraw claims
from a validator node.`,displayName:"ClaimInCell",props:{}}}catch{}const So=()=>r.jsxs("tr",{children:[r.jsx("td",{className:"combined-details-cell",children:r.jsx(pt,{})}),r.jsx("td",{children:r.jsx(gn,{})}),r.jsx("td",{children:r.jsx(yn,{})}),r.jsx("td",{children:r.jsx(gt,{})}),r.jsx("td",{children:r.jsx(ft,{})}),r.jsx("td",{children:r.jsx(ht,{})}),r.jsx("td",{children:r.jsx(mt,{})}),r.jsx("td",{children:r.jsx(Fe,{})}),r.jsx("td",{children:r.jsx(wo,{})}),r.jsx("td",{children:r.jsx(Co,{})})]});try{So.displayName="NodeValidatorTableRow",So.__docgenInfo={description:`NodeValidatorTableRow is a component that represents a single row
in the validator nodes table, displaying various details about the validator.`,displayName:"NodeValidatorTableRow",props:{}}}catch{}const Eo=()=>{const e=c.useContext(T);return e?r.jsxs("table",{className:"all-validators-table",children:[r.jsx(cn,{}),r.jsx("tbody",{children:e.nodes.map((t,n)=>r.jsx(D.Provider,{value:t,children:r.jsx(So,{})},n))})]}):r.jsx(r.Fragment,{})};try{Eo.displayName="DelegationTable",Eo.__docgenInfo={description:`DelegationTable is a component that renders
the table of validator nodes in the delegation UI.`,displayName:"DelegationTable",props:{}}}catch{}const Rc=()=>r.jsxs("table",{className:"all-validators-table",children:[r.jsx(cn,{}),r.jsx("tbody",{children:r.jsx("tr",{children:r.jsxs("td",{className:"no-data",colSpan:8,children:[r.jsx(f,{text:"Nothing brewing yet..."}),r.jsx("br",{}),r.jsx("br",{}),r.jsx(Cs,{})]})})})]}),Mc=()=>{const e=c.useContext(T);return c.useContext(Oe)===_e.myStakes&&(e?.nodes.length??0)===0?r.jsx(Rc,{}):r.jsx(Eo,{})},ko=()=>r.jsx(Hn,{children:r.jsx(Wn,{children:r.jsx(Ni,{children:r.jsxs(Js,{children:[r.jsx(go,{}),r.jsxs("section",{className:"delegation-ui-content edge-margin",children:[r.jsx(eo,{}),r.jsx(zn,{}),r.jsx(lo,{}),r.jsx(fo,{}),r.jsx(Hc,{}),r.jsx(Fc,{children:r.jsxs(ut,{children:[r.jsx(Mc,{}),r.jsx("br",{})]})})]})]})})})});function Oc(e,t){return e!==_e.myStakes?()=>!0:n=>t?!!He(t.nodes,o=>b(n.address,o.node)===0):!1}function Lc(e,t){return e?n=>n.stake>=t&&n.stake>0n:()=>!0}function Vc(e,t,n,o,s){if(!e)return null;const i=Array.from(S(e.nodes,l=>l.stake)).toSorted(),a=i.length<100?i[0]-1n:i[i.length-100];return new we(e.l1Block,Array.from(A(A(A(e.nodes,Lc(o,a)),Oc(n,t)),Pi(s))))}const Fc=({children:e})=>{const t=c.useContext(T),n=c.useContext(We),o=c.useContext(Oe),s=c.useContext(Ii),i=c.useContext(at);return r.jsx(T.Provider,{value:Vc(t,n,o,i,s),children:e})},Hc=()=>r.jsxs("div",{className:"delegation-ui-table-controls",children:[r.jsxs("div",{children:[r.jsx(Ti,{}),r.jsx(mo,{}),r.jsx(no,{})]}),r.jsx(Cs,{})]}),Cs=()=>{const e=c.useContext(ye),t=c.useContext(To),n=c.useContext(yt);return!e||t.connectModalOpen?r.jsxs(P,{onClick:t.openConnectModal,children:[r.jsx(Ln,{}),r.jsx(f,{text:"Delegate"})]}):r.jsxs(P,{onClick:n.open,children:[r.jsx(Ln,{}),r.jsx(f,{text:"Delegate"})]})};try{ko.displayName="DelegationUIContent",ko.__docgenInfo={description:`DelegationUIContent is the main content area for the Delegation UI page.

It defines the layout and structure of the content that is displayed within
the Delegation UI.

All of the content is displayed within a dedicated element to define the
area for styling purposes, and for content display.`,displayName:"DelegationUIContent",props:{}}}catch{}function Wc(e,t){const n=vt($c,e,t.diff);return new Io(t.espressoBlock,n.nodes)}function $c(e,t){if(t instanceof Zs)return Gc(e,t);if(t instanceof ei)return qc(e,t);throw new bt}function Nn(e,t){if(!e)return new R(0n,0n);if(e instanceof R)return e;if(e.ratio===1)return new R(t.block,t.block);if(e.ratio===0)return new R(0n,t.block);if(t.block===0n||t.epoch===0n)return Dr(),new R(0n,0n);const n=t.blocksPerEpoch,o=e.ratio*Number(n)*12*1e3,s=BigInt(Math.floor(o)),i=BigInt(12*1e3)*n,a=Kc(s,i);return new R(s/a,i/a)}function Tt(e){for(;(e&1n)===0n;)e=e>>1n;return e}function Kc(e,t){let n=1n;for(;(e&1n)===0n&&(t&1n)===1n;)e=e>>1n,t=t>>1n,n=n<<1n;for(e=Tt(e),t=Tt(t);e!==t;){if(e>t){e=e-t,e=Tt(e);continue}if(t>e){t=t-e,t=Tt(t);continue}break}return 2n**n*e}function Gc(e,t){const n=e.nodes.slice();{const i=t.leaderIndex,a=n[i],l=Nn(a.leaderParticipation,e.espressoBlock),d=new Bt(a.address,a.voterParticipation,new R(l.numerator+1n,l.denominator+1n));n[i]=d}for(const i of t.failedLeaders){const a=n[i],l=Nn(a.leaderParticipation,e.espressoBlock),d=new Bt(a.address,a.voterParticipation,new R(l.numerator,l.denominator+1n));n[i]=d}const o=Array.from(t.votersBitVec),s=n.length;for(let i=0;i<s;i++){if(i===t.leaderIndex)continue;const a=n[i],l=Nn(a.voterParticipation,e.espressoBlock),d=new Bt(a.address,new R(l.numerator+(o[i]?1n:0n),l.denominator+1n),a.leaderParticipation);n[i]=d}return new Io(e.espressoBlock,n)}function qc(e,t){return new Io(e.espressoBlock,Array.from(S(t.entries,n=>new Bt(n,null,null))))}function Xc(e,t){const n=vt(zc,e,t.diff);return new we(t.l1Block,n.nodes)}function zc(e,t){if(t instanceof ti)return Yc(e,t);if(t instanceof ni)return Qc(e,t);throw new bt}function Yc(e,t){const n=e.nodes.filter(o=>b(o.address,t.validatorExit.address)!==0);return new we(e.l1Block,n)}function Qc(e,t){const n=e.nodes.map(o=>b(o.address,t.validatorInformation.address)===0?t.validatorInformation:o);return new we(e.l1Block,n)}function Jc(e,t){const n=vt(Zc,e,t.diff);return new B(n.nodes,n.pendingUndelegations,n.pendingExits,n.claimedRewards,t.l1Block)}function Zc(e,t){if(t instanceof jr)return ed(e,t);if(t instanceof Nr)return td(e,t);if(t instanceof Tr)return nd(e,t);if(t instanceof oi)return od(e,t);if(t instanceof Ir)return rd(e,t);if(t instanceof Pr)return sd(e,t);throw new bt}function ed(e,t){return new B(e.nodes,e.pendingUndelegations,e.pendingExits,e.claimedRewards+t.claimedRewards,e.l1Block)}function td(e,t){const o=He(e.nodes,s=>b(s.node,t.delegation.node)===0)?e.nodes:oe(e.nodes,re(new K(t.delegation.delegator,t.delegation.node,0n)));return new B(Array.from(S(o,s=>b(s.node,t.delegation.node)!==0?s:new K(s.delegator,s.node,s.amount+t.delegation.amount))),e.pendingUndelegations,e.pendingExits,e.claimedRewards,e.l1Block)}function nd(e,t){return new B(Array.from(A(e.nodes,n=>b(n.node,t.withdrawal.node)!==0)),e.pendingUndelegations,Array.from(A(e.pendingExits,n=>b(n.node,t.withdrawal.node)!==0)),e.claimedRewards,e.l1Block)}function od(e,t){return new B(e.nodes,e.pendingUndelegations,Array.from(oe(e.pendingExits,re(t.pendingWithdrawal))),e.claimedRewards,e.l1Block)}function rd(e,t){return new B(Array.from(S(e.nodes,n=>b(n.node,t.pendingWithdrawal.node)!==0?n:new K(n.delegator,n.node,n.amount-t.pendingWithdrawal.amount))),Array.from(oe(e.pendingUndelegations,re(t.pendingWithdrawal))),e.pendingExits,e.claimedRewards,e.l1Block)}function sd(e,t){return new B(e.nodes,Array.from(A(e.pendingUndelegations,n=>b(n.node,t.withdrawal.node)!==0)),e.pendingExits,e.claimedRewards,e.l1Block)}const L=100;function ws(e,t){return e===null&&t===null?!0:e===null||t===null?!1:e.number===t.number&&b(e.hash,t.hash)===0}function id(e){let t=e;return e instanceof Cr&&(t=e.error),t instanceof J&&t.status===404}function qe(e){return id(e)}function Ss(e,t){return e===null?!1:t.number===e.number?(console.warn("request for l1 block at height returned the previous block?!",e,t),!0):t.number!==e.number+1n||b(e.hash,t.parent)!==0}const Es=1e3;async function vr(e,t,n=Es){for(;;)try{return t?await e.l1Block.getBlockForHeight(t.number+1n):await e.l1Block.getLatestBlock()}catch(o){if(qe(o)){await N(n);continue}console.error("encountered error attempting to retrieve l1 block id",o),await N(n)}}async function*ad(e,t=Es){let n=await vr(e,null,t);for(yield n;;)await N(t),n=await vr(e,n,t),yield n}const ld=({children:e})=>{const t=c.useContext(Te),n=c.useMemo(()=>ad(t),[t]);return r.jsx(mn,{asyncIterable:n,children:r.jsx(cd,{children:e})})},cd=({children:e})=>{const t=c.useContext(xt)??null;return r.jsx(Po.Provider,{value:t,children:e})},ks=1e3;async function xr(e,t){let n=L;for(;;)try{return await e.validatorsAll.snapshot(t.hash)}catch(o){if(qe(o)){await N(n),n=Math.min(n*2,5e3);continue}throw o}}async function dd(e,t){let n=L;for(;;)try{return await e.validatorsAll.updatesSince(t.hash)}catch(o){if(qe(o)){await N(n),n=Math.min(n*2,5e3);continue}throw o}}async function*ud(e){let t=yield null;for(;t===null;)await N(L),t=yield null;let n=await xr(e,t);for(;;){const o=yield n;if(ws(o,t)){await N(L);continue}if(Ss(t,o)){Dr(),n=await xr(e,o),t=o;continue}const s=await dd(e,o);n=Xc(n,s),t=o}}const pd=({children:e})=>{const t=c.useContext(Te),n=c.useContext(Po),o=c.useMemo(()=>ud(t),[t]);return r.jsx(mn,{asyncIterable:o,next:n,children:r.jsx(fd,{children:e})})},fd=({children:e})=>{const t=c.useContext(xt)??null;return r.jsx(T.Provider,{value:t,children:e})};async function hd(e){let t=L;for(;;)try{return await e.validatorsActive.active()}catch(n){let o=n;if(n instanceof Cr&&(o=n.error),o instanceof J&&o.status===404){await N(t),t=Math.min(t*2,5e3);continue}throw n}}async function md(e,t,n=ks){for(;;)try{return await e.validatorsActive.updatesSince(t.block+1n)}catch(o){if(qe(o)){await N(n);continue}throw o}}async function*gd(e,t=ks){let n=await hd(e),o=n.espressoBlock;for(;;){yield n;const s=await md(e,o,t);n=Wc(n,s),o=n.espressoBlock}}const yd=({children:e})=>{const t=c.useContext(Te),n=c.useMemo(()=>gd(t),[t]);return r.jsx(mn,{asyncIterable:n,children:r.jsx(vd,{children:e})})},vd=({children:e})=>{const t=c.useContext(xt)??null;return r.jsx(ri.Provider,{value:t?.espressoBlock.block??null,children:r.jsx(si.Provider,{value:t?.espressoBlock.epoch??0n,children:r.jsx(kr.Provider,{value:t,children:e})})})};async function _r(e,t,n){if(!n)return null;const o=y.decode(n);let s=L;for(;;)try{return await e.wallet.snapshot(o,t.hash)}catch(i){if(qe(i)){await N(s),s=Math.min(s*2,5e3);continue}throw i}}async function xd(e,t,n){const o=y.decode(n);let s=L;for(;;)try{return await e.wallet.updates(o,t.hash)}catch(i){if(qe(i)){await N(s),s=Math.min(s*2,5e3);continue}throw i}}async function*_d(e){let[t,n]=yield null;for(;t===null;)await N(L),[t,n]=yield null;let o=await _r(e,t,n);for(;;){const[s,i]=yield o;if(s===null){await N(L);continue}if(ws(s,t)&&i===n){await N(L);continue}if(!o||n!==i||Ss(t,s)){o=await _r(e,s,i),t=s,n=i;continue}if(!i){o=null,t=s,n=i;continue}const a=await xd(e,s,i);o=Jc(o,a),t=s,n=i}}const bd=({children:e})=>{const t=c.useContext(Te),n=c.useContext(Po),o=c.useContext(ye),s=c.useMemo(()=>_d(t),[t]);return r.jsx(mn,{asyncIterable:s,next:[n,o],children:r.jsx(Cd,{children:e})})},Cd=({children:e})=>{const t=c.useContext(xt)??null;return r.jsx(We.Provider,{value:t,children:e})},jo=({children:e})=>r.jsx(ld,{children:r.jsx(pd,{children:r.jsx(yd,{children:r.jsx(bd,{children:e})})})});try{jo.displayName="ProvideDelegationUILocalState",jo.__docgenInfo={description:"",displayName:"ProvideDelegationUILocalState",props:{}}}catch{}const wd=()=>r.jsx(Sd,{children:r.jsxs("main",{className:"delegation-ui",children:[r.jsx(Fn,{}),r.jsx(ko,{})]})}),Sd=({children:e})=>r.jsx(ii,{children:r.jsx(ai,{children:r.jsx(Mn,{children:r.jsx(li,{children:r.jsx(jo,{children:r.jsx(ci,{children:r.jsx(di,{children:r.jsx(Rn,{children:r.jsx(ui,{children:r.jsx(pi,{children:r.jsx(Dn,{children:r.jsx(Un,{children:r.jsx(Bn,{children:r.jsx(fi,{children:e})})})})})})})})})})})})})});try{delegationui.displayName="delegationui",delegationui.__docgenInfo={description:`DelegationUI is a component that represents the entire Delegation UI
self contained page.`,displayName:"delegationui",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const No=({children:e})=>{const t=c.useContext(wi),n=c.useContext(Te),o=c.useContext(Ls);return r.jsx(Te.Provider,{value:Ed(n,t,o),children:e})};function Ed(e,t,n){if(t instanceof Bi){const o=new Id(t,e,n);return t.setTransactionCallback(o.wallet),o}return e}const Ot=new B([],[],[],0n,new Ar(0n,new ArrayBuffer,new Date(0)));class kd{constructor(t){this.l1Methods=t}async getBlockForHeight(t){const n=this.l1Methods.mockBlockByHeight(t);if(!n)throw new J(404,null,"block not found");return new Ho(n.height,y.decode(n.hash),y.decode(n.parentHash))}async getLatestBlock(){const t=this.l1Methods.mockLatestBlock();if(!t)throw new J(404,null,"block not found");return new Ho(t.height,y.decode(t.hash),y.decode(t.parentHash))}}class jd{constructor(t,n={snapshots:new Map([[wn,new B(Array.from(S(Ko(wt.toSorted((o,s)=>Number(s.stake-o.stake)),wt.length-2),o=>new K(y.decode(wn),o.address,o.stake/10n))),[],Array.from(S(Ko(wt.toSorted((o,s)=>Number(s.stake-o.stake)),wt.length-2),o=>new G(y.decode(wn),o.address,o.stake/10n,new Date(0)))),0n,Ot.l1Block)]])}){this.l1Methods=t,this.state=n}async snapshot(t,n){if(!this.l1Methods.mockBlockByHash(y.encode(n)))throw new J(404,null,"block not found");const o=y.encode(t);return this.state.snapshots.get(o)??Ot}async updates(t,n){const o=y.encode(n),s=y.encode(t);if(!this.l1Methods.mockBlockByHash(o))throw new J(404,null,"block not found");const i=S(this.l1Methods.mockTransactionsForBlockHash(o)??[],l=>l.transaction),a=vi(i,l=>{if(l instanceof Go){if(l instanceof vn&&l.delegator===s)return[new Nr(new K(t,y.decode(l.validator),l.amount))];if(l instanceof $e&&l.delegator===s)return[new Ir(new G(t,y.decode(l.validator),l.amount,new Date(Date.now()+Number(l.exitEscrowPeriod))))];if(l instanceof Ke&&l.delegator===s)return[new Tr(new $o(t,y.decode(l.validator),l.amount))];if(l instanceof xn&&l.delegator===s)return[new Pr(new $o(t,y.decode(l.validator),l.amount))]}return l instanceof qo&&l instanceof Ur&&l.delegator===s?[new jr(l.lifetimeRewards)]:[]});return new hi(Ot.l1Block,Array.from(a))}l1Transaction(t){if(t instanceof Go){this.reportStakeTableAction(t);return}if(t instanceof qo){this.reportRewardClaimAction(t);return}}reportStakeTableAction(t){this.state=Ad(this.state,t)}reportRewardClaimAction(t){this.state=$d(this.state,t)}}class Nd{constructor(t,n){this.l1Methods=t,this.service=n}async snapshot(t){return this.service.snapshot(t)}async updatesSince(t){const n=y.encode(t),o=this.l1Methods.mockBlockByHash(n);if(!o)throw new J(404,null,"block not found");return new mi(new Ar(o.height,y.decode(o.hash),new Date(Number(o.timestamp))),[])}}class Td{constructor(t,n){this.service=t,this.hotShotQueryService=n}async active(){return this.service.active()}async activeFor(t){return this.service.activeFor(t)}async updatesSince(t){const n=await this.hotShotQueryService.status.blockHeight();if(t>BigInt(n))throw new J(404,null,"block not found");const s=Wo.determineEpoch(t,100n);return new gi(new Wo(s,t,new Date),[])}}class Id{l1Block;wallet;validatorsAll;validatorsActive;constructor(t,n,o){this.l1Block=new kd(t),this.wallet=new jd(t),this.validatorsAll=new Nd(t,n.validatorsAll),this.validatorsActive=new Td(n.validatorsActive,o)}setURL(){throw new bt}}function Pd(e){return e instanceof vn||e instanceof $e||e instanceof xn||e instanceof Ke?e.delegator:null}function Ad(e,t){if(t instanceof Ao)return{snapshots:new Map(S(e.snapshots,s=>Wd(s,t)))};let n=e.snapshots;const o=Pd(t);return o?(e.snapshots.has(o)||(n=oe(e.snapshots,re([o,Ot]))),{snapshots:new Map(S(n,s=>Dd(s,t)))}):e}function Dd(e,t){const[n,o]=e;return[n,Bd(y.decode(n),o,t)]}function Bd(e,t,n){return new B(Ud(e,t.nodes,n),Md(e,t.pendingUndelegations,n),Ld(e,t.pendingExits,n),Fd(e,t.claimedRewards),Hd(e,t.l1Block))}function Ud(e,t,n){if(!(n instanceof vn||n instanceof $e||n instanceof Ke))return t;const o=n.validator,s=y.decode(o),i=He(t,l=>b(l.node,s)===0);let a=t;return i||(a=oe(t,re(new K(e,s,0n)))),Array.from(A(S(a,l=>Rd(e,s,l,n)),l=>l.amount>0n))}function Rd(e,t,n,o){return b(n.delegator,e)!==0||b(n.node,t)!==0?n:o instanceof vn?new K(e,t,n.amount+o.value):o instanceof $e?new K(e,t,n.amount-o.value):o instanceof Ke?new K(e,t,0n):n}function Md(e,t,n){if(!(n instanceof $e||n instanceof xn))return t;const o=n.validator,s=y.decode(o),i=He(t,l=>b(l.node,s)===0);let a=t;return i||(a=oe(t,re(new G(e,s,0n,new Date(0))))),Array.from(A(S(a,l=>Od(e,s,l,n)),l=>l.amount>0n))}function Od(e,t,n,o){return b(n.delegator,e)!==0||b(n.node,t)!==0?n:o instanceof $e?new G(e,t,o.value,new Date(o.ts.valueOf()+Number(o.exitEscrowPeriod))):o instanceof xn?new G(e,t,0n,new Date(0)):n}function Ld(e,t,n){if(!(n instanceof Ao||n instanceof Ke))return t;let o=t;const s=n.validator,i=y.decode(s);return He(t,a=>b(a.node,i)===0)&&(o=oe(t,re(new G(e,i,0n,new Date(0))))),Array.from(A(S(o,a=>Vd(e,i,a,n)),a=>a.amount>0n))}function Vd(e,t,n,o){return b(n.delegator,e)!==0||b(n.node,t)!==0?n:o instanceof Ao?new G(e,t,o.value,new Date(Number(o.exitTime))):o instanceof Ke?new G(e,t,0n,new Date(0)):n}function Fd(e,t){return t}function Hd(e,t){return t}function Wd(e,t){const n=t.validator,o=y.decode(n),[s,i]=e,a=y.decode(s),l=He(i.nodes,d=>b(d.node,o)===0);return l?[s,new B(i.nodes,i.pendingUndelegations,Array.from(oe(i.pendingExits,re(new G(a,o,l.amount,new Date(Number(t.exitTime)))))),i.claimedRewards,i.l1Block)]:e}function $d(e,t){return{snapshots:new Map(S(e.snapshots,n=>Kd(n,t)))}}function Kd(e,t){if(!(t instanceof Ur))return e;const[n,o]=e;return n!==t.delegator?e:[n,new B(o.nodes,o.pendingUndelegations,o.pendingExits,o.claimedRewards+t.value,o.l1Block)]}try{No.displayName="L1ValidatorServiceMockInjection",No.__docgenInfo={description:"",displayName:"L1ValidatorServiceMockInjection",props:{}}}catch{}const Gd=({environment:e,stakeTableContractAddress:t,espTokenContractAddress:n,hotshotQueryServiceURL:o,nodeValidatorWebSocketURL:s,l1ValidatorServiceURL:i,spoofAccountAddress:a,...l})=>r.jsx(r.Fragment,{children:r.jsxs(Os,{environment:e,stakeTableContractAddress:t,espTokenContractAddress:n,hotshotQueryServiceURL:Cn(o),nodeValidatorWebSocketURL:Cn(s),l1ValidatorServiceURL:Cn(i),children:[r.jsx(Ds,{}),r.jsx(Ps,{children:r.jsx(qd,{account:a,children:r.jsx(Vs,{children:r.jsx(yi,{children:r.jsx(No,{children:r.jsx(wd,{...l})})})})})})]})}),qd=({account:e,children:t})=>{const n=c.useContext(ye),o=e||n;return r.jsx(ye.Provider,{value:o,children:t})},Lf={title:"Sites/Delegation UI/Page",component:Gd,parameters:{layout:"fullscreen"},args:{environment:As.fakeData,stakeTableContractAddress:void 0,espTokenContractAddress:void 0,rewardClaimContractAddress:void 0,hotshotQueryServiceURL:void 0,nodeValidatorWebSocketURL:void 0,l1ValidatorServiceURL:void 0,spoofAccountAddress:void 0},argTypes:{...Us,...Bs,spoofAccountAddress:{control:"text",description:"An optional account address to spoof as the connected wallet address in RainbowKit."}},globals:{background:"light",parameters:{backgrounds:{default:"light",options:{light:{name:"Light",value:"#f8fafcff"}}}}}},It={args:{...Rs,l1ValidatorServiceURL:"https://staking.decaf.testnet.espresso.network/v0/staking/"}},Pt={args:br},At={args:br,async play({canvasElement:e,step:t}){await rc(e,t)}},Dt={args:{...Ms,l1ValidatorServiceURL:"http://localhost:8080/v0/staking/"}};It.parameters={...It.parameters,docs:{...It.parameters?.docs,source:{originalSource:`{
  args: {
    ...environmentArgsDecafWithContracts,
    l1ValidatorServiceURL: 'https://staking.decaf.testnet.espresso.network/v0/staking/'
  }
}`,...It.parameters?.docs?.source}}};Pt.parameters={...Pt.parameters,docs:{...Pt.parameters?.docs,source:{originalSource:`{
  args: environmentArgsFakeDataWithContracts
}`,...Pt.parameters?.docs?.source}}};At.parameters={...At.parameters,docs:{...At.parameters?.docs,source:{originalSource:`{
  args: environmentArgsFakeDataWithContracts,
  async play({
    canvasElement,
    step
  }) {
    await delegationUIInteractions(canvasElement, step);
  }
}`,...At.parameters?.docs?.source}}};Dt.parameters={...Dt.parameters,docs:{...Dt.parameters?.docs,source:{originalSource:`{
  args: {
    ...environmentArgsLocalDevNetWithContracts,
    l1ValidatorServiceURL: 'http://localhost:8080/v0/staking/'
  }
}`,...Dt.parameters?.docs?.source}}};const Vf=["Decaf","FakeData","FakeDataInteractions","LocalDevNet"];export{It as Decaf,Pt as FakeData,At as FakeDataInteractions,Dt as LocalDevNet,Vf as __namedExportsOrder,Lf as default};
