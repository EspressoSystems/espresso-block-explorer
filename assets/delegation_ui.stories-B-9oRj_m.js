import{R as a,j as e,r as Ao}from"./iframe-Dv6htQ23.js";import{N as In,P as Io}from"./NowProvider-CUEytW_R.js";import{E as Po,b as Ro}from"./environment_banner-Cob7fL6Z.js";import{j as Eo,i as Do,k as To,l as Oo,m as Bo,n as Vo,o as Wo}from"./controls-CaNGuGrW.js";import{R as jr,E as Pn,b as Nr,L as Ne,c as _e,M as Mo,d as Ln,e as Jo,f as Uo,V as La,D as Fa,U as vt,C as Ha,g as jt,h as Lo,a as Fo}from"./storybook-BGMzJtiR.js";import{n as Sr,W as Ho,i as qo,N as ur,u as zo,C as wr,H as $o,P as Ko}from"./CappuccinoHotShotQueryServiceAPIContext-ZOx07nQd.js";import{B as Go}from"./explorer-DCunbqys.js";import{U as P}from"./UnimplementedError-CdIPpzwU.js";import{g as Qo}from"./blocks-BbRoLXeF.js";import{c as Yo,n as Pe,P as Xo}from"./nodes-BnjHQtbM.js";import{T as x,b as y,A as Ce,j as $,k as Se,I as L,q as H,s as Ge,w as xr,x as mr,n as kr}from"./string-IJEBdhwx.js";import{s as C,h as u}from"./array_buffer-cBr8gIXV.js";import{b as j,a as Zo}from"./url-Bph6d-ow.js";import"./MissingElementError-CbV3pOXz.js";import{n as F}from"./base64-KHURY7_E.js";import{m as A,r as De,z as ec,k as br,q as R,e as we,l as tc,o as nc,c as hr,n as Nt,s as St,p as Rn}from"./functional-Cgf59ne2.js";import{v as sc,D as W,n as ie,C as Fe}from"./LoadingProvider-CRv47c_T.js";import"./validator-BovotZF2.js";import{t as Ar,T as Ir}from"./TaggedBase64-S1MhFE0d.js";import{b as En,d as ac,a as Pr}from"./assert-BI051aL8.js";import{I as rc,M as h}from"./monetary_value-B0ntaWrJ.js";import{A as He}from"./AsyncIterableResolver-CXdtL5fv.js";import{a as N,A as U,b as k,P as Fn}from"./ProvideAsyncStates-2wWJu2Ts.js";import"./TransactionDetailContent-CHlShsdv.js";import{P as M}from"./PromiseResolver-fu2gpVzF.js";import"./DataTable-vr5o8hAd.js";import{aJ as oc,aZ as cc,aK as ic,a_ as lc,a$ as dc,b0 as pc,aM as J,aO as qa}from"./en_US-RFN65H63-DLSuGI2I.js";import{E as Rr}from"./espresso-B2yzbBe1.js";import"./BlockPage-CKTG_egC.js";import"./BlocksPage-DX9WYPrW.js";import"./NodesSummaryDataTable-Cgl5DWZd.js";import"./ExplorerPage-Uj1yA9EP.js";import"./RollUpPage-CrXrF3xQ.js";import"./RollUpsPage-DbsmWoYX.js";import"./TransactionPage-CxUfntwY.js";import"./TransactionsForBlockPage-ByxAND-p.js";import"./TransactionsPage-Cew5RKrf.js";import{C as uc}from"./DateTimeFormattersProvider-C5t6XUcQ.js";import"./LocaleProvider-2MskVwwW.js";import"./PagePathProvider-CMXtbgHw.js";import"./NumberFormattersProvider-B9KzUGwo.js";import"./PathResolverProvider-DO2OIcGK.js";import{E as xc}from"./EspressoLogoAndTitle-CkyvWi-T.js";import{T as c}from"./Text-BU7JBOLk.js";import{W as ke}from"./deserializer-DbrGMtYl.js";import{a as E}from"./higher_order-C7N0yVzV.js";import{S as wt}from"./SVGIconBase-DcFMrokn.js";import{W as be}from"./wallet_address-1_HiFw02.js";import{M as g}from"./MoneyText-CoTXhldl.js";import{P as I}from"./VariableByteSizeText-BNmoA_dP.js";import{N as Er}from"./NumberText-Dj8iVxLU.js";import{M as mc}from"./Close-DjPU0pX3.js";import{s as qe}from"./sleep-CW-vxfof.js";import{E as Dr}from"./esp_input-CLzhVvFK.js";import"./ByteSizeText-C1GRTxwh.js";import"./CopyHex-eo5yI8q1.js";import"./DateTimeText-BOpXlQvA.js";import"./FullHexText-3tleIpiG.js";import"./HexText-C0iTiRGR.js";import"./RelativeTimeSinceDateText-wnmIlcQg.js";import"./TaggedBase64Text-BPVeWXPe.js";import"./TimeText-CSjMgMr_.js";import{b as hc}from"./Payments-BEmi0p41.js";import"./TwitterIcon-CCbVWpL1.js";import"./ArrowRight-BlFCq5et.js";import"./CheckCircleFilled-CplNTaXF.js";import"./ChevronUp-BTRfvUtz.js";import"./Copy-Cg0Q6oFM.js";import"./MediumIcon-yluBc2KW.js";import"./EspressoLogo-CdqU9i4N.js";import"./Menu-DhAeZjGw.js";import"./SearchGlass-CtpKzB4B.js";import"./XIcon-DsQmFlqs.js";import"./preload-helper-PPVm8Dsz.js";import"./typography-CgR0bGry.js";import"./FetchError-DX6me_FL.js";import"./NotFoundError-DPKbBn2w.js";import"./data-Cpeha0UW.js";import"./CircularProgressIndicator-CGSnkEvU.js";import"./ErrorDisplay-BM9UfS0s.js";import"./label-DhPrwc6a.js";import"./TableLabeledValue-DMPR9qsg.js";import"./SkeletonContent-BQG7cvXG.js";import"./AnchorButton-BkYWnmCf.js";import"./Button-Ddn29KoC.js";import"./IconAnchorButton-DJ2UtXSk.js";import"./IconButton-CBFjp57s.js";import"./LabeledAnchorButton-BDOw8f-G.js";import"./LabeledButton-sPgIB-LE.js";import"./Link-DL0PZX4F.js";import"./TransactionDetailLoader-TYiMLYAX.js";import"./Heading2-Fc0gzHbS.js";/* empty css                */import"./BlockSizeHistogram-DbJyZCrI.js";import"./Card-CHe2rYXp.js";import"./LoadingShimmer-Bqb90OnE.js";import"./ContainerLoading-DleeJ4WR.js";import"./SVGToolTip-DKYbDa1j.js";import"./SVGPathBuilder-4dyJLere.js";import"./AffineTransform-UCCpzMIM.js";import"./SummaryTableLabeledValue-DCqwpz0B.js";import"./RollUpSimple-C0tKUwyT.js";import"./TransactionSummaryDataTable-BMaNNTJ7.js";import"./transaction_summary-_-RUzodv.js";import"./CopyButton--qJXFrNp.js";/* empty css               */import"./nitro_batch_display--NLW8W3e.js";import"./index-DXoJfKfG.js";import"./index-DIxc3OCG.js";import"./block_summary-CBGYsBbN.js";import"./Footer-DdxauG8V.js";import"./SocialMediaLinks-CXXgHxCI.js";import"./Header-Dn-MKIKv.js";import"./NavBar-Doznysux.js";import"./Heading1-Ds1EfNnh.js";import"./LatestBlockSummary-vWJa6lXW.js";import"./SummaryValueLabeled-CXnStgj3.js";import"./BlockSummaryDataTable-8Srmb0hM.js";import"./HexDump-BEKCkwil.js";import"./RollUpsSummaryDataTable-UzwtZMXk.js";import"./WorldMapDotsPopulationFullResolution-DkPE8LyF.js";import"./constants-BlhOgobG.js";import"./WorldMapDotsFullResolution-CJI2LHsR.js";import"./PieChart-tupNM_5R.js";import"./SearchInput-KWa_S20H.js";import"./Container-BoNP9P87.js";import"./text-BKbHfD5l.js";function _c(t,n={}){return{async queryFn({queryKey:s}){const r=n.abi;if(!r)throw new Error("abi is required");const{functionName:o,scopeKey:i,...l}=s[1],d=(()=>{const m=s[1];if(m.address)return{address:m.address};if(m.code)return{code:m.code};throw new Error("address or code is required")})();if(!o)throw new Error("functionName is required");return oc(t,{abi:r,functionName:o,args:l.args,...d,...l})},queryKey:Cc(n)}}function Cc(t={}){const{abi:n,...s}=t;return["readContract",cc(s)]}function fc(t={}){const{abi:n,address:s,functionName:r,query:o={}}=t,i=t.code,l=ic(t),d=lc({config:l}),m=_c(l,{...t,chainId:t.chainId??d}),v=!!((s||i)&&n&&r&&(o.enabled??!0));return dc({...o,...m,enabled:v,structuralSharing:o.structuralSharing??pc})}class Tr{constructor(n,s,r){this.number=n,this.hash=s,this.parent=r,Object.freeze(this)}toJSON(){return qn.encode(this)}}class yc{convert(n){return y(n,"number","hash","parent"),new Tr(j.decode(n.number),C.decode(n.hash),C.decode(n.parent))}}class gc{convert(n){return{number:j.encode(n.number),hash:C.encode(n.hash),parent:C.encode(n.parent)}}}class vc extends x{encoder=new gc;decoder=new yc}const qn=new vc,jc=1000000000n,Nc=12n;class Sc{async getBlockForHeight(n){const s=new ArrayBuffer(32);new DataView(s).setBigUint64(24,BigInt(n),!1);const o=new ArrayBuffer(32);return new DataView(o).setBigUint64(24,n-1n,!1),new Tr(BigInt(n),s,o)}async getLatestBlock(){const n=BigInt(Math.floor(Yo()/1e3)),r=(BigInt(Math.floor(Date.now()/1e3))-n)/Nc,o=jc+r;return this.getBlockForHeight(o)}}class Te{constructor(n){this.ratio=n,Object.freeze(this)}valueOf(){return this.ratio}toString(){return this.ratio.toString()}toJSON(){return K.encode(this)}}class wc{convert(n){return F.encode(n.ratio)}}class kc{convert(n){return new Te(F.decode(n))}}class bc extends x{encoder=new wc;decoder=new kc}const K=new bc;class Or{constructor(n,s,r){this.address=n,this.voterParticipation=s,this.leaderParticipation=r,Object.freeze(this)}toJSON(){return zn.encode(this)}}class Ac{convert(n){return y(n,"address","voter_participation","leader_participation"),new Or(C.decode(n.address),K.decode(n.voter_participation),K.decode(n.leader_participation))}}class Ic{convert(n){return{address:C.encode(n.address),voter_participation:K.encode(n.voterParticipation),leader_participation:K.encode(n.leaderParticipation)}}}class Pc extends x{encoder=new Ic;decoder=new Ac}const zn=new Pc,Dn=new Ce(new $(zn),new Se(zn));class Br{constructor(n,s,r){this.epoch=n,this.block=s,this.timestamp=r,Object.freeze(this)}toJSON(){return kt.encode(this)}}class Rc{convert(n){return y(n,"epoch","block","timestamp"),new Br(j.decode(n.epoch),j.decode(n.block),new Date(F.decode(n.timestamp)))}}class Ec{convert(n){return{epoch:j.encode(n.epoch),block:j.encode(n.block),timestamp:F.encode(n.timestamp.getTime())}}}class Dc extends x{encoder=new Ec;decoder=new Rc}const kt=new Dc;class Vr{constructor(n,s){this.espressoBlock=n,this.nodes=s,Object.freeze(this)}toJSON(){return Wr.encode(this)}}class Tc{convert(n){return y(n,"espresso_block","nodes"),new Vr(kt.decode(n.espresso_block),Dn.decode(n.nodes))}}class Oc{convert(n){return{espresso_block:kt.encode(n.espressoBlock),nodes:Dn.encode(n.nodes)}}}class Bc extends x{encoder=new Oc;decoder=new Tc}const Wr=new Bc;class Vc{async active(){const n=await sc(Qo()),s=Pe.slice().sort((o,i)=>Number(i.stake-o.stake)).slice(0,100),r=new Xo(n.genTime);return new Vr(new Br(BigInt(Math.floor(n.height/100)),BigInt(n.height),new Date(n.time)),Array.from(A(s,o=>new Or(o.address,new Te(r.nextFloat()),new Te(r.nextFloat())))))}async updatesSince(){throw new P}}class Qe{constructor(n,s,r){this.number=n,this.hash=s,this.timestamp=r,Object.freeze(this)}toJSON(){return le.encode(this)}}class Wc{convert(n){return y(n,"number","hash","timestamp"),new Qe(j.decode(n.number),C.decode(n.hash),new Date(F.decode(n.timestamp)))}}class Mc{convert(n){return{number:j.encode(n.number),hash:C.encode(n.hash),timestamp:F.encode(n.timestamp.valueOf())}}}class Jc extends x{encoder=new Mc;decoder=new Wc}const le=new Jc;class Tn{constructor(n,s,r,o){this.address=n,this.stakingKey=s,this.stake=r,this.commission=o,Object.freeze(this)}toJSON(){return Ye.encode(this)}}class Uc{convert(n){return y(n,"address","staking_key","stake","commission"),new Tn(C.decode(n.address),Ar.decode(n.staking_key),j.decode(n.stake),K.decode(n.commission))}}class Lc{convert(n){return{address:C.encode(n.address),staking_key:Ar.encode(n.stakingKey),stake:j.encode(n.stake),commission:K.encode(n.commission)}}}class Fc extends x{encoder=new Lc;decoder=new Uc}const Ye=new Fc,Mr=new Ce(new $(Ye),new Se(Ye));class ze{constructor(n,s=[]){this.l1Block=n,this.nodes=s,Object.freeze(this)}toJSON(){return Jr.encode(this)}}class Hc{convert(n){return y(n,"l1_block","nodes"),new ze(le.decode(n.l1_block),Mr.decode(n.nodes))}}class qc{convert(n){return{l1_block:le.encode(n.l1Block),nodes:Mr.encode(n.nodes)}}}class zc extends x{encoder=new qc;decoder=new Hc}const Jr=new zc;class $c{async snapshot(){return new ze(new Qe(BigInt(1),new ArrayBuffer(32),new Date),Array.from(A(Pe,n=>new Tn(n.address,n.stateVerKey,n.stake,new Te(n.commission/1e4)))))}async updatesSince(){throw new P}}class Ee{constructor(n,s,r){this.delegator=n,this.node=s,this.amount=r,Object.freeze(this)}toJSON(){return Xe.encode(this)}}class Kc{convert(n){return{delegator:C.encode(n.delegator),node:C.encode(n.node),amount:j.encode(n.amount)}}}class Gc{convert(n){return y(n,"delegator","node","amount","effective"),new Ee(C.decode(n.delegator),C.decode(n.node),j.decode(n.amount))}}class Qc extends x{encoder=new Kc;decoder=new Gc}const Xe=new Qc,Ur=new Ce(new $(Xe),new $(Xe));class G{constructor(n,s,r,o){this.delegator=n,this.node=s,this.amount=r,this.availableTime=o,Object.freeze(this)}toJSON(){return ye.encode(this)}}class Yc{convert(n){return{delegator:C.encode(n.delegator),node:C.encode(n.node),amount:j.encode(n.amount),available_time:F.encode(n.availableTime.valueOf())}}}class Xc{convert(n){return y(n,"delegator","node","amount","available_time"),new G(C.decode(n.delegator),C.decode(n.node),j.decode(n.amount),new Date(F.decode(n.available_time)))}}class Zc extends x{encoder=new Yc;decoder=new Xc}const ye=new Zc,Ht=new Ce(new $(ye),new Se(ye));class Ae{constructor(n,s,r,o,i){this.nodes=n,this.pendingUndelegations=s,this.pendingExits=r,this.claimedRewards=o,this.l1Block=i,Object.freeze(this)}toJSON(){return Lr.encode(this)}}class ei{convert(n){return y(n,"nodes","pending_undelegations","pending_exits","claimed_rewards","l1_block"),new Ae(Ur.decode(n.nodes),Ht.decode(n.pending_undelegations),Ht.decode(n.pending_exits),j.decode(n.claimed_rewards),le.decode(n.l1_block))}}class ti{convert(n){return{nodes:Ur.encode(n.nodes),pending_undelegations:Ht.encode(n.pendingUndelegations),pending_exits:Ht.encode(n.pendingExits),claimed_rewards:j.encode(n.claimedRewards),l1_block:le.encode(n.l1Block)}}}class ni extends x{encoder=new ti;decoder=new ei}const Lr=new ni;class $e{}class Fr extends $e{constructor(n){super(),this.claimedRewards=n,Object.freeze(this)}toJSON(){return za.encode(this)}}class si{convert(n){return new Fr(j.decode(n))}}class ai{convert(n){return j.encode(n.claimedRewards)}}class ri extends x{encoder=new ai;decoder=new si}const Bt="ClaimedRewards",za=new ri;class Hr extends $e{constructor(n){super(),this.delegation=n,Object.freeze(this)}toJSON(){return $a.encode(this)}}class oi{convert(n){return new Hr(Xe.decode(n))}}class ci{convert(n){return Xe.encode(n.delegation)}}class ii extends x{encoder=new ci;decoder=new oi}const Vt="DelegatedToNode",$a=new ii;class li{constructor(n,s,r){this.delegator=n,this.node=s,this.amount=r,Object.freeze(this)}toJSON(){return bt.encode(this)}}class di{convert(n){return{delegator:C.encode(n.delegator),node:C.encode(n.node),amount:j.encode(n.amount)}}}class pi{convert(n){return y(n,"delegator","node","amount"),new li(C.decode(n.delegator),C.decode(n.node),j.decode(n.amount))}}class ui extends x{encoder=new di;decoder=new pi}const bt=new ui;class qr extends $e{constructor(n){super(),this.withdrawal=n,Object.freeze(this)}toJSON(){return Ka.encode(this)}}class xi{convert(n){return new qr(bt.decode(n))}}class mi{convert(n){return bt.encode(n.withdrawal)}}class hi extends x{encoder=new mi;decoder=new xi}const Wt="NodeExitWithdrawal",Ka=new hi;class zr extends $e{constructor(n){super(),this.pendingWithdrawal=n,Object.freeze(this)}toJSON(){return Ga.encode(this)}}class _i{convert(n){return new zr(ye.decode(n))}}class Ci{convert(n){return ye.encode(n.pendingWithdrawal)}}class fi extends x{encoder=new Ci;decoder=new _i}const Mt="NodeExited",Ga=new fi;class $r extends $e{constructor(n){super(),this.pendingWithdrawal=n,Object.freeze(this)}toJSON(){return Qa.encode(this)}}class yi{convert(n){return new $r(ye.decode(n))}}class gi{convert(n){return ye.encode(n.pendingWithdrawal)}}class vi extends x{encoder=new gi;decoder=new yi}const Jt="UndelegatedFromNode",Qa=new vi;class Kr extends $e{constructor(n){super(),this.withdrawal=n,Object.freeze(this)}toJSON(){return Ya.encode(this)}}class ji{convert(n){return new Kr(bt.decode(n))}}class Ni{convert(n){return bt.encode(n.withdrawal)}}class Si extends x{encoder=new Ni;decoder=new ji}const Ut="UndelegationWithdrawal",Ya=new Si;class wi{convert(n){if(y(n),H(n,Bt))return za.decode(n[Bt]);if(H(n,Vt))return $a.decode(n[Vt]);if(H(n,Wt))return Ka.decode(n[Wt]);if(H(n,Mt))return Ga.decode(n[Mt]);if(H(n,Jt))return Qa.decode(n[Jt]);if(H(n,Ut))return Ya.decode(n[Ut]);const s=Object.keys(n);if(s.length<=0)throw new L("Empty WalletDiff object","object");const[r]=s;throw new L(r,`${Bt} | ${Vt} | ${Wt} | ${Mt} | ${Jt} | ${Ut}`)}}class ki{convert(n){if(n instanceof Fr)return{[Bt]:za.encode(n)};if(n instanceof Hr)return{[Vt]:$a.encode(n)};if(n instanceof qr)return{[Wt]:Ka.encode(n)};if(n instanceof zr)return{[Mt]:Ga.encode(n)};if(n instanceof $r)return{[Jt]:Qa.encode(n)};if(n instanceof Kr)return{[Ut]:Ya.encode(n)};throw new L("Unrecognized EspressoMessage type","Valid EspressoMessage Type")}}class bi extends x{encoder=new ki;decoder=new wi}const _r=new bi,Gr=new Ce(new $(_r),new Se(_r));class Qr{constructor(n,s){this.l1Block=n,this.diff=s,Object.freeze(this)}toJSON(){return Yr.encode(this)}}class Ai{convert(n){return y(n,"l1_block","diff"),new Qr(le.decode(n.l1_block),Gr.decode(n.diff))}}class Ii{convert(n){return{l1_block:le.encode(n.l1Block),diff:Gr.encode(n.diff)}}}class Pi extends x{encoder=new Ii;decoder=new Ai}const Yr=new Pi;class Ri{async snapshot(){return new Ae([],[],[],0n,new Qe(0n,new ArrayBuffer(0),new Date(0)))}async updates(){return new Qr(new Qe(0n,new ArrayBuffer(0),new Date(0)),[])}}class Ei{l1Block=new Sc;validatorsAll=new $c;validatorsActive=new Vc;wallet=new Ri;async setURL(){throw new P}}class Di{async getBlockForHeight(){throw new P}async getLatestBlock(){throw new P}}class Ti{async active(){throw new P}async updatesSince(){throw new P}}class Oi{async snapshot(){throw new P}async updatesSince(){throw new P}}class Bi{async snapshot(){throw new P}async updates(){throw new P}}class Vi{l1Block=new Di;validatorsAll=new Oi;validatorsActive=new Ti;wallet=new Bi;async setURL(){throw new P}}class Wi{helper;constructor(n){this.helper=n}async sendRequest(n,s,...r){return this.helper.submitRequest(n,"l1Block",s,r)}async getBlockForHeight(n){return await this.sendRequest(qn,"getBlockForHeight",j.encode(n))}async getLatestBlock(){return await this.sendRequest(qn,"getLatestBlock")}}function Mi(t){return new Worker(""+new URL("l1_validator_service_web_worker_api.js-DsfzcNam.js",import.meta.url).href,{name:t?.name})}class Ji{constructor(n,s){this.node=n,this.ratio=s,Object.freeze(this)}toJSON(){return $n.encode(this)}}class Ui{convert(n){return y(n,"node","percentage"),new Ji(F.decode(n.node),K.decode(n.percentage))}}class Li{convert(n){return{node:F.encode(n.node),percentage:K.encode(n.ratio)}}}class Fi extends x{encoder=new Li;decoder=new Ui}const $n=new Fi,Xr=new Ce(new $($n),new Se($n));class Zr{}class eo extends Zr{constructor(n,s){super(),this.leaders=n,this.voters=s,Object.freeze(this)}toJSON(){return Xa.encode(this)}}class Hi{convert(n){return y(n,"leaders","voters"),new eo(Xr.decode(n.leaders),Sr.decode(n.voters))}}class qi{convert(n){return{leaders:Xr.encode(n.leaders),voters:Sr.encode(n.voters)}}}class zi extends x{encoder=new qi;decoder=new Hi}const Lt="NewBlock",Xa=new zi;class to extends Zr{constructor(n){super(),this.entries=n,Object.freeze(this)}toJSON(){return Za.encode(this)}}class $i{convert(n){return new to(Dn.decode(n))}}class Ki{convert(n){return Dn.encode(n.entries)}}class Gi extends x{encoder=new Ki;decoder=new $i}const Ft="NewEpoch",Za=new Gi;class Qi{convert(n){if(y(n),H(n,Ft))return Za.decode(n[Ft]);if(H(n,Lt))return Xa.decode(n[Lt]);const s=Object.keys(n);if(s.length<=0)throw new L("Empty EspressoMessage object","object");const[r]=s;throw new L(r,`${Ft} | ${Lt}`)}}class Yi{convert(n){if(n instanceof to)return{[Ft]:Za.encode(n)};if(n instanceof eo)return{[Lt]:Xa.encode(n)};throw new L("Unrecognized EspressoMessage type","Valid EspressoMessage Type")}}class Xi extends x{encoder=new Yi;decoder=new Qi}const Cr=new Xi,no=new Ce(new $(Cr),new Se(Cr));class Zi{constructor(n,s){this.espressoBlock=n,this.diff=s,Object.freeze(this)}toJSON(){return so.encode(this)}}class el{convert(n){return y(n,"espresso_block","diff"),new Zi(kt.decode(n.espresso_block),no.decode(n.diff))}}class tl{convert(n){return{espresso_block:kt.encode(n.espressoBlock),diff:no.encode(n.diff)}}}class nl extends x{encoder=new tl;decoder=new el}const so=new nl;class sl{helper;constructor(n){this.helper=n}async sendRequest(n,s,...r){return this.helper.submitRequest(n,"validatorsActive",s,r)}async active(){return await this.sendRequest(Wr,"active")}async updatesSince(n){return await this.sendRequest(so,"updatesSince",j.encode(n))}}class al{constructor(n,s){this.address=n,this.exitTime=s,Object.freeze(this)}toJSON(){return er.encode(this)}}class rl{convert(n){return y(n,"address","exit_time"),new al(C.decode(n.address),new Date(n.exit_time))}}class ol{convert(n){return{address:C.encode(n.address),exit_time:n.exitTime.toISOString()}}}class cl extends x{encoder=new ol;decoder=new rl}const er=new cl;class ao{}class ro extends ao{constructor(n){super(),this.validatorExit=n,Object.freeze(this)}toJSON(){return tr.encode(this)}}class il{convert(n){return y(n,"validator_exit"),new ro(er.decode(n.validator_exit))}}class ll{convert(n){return{validator_exit:er.encode(n.validatorExit)}}}class dl extends x{encoder=new ll;decoder=new il}const Kn="NodeExit",tr=new dl;class oo extends ao{constructor(n){super(),this.validatorInformation=n,Object.freeze(this)}toJSON(){return nr.encode(this)}}class pl{convert(n){return new oo(Ye.decode(n))}}class ul{convert(n){return Ye.encode(n.validatorInformation)}}class xl extends x{encoder=new ul;decoder=new pl}const Gn="NodeUpdate",nr=new xl;class ml{convert(n){if(y(n),H(n,Gn))return nr.decode(n[Gn]);if(H(n,Kn))return tr.decode(n[Kn]);throw Object.keys(n).length<=0?new L("Empty L1Message object","object"):new L("Unrecognized L1Message type","Valid L1 Type")}}class hl{convert(n){if(n instanceof oo)return{[Gn]:nr.encode(n)};if(n instanceof ro)return{[Kn]:tr.encode(n)};throw new L("Unrecognized L1Message type","Valid L1 Type")}}class _l extends x{encoder=new hl;decoder=new ml}const fr=new _l,co=new Ce(new $(fr),new Se(fr));class Cl{constructor(n,s=[]){this.l1Block=n,this.diff=s,Object.freeze(this)}toJSON(){return io.encode(this)}}class fl{convert(n){return y(n,"l1_block","diff"),new Cl(le.decode(n.l1_block),co.decode(n.diff))}}class yl{convert(n){return{l1_block:le.encode(n.l1Block),diff:co.encode(n.diff)}}}class gl extends x{encoder=new yl;decoder=new fl}const io=new gl;class vl{helper;constructor(n){this.helper=n}async sendRequest(n,s,...r){return this.helper.submitRequest(n,"validatorsAll",s,r)}async snapshot(n){const s=u.encode(n);return await this.sendRequest(Jr,"snapshot",s)}async updatesSince(n){return await this.sendRequest(io,"updatesSince",C.encode(n))}}class jl{helper;constructor(n){this.helper=n}async sendRequest(n,s,...r){return this.helper.submitRequest(n,"wallet",s,r)}async snapshot(n,s){return await this.sendRequest(Lr,"snapshot",u.encode(n),u.encode(s))}async updates(n,s){return await this.sendRequest(Yr,"updates",u.encode(n),u.encode(s))}}const Ke=F;class sr{requestID;api;method;param;constructor(n,s,r,o){this.requestID=n,this.api=s,this.method=r,this.param=o}toJSON(){return{requestID:this.requestID,api:this.api,method:this.method,param:this.param}}}class Nl{convert(n){return y(n,"requestID","api","method","param"),new sr(Ke.decode(n.requestID),Ge.decode(n.api),Ge.decode(n.method),n.param)}}class Sl{convert(n){return En(n,sr),{requestID:Ke.encode(n.requestID),api:Ge.encode(n.api),method:Ge.encode(n.method),param:n.param}}}class wl extends x{encoder=new Sl;decoder=new Nl}const kl=new wl;class ar{requestID;constructor(n){this.requestID=n}}class rr extends ar{response;constructor(n,s){super(n),this.response=s}toJSON(){return lo.encode(this)}}class bl{convert(n){return y(n,"requestID","response"),new rr(Ke.decode(n.requestID),n.response)}}class Al{convert(n){return En(n,rr),{requestID:Ke.encode(n.requestID),response:n.response}}}class Il extends x{encoder=new Al;decoder=new bl}const lo=new Il;class or extends ar{error;constructor(n,s){super(n),this.error=s}toJSON(){return po.encode(this)}}class Pl{convert(n){return y(n,"requestID","error"),new or(Ke.decode(n.requestID),kr.decode(n.error))}}class Rl{convert(n){return En(n,or),{requestID:Ke.encode(n.requestID),error:kr.encode(n.error)}}}class El extends x{encoder=new Rl;decoder=new Pl}const po=new El;class Dl{convert(n){if(xr(n,"response",mr))return lo.decode(n);if(xr(n,"error",mr))return po.decode(n);throw new rc}}class Tl{convert(n){return En(n,ar),n.toJSON()}}class Ol extends x{encoder=new Tl;decoder=new Dl}const yr=new Ol;class Bl{worker;nextRequestID=0;requestCompleters=new Map;constructor(n){this.worker=n,n.addEventListener("message",this.handleMessage.bind(this)),n.addEventListener("messageerror",this.handleMessageError.bind(this)),n.addEventListener("error",this.handleError.bind(this))}async submitRequest(n,s,r,o){const[i,l]=this.nextRequest();try{return this.worker.postMessage(kl.encode(new sr(i,s,r,o))),await l.promise.then(d=>{if(d instanceof or)throw new Ho(d.error);if(d instanceof rr){const{response:m}=d;return n.decode(m)}throw new L(typeof d,"WebWorkerResponse")})}finally{this.requestCompleters.delete(i)}}nextRequest(){const n=this.nextRequestID++,s=qo();return this.requestCompleters.set(n,s),[n,s]}handleMessage(n){const s=yr.decode(n.data),r=this.requestCompleters.get(s.requestID);if(r===void 0)throw new ur(s.requestID);r.complete(s)}handleMessageError(n){const s=yr.decode(n.data),r=this.requestCompleters.get(s.requestID);if(r===void 0)throw new ur(s.requestID);r.completeError(s)}handleError(n){debugger;console.error("encountered error setting up Web worker",n)}}let Hn=null;function Vl(){return Hn||(Hn=new Mi),Hn}class Wl{l1Block;validatorsAll;validatorsActive;wallet;helper;constructor(){const n=Vl(),s=new Bl(n);this.helper=s,this.l1Block=new Wi(s),this.validatorsAll=new vl(s),this.validatorsActive=new sl(s),this.wallet=new jl(s)}async sendRequest(n,s,...r){return this.helper.submitRequest(n,"proxy",s,r)}async setURL(n){return await this.sendRequest(zo,"set-url",Ge.encode(n))}}const Q=a.createContext(new Vi);let At=null;function Ml(t){return At===null&&(At=new Wl),t&&At.setURL(t).then(n=>{n||console.warn("unable to set the url for the hotshot query service",t)},n=>{console.error("unable to set the url for the hotshot query service",t,n)}),At}function Jl(t){return typeof window<"u"&&"Worker"in window||typeof self<"u"&&"Worker"in self?Ml(t):new Ei}const Qn=t=>{const s=a.useContext(Go)?.l1ValidatorServiceURL;return e.jsx(Q.Provider,{value:Jl(s),children:t.children})};try{Q.displayName="L1ValidatorServiceContext",Q.__docgenInfo={description:`L1ValidatorServiceContext provides a React Context
for the L1ValidatorService API.`,displayName:"L1ValidatorServiceContext",props:{}}}catch{}try{Qn.displayName="ProvideL1ValidatorServiceAPIContext",Qn.__docgenInfo={description:`ProvideL1ValidatorServiceAPIContext is a React Component that provides
the L1ValidatorService API context to its children.`,displayName:"ProvideL1ValidatorServiceAPIContext",props:{}}}catch{}const Ze=a.createContext(null),Yn=({children:t})=>{const s=a.useContext(Q).validatorsActive.active();return e.jsx(M,{promise:s,children:e.jsx(Ul,{children:t})})},Ul=({children:t})=>{const n=a.useContext(W)??null;return e.jsx(Ze.Provider,{value:n,children:t})};try{Ze.displayName="ActiveValidatorsContext",Ze.__docgenInfo={description:`ActiveValidatorsContext provides a React Context
for the current active validator set snapshot.`,displayName:"ActiveValidatorsContext",props:{}}}catch{}try{Yn.displayName="RetrieveActiveValidators",Yn.__docgenInfo={description:`RetrieveActiveValidators is a React Component that retrieves
the current active validator set and provides it
via the ActiveValidatorsContext to its children.`,displayName:"RetrieveActiveValidators",props:{}}}catch{}const et=a.createContext(null),Xn=({children:t})=>{const s=a.useContext(Q).l1Block.getLatestBlock();return e.jsx(M,{promise:s,children:e.jsx(Ll,{children:t})})},Ll=({children:t})=>{const n=a.useContext(W)??null;return e.jsx(et.Provider,{value:n,children:t})};try{et.displayName="L1BlockIDContext",et.__docgenInfo={description:"L1BlockIDContext defines a React Context for the current L1 Block ID.",displayName:"L1BlockIDContext",props:{}}}catch{}try{Xn.displayName="RetrieveLatestL1BlockID",Xn.__docgenInfo={description:`RetrieveLatestL1BlockID is a React Component that retrieves
the latest L1 Block ID and provides it via the L1BlockIDContext
to its children.`,displayName:"RetrieveLatestL1BlockID",props:{}}}catch{}const S=a.createContext(null),Zn=({children:t})=>{const n=a.useContext(Q),s=a.useContext(et),r=s?n.validatorsAll.snapshot(s.hash):ie;return e.jsx(M,{promise:r,children:e.jsx(Fl,{children:t})})},Fl=({children:t})=>{const n=a.useContext(W)??null;return e.jsx(S.Provider,{value:n,children:t})};try{S.displayName="AllValidatorsContext",S.__docgenInfo={description:`AllValidatorsContext provides a React Context
for the current full validator set snapshot.`,displayName:"AllValidatorsContext",props:{}}}catch{}try{Zn.displayName="RetrieveAllValidators",Zn.__docgenInfo={description:`RetrieveAllValidators is a React Component that retrieves
the current full validator set and provides it
via the AllValidatorsContext to its children.`,displayName:"RetrieveAllValidators",props:{}}}catch{}const q=a.createContext(new Date),Y=a.createContext(()=>{}),es=({children:t})=>{const[n,s]=a.useState(new Date);return e.jsx(q.Provider,{value:n,children:e.jsx(Y.Provider,{value:s,children:t})})};try{q.displayName="L1RefreshTimestampContext",q.__docgenInfo={description:`L1RefreshTimestampContext defines a React Context for the current
L1 refresh timestamp.

This context governs when data retrieved from the L1 and Smart Contracts
should be refreshed.`,displayName:"L1RefreshTimestampContext",props:{}}}catch{}try{Y.displayName="SetL1RefreshTimestampContext",Y.__docgenInfo={description:`SetL1RefreshTimestampContext defines a React Context for updating
the current L1 refresh timestamp.`,displayName:"SetL1RefreshTimestampContext",props:{}}}catch{}try{es.displayName="ProvideL1RefreshTimestampContext",es.__docgenInfo={description:`ProvideL1RefreshTimestampContext is a React Component that provides
the L1RefreshTimestampContext and SetL1RefreshTimestampContext to its
children.`,displayName:"ProvideL1RefreshTimestampContext",props:{}}}catch{}const de=a.createContext(null),ts=({children:t})=>{a.useContext(q);const n=a.useContext(J)??null,s=a.useContext(jr),r=!n||!s?ie:s.claimedRewards(n);return e.jsx(M,{promise:r,children:e.jsx(Hl,{children:t})})},Hl=({children:t})=>{const n=a.useContext(W)??null;return e.jsx(de.Provider,{value:n,children:t})};try{de.displayName="LifetimeClaimedRewardsContext",de.__docgenInfo={description:`ClaimedRewardsContext provides a React Context
for the total lifetime claimed rewards from the RewardClaim contract.`,displayName:"LifetimeClaimedRewardsContext",props:{}}}catch{}try{ts.displayName="RetrieveLifetimeClaimedRewards",ts.__docgenInfo={description:`RetrieveLifetimeClaimedRewards is a React Component that retrieves
the total lifetime claimed rewards from the RewardClaim contract.`,displayName:"RetrieveLifetimeClaimedRewards",props:{}}}catch{}const X=a.createContext(new Map),ns=({children:t})=>{const n=a.useContext(Ze),s=new Map(A(n?.nodes??[],r=>[u.encode(r.address),r]));return e.jsx(X.Provider,{value:s,children:t})};try{X.displayName="ConsensusMapContext",X.__docgenInfo={description:`ConsensusMapContext provides a React Context
for the current set of active validator addresses in base64 format.`,displayName:"ConsensusMapContext",props:{}}}catch{}try{ns.displayName="DeriveConsensusSet",ns.__docgenInfo={description:`DeriveConsensusSet is a React Component that
derives the current consensus set from the active validators
and provides it via the ConsensusSetContext to its children.`,displayName:"DeriveConsensusSet",props:{}}}catch{}const pe=a.createContext(null),ss=({children:t})=>{a.use(q);const n=a.useContext(Q),s=a.useContext(et),r=a.useContext(J),o=!s||!r?ie:n.wallet.snapshot(u.decode(r),s?.hash);return e.jsx(M,{promise:o,children:e.jsx(ql,{children:t})})},ql=({children:t})=>{const n=a.useContext(W)??null;return e.jsx(pe.Provider,{value:n,children:t})};try{pe.displayName="WalletSnapshotContext",pe.__docgenInfo={description:`WalletSnapshotContext provides a React Context
for the current wallet snapshot.`,displayName:"WalletSnapshotContext",props:{}}}catch{}try{ss.displayName="RetrieveWalletSnapshot",ss.__docgenInfo={description:`RetrieveWalletSnapshot is a React Component that retrieves
a Wallet Snapshot from the L1 Validator API Service.`,displayName:"RetrieveWalletSnapshot",props:{}}}catch{}const qt=a.createContext(new Map),as=({children:t})=>{const n=a.useContext(pe),s=new Map(A(n?.nodes??De(),r=>[u.encode(r.node),r]));return e.jsx(qt.Provider,{value:s,children:t})};try{qt.displayName="CurrentDelegationsContext",qt.__docgenInfo={description:`CurrentDelegationsContext provides a React Context
for the current map of validators with whom we are currently delegated.`,displayName:"CurrentDelegationsContext",props:{}}}catch{}try{as.displayName="DeriveCurrentDelegations",as.__docgenInfo={description:`DeriveCurrentDelegations is a React Component that
derives the current mapping of all of the current wallet's delegations.`,displayName:"DeriveCurrentDelegations",props:{}}}catch{}function zt(t){const{children:n,...s}=t,r=fc(s),o=r.isLoading?N.waiting:N.done;return r.isError?e.jsx(U.Provider,{value:k.withError(o,r.error),children:e.jsx(Fn,{children:n})}):typeof r.data>"u"||r.data===null?e.jsx(U.Provider,{value:k.withError(o,k.withError(o,new L(typeof r.data,"string | bigint | number | boolean"))),children:e.jsx(Fn,{children:n})}):e.jsx(U.Provider,{value:k.withData(o,r.data),children:e.jsx(Fn,{children:n})})}try{zt.displayName="ReadContractToAsyncSnapshot",zt.__docgenInfo={description:`ReadContractToAsyncSnapshot is a React component that
reads data from a smart contract using the wagmi useReadContract hook
and provides the result as an AsyncSnapshot via AsyncSnapshotContext.

It will automatically attempt to fetch the reactContract values based on
the provided abi, functionName, args, and config generic parameters, and
make that data available in the children via AsyncSnapshotContext, and the
derived Context states just like PromiseResolver.`,displayName:"ReadContractToAsyncSnapshot",props:{account:{defaultValue:null,description:"Account attached to the call (msg.sender).",name:"account",required:!1,type:{name:"`0x${string}` | Account"}},authorizationList:{defaultValue:null,description:"",name:"authorizationList",required:!1,type:{name:"AuthorizationList<number, boolean>"}},blockNumber:{defaultValue:null,description:"The balance of the account at a block number.",name:"blockNumber",required:!1,type:{name:"bigint"}},blockOverrides:{defaultValue:null,description:"Block overrides for the call.",name:"blockOverrides",required:!1,type:{name:"BlockOverrides<bigint, number>"}},blockTag:{defaultValue:{value:"'latest'"},description:"The balance of the account at a block tag.",name:"blockTag",required:!1,type:{name:"enum",value:[{value:'"latest"'},{value:'"earliest"'},{value:'"pending"'},{value:'"safe"'},{value:'"finalized"'}]}},factory:{defaultValue:null,description:"Contract deployment factory address (ie. Create2 factory, Smart Account factory, etc).",name:"factory",required:!1,type:{name:"`0x${string}`"}},factoryData:{defaultValue:null,description:"Calldata to execute on the factory to deploy the contract.",name:"factoryData",required:!1,type:{name:"`0x${string}`"}},stateOverride:{defaultValue:null,description:"State overrides for the call.",name:"stateOverride",required:!1,type:{name:"StateOverride"}},abi:{defaultValue:null,description:"",name:"abi",required:!1,type:{name:"Abi | readonly unknown[]"}},functionName:{defaultValue:null,description:"",name:"functionName",required:!1,type:{name:"string"}},args:{defaultValue:null,description:"",name:"args",required:!1,type:{name:"unknown"}},address:{defaultValue:null,description:"",name:"address",required:!1,type:{name:"`0x${string}`"}},chainId:{defaultValue:null,description:"",name:"chainId",required:!1,type:{name:"number"}},scopeKey:{defaultValue:null,description:"",name:"scopeKey",required:!1,type:{name:"string"}},config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"Config"}},query:{defaultValue:null,description:"",name:"query",required:!1,type:{name:'StrictOmit<{ meta?: Record<string, unknown>; select?: ((data: ContractFunctionReturnType<abi, "view" | "pure", functionName, args>) => selectData); ... 28 more ...; initialData?: ContractFunctionReturnType<...> | ... 1 more ... | undefined; }, "queryKey" | ... 3 more ... | "queryKeyHashFn"> |...'}},code:{defaultValue:null,description:"",name:"code",required:!1,type:{name:"`0x${string}`"}}}}}catch{}const w=a.createContext(0n),rs=a.createContext(k.nothing()),os=({children:t})=>e.jsx(cs,{children:t}),cs=({children:t})=>{a.useContext(q);const n=a.useContext(Pn),s=a.useContext(J),r=!s||!n?ie:n.balanceOf(s);return e.jsx(M,{promise:r,children:e.jsx(uo,{children:t})})},gr=({children:t})=>{const n=a.useContext(J);ac(n);const s=a.useContext(Rr),r=Nr,o=s?.espTokenContractAddress??void 0;return e.jsx(zt,{abi:r,address:o,functionName:"balanceOf",args:[n],children:e.jsx(zl,{children:e.jsx(uo,{children:t})})})},zl=({children:t})=>{const n=a.useContext(U);return e.jsx(rs.Provider,{value:n,children:t})},uo=({children:t})=>{const n=a.useContext(W)??null;return e.jsx(w.Provider,{value:n??0n,children:t})};try{w.displayName="ESPBalanceContext",w.__docgenInfo={description:"",displayName:"ESPBalanceContext",props:{}}}catch{}try{rs.displayName="ESPBalanceAsyncSnapshotContext",rs.__docgenInfo={description:"",displayName:"ESPBalanceAsyncSnapshotContext",props:{}}}catch{}try{os.displayName="ProvideESPBalance",os.__docgenInfo={description:`ProvideTotalSupply is a React component that fetches
the total supply of the ESP token from the blockchain
and provides it via TotalSupplyContext.`,displayName:"ProvideESPBalance",props:{}}}catch{}try{cs.displayName="ProvideTotalSupplyFromContractCall",cs.__docgenInfo={description:`ProvideTotalSupplyFromAPICall is a React component that fetches
the total supply of the ESP token from the local ESPTokenContract
and provides it via TotalSupplyContext.`,displayName:"ProvideTotalSupplyFromContractCall",props:{}}}catch{}try{gr.displayName="ProvideESPBalanceFromContractRead",gr.__docgenInfo={description:`ProvideTotalSupplyFromContractRead is a React component that fetches
the total supply of the ESP token from the blockchain
and provides it via TotalSupplyContext.`,displayName:"ProvideESPBalanceFromContractRead",props:{}}}catch{}const tt=a.createContext(new Date),is=a.createContext(()=>{}),ls=({children:t})=>{const[n,s]=a.useState(new Date);return e.jsx(tt.Provider,{value:n,children:e.jsx(is.Provider,{value:s,children:t})})};try{tt.displayName="EspressoRefreshTimestampContext",tt.__docgenInfo={description:`EspressoRefreshTimestampContext defines a React Context for the current
Espresso refresh timestamp.

This context governs when data retrieved from the Espresso network.`,displayName:"EspressoRefreshTimestampContext",props:{}}}catch{}try{is.displayName="SetEspressoRefreshTimestampContext",is.__docgenInfo={description:`SetEspressoRefreshTimestampContext defines a React Context for updating
the current Espresso refresh timestamp.`,displayName:"SetEspressoRefreshTimestampContext",props:{}}}catch{}try{ls.displayName="ProvideEspressoRefreshTimestampContext",ls.__docgenInfo={description:`ProvideEspressoRefreshTimestampContext is a React Component that provides
the EspressoRefreshTimestampContext and SetEspressoRefreshTimestampContext
to its children.`,displayName:"ProvideEspressoRefreshTimestampContext",props:{}}}catch{}const $t=a.createContext(null),ds=({children:t})=>{a.useContext(tt);const s=a.useContext(wr).status.blockHeight();return e.jsx(M,{promise:s,children:e.jsx($l,{children:t})})},$l=({children:t})=>{const n=a.useContext(W)??null;return e.jsx($t.Provider,{value:Zo.decode(n),children:t})};try{$t.displayName="EspressoBlockHeightContext",$t.__docgenInfo={description:`EspressoBlockHeightContext provides a React Context
for the last queried block height of the Espresso Chain`,displayName:"EspressoBlockHeightContext",props:{}}}catch{}try{ds.displayName="RetrieveEspressoBlockHeight",ds.__docgenInfo={description:`RetrieveActiveValidators is a React Component that retrieves
the current Espresso Block Height set and provides it
via the EspressoBlockHeightContext to its children.`,displayName:"RetrieveEspressoBlockHeight",props:{}}}catch{}const ue=a.createContext(new Map),ps=({children:t})=>{const n=a.useContext(pe),s=new Map(A(n?.pendingExits??De(),r=>[u.encode(r.node),r]));return e.jsx(ue.Provider,{value:s,children:t})};try{ue.displayName="PendingExitsContext",ue.__docgenInfo={description:`PendingExitsContext provides a React Context
for the current map of validators who have exited, and your pending amount`,displayName:"PendingExitsContext",props:{}}}catch{}try{ps.displayName="DerivePendingExits",ps.__docgenInfo={description:`DerivePendingExits is a React Component that
derives the current mapping of all of the pending exits for the
current wallet.`,displayName:"DerivePendingExits",props:{}}}catch{}const xe=a.createContext(new Map),us=({children:t})=>{const n=a.useContext(pe),s=new Map(A(n?.pendingUndelegations??De(),r=>[u.encode(r.node),r]));return e.jsx(xe.Provider,{value:s,children:t})};try{xe.displayName="PendingUndelegationsContext",xe.__docgenInfo={description:`PendingUndelegationsContext provides a React Context
for the current map of validators with whom we have undelegated already.`,displayName:"PendingUndelegationsContext",props:{}}}catch{}try{us.displayName="DerivePendingUndelegations",us.__docgenInfo={description:`DerivePendingUndelegations is a React Component that
derives the current mapping of all of the pending undelegations for the
current wallet.`,displayName:"DerivePendingUndelegations",props:{}}}catch{}const nt=a.createContext(new Map);function Kl(t,n){return Number(t.stake)*(1-t.commission.valueOf())*(n?.leaderParticipation?.valueOf()??.5)*(n?.voterParticipation?.valueOf()??.5)}const xs=({children:t})=>{const n=a.useContext(S),s=a.useContext(X),r=Array.from(ec(A(n?.nodes??De(),i=>u.encode(i.address)),A(n?.nodes??De(),i=>Kl(i,s.get(u.encode(i.address)))),(i,l)=>[i,l])).sort((i,l)=>l[1]-i[1]),o=new Map(r.map((i,l)=>[i[0],l+1]));return e.jsx(nt.Provider,{value:o,children:t})};try{nt.displayName="RankMapContext",nt.__docgenInfo={description:`RankMapContext provides a React Context
for the current mapping of validator addresses to their ranks.`,displayName:"RankMapContext",props:{}}}catch{}try{xs.displayName="DeriveRank",xs.__docgenInfo={description:`DeriveRank is a React Component that
derives the current rank mapping from the all validators
and provides it via the RankMapContext to its children.`,displayName:"DeriveRank",props:{}}}catch{}const Z=a.createContext(null),ms=({children:t})=>{a.useContext(tt);const n=a.useContext($t),s=a.useContext(J),r=a.useContext(wr),o=n==null||!s?ie:r.rewardState.getRewardClaimInput(new $o(Number(n),s));return e.jsx(M,{promise:o,children:e.jsx(Gl,{children:t})})},Gl=({children:t})=>{const n=a.useContext(W)??null;return e.jsx(Z.Provider,{value:n,children:t})};try{Z.displayName="EspressoRewardClaimInputContext",Z.__docgenInfo={description:`EspressoRewardClaimInputContext provides a React Context
for the RewardClaimInput for the current wallet and espresso height`,displayName:"EspressoRewardClaimInputContext",props:{}}}catch{}try{ms.displayName="RetrieveEspressoRewardClaimInput",ms.__docgenInfo={description:`RetrieveActiveValidators is a React Component that retrieves
the RewardClaimInput for the current wallet and espresso height and provides
it via the EspressoRewardClaimInputContext to its children.`,displayName:"RetrieveEspressoRewardClaimInput",props:{}}}catch{}const st=a.createContext(0n),hs=({children:t})=>e.jsx(Ql,{children:t}),Ql=({children:t})=>{const n=a.useContext(S),s=br((r,o)=>r+o.stake,0n,n?.nodes??De());return e.jsx(st.Provider,{value:s,children:t})};try{st.displayName="TotalStakeContext",st.__docgenInfo={description:`TotalStakeContext provides a React Context
for the total stake of all validators.`,displayName:"TotalStakeContext",props:{}}}catch{}try{hs.displayName="DeriveTotalStake",hs.__docgenInfo={description:`DeriveTotalStake is a component that Provides the TotalStakeContext
by calculating the total stake from the AllValidatorsContext.`,displayName:"DeriveTotalStake",props:{}}}catch{}const Kt=a.createContext(null),_s=a.createContext(k.nothing()),Cs=({children:t})=>e.jsx(fs,{children:t}),fs=({children:t})=>{a.useContext(q);const n=a.useContext(Pn),s=n?n.totalSupply():ie;return e.jsx(M,{promise:s,children:e.jsx(xo,{children:t})})},vr=({children:t})=>{const n=a.useContext(Rr),s=Nr,r=n?.espTokenContractAddress??void 0;return e.jsx(zt,{abi:s,address:r,functionName:"totalSupply",children:e.jsx(Yl,{children:e.jsx(xo,{children:t})})})},Yl=({children:t})=>{const n=a.useContext(U);return e.jsx(_s.Provider,{value:n,children:t})},xo=({children:t})=>{const n=a.useContext(W)??null;return e.jsx(Kt.Provider,{value:n,children:t})};try{Kt.displayName="TotalSupplyContext",Kt.__docgenInfo={description:`TotalSupplyContext provides a React Context
for the total supply of the ESP token.`,displayName:"TotalSupplyContext",props:{}}}catch{}try{_s.displayName="TotalSupplyAsyncSnapshotContext",_s.__docgenInfo={description:"",displayName:"TotalSupplyAsyncSnapshotContext",props:{}}}catch{}try{Cs.displayName="ProvideTotalSupply",Cs.__docgenInfo={description:`ProvideTotalSupply is a React component that fetches
the total supply of the ESP token from the blockchain
and provides it via TotalSupplyContext.`,displayName:"ProvideTotalSupply",props:{}}}catch{}try{fs.displayName="ProvideTotalSupplyFromContractCall",fs.__docgenInfo={description:`ProvideTotalSupplyFromAPICall is a React component that fetches
the total supply of the ESP token from the local ESPTokenContract
and provides it via TotalSupplyContext.`,displayName:"ProvideTotalSupplyFromContractCall",props:{}}}catch{}try{vr.displayName="ProvideTotalSupplyFromContractRead",vr.__docgenInfo={description:`ProvideTotalSupplyFromContractRead is a React component that fetches
the total supply of the ESP token from the blockchain
and provides it via TotalSupplyContext.`,displayName:"ProvideTotalSupplyFromContractRead",props:{}}}catch{}class fe{}class cr extends fe{constructor(){super(),Object.freeze(this)}}class Gt extends fe{constructor(n){super(),this.validatorAddress=n,Object.freeze(this)}}class mo extends fe{constructor(){super(),Object.freeze(this)}}class Oe extends fe{constructor(n){super(),this.validatorAddress=n,Object.freeze(this)}}class Qt extends fe{constructor(n){super(),this.validatorAddress=n,Object.freeze(this)}}class ir extends fe{constructor(n){super(),this.validatorAddress=n,Object.freeze(this)}}class lr extends fe{constructor(n){super(),this.validatorAddress=n,Object.freeze(this)}}class dr extends fe{constructor(n){super(),this.validatorAddress=n,Object.freeze(this)}}const ee=a.createContext(new cr),te=a.createContext(()=>{}),ys=({children:t})=>{const[n,s]=a.useState(new cr);return e.jsx(ee.Provider,{value:n,children:e.jsx(te.Provider,{value:s,children:t})})};try{ee.displayName="ValidatorSelectionContext",ee.__docgenInfo={description:"",displayName:"ValidatorSelectionContext",props:{}}}catch{}try{te.displayName="SetValidatorSelectionContext",te.__docgenInfo={description:"",displayName:"SetValidatorSelectionContext",props:{}}}catch{}try{ys.displayName="ProvideValidatorSelection",ys.__docgenInfo={description:"",displayName:"ProvideValidatorSelection",props:{}}}catch{}const Xl=t=>a.createElement(wt,{...t,className:E(t.className,"stroked")},e.jsxs(e.Fragment,{children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}));try{logout.displayName="logout",logout.__docgenInfo={description:"LogOut represents a logout icon.",displayName:"logout",props:{}}}catch{}const gs=t=>a.createElement(wt,{...t,className:E(t.className,"stroked")},e.jsxs("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-plus",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}));try{plus.displayName="plus",plus.__docgenInfo={description:"Plus represents a plus sign.",displayName:"plus",props:{}}}catch{}const ho=t=>e.jsx("button",{...t,className:E(t.className,"bbtn")});try{buttonbase.displayName="buttonbase",buttonbase.__docgenInfo={description:`ButtonBase is a simple wrapper around a normal button element that adds the
class 'btn' to the button in order to change it's styling.`,displayName:"buttonbase",props:{}}}catch{}const p=({className:t,...n})=>e.jsx(ho,{className:E(t,"btn-large"),...n});try{buttonlarge.displayName="buttonlarge",buttonlarge.__docgenInfo={description:`ButtonLarge is a wrapper around ButtonBase that adds the 'btn-large' class
to the button in order to change its styling to a larger button.`,displayName:"buttonlarge",props:{}}}catch{}const vs=()=>{const t=a.useContext(qa),n=a.useContext(J);return n?e.jsxs("span",{children:[e.jsx("span",{className:"wallet-address-preview",children:e.jsx(ke,{value:new be(u.decode(n))})}),"Â ",e.jsxs(p,{className:"connect-wallet connected-wallet",onClick:t.openAccountModal,children:[e.jsx(c,{text:"Connect Wallet"}),e.jsx(Xl,{})]})]}):e.jsxs(p,{className:"connect-wallet",onClick:t.openConnectModal,children:[e.jsx(gs,{}),e.jsx(c,{text:"Connect Wallet"})]})};try{vs.displayName="ConnectWalletButton",vs.__docgenInfo={description:`ConnectWalletButton is a button that will open the RainbowKit Wallet Connect
Modal when pressed.`,displayName:"ConnectWalletButton",props:{}}}catch{}const js=t=>e.jsxs("header",{className:"delegation",...t,children:[e.jsx(xc,{}),e.jsx(vs,{})]});try{js.displayName="DelegationHeader",js.__docgenInfo={description:"DelegationHeader is the header component for the Delegation UI page.",displayName:"DelegationHeader",props:{}}}catch{}const z=a.createContext({ref:null,open:()=>{},close:()=>{},setOpenState:()=>{},isOpen:!1});function Zl(){const t=a.useRef(null),[n,s]=a.useState(!1);return{ref:t,open:()=>{t.current&&!n&&(t.current.showModal(),s(!0))},close:()=>{t.current&&n&&(t.current.close(),s(!1))},setOpenState:l=>{s(l)},isOpen:n}}const Ns=({children:t})=>{const n=Zl();return e.jsx(z.Provider,{value:n,children:t})},Ss=({children:t,...n})=>{const s=a.useContext(z);return e.jsx("dialog",{ref:s.ref,...n,onClose:()=>{s.setOpenState(!1)},children:t})};try{z.displayName="ModalContext",z.__docgenInfo={description:"",displayName:"ModalContext",props:{}}}catch{}try{Ns.displayName="ProvideDialogModalControls",Ns.__docgenInfo={description:"",displayName:"ProvideDialogModalControls",props:{}}}catch{}try{Ss.displayName="DialogModal",Ss.__docgenInfo={description:"",displayName:"DialogModal",props:{closedby:{defaultValue:null,description:"",name:"closedby",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"any"'},{value:'"closerequest"'}]}}}}}catch{}function ed(t){const[n,s]=a.useState(t);return[n,s]}const _o=a.createContext(null),Co=a.createContext(()=>{}),fo=a.createContext(null);function ws(t){const[n,s]=ed(t.selected);return e.jsx(fo.Provider,{value:n,children:e.jsx(Co.Provider,{value:r=>{s(r),t.onSelectionChange(r)},children:e.jsx("div",{className:E(t.className,"btn-segmented"),children:t.segments.map((r,o)=>e.jsx(_o.Provider,{value:r,children:e.jsx(td,{})},o))})})})}const td=()=>{const t=a.useContext(_o),n=a.useContext(fo),s=a.useContext(Co);return t?e.jsx(p,{className:"btn-segment","data-selected":t.value===n,onClick:()=>{s(t.value)},children:t.label}):null};try{ws.displayName="SegmentedButton",ws.__docgenInfo={description:"",displayName:"SegmentedButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"T"}},onSelectionChange:{defaultValue:null,description:"",name:"onSelectionChange",required:!0,type:{name:"(value: T) => void"}},segments:{defaultValue:null,description:"",name:"segments",required:!0,type:{name:"ButtonSegment<T>[]"}}}}}catch{}const ge=t=>e.jsx("div",{className:"value",children:t.children});try{ge.displayName="CardContentValue",ge.__docgenInfo={description:"CardContentValue is a container for the main value displayed in a card.",displayName:"CardContentValue",props:{}}}catch{}const ks=t=>e.jsx("div",{className:E(t.className,"bcard"),children:t.children});try{ks.displayName="Card",ks.__docgenInfo={description:"Card component for displaying content in a card layout.",displayName:"Card",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const ve=t=>e.jsx(ks,{className:E(t.className,"card-value"),children:t.children});try{ve.displayName="CardValue",ve.__docgenInfo={description:"",displayName:"CardValue",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const bs=()=>{const t=a.useContext(w);return e.jsxs(ve,{className:"estimated-apr-card",children:[e.jsx("h2",{children:e.jsx(c,{text:"Available Balance"})}),e.jsx(ge,{children:e.jsx(g,{money:h.ESP(t)})})]})};try{bs.displayName="AvailableBalanceCard",bs.__docgenInfo={description:`AvailableBalanceCard is a component that displays the Available Balance of
the active Wallet.`,displayName:"AvailableBalanceCard",props:{}}}catch{}const As=()=>{const t=a.useContext(Z),n=a.useContext(de)??0n,s=(t?.lifetimeRewards??n)-n;return e.jsxs(ve,{className:"claimable-rewards-card",children:[e.jsx("h2",{children:e.jsx(c,{text:"Claimable Rewards"})}),e.jsx(nd,{}),e.jsx(ge,{children:e.jsx(g,{money:h.ESP(s)})})]})},nd=()=>{const t=a.useContext(Z),n=a.useContext(de)??0n,s=(t?.lifetimeRewards??n)-n,r=a.useContext(z),o=a.useContext(te);return s<=0n?e.jsx(p,{className:"action",disabled:!0,children:e.jsx(c,{text:"Claim All"})}):e.jsx(p,{className:"action",onClick:()=>{o(new mo),r.open()},children:e.jsx(c,{text:"Claim All"})})};try{As.displayName="ClaimableRewardsCard",As.__docgenInfo={description:`ClaimableRewardsCard is a component that displays the Claimable Rewards
amount.

This is meant to represent the total amount of ESP that can be claimed as
rewards by the active wallet.`,displayName:"ClaimableRewardsCard",props:{}}}catch{}const Is=()=>{const t=a.useContext(w);return e.jsxs(ve,{className:"estimated-apr-card",children:[e.jsx("h2",{children:e.jsx(c,{text:"Total Balance"})}),e.jsx(ge,{children:e.jsx(g,{money:h.ESP(t)})})]})};try{Is.displayName="TotalBalanceCard",Is.__docgenInfo={description:`TotalBalanceCard is a component that displays the Total Balance of the
active Wallet.

Total Balance is defined as the sum of the Available Balance and the
Staked Balance.

TODO: Should this include the pending Rewards as well?`,displayName:"TotalBalanceCard",props:{}}}catch{}const Ps=()=>{const t=a.useContext(pe);if(!t)return e.jsxs(ve,{className:"estimated-apr-card",children:[e.jsx("h2",{children:e.jsx(c,{text:"Total Staked"})}),e.jsx(ge,{children:e.jsx(g,{money:h.ESP(0n)})})]});const n=br((s,r)=>s+r.amount,0n,t.nodes);return e.jsxs(ve,{className:"estimated-apr-card",children:[e.jsx("h2",{children:e.jsx(c,{text:"Total Staked"})}),e.jsx(ge,{children:e.jsx(g,{money:h.ESP(n)})})]})};try{Ps.displayName="TotalStakedCard",Ps.__docgenInfo={description:`TotalStakedCard is a component that displays the Total Staked amount.

This is meant to represent the total amount of ESP that has been staked by
the active wallet.`,displayName:"TotalStakedCard",props:{}}}catch{}const Rs=()=>a.useContext(J)?e.jsxs("section",{className:"my-balance",children:[e.jsx("h2",{children:e.jsx(c,{text:"My Balance"})}),e.jsxs("div",{className:"my-balance-stats",children:[e.jsx(Is,{}),e.jsx(bs,{}),e.jsx(Ps,{}),e.jsx(As,{})]})]}):null;try{Rs.displayName="MyBalance",Rs.__docgenInfo={description:"",displayName:"MyBalance",props:{}}}catch{}const Be=({children:t})=>e.jsx("div",{className:"network-stat-value",children:t});try{Be.displayName="NetworkStatValue",Be.__docgenInfo={description:"",displayName:"NetworkStatValue",props:{}}}catch{}const Es=()=>{const t=a.useContext(st),n=a.useContext(Kt);return e.jsxs(Be,{children:[e.jsx("h2",{children:e.jsx(c,{text:"Currently Staked"})}),e.jsx(I,{percentage:Number(t)/Number(n)})]})};try{Es.displayName="CurrentlyStaked",Es.__docgenInfo={description:"",displayName:"CurrentlyStaked",props:{}}}catch{}function sd(t){return t!=null}function ad(t){const n=t<0?-1:1,s=Math.floor(t/1e3),r=Math.floor(s/60);return[Math.floor(r/60),r%60,s%60].map(i=>i*n)}const at=t=>{const n=Ao.useContext(uc),[s,r,o]=ad(t.durationInMilliseconds),i=[n.hours.format(s),n.minutes.format(r),n.seconds.format(o)].filter(sd);return e.jsx(c,{text:i.join(" ")})};try{at.displayName="TimeLeftText",at.__docgenInfo={description:`TimeLeftText displays the duration specified in terms of the total number
of hours, minutes, and seconds that comprise the total milliseconds provided.`,displayName:"TimeLeftText",props:{durationInMilliseconds:{defaultValue:null,description:"",name:"durationInMilliseconds",required:!0,type:{name:"number"}}}}}catch{}const Ds=()=>{const t=a.useContext(Ze);if(t==null)return e.jsxs(Be,{children:[e.jsxs("h2",{children:[e.jsx(c,{text:"Epoch"}),"Â ",e.jsx("span",{className:"accent",children:e.jsx(c,{text:"-"})}),"Â ",e.jsx(c,{text:"ends in"})]}),e.jsx(c,{text:"-"})]});const n=t.espressoBlock.epoch,s=t.espressoBlock.block,r=s/n,o=s%r,i=r-o,l=Number(i)*6*1e3;return e.jsxs(Be,{children:[e.jsxs("h2",{children:[e.jsx(c,{text:"Epoch"}),"Â ",e.jsx("span",{className:"accent",children:e.jsx(Er,{number:t?.espressoBlock.epoch??0n})}),"Â ",e.jsx(c,{text:"ends in"})]}),e.jsx(at,{durationInMilliseconds:l})]})};try{Ds.displayName="EpochEndsIn",Ds.__docgenInfo={description:"",displayName:"EpochEndsIn",props:{}}}catch{}const Ts=()=>e.jsxs(Be,{children:[e.jsx("h2",{children:e.jsx(c,{text:"Estimated APR"})}),e.jsx(I,{percentage:.035})]});try{Ts.displayName="EstimatedAPR",Ts.__docgenInfo={description:`EstimatedAPRCard displays the estimated annual percentage rate (APR).
The APR is currently hardcoded to 3.5%.`,displayName:"EstimatedAPR",props:{}}}catch{}const Os=()=>e.jsxs("div",{className:"network-stats",children:[e.jsx("h1",{children:e.jsx(c,{text:"ESP Delegation"})}),e.jsxs("div",{className:"network-stats-grid",children:[e.jsx(Es,{}),e.jsx(Ts,{}),e.jsx(Ds,{})]})]});try{Os.displayName="NetworkStats",Os.__docgenInfo={description:"NetworkStats component displays key statistics about the chain.",displayName:"NetworkStats",props:{}}}catch{}const yo=t=>a.createElement(wt,{...t,className:E(t.className,"stroked")},e.jsxs("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-unlock",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"})]}));try{unlock.displayName="unlock",unlock.__docgenInfo={description:"Unlock represents an open Lock.",displayName:"unlock",props:{}}}catch{}var Re=(t=>(t[t.collapsed=0]="collapsed",t[t.expanded=1]="expanded",t))(Re||{});const rt=a.createContext(0),Yt=a.createContext(()=>{});function rd(t=0){const[n,s]=a.useState(t);return[n,s]}const Xt=({children:t})=>{const[n,s]=rd();return e.jsx(rt.Provider,{value:n,children:e.jsx(Yt.Provider,{value:s,children:t})})};try{rt.displayName="CollapseStateContext",rt.__docgenInfo={description:`CollapseStateContext provides a React Context that represents the current
collapse state of a UI element.`,displayName:"CollapseStateContext",props:{}}}catch{}try{Yt.displayName="SetCollapseStateContext",Yt.__docgenInfo={description:`SetCollapseStateContext provides a React Context that represents the setter
function to update the current collapse state of a UI element.`,displayName:"SetCollapseStateContext",props:{}}}catch{}try{Xt.displayName="ProvideCollapseState",Xt.__docgenInfo={description:`ProvideCollapseState is a React Component that defines a collapse state,
and provides contexts for reading, and setting it.`,displayName:"ProvideCollapseState",props:{}}}catch{}const Zt=({children:t,className:n,...s})=>e.jsx("section",{className:E(n,"collapsable-section"),...s,children:e.jsx(Xt,{children:t})}),en=({children:t})=>e.jsxs("div",{className:"collapsable-header",children:[t,e.jsx(cd,{})]});function od(t){switch(t){case Re.collapsed:return Re.expanded;case Re.expanded:return Re.collapsed}}const cd=()=>{const t=a.useContext(rt),n=a.useContext(Yt);return e.jsx(p,{className:"collapse-toggle",onClick:()=>n(od(t)),children:t?"Collapse":"Expand"})},tn=({children:t})=>a.useContext(rt)===Re.collapsed?null:t;try{Zt.displayName="CollapsableSection",Zt.__docgenInfo={description:"",displayName:"CollapsableSection",props:{}}}catch{}try{en.displayName="CollapsableHeader",en.__docgenInfo={description:"",displayName:"CollapsableHeader",props:{}}}catch{}try{tn.displayName="CollapseGuard",tn.__docgenInfo={description:"",displayName:"CollapseGuard",props:{}}}catch{}var b=(t=>(t[t.rank=0]="rank",t[t.validator=1]="validator",t[t.totalStake=2]="totalStake",t[t.fee=3]="fee",t[t.missedSlots=4]="missedSlots",t[t.participationRate=5]="participationRate",t[t.hotShotConsensus=6]="hotShotConsensus",t))(b||{}),Bs=(t=>(t[t.asc=0]="asc",t[t.desc=1]="desc",t))(Bs||{});const ot=a.createContext({sortBy:()=>{}}),Vs=a.createContext({sortBy:2,sortDirection:1}),Ws=()=>{const[t,n]=a.useState({sortBy:2,sortDirection:1});return{tableState:t,tableControls:{sortBy:r=>{n(o=>{if(o.sortBy!==r)return{...o,sortBy:r};switch(o.sortDirection){case 0:return{...o,sortDirection:1};case 1:return{...o,sortDirection:0}}})}}}};function id(t,n){return t[1]-n[1]}function ld(t,n){return R(t[0].address,n[0].address)}function dd(t,n){return Number(t[0].commission.valueOf()-n[0].commission.valueOf())}function pd(t,n){const s=t[2]?.leaderParticipation.ratio??-1,r=n[2]?.leaderParticipation.ratio??-1;return s-r}function ud(t,n){const s=t[2]?.voterParticipation.ratio??-1,r=n[2]?.voterParticipation.ratio??-1;return s-r}function xd(t,n){return Number(Number(t[2])-Number(n[2]))}function md(t,n){return Number(t[0].stake-n[0].stake)}function hd(t){switch(t){case 0:return id;case 1:return ld;case 2:return md;case 3:return dd;case 4:return pd;case 5:return ud;case 6:return xd;default:throw new P}}function _d(t){switch(t){case 0:return n=>n;case 1:return n=>(s,r)=>-n(s,r)}}function Cd(t,n,s,r){if(!t)return t;const{sortBy:o,sortDirection:i}=n,d=_d(i)(hd(o));return new ze(t.l1Block,t.nodes.map(m=>{const v=u.encode(m.address);return[m,s.get(v)??Number.MAX_SAFE_INTEGER,r.get(v)??null]}).sort(d).map(m=>m[0]))}const ct=t=>{const{tableState:n,tableControls:s}=Ws(),r=a.useContext(S),o=a.useContext(nt),i=a.useContext(X),l=Cd(r,n,o,i);return e.jsx(S.Provider,{value:l,children:e.jsx(Vs.Provider,{value:n,children:e.jsx(ot.Provider,{value:s,children:t.children})})})};try{b.displayName="CellType",b.__docgenInfo={description:`CellType enumerates the different types of columns that can be
sorted in the validator table.`,displayName:"CellType",props:{}}}catch{}try{Bs.displayName="SortDirection",Bs.__docgenInfo={description:"SortDirection enumerates the possible directions for sorting the table.",displayName:"SortDirection",props:{}}}catch{}try{ot.displayName="TableSortControlsContext",ot.__docgenInfo={description:"",displayName:"TableSortControlsContext",props:{}}}catch{}try{Vs.displayName="TableSortStateContext",Vs.__docgenInfo={description:"",displayName:"TableSortStateContext",props:{}}}catch{}try{Ws.displayName="useValidatorTableSortState",Ws.__docgenInfo={description:`useValidatorTableSortState is a custom hook that manages the sorting state
for the validator table, providing the current state and controls to modify
it.`,displayName:"useValidatorTableSortState",props:{}}}catch{}try{ct.displayName="ValidatorTableSortStateProvider",ct.__docgenInfo={description:`ValidatorTableSortStateProvider is a context provider that manages
the sorting state for the validator table and provides sorted validator
data to its children.`,displayName:"ValidatorTableSortStateProvider",props:{}}}catch{}const _=a.createContext(new Tn(new ArrayBuffer(0),new Ir("",new ArrayBuffer(0)),0n,new Te(0)));try{_.displayName="ValidatorNodeContext",_.__docgenInfo={description:`ValidatorNodeContext provides a React Context
for a single validator node entry.`,displayName:"ValidatorNodeContext",props:{}}}catch{}const nn=()=>e.jsx(e.Fragment,{});try{nn.displayName="ActionsHeadCell",nn.__docgenInfo={description:`ActionsHeadCell is the header cell for the actions to take in the
validator table.`,displayName:"ActionsHeadCell",props:{}}}catch{}const Ie=t=>a.createElement(wt,{...t,viewBox:"0 0 12 12",className:E(t.className,"stroked")},e.jsxs(e.Fragment,{children:[e.jsx("path",{d:"M9.25 7.75049L6 11.0005L2.75 7.75049",strokeWidth:"1.5"}),e.jsx("path",{d:"M9.25 4.25049L6 1.00049L2.75 4.25049",strokeWidth:"1.5"})]}));try{verticalscroll.displayName="verticalscroll",verticalscroll.__docgenInfo={description:"VerticalScroll represents a vertical scroll icon.",displayName:"verticalscroll",props:{}}}catch{}const sn=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{text:"Commission Rate"}),"Â ",e.jsx(Ie,{})]});try{sn.displayName="FeeHeadCell",sn.__docgenInfo={description:"FeeHeadCell is the header cell for the Fee column in the validator table.",displayName:"FeeHeadCell",props:{}}}catch{}const an=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{text:"Consensus"}),"Â ",e.jsx(Ie,{})]});try{an.displayName="HotShotConsensusHeadCell",an.__docgenInfo={description:`HotShotConsensusHeadCell is the header cell for the HotShot Consensus
column in the validator table.`,displayName:"HotShotConsensusHeadCell",props:{}}}catch{}const rn=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{text:"Missed Slots"}),"Â ",e.jsx(Ie,{})]});try{rn.displayName="MissedSlotsHeadCell",rn.__docgenInfo={description:`MissedSlotsHeadCell is the header cell for the Missed Slots column in the
validator table.`,displayName:"MissedSlotsHeadCell",props:{}}}catch{}const on=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{text:"Participation"}),"Â ",e.jsx(Ie,{})]});try{on.displayName="ParticipationRateHeadCell",on.__docgenInfo={description:`ParticipationRateHeadCell is the header cell for the Participation Rate
column in the validator table.`,displayName:"ParticipationRateHeadCell",props:{}}}catch{}const cn=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{text:"Rank"}),"Â ",e.jsx(Ie,{})]});try{cn.displayName="RankHeadCell",cn.__docgenInfo={description:"RankHeadCell is the header cell for the Rank column in the validator table.",displayName:"RankHeadCell",props:{}}}catch{}const ln=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{text:"Total Stake"}),"Â ",e.jsx(Ie,{})]});try{ln.displayName="TotalStakeHeadCell",ln.__docgenInfo={description:`TotalStakeHeadCell is the header cell for the Total Stake column in the
validator table.`,displayName:"TotalStakeHeadCell",props:{}}}catch{}const dn=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{text:"Validator"}),"Â ",e.jsx(Ie,{})]});try{dn.displayName="ValidatorHeadCell",dn.__docgenInfo={description:`ValidatorHeadCell is the header cell for the Validator column in the
validator table.`,displayName:"ValidatorHeadCell",props:{}}}catch{}const pn=()=>{const{sortBy:t}=a.useContext(ot);return e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"sortable",onClick:()=>t(b.rank),children:e.jsx(cn,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.validator),children:e.jsx(dn,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.totalStake),children:e.jsx(ln,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.fee),children:e.jsx(sn,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.missedSlots),children:e.jsx(rn,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.participationRate),children:e.jsx(on,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.hotShotConsensus),children:e.jsx(an,{})}),e.jsx("th",{children:e.jsx(nn,{})})]})})};try{pn.displayName="ClaimsDelegationTableHeader",pn.__docgenInfo={description:`ClaimsDelegationTableHeader is a component that renders
the header row of the delegation table with sortable columns.`,displayName:"ClaimsDelegationTableHeader",props:{}}}catch{}const it=()=>{const t=a.useContext(_);return e.jsx(I,{percentage:t.commission.valueOf()})};try{it.displayName="FeeCell",it.__docgenInfo={description:"FeeCell displays the commission fee of a validator as a percentage.",displayName:"FeeCell",props:{}}}catch{}const un=({className:t,children:n})=>e.jsx("span",{className:E(t,"bchip"),children:n});try{un.displayName="Chip",un.__docgenInfo={description:"",displayName:"Chip",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const me=({className:t,children:n})=>e.jsx(un,{className:E(t,"consensus-chip"),children:n});try{me.displayName="ConsensusChip",me.__docgenInfo={description:"",displayName:"ConsensusChip",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const xn=()=>e.jsx(me,{className:"consensus-chip active",children:e.jsx(c,{text:"Active"})});try{xn.displayName="ActiveConsensusChip",xn.__docgenInfo={description:"",displayName:"ActiveConsensusChip",props:{}}}catch{}const mn=()=>e.jsx(me,{className:"consensus-chip inactive",children:e.jsx(c,{text:"Inactive"})});try{mn.displayName="InactiveConsensusChip",mn.__docgenInfo={description:"",displayName:"InactiveConsensusChip",props:{}}}catch{}const lt=()=>{const t=a.useContext(_),n=a.useContext(X),s=u.encode(t.address);return n.has(s)?e.jsx(xn,{}):e.jsx(mn,{})};try{lt.displayName="HotShotConsensusCell",lt.__docgenInfo={description:`HotShotConsensusCell displays whether a validator is part of the
HotShot consensus set using active/inactive consensus chips.`,displayName:"HotShotConsensusCell",props:{}}}catch{}const dt=()=>{const t=a.useContext(_),s=a.useContext(X).get(u.encode(t.address));return s?e.jsx(I,{percentage:1-s.leaderParticipation.ratio}):e.jsx(c,{text:"-"})};try{dt.displayName="MissedSlotsCell",dt.__docgenInfo={description:"MissedSlotsCell displays the percentage of missed slots for a validator.",displayName:"MissedSlotsCell",props:{}}}catch{}const Ve=()=>{const t=a.useContext(_);return e.jsx(ke,{value:new be(t.address)})};try{Ve.displayName="NodeNameCell",Ve.__docgenInfo={description:`NameNodeCell displays the wallet address of a validator node. It is
actually intended to show the name, and an icon for the validator,
but it's currently unclear how we would source this information.`,displayName:"NodeNameCell",props:{}}}catch{}const pt=()=>{const t=a.useContext(_),s=a.useContext(X).get(u.encode(t.address));return s?e.jsx(I,{percentage:s.voterParticipation.ratio}):e.jsx(c,{text:"-"})};try{pt.displayName="ParticipationRateCell",pt.__docgenInfo={description:"ParticipationRateCell displays the voter participation rate for a validator.",displayName:"ParticipationRateCell",props:{}}}catch{}const Ms=()=>{const t=a.useContext(_),n=a.useContext(z),s=a.useContext(te);return e.jsx(p,{className:"action",onClick:()=>{s(new lr(t.address)),n.open()},children:e.jsx(c,{text:"Withdraw"})})};try{Ms.displayName="PendingClaimActionsCell",Ms.__docgenInfo={description:"",displayName:"PendingClaimActionsCell",props:{}}}catch{}const We=()=>{const t=a.useContext(_),n=a.useContext(nt),s=u.encode(t.address),r=n.get(s);return e.jsx(Er,{number:r??-1})};try{We.displayName="RankCell",We.__docgenInfo={description:`RankCell is a component that displays
the rank of the current validator node.`,displayName:"RankCell",props:{}}}catch{}const ut=()=>{const t=a.useContext(st),n=a.useContext(_),s=Number(n.stake)/Number(t);return e.jsxs(e.Fragment,{children:[e.jsx(g,{money:h.ESP(n.stake)}),"Â ",e.jsxs("span",{className:"percentage-text",children:["(",e.jsx(I,{percentage:s}),")"]})]})};try{ut.displayName="TotalStakeCell",ut.__docgenInfo={description:`TotalStakeCell displays the stake amount for a validator node, along with its
percentage of the total stake.`,displayName:"TotalStakeCell",props:{}}}catch{}const Js=()=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(We,{})}),e.jsx("td",{children:e.jsx(Ve,{})}),e.jsx("td",{children:e.jsx(ut,{})}),e.jsx("td",{children:e.jsx(it,{})}),e.jsx("td",{children:e.jsx(dt,{})}),e.jsx("td",{children:e.jsx(pt,{})}),e.jsx("td",{children:e.jsx(lt,{})}),e.jsx("td",{children:e.jsx(Ms,{})})]});try{Js.displayName="PendingClaimsNodeValidatorTableRow",Js.__docgenInfo={description:`PendingClaimsNodeValidatorTableRow is a component that represents a single
row in the validator nodes table, displaying various details about the validator.`,displayName:"PendingClaimsNodeValidatorTableRow",props:{}}}catch{}const Us=()=>{const t=a.useContext(S);return t?e.jsxs("table",{className:"all-validators-table pending-claims",children:[e.jsx(pn,{}),e.jsx("tbody",{children:t.nodes.map((n,s)=>e.jsx(_.Provider,{value:n,children:e.jsx(Js,{})},s))})]}):e.jsx(e.Fragment,{})};try{Us.displayName="PendingClaimsDelegationTable",Us.__docgenInfo={description:`PendingClaimsDelegationTable is a component that renders
the table of validator nodes in the delegation UI for Pending Claims`,displayName:"PendingClaimsDelegationTable",props:{}}}catch{}const Ls=()=>e.jsx(fd,{children:e.jsx(Xt,{children:e.jsx(gd,{})})}),fd=({children:t})=>a.useContext(xe).size<=0?null:e.jsx(yd,{children:t}),yd=({children:t})=>{const n=a.useContext(In),s=a.useContext(xe);return we(s.values(),o=>o.availableTime<=n).next().done?null:t},gd=()=>e.jsxs(Zt,{className:"pending-claims",children:[e.jsx(en,{children:e.jsxs("h2",{children:[e.jsx(yo,{}),e.jsx(c,{text:"Your recently unstaked your delegation.  You can claim back your delegation now."})]})}),e.jsx(tn,{children:e.jsx(jd,{})})]});function vd(t,n){return t?new ze(t.l1Block,Array.from(we(t.nodes,s=>n.has(u.encode(s.address))))):null}const jd=()=>{const t=a.useContext(xe),n=a.useContext(S);return e.jsx(S.Provider,{value:vd(n,t),children:e.jsx(ct,{children:e.jsx(Us,{})})})};try{Ls.displayName="PendingClaims",Ls.__docgenInfo={description:"",displayName:"PendingClaims",props:{}}}catch{}const Fs=()=>{const t=a.useContext(_),n=a.useContext(z),s=a.useContext(te);return e.jsx(p,{className:"action",onClick:()=>{s(new dr(t.address)),n.open()},children:e.jsx(c,{text:"Withdraw"})})};try{Fs.displayName="PendingExitActionsCell",Fs.__docgenInfo={description:"",displayName:"PendingExitActionsCell",props:{}}}catch{}const Hs=()=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(We,{})}),e.jsx("td",{children:e.jsx(Ve,{})}),e.jsx("td",{children:e.jsx(ut,{})}),e.jsx("td",{children:e.jsx(it,{})}),e.jsx("td",{children:e.jsx(dt,{})}),e.jsx("td",{children:e.jsx(pt,{})}),e.jsx("td",{children:e.jsx(lt,{})}),e.jsx("td",{children:e.jsx(Fs,{})})]});try{Hs.displayName="PendingExitsNodeValidatorTableRow",Hs.__docgenInfo={description:`PendingExitsNodeValidatorTableRow is a component that represents a single
row in the validator nodes table, displaying various details about the validator.`,displayName:"PendingExitsNodeValidatorTableRow",props:{}}}catch{}const qs=()=>{const t=a.useContext(S);return t?e.jsxs("table",{className:"all-validators-table pending-claims",children:[e.jsx(pn,{}),e.jsx("tbody",{children:t.nodes.map((n,s)=>e.jsx(_.Provider,{value:n,children:e.jsx(Hs,{})},s))})]}):e.jsx(e.Fragment,{})};try{qs.displayName="PendingExitsDelegationTable",qs.__docgenInfo={description:`PendingExitsDelegationTable is a component that renders
the table of validator nodes in the delegation UI for Pending Exits`,displayName:"PendingExitsDelegationTable",props:{}}}catch{}const zs=()=>e.jsx(Nd,{children:e.jsx(wd,{})}),Nd=({children:t})=>a.useContext(ue).size<=0?null:e.jsx(Sd,{children:t}),Sd=({children:t})=>{const n=a.useContext(In),s=a.useContext(ue);return we(s.values(),o=>o.availableTime<=n).next().done?null:t},wd=()=>e.jsxs(Zt,{className:"pending-exits",children:[e.jsx(en,{children:e.jsxs("h2",{children:[e.jsx(yo,{}),e.jsx(c,{text:"Validators you have delegated to have exited the Staking Table.  You can claim back your delegation now."})]})}),e.jsx(tn,{children:e.jsx(bd,{})})]});function kd(t,n){return t?new ze(t.l1Block,Array.from(we(t.nodes,s=>n.has(u.encode(s.address))))):null}const bd=()=>{const t=a.useContext(ue),n=a.useContext(S);return e.jsx(S.Provider,{value:kd(n,t),children:e.jsx(ct,{children:e.jsx(qs,{})})})};try{zs.displayName="PendingExits",zs.__docgenInfo={description:"",displayName:"PendingExits",props:{}}}catch{}const V=a.createContext(new ArrayBuffer(0));try{V.displayName="ConfirmedValidatorContext",V.__docgenInfo={description:"",displayName:"ConfirmedValidatorContext",props:{}}}catch{}const f=({children:t})=>e.jsxs("div",{className:"staking-modal-label-value-split",children:[e.jsx("span",{className:"staking-modal-label",children:t[0]}),e.jsx("span",{className:"staking-modal-value",children:t[1]})]});try{f.displayName="LabelValueSplit",f.__docgenInfo={description:"",displayName:"LabelValueSplit",props:{}}}catch{}const $s=()=>e.jsxs("div",{className:"staking-modal-staking-overview-area",children:[e.jsx(Ad,{}),e.jsx(Id,{}),e.jsx(Pd,{})]}),Ad=()=>{const t=a.useContext(w);return e.jsxs(f,{children:[e.jsx("span",{children:e.jsx(c,{text:"Current Balance"})}),e.jsx("span",{children:e.jsx(g,{money:h.ESP(t)})})]})},Id=()=>{const t=a.useContext(w),n=a.useContext(Z),s=a.useContext(de)??0n,r=(n?.lifetimeRewards??s)-s;return e.jsxs(f,{children:[e.jsx("span",{children:e.jsx(c,{text:"New Balance"})}),e.jsx("span",{children:e.jsx(g,{money:h.ESP(t+r)})})]})},Pd=()=>e.jsxs(f,{children:[e.jsx("span",{children:e.jsx(c,{text:"Tx Fee"})}),e.jsx("span",{children:e.jsx(c,{text:"-"})})]});try{$s.displayName="ClaimableRewardsOverviewArea",$s.__docgenInfo={description:"",displayName:"ClaimableRewardsOverviewArea",props:{}}}catch{}const Ks=()=>e.jsx("div",{className:"staking-modal-initial-summary-and-interaction",children:e.jsx(Rd,{})}),Rd=()=>{const t=a.useContext(Z),n=a.useContext(de)??0n,s=(t?.lifetimeRewards??n)-n;return e.jsxs("div",{className:"staking-modal-esp-input-area",children:[e.jsx("label",{htmlFor:"staking-modal-esp-input",children:e.jsx(c,{text:"Claimable Rewards"})}),e.jsx("div",{className:"staking-modal-esp-focus-display",children:e.jsx(g,{money:h.ESP(s)})})]})};try{Ks.displayName="ClaimableRewardsSummaryAndInteraction",Ks.__docgenInfo={description:"",displayName:"ClaimableRewardsSummaryAndInteraction",props:{}}}catch{}const go=({className:t,...n})=>e.jsx(ho,{className:E(t,"btn--flat"),...n});try{buttonflat.displayName="buttonflat",buttonflat.__docgenInfo={description:`ButtonFlat is a wrapper around ButtonBase that adds the 'btn-flat' class
to the button in order to change its styling to a flat button.`,displayName:"buttonflat",props:{}}}catch{}const Gs=a.createContext([]),ne=a.createContext({push:()=>{},back:()=>{},replace:()=>{},zero:()=>{},canGoBack:!1});function Ed(){return a.useState([])}const Qs=({children:t})=>{const n=a.useContext(te),s=a.useContext(ee),[r,o]=Ed(),i={push:l=>{o(d=>[...d,s]),n(l)},back:()=>{const l=tc(r);o(d=>Array.from(nc(d,d.length-1))),n(l)},replace:l=>{n(l)},zero:()=>{o([])},canGoBack:r.length>0};return e.jsx(Gs.Provider,{value:r,children:e.jsx(ne.Provider,{value:i,children:t})})};try{Gs.displayName="StakingModalHistoryContext",Gs.__docgenInfo={description:`StakingModalHistoryContext represents the "stack" of navigation history
performed within the staking modal. This allows us to keep a history,
and to display the Back button to a state that makes the most sense.`,displayName:"StakingModalHistoryContext",props:{}}}catch{}try{ne.displayName="StakingModalHistoryControlsContext",ne.__docgenInfo={description:`StakingModalHistoryControlsContext provides methods to manipulate the
navigation history within the staking modal.`,displayName:"StakingModalHistoryControlsContext",props:{}}}catch{}try{Qs.displayName="ProvideStakingHistory",Qs.__docgenInfo={description:`ProvideStakingHistory is a context provider component that manages the
navigation history within the staking modal.`,displayName:"ProvideStakingHistory",props:{}}}catch{}const se=a.createContext(()=>{}),Ys=({children:t})=>{const n=a.useContext(ne),s=a.useContext(te),r=a.useContext(z);return e.jsx(se.Provider,{value:()=>{n.zero(),s(new cr),r.close()},children:t})};try{se.displayName="StakingModalCloseContext",se.__docgenInfo={description:"Context to provide a function to close the staking modal.",displayName:"StakingModalCloseContext",props:{}}}catch{}try{Ys.displayName="ProvideStakingModalClose",Ys.__docgenInfo={description:`ProvideStakingModalClose provides the StakingModalCloseContext to its
children, which when used will automatically close and clean up the
staking modal.`,displayName:"ProvideStakingModalClose",props:{}}}catch{}const ae=()=>{const t=a.useContext(se);return e.jsx(go,{className:"close-modal-button",onClick:t,children:e.jsx(mc,{})})};try{ae.displayName="CloseStakingModalButton",ae.__docgenInfo={description:"",displayName:"CloseStakingModalButton",props:{}}}catch{}const xt=a.createContext(null),hn=a.createContext(()=>{}),_n=a.createContext(k.nothing()),Cn=({children:t})=>{const[n,s]=a.useState(null);return e.jsx(xt.Provider,{value:n,children:e.jsx(hn.Provider,{value:s,children:e.jsx(Dd,{children:t})})})},Dd=({children:t})=>{const n=a.useContext(xt)??Fe();return e.jsx(He,{asyncIterable:n,children:e.jsx(Td,{children:t})})},Td=({children:t})=>{const n=a.useContext(U),s=a.useContext(xt);return e.jsx(_n.Provider,{value:s===null?k.nothing():n,children:t})};class On{}class Od extends On{constructor(){super()}}class Bd extends On{constructor(n){super(),this.transactionHash=n}}class Vd extends On{constructor(n){super(),this.transactionHash=n}}class vo extends On{constructor(n,s){super(),this.transactionHash=n,this.receipt=s}}async function*Wd(t,n,s,r){yield new Od;const o=await n.claimRewards(s.lifetimeRewards,u.encode(s.authData));yield new Bd(o),yield new Vd(o);try{for(let i=0;i<24;i++)try{const l=await t.getTransactionReceipt({hash:o});yield new vo(o,l);return}catch(l){if(i===23)throw console.error("<<<< HERE performClaimRewards failed to retrieve receipt:",l),l;await qe(1e3)}}finally{r(new Date)}throw new Error("no receipt received")}try{xt.displayName="PerformClaimRewardsAsyncIterableContext",xt.__docgenInfo={description:"",displayName:"PerformClaimRewardsAsyncIterableContext",props:{}}}catch{}try{hn.displayName="SetClaimRewardsAsyncIterableContext",hn.__docgenInfo={description:"",displayName:"SetClaimRewardsAsyncIterableContext",props:{}}}catch{}try{_n.displayName="ClaimRewardsAsyncSnapshotContext",_n.__docgenInfo={description:"",displayName:"ClaimRewardsAsyncSnapshotContext",props:{}}}catch{}try{Cn.displayName="ProvideClaimRewardsPromiseContext",Cn.__docgenInfo={description:"",displayName:"ProvideClaimRewardsPromiseContext",props:{}}}catch{}const re=({children:t})=>e.jsx("div",{className:"staking-modal-content",children:t});try{re.displayName="StakingContent",re.__docgenInfo={description:"",displayName:"StakingContent",props:{}}}catch{}const Xs=()=>{const t=a.useContext(ne);return t.canGoBack?e.jsx(go,{className:"back-modal-button",onClick:t.back,children:e.jsx(c,{text:"Back"})}):null};try{Xs.displayName="BackButton",Xs.__docgenInfo={description:`BackButton component renders a button that allows users to navigate back in
the staking modal history.

It will display nothing if there is no history to go back to.`,displayName:"BackButton",props:{}}}catch{}const oe=({children:t})=>e.jsxs("div",{className:"staking-modal-header",children:[e.jsx(Xs,{}),t]});try{oe.displayName="StakingHeader",oe.__docgenInfo={description:"",displayName:"StakingHeader",props:{}}}catch{}const ce=({children:t})=>e.jsx("h2",{className:"staking-modal-title",children:t});try{ce.displayName="StakingModalTitle",ce.__docgenInfo={description:"",displayName:"StakingModalTitle",props:{}}}catch{}const Zs=()=>e.jsxs(e.Fragment,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:e.jsx(c,{text:"Claim All"})}),e.jsx(ae,{})]}),e.jsxs(re,{children:[e.jsx(Ks,{}),e.jsx($s,{}),e.jsx(Md,{})]})]}),Md=()=>{const t=a.useContext(Ne),n=a.useContext(jr),s=a.useContext(Z),r=a.useContext(Z),o=a.useContext(de)??0n,i=a.useContext(_n),l=a.useContext(Y),d=a.useContext(se),m=a.useContext(hn),v=(r?.lifetimeRewards??o)-o;if(t===null||n===null||s===null||v<=0n)return e.jsxs("div",{className:"staking-modal-unstaking-actions-area",children:[e.jsx("div",{children:"Â "}),e.jsx(p,{className:"btn-undelegate",disabled:!0,children:e.jsx(c,{text:"Claim Rewards"})})]});const D=()=>m(Wd(t,n,s,l));return i.asyncState===N.waiting||i.data&&!(i.data instanceof vo)?e.jsxs("div",{className:"staking-modal-unstaking-actions-area waiting",children:[e.jsx("div",{children:e.jsx(c,{text:"Claiming..."})}),e.jsx(p,{className:"btn-undelegate",disabled:!0,children:e.jsx(c,{text:"Claim Rewards"})})]}):i.asyncState===N.done?i.hasError?e.jsxs("div",{className:"staking-modal-unstaking-actions-area error",children:[e.jsx("div",{children:e.jsx(c,{text:"Claim Failed"})}),e.jsx(p,{className:"btn-undelegate",onClick:D,children:e.jsx(c,{text:"Retry"})})]}):e.jsxs("div",{className:"staking-modal-unstaking-actions-area succeeded",children:[e.jsx("div",{children:e.jsx(c,{text:"Claim Successful"})}),e.jsx(p,{onClick:d,children:e.jsx(c,{text:"Close"})})]}):e.jsxs("div",{className:"staking-modal-unstaking-actions-area",children:[e.jsx("div",{children:"Â "}),e.jsx(p,{className:"btn-undelegate",onClick:D,children:e.jsx(c,{text:"Claim Rewards"})})]})};try{Zs.displayName="ClaimRewardsContent",Zs.__docgenInfo={description:"",displayName:"ClaimRewardsContent",props:{}}}catch{}const Me=a.createContext(null),ea=({children:t})=>{a.useContext(q);const n=a.useContext(Pn),s=a.useContext(_e),r=a.useContext(J),o=!n||!s||!r?ie:n.allowance(r,s.address);return e.jsx(M,{promise:o,children:e.jsx(Jd,{children:t})})},Jd=({children:t})=>{const n=a.useContext(W);return e.jsx(Me.Provider,{value:n,children:t})};try{Me.displayName="CurrentAllowanceToStakeTableContext",Me.__docgenInfo={description:"",displayName:"CurrentAllowanceToStakeTableContext",props:{}}}catch{}try{ea.displayName="ProvideCurrentAllowanceToStakeTable",ea.__docgenInfo={description:"",displayName:"ProvideCurrentAllowanceToStakeTable",props:{}}}catch{}const Je=a.createContext(null),ta=({children:t})=>{a.useContext(q);const n=a.useContext(_e),s=a.useContext(J),r=a.useContext(V),o=!n||!s||!r?ie:n.undelegation(u.encode(r),s.toLowerCase());return e.jsx(M,{promise:o,children:e.jsx(Ud,{children:t})})},Ud=({children:t})=>{const n=a.useContext(W);return e.jsx(Je.Provider,{value:n,children:t})};try{Je.displayName="CurrentPendingUndelegationFromValidatorContext",Je.__docgenInfo={description:"",displayName:"CurrentPendingUndelegationFromValidatorContext",props:{}}}catch{}try{ta.displayName="ProvideCurrentPendingUndelegationToValidator",ta.__docgenInfo={description:"",displayName:"ProvideCurrentPendingUndelegationToValidator",props:{}}}catch{}const O=a.createContext(null),na=({children:t})=>{a.useContext(q);const n=a.useContext(_e),s=a.useContext(J),r=a.useContext(V),o=!n||!s||!r?ie:n.delegation(u.encode(r),s.toLowerCase());return e.jsx(M,{promise:o,children:e.jsx(Ld,{children:t})})},Ld=({children:t})=>{const n=a.useContext(W);return e.jsx(O.Provider,{value:n,children:t})};try{O.displayName="CurrentStakeToValidatorContext",O.__docgenInfo={description:"",displayName:"CurrentStakeToValidatorContext",props:{}}}catch{}try{na.displayName="ProvideCurrentStakeToValidator",na.__docgenInfo={description:"",displayName:"ProvideCurrentStakeToValidator",props:{}}}catch{}const mt=a.createContext(null),fn=a.createContext(()=>{}),yn=a.createContext(k.nothing()),sa=({children:t})=>{const[n,s]=a.useState(null);return e.jsx(mt.Provider,{value:n,children:e.jsx(fn.Provider,{value:s,children:e.jsx(Fd,{children:t})})})},Fd=({children:t})=>{const n=a.useContext(mt)??Fe();return e.jsx(He,{asyncIterable:n,children:e.jsx(Hd,{children:t})})},Hd=({children:t})=>{const n=a.useContext(U),s=a.useContext(mt);return e.jsx(yn.Provider,{value:s===null?k.nothing():n,children:t})};class Bn{}class qd extends Bn{constructor(){super()}}class zd extends Bn{constructor(n){super(),this.transactionHash=n}}class $d extends Bn{constructor(n){super(),this.transactionHash=n}}class jo extends Bn{constructor(n,s){super(),this.transactionHash=n,this.receipt=s}}async function*Kd(t,n,s,r){yield new qd;const o=await n.claimValidatorExit(s);yield new zd(o),yield new $d(o);try{for(let i=0;i<24;i++)try{const l=await t.getTransactionReceipt({hash:o});yield new jo(o,l);return}catch(l){if(i===23)throw console.error("<<<< HERE performClaimValidatorExit failed to retrieve receipt:",l),l;await qe(1e3)}}finally{r(new Date)}throw new Error("no receipt received")}try{mt.displayName="ClaimValidatorExitAsyncIterableContext",mt.__docgenInfo={description:"",displayName:"ClaimValidatorExitAsyncIterableContext",props:{}}}catch{}try{fn.displayName="SetClaimValidatorExitAsyncIterableContext",fn.__docgenInfo={description:"",displayName:"SetClaimValidatorExitAsyncIterableContext",props:{}}}catch{}try{yn.displayName="ClaimValidatorExitAsyncSnapshotContext",yn.__docgenInfo={description:"",displayName:"ClaimValidatorExitAsyncSnapshotContext",props:{}}}catch{}try{sa.displayName="ProvideClaimValidatorExitPromiseContext",sa.__docgenInfo={description:"",displayName:"ProvideClaimValidatorExitPromiseContext",props:{}}}catch{}const ht=a.createContext(null),gn=a.createContext(()=>{}),_t=a.createContext(k.nothing()),aa=({children:t})=>{const[n,s]=a.useState(null);return e.jsx(ht.Provider,{value:n,children:e.jsx(gn.Provider,{value:s,children:e.jsx(Gd,{children:t})})})},Gd=({children:t})=>{const n=a.useContext(ht)??Fe();return e.jsx(He,{asyncIterable:n,children:e.jsx(Qd,{children:t})})},Qd=({children:t})=>{const n=a.useContext(U),s=a.useContext(ht);return e.jsx(_t.Provider,{value:s===null?k.nothing():n,children:t})};class Vn{}class Yd extends Vn{constructor(){super()}}class Xd extends Vn{constructor(n){super(),this.transactionHash=n}}class Zd extends Vn{constructor(n){super(),this.transactionHash=n}}class vn extends Vn{constructor(n,s){super(),this.transactionHash=n,this.receipt=s}}async function*ep(t,n,s,r){yield new Yd;const o=await n.approve(s.address,0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn);yield new Xd(o),yield new Zd(o);try{for(let i=0;i<24;i++)try{const l=await t.getTransactionReceipt({hash:o});yield new vn(o,l);return}catch(l){if(i===23)throw console.error("<<<< HERE performApprove failed to retrieve receipt:",l),l;await qe(1e3)}}finally{r(new Date)}throw new Error("no receipt received")}try{ht.displayName="ApproveAsyncIterableContext",ht.__docgenInfo={description:"",displayName:"ApproveAsyncIterableContext",props:{}}}catch{}try{gn.displayName="SetApproveAsyncIterableContext",gn.__docgenInfo={description:"",displayName:"SetApproveAsyncIterableContext",props:{}}}catch{}try{_t.displayName="ApproveAsyncSnapshotContext",_t.__docgenInfo={description:"",displayName:"ApproveAsyncSnapshotContext",props:{}}}catch{}try{aa.displayName="ProvideApproveAsyncIterableContext",aa.__docgenInfo={description:"",displayName:"ProvideApproveAsyncIterableContext",props:{}}}catch{}const Ct=a.createContext(null),jn=a.createContext(()=>{}),Nn=a.createContext(k.nothing()),ra=({children:t})=>{const[n,s]=a.useState(null);return e.jsx(Ct.Provider,{value:n,children:e.jsx(jn.Provider,{value:s,children:e.jsx(tp,{children:t})})})},tp=({children:t})=>{const n=a.useContext(Ct)??Fe();return e.jsx(He,{asyncIterable:n,children:e.jsx(np,{children:t})})},np=({children:t})=>{const n=a.useContext(U),s=a.useContext(Ct);return e.jsx(Nn.Provider,{value:s===null?k.nothing():n,children:t})};class Wn{}class sp extends Wn{constructor(){super()}}class ap extends Wn{constructor(n){super(),this.transactionHash=n}}class rp extends Wn{constructor(n){super(),this.transactionHash=n}}class No extends Wn{constructor(n,s){super(),this.transactionHash=n,this.receipt=s}}async function*op(t,n,s,r){yield new sp;const o=await n.claimWithdrawal(s);yield new ap(o),yield new rp(o);try{for(let i=0;i<24;i++)try{const l=await t.getTransactionReceipt({hash:o});yield new No(o,l);return}catch(l){if(i===23)throw console.error("<<<< HERE performClaimWithdrawal failed to retrieve receipt:",l),l;await qe(1e3)}}finally{r(new Date)}throw new Error("no receipt received")}try{Ct.displayName="ClaimWithdrawalAsyncIterableContext",Ct.__docgenInfo={description:"",displayName:"ClaimWithdrawalAsyncIterableContext",props:{}}}catch{}try{jn.displayName="SetClaimWithdrawalAsyncIterableContext",jn.__docgenInfo={description:"",displayName:"SetClaimWithdrawalAsyncIterableContext",props:{}}}catch{}try{Nn.displayName="ClaimWithdrawalAsyncSnapshotContext",Nn.__docgenInfo={description:"",displayName:"ClaimWithdrawalAsyncSnapshotContext",props:{}}}catch{}try{ra.displayName="ProvideClaimWithdrawalPromiseContext",ra.__docgenInfo={description:"",displayName:"ProvideClaimWithdrawalPromiseContext",props:{}}}catch{}const ft=a.createContext(null),Sn=a.createContext(()=>{}),Ue=a.createContext(k.nothing()),oa=({children:t})=>{const[n,s]=a.useState(null);return e.jsx(ft.Provider,{value:n,children:e.jsx(Sn.Provider,{value:s,children:e.jsx(cp,{children:t})})})},cp=({children:t})=>{const n=a.useContext(ft)??Fe();return e.jsx(He,{asyncIterable:n,children:e.jsx(ip,{children:t})})},ip=({children:t})=>{const n=a.useContext(U),s=a.useContext(ft);return e.jsx(Ue.Provider,{value:s===null?k.nothing():n,children:t})};class Mn{}class lp extends Mn{constructor(){super()}}class dp extends Mn{constructor(n){super(),this.transactionHash=n}}class pp extends Mn{constructor(n){super(),this.transactionHash=n}}class yt extends Mn{constructor(n,s){super(),this.transactionHash=n,this.receipt=s}}async function*up(t,n,s,r,o){yield new lp;const i=await n.delegate(s,r);yield new dp(i),yield new pp(i);try{for(let l=0;l<24;l++)try{const d=await t.getTransactionReceipt({hash:i});yield new yt(i,d);return}catch(d){if(l===23)throw console.error("<<<< HERE performDelegation failed to retrieve receipt:",d),d;await qe(1e3)}}finally{o(new Date)}throw new Error("no receipt received")}try{ft.displayName="DelegateAsyncIterableContext",ft.__docgenInfo={description:"",displayName:"DelegateAsyncIterableContext",props:{}}}catch{}try{Sn.displayName="SetDelegationAsyncIterableContext",Sn.__docgenInfo={description:"",displayName:"SetDelegationAsyncIterableContext",props:{}}}catch{}try{Ue.displayName="DelegateAsyncSnapshotContext",Ue.__docgenInfo={description:"",displayName:"DelegateAsyncSnapshotContext",props:{}}}catch{}try{oa.displayName="ProvideDelegateAsyncIterableContext",oa.__docgenInfo={description:"",displayName:"ProvideDelegateAsyncIterableContext",props:{}}}catch{}const gt=a.createContext(null),wn=a.createContext(()=>{}),kn=a.createContext(k.nothing()),ca=({children:t})=>{const[n,s]=a.useState(null);return e.jsx(gt.Provider,{value:n,children:e.jsx(wn.Provider,{value:s,children:e.jsx(xp,{children:t})})})},xp=({children:t})=>{const n=a.useContext(gt)??Fe();return e.jsx(He,{asyncIterable:n,children:e.jsx(mp,{children:t})})},mp=({children:t})=>{const n=a.useContext(U),s=a.useContext(gt);return e.jsx(kn.Provider,{value:s===null?k.nothing():n,children:t})};class Jn{}class hp extends Jn{constructor(){super()}}class _p extends Jn{constructor(n){super(),this.transactionHash=n}}class Cp extends Jn{constructor(n){super(),this.transactionHash=n}}class So extends Jn{constructor(n,s){super(),this.transactionHash=n,this.receipt=s}}async function*fp(t,n,s,r,o){yield new hp;const i=await n.undelegate(s,r);yield new _p(i),yield new Cp(i);try{for(let l=0;l<24;l++)try{const d=await t.getTransactionReceipt({hash:i});yield new So(i,d);return}catch(d){if(l===23)throw console.error("<<<< HERE performUndelegation failed to retrieve receipt:",d),d;await qe(1e3)}}finally{o(new Date)}throw new Error("no receipt received")}try{gt.displayName="UndelegateAsyncIterableContext",gt.__docgenInfo={description:"",displayName:"UndelegateAsyncIterableContext",props:{}}}catch{}try{wn.displayName="SetUndelegationAsyncIterableContext",wn.__docgenInfo={description:"",displayName:"SetUndelegationAsyncIterableContext",props:{}}}catch{}try{kn.displayName="UndelegateAsyncSnapshotContext",kn.__docgenInfo={description:"",displayName:"UndelegateAsyncSnapshotContext",props:{}}}catch{}try{ca.displayName="ProvideUndelegateAsyncIterableContext",ca.__docgenInfo={description:"",displayName:"ProvideUndelegateAsyncIterableContext",props:{}}}catch{}const B=a.createContext(h.ESP(0n)),Le=a.createContext(()=>{});function yp(t=h.ESP(0n)){return a.useState(t)}const ia=({children:t})=>{const[n,s]=yp();return e.jsx(B.Provider,{value:n,children:e.jsx(Le.Provider,{value:s,children:t})})};try{B.displayName="StakingAmountContext",B.__docgenInfo={description:"",displayName:"StakingAmountContext",props:{}}}catch{}try{Le.displayName="SetStakingAmountContext",Le.__docgenInfo={description:"",displayName:"SetStakingAmountContext",props:{}}}catch{}try{ia.displayName="ProvideStakingAmountContexts",ia.__docgenInfo={description:"",displayName:"ProvideStakingAmountContexts",props:{}}}catch{}const je=()=>e.jsx("div",{className:"staking-modal-notice-area",children:e.jsx("p",{children:e.jsx(c,{text:"Only top 100 validators are eligible to receive rewards, and will be sent upon next epoch start."})})});try{je.displayName="NoticeArea",je.__docgenInfo={description:"",displayName:"NoticeArea",props:{}}}catch{}const la=({children:t})=>e.jsx(un,{className:"apy",children:t});try{la.displayName="APYChip",la.__docgenInfo={description:"",displayName:"APYChip",props:{}}}catch{}const he=()=>{const t=a.useContext(_),n=a.useContext(X),s=u.encode(t.address),o=n.has(s)?e.jsx(xn,{}):e.jsx(mn,{});return e.jsxs("div",{className:"staking-modal-validator-display-area",children:[e.jsx(ke,{value:new be(t.address)}),e.jsx("br",{}),e.jsxs(la,{children:[e.jsx(I,{percentage:.035}),"Â ",e.jsx(c,{text:"APY"})]}),"Â ",o]})};try{he.displayName="ValidatorDisplayArea",he.__docgenInfo={description:"",displayName:"ValidatorDisplayArea",props:{}}}catch{}const da=()=>e.jsxs("div",{className:"staking-modal-initial-summary-and-interaction",children:[e.jsx(he,{}),e.jsx(je,{}),e.jsx(gp,{})]}),gp=()=>{const t=a.useContext(O)??0n;return e.jsxs("div",{className:"staking-modal-esp-input-area",children:[e.jsx("label",{htmlFor:"staking-modal-esp-input",children:e.jsx(c,{text:"Currently Delegated"})}),e.jsx("div",{className:"staking-modal-esp-focus-display",children:e.jsx(g,{money:h.ESP(t)})}),e.jsx(vp,{})]})},vp=()=>e.jsxs("div",{className:"staking-modal-input-info-area",children:[e.jsx(jp,{}),e.jsx(Np,{})]}),jp=()=>{const t=a.useContext(B);return a.useContext(w)>=t.value?null:e.jsx("div",{className:"staking-modal-insufficient-balance-warning",children:e.jsx(c,{text:"Insufficient Balance"})})},Np=()=>{const t=a.useContext(w);return e.jsxs("div",{className:"staking-modal-current-balance-area",children:[e.jsx("span",{className:"staking-modal-current-balance-label",children:e.jsx(c,{text:"Balance"})}),e.jsx("span",{className:"staking-modal-current-balance-value",children:e.jsx(g,{money:h.ESP(t)})})]})};try{da.displayName="ManageStakeInitialSummary",da.__docgenInfo={description:"",displayName:"ManageStakeInitialSummary",props:{}}}catch{}const pa=()=>e.jsxs(e.Fragment,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:e.jsx(c,{text:"Manage Stake"})}),e.jsx(ae,{})]}),e.jsxs(re,{children:[e.jsx(da,{}),e.jsx(Sp,{})]})]}),Sp=()=>{const t=a.useContext(ne),n=a.useContext(V);return e.jsxs("div",{className:"staking-modal-manage-stake-actions-area",children:[e.jsx(p,{onClick:()=>{t.push(new Qt(n))},children:e.jsx(c,{text:"Delegate More"})}),e.jsx(p,{onClick:()=>{t.push(new ir(n))},children:e.jsx(c,{text:"Undelegate"})})]})};try{pa.displayName="ManageStakeContent",pa.__docgenInfo={description:"",displayName:"ManageStakeContent",props:{}}}catch{}const ua=()=>{const t=a.useContext(Y),n=a.useContext(Ne),s=a.useContext(B),r=a.useContext(Pn),o=a.useContext(_e),i=a.useContext(Me),l=a.useContext(_t),d=a.useContext(gn);if(!(s.value>(i??0n))||l.asyncState===N.done&&!l.hasError)return e.jsx(p,{className:"btn-approve approved",disabled:!0,children:e.jsx(c,{text:"Approved"})});if(!n||!r||!o||s.value===0n)return e.jsx(p,{className:"btn-approve",disabled:!0,children:e.jsx(c,{text:"Approve"})});const v=()=>{!r||!o||d(ep(n,r,o,t))};return l.asyncState===N.done&&l.hasError?e.jsx(p,{className:"btn-approve retry",onClick:v,children:e.jsx(c,{text:"Retry"})}):l.asyncState===N.waiting||l.data&&!(l.data instanceof vn)?e.jsx(p,{className:"btn-approve approving",disabled:!0,children:e.jsx(c,{text:"Approve"})}):e.jsx(p,{className:"btn-approve",onClick:v,children:e.jsx(c,{text:"Approve"})})};try{ua.displayName="ApproveButton",ua.__docgenInfo={description:"",displayName:"ApproveButton",props:{}}}catch{}const xa=()=>{const t=a.useContext(Y),n=a.useContext(Ne),s=a.useContext(B),r=a.useContext(w),o=a.useContext(_e),i=a.useContext(Me)??0n,l=a.useContext(Ue),d=a.useContext(Sn),m=a.useContext(V);if(n===null||o===null||s.value<=0n||s.value>r||s.value>i||l.asyncState===N.waiting||l.data&&!(l.data instanceof yt))return e.jsx(p,{className:"btn-delegate",disabled:!0,children:e.jsx(c,{text:"Delegate"})});const v=u.encode(m),D=()=>{d(up(n,o,v,s.value,t))};return l.asyncState===N.done&&l.hasError?e.jsx(p,{className:"btn-delegate retry",onClick:D,children:e.jsx(c,{text:"Retry"})}):l.asyncState===N.done&&!l.hasError?e.jsx(p,{className:"btn-delegate approved",disabled:!0,children:e.jsx(c,{text:"Delegated"})}):e.jsx(p,{className:"btn-delegate",onClick:D,children:e.jsx(c,{text:"Delegate"})})};try{xa.displayName="DelegateButton",xa.__docgenInfo={description:"",displayName:"DelegateButton",props:{}}}catch{}const wp=t=>a.createElement(wt,{...t,width:0,height:0,viewBox:"0 0 182 20"},e.jsxs("mask",{id:"dots-mask",children:[e.jsx("rect",{width:"182",height:"20",fill:"#000"}),e.jsx("circle",{cx:"2.85714",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"14.571",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"26.2859",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"37.9997",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"49.7146",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"61.4284",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"73.1433",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"84.8571",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"96.571",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"108.286",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"120",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"131.715",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"143.428",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"155.143",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"166.857",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"178.571",cy:"2.85714",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"2.85714",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"14.571",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"26.2859",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"37.9997",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"49.7146",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"61.4284",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"73.1433",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"84.8571",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"96.571",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"108.286",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"120",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"131.715",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"143.428",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"155.143",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"166.857",cy:"16.5715",r:"2.85714",fill:"#fff"}),e.jsx("circle",{cx:"178.571",cy:"16.5715",r:"2.85714",fill:"#fff"})]}));try{decorationdotsmask.displayName="decorationdotsmask",decorationdotsmask.__docgenInfo={description:"DecorationDots represents a series of decorative dots.",displayName:"decorationdotsmask",props:{}}}catch{}const T=()=>e.jsxs(e.Fragment,{children:[e.jsx(wp,{}),e.jsx("div",{className:"staking-modal-progress-indicator-area"})]});try{T.displayName="ProgressIndicatorArea",T.__docgenInfo={description:"",displayName:"ProgressIndicatorArea",props:{}}}catch{}const ma=()=>{const t=a.useContext(B),n=a.useContext(w),s=a.useContext(Me)??0n,r=a.useContext(Ue),o=a.useContext(_t);if(t.value<=0n)return e.jsxs("div",{className:"staking-modal-instructions-and-progress",children:[e.jsx("span",{children:"Â "}),e.jsx(T,{})]});if(t.value>s){if(o.asyncState===N.none)return e.jsxs("div",{className:"staking-modal-instructions-and-progress",children:[e.jsx("span",{children:e.jsx(c,{text:"Approve transaction first"})}),e.jsx(T,{})]});if(o.hasError)return e.jsxs("div",{className:"staking-modal-instructions-and-progress error",children:[e.jsx("span",{children:e.jsx(c,{text:"Approval Failed"})}),e.jsx(T,{})]});const l=o.data;return o.asyncState===N.waiting||l===null||!(l instanceof vn)?e.jsxs("div",{className:"staking-modal-instructions-and-progress waiting",children:[e.jsx("span",{children:e.jsx(c,{text:"Approving..."})}),e.jsx(T,{})]}):l instanceof vn?e.jsxs("div",{className:"staking-modal-instructions-and-progress approved succeeded",children:[e.jsx("span",{children:e.jsx(c,{text:"Approval successful"})}),e.jsx(T,{})]}):e.jsxs("div",{className:"staking-modal-instructions-and-progress approved",children:[e.jsx("span",{children:"Â "}),e.jsx(T,{})]})}if(t.value>n)return e.jsxs("div",{className:"staking-modal-instructions-and-progress approved",children:[e.jsx("span",{children:"Â "}),e.jsx(T,{})]});if(r.asyncState===N.none)return e.jsxs("div",{className:"staking-modal-instructions-and-progress approved",children:[e.jsx("span",{children:e.jsx(c,{text:"Confirm Delegation"})}),e.jsx(T,{})]});if(r.hasError)return e.jsxs("div",{className:"staking-modal-instructions-and-progress approved delegated error",children:[e.jsx("span",{children:e.jsx(c,{text:"Delegation Unsuccessful"})}),e.jsx(T,{})]});const i=r.data;return r.asyncState===N.waiting||i===null||!(i instanceof yt)?e.jsxs("div",{className:"staking-modal-instructions-and-progress approved delegated waiting",children:[e.jsx("span",{children:e.jsx(c,{text:"Delegating..."})}),e.jsx(T,{})]}):i instanceof yt?e.jsxs("div",{className:"staking-modal-instructions-and-progress approved delegated succeeded",children:[e.jsx("span",{children:e.jsx(c,{text:"Delegation successful"})}),e.jsx(T,{})]}):e.jsxs("div",{className:"staking-modal-instructions-and-progress approved delegated",children:[e.jsx("span",{children:"Â "}),e.jsx(T,{})]})};try{ma.displayName="NewStakeInstructionsAndProgress",ma.__docgenInfo={description:"",displayName:"NewStakeInstructionsAndProgress",props:{}}}catch{}const ha=()=>{const t=a.useContext(se),n=a.useContext(Ue);return n.asyncState!==N.done||!(n.data instanceof yt)?null:e.jsx("div",{className:"staking-modal-completion-area",children:e.jsx(p,{onClick:t,children:e.jsx(c,{text:"Close"})})})};try{ha.displayName="StakingCompletionArea",ha.__docgenInfo={description:"",displayName:"StakingCompletionArea",props:{}}}catch{}const _a=()=>e.jsxs("div",{className:"staking-modal-initial-summary-and-interaction",children:[e.jsx(he,{}),e.jsx(je,{}),e.jsx(kp,{})]}),kp=()=>{const t=a.useContext(B),n=a.useContext(Le),o=a.useContext(w)>=t.value?void 0:"insufficient";return e.jsxs("div",{className:"staking-modal-esp-input-area",children:[e.jsx("label",{htmlFor:"staking-modal-esp-input",children:e.jsx(c,{text:"Amount to Stake"})}),e.jsx(Dr,{id:"staking-modal-esp-input",className:E(o,"staking-modal-esp-focus-display"),value:t,onChange:(i,l)=>n(l)}),e.jsx(bp,{})]})},bp=()=>e.jsxs("div",{className:"staking-modal-input-info-area",children:[e.jsx(Ap,{}),e.jsx(Ip,{})]}),Ap=()=>{const t=a.useContext(B);return a.useContext(w)>=t.value?null:e.jsx("div",{className:"staking-modal-insufficient-balance-warning",children:e.jsx(c,{text:"Insufficient Balance"})})},Ip=()=>{const t=a.useContext(w);return e.jsxs("div",{className:"staking-modal-current-balance-area",children:[e.jsx("span",{className:"staking-modal-current-balance-label",children:e.jsx(c,{text:"Balance"})}),e.jsx("span",{className:"staking-modal-current-balance-value",children:e.jsx(g,{money:h.ESP(t)})})]})};try{_a.displayName="StakingInitialSummaryAndInteraction",_a.__docgenInfo={description:"",displayName:"StakingInitialSummaryAndInteraction",props:{}}}catch{}const Ca=()=>e.jsxs("div",{className:"staking-modal-staking-overview-area",children:[e.jsx(Pp,{}),e.jsx(Rp,{}),e.jsx(Ep,{}),e.jsx(Dp,{})]}),Pp=()=>e.jsxs(f,{children:[e.jsx("span",{children:e.jsx(c,{text:"Current Epoch Stake"})}),e.jsx("span",{children:e.jsx(c,{text:"-"})})]}),Rp=()=>{const t=a.useContext(O),n=t?e.jsx(g,{money:h.ESP(t)}):e.jsx(c,{text:"-"});return e.jsxs(f,{children:[e.jsx("span",{children:e.jsx(c,{text:"Current Stake"})}),e.jsx("span",{children:n})]})},Ep=()=>e.jsxs(f,{children:[e.jsx("span",{children:e.jsx(c,{text:"Tx Fee"})}),e.jsx("span",{children:e.jsx(c,{text:"-"})})]}),Dp=()=>{const t=a.useContext(_);return e.jsxs(f,{children:[e.jsx("span",{children:e.jsx(c,{text:"Commission"})}),e.jsx("span",{children:e.jsx(I,{percentage:t.commission.ratio})})]})};try{Ca.displayName="StakingOverviewArea",Ca.__docgenInfo={description:"",displayName:"StakingOverviewArea",props:{}}}catch{}const fa=()=>{const t=a.useContext(V);return e.jsxs(e.Fragment,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{children:[e.jsx(c,{text:"Delegate"}),e.jsx(c,{text:" / "}),e.jsx(ke,{value:new be(t)})]}),e.jsx(ae,{})]}),e.jsxs(re,{children:[e.jsx(_a,{}),e.jsx(Ca,{}),e.jsx(Tp,{}),e.jsx(ha,{})]})]})},Tp=()=>e.jsxs("div",{className:"staking-modal-staking-actions-area",children:[e.jsx(ua,{}),e.jsx(ma,{}),e.jsx(xa,{})]});try{fa.displayName="NewDelegationContent",fa.__docgenInfo={description:"",displayName:"NewDelegationContent",props:{}}}catch{}const ya=()=>e.jsxs("div",{className:"staking-modal-initial-summary-and-interaction",children:[e.jsx(he,{}),e.jsx(je,{}),e.jsx(Op,{}),e.jsx(Mp,{})]}),Op=()=>{const t=a.useContext(O)??0n,n=a.useContext(B),s=a.useContext(Le),o=t>=n.value?void 0:"insufficient";return e.jsxs("div",{className:"staking-modal-esp-input-area",children:[e.jsx("label",{htmlFor:"staking-modal-esp-input",children:e.jsx(c,{text:"Unstake Amount"})}),e.jsx(Dr,{id:"staking-modal-esp-input",className:E(o,"staking-modal-esp-focus-display"),value:n,onChange:(i,l)=>s(l)}),e.jsx(Bp,{})]})},Bp=()=>e.jsxs("div",{className:"staking-modal-input-info-area",children:[e.jsx(Vp,{}),e.jsx(Wp,{})]}),Vp=()=>{const t=a.useContext(O)??0n,n=a.useContext(B);return t>=n.value?null:e.jsx("div",{className:"staking-modal-insufficient-balance-warning",children:e.jsx(c,{text:"Insufficient Stake"})})},Wp=()=>{const t=a.useContext(O)??0n;return e.jsxs("div",{className:"staking-modal-current-balance-area",children:[e.jsx("span",{className:"staking-modal-current-balance-label",children:e.jsx(c,{text:"Current Stake"})}),e.jsx("span",{className:"staking-modal-current-balance-value",children:e.jsx(g,{money:h.ESP(t)})})]})},Mp=()=>{const t=a.useContext(O)??0n,n=a.useContext(B),s=a.useContext(Le),r=t/4n,o=t/2n,i=t*3n/4n;return e.jsxs("div",{className:"staking-modal-unstaking-options-area",children:[e.jsx(p,{"data-selected":n.value===r,onClick:()=>s(h.ESP(r)),children:e.jsx(I,{percentage:.25})}),e.jsx(p,{"data-selected":n.value===o,onClick:()=>s(h.ESP(o)),children:e.jsx(I,{percentage:.5})}),e.jsx(p,{"data-selected":n.value===i,onClick:()=>s(h.ESP(i)),children:e.jsx(I,{percentage:.75})}),e.jsx(p,{"data-selected":n.value===t,onClick:()=>s(h.ESP(t)),children:e.jsx(c,{text:"Max"})})]})};try{ya.displayName="UnstakingInitialSummaryAndInteraction",ya.__docgenInfo={description:"",displayName:"UnstakingInitialSummaryAndInteraction",props:{}}}catch{}const ga=()=>e.jsxs("div",{className:"staking-modal-staking-overview-area",children:[e.jsx(Jp,{}),e.jsx(Up,{}),e.jsx(Lp,{}),e.jsx(Fp,{})]}),Jp=()=>{const t=a.useContext(w);return e.jsxs(f,{children:[e.jsx("span",{children:e.jsx(c,{text:"Current Balance"})}),e.jsx("span",{children:e.jsx(g,{money:h.ESP(t)})})]})},Up=()=>{const t=a.useContext(w),n=a.useContext(B);return e.jsxs(f,{children:[e.jsx("span",{children:e.jsx(c,{text:"Balance after Escrow"})}),e.jsx("span",{children:e.jsx(g,{money:h.ESP(t+n.value)})})]})},Lp=()=>e.jsxs(f,{children:[e.jsx("span",{children:e.jsx(c,{text:"Tx Fee"})}),e.jsx("span",{children:e.jsx(c,{text:"-"})})]}),Fp=()=>{const t=a.useContext(_);return e.jsxs(f,{children:[e.jsx("span",{children:e.jsx(c,{text:"Commission"})}),e.jsx("span",{children:e.jsx(I,{percentage:t.commission.ratio})})]})};try{ga.displayName="UnstakingOverviewArea",ga.__docgenInfo={description:"",displayName:"UnstakingOverviewArea",props:{}}}catch{}const va=()=>e.jsxs(e.Fragment,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:e.jsx(c,{text:"Manage Stake"})}),e.jsx(ae,{})]}),e.jsxs(re,{children:[e.jsx(ya,{}),e.jsx(ga,{}),e.jsx(Hp,{})]})]}),Hp=()=>{const t=a.useContext(Ne),n=a.useContext(_e),s=a.useContext(V),r=a.useContext(B),o=a.useContext(O)??0n,i=u.encode(s),l=a.useContext(kn),d=a.useContext(Y),m=a.useContext(se),v=a.useContext(wn);if(t===null||n===null||r.value<=0n||r.value>o)return e.jsxs("div",{className:"staking-modal-unstaking-actions-area",children:[e.jsx("div",{children:"Â "}),e.jsx(p,{className:"btn-undelegate",disabled:!0,children:e.jsx(c,{text:"Undelegate"})})]});const D=()=>v(fp(t,n,i,r.value,d));return l.asyncState===N.waiting||l.data&&!(l.data instanceof So)?e.jsxs("div",{className:"staking-modal-unstaking-actions-area waiting",children:[e.jsx("div",{children:e.jsx(c,{text:"Undelegating..."})}),e.jsx(p,{className:"btn-undelegate",disabled:!0,children:e.jsx(c,{text:"Undelegate"})})]}):l.asyncState===N.done?l.hasError?e.jsxs("div",{className:"staking-modal-unstaking-actions-area error",children:[e.jsx("div",{children:e.jsx(c,{text:"Undelegation Failed"})}),e.jsx(p,{className:"btn-undelegate",onClick:D,children:e.jsx(c,{text:"Retry"})})]}):e.jsxs("div",{className:"staking-modal-unstaking-actions-area succeeded",children:[e.jsx("div",{children:e.jsx(c,{text:"Delegation Successful"})}),e.jsx(p,{onClick:m,children:e.jsx(c,{text:"Close"})})]}):e.jsxs("div",{className:"staking-modal-unstaking-actions-area",children:[e.jsx("div",{children:"Â "}),e.jsx(p,{className:"btn-undelegate",onClick:D,children:e.jsx(c,{text:"Undelegate"})})]})};try{va.displayName="UndelegationContent",va.__docgenInfo={description:"",displayName:"UndelegationContent",props:{}}}catch{}const ja=()=>e.jsxs(e.Fragment,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:e.jsx(c,{text:"Select a Validator"})}),e.jsx(ae,{})]}),e.jsx(re,{children:e.jsx(qp,{})})]}),qp=()=>e.jsxs("div",{className:"validator-selection-split",children:[e.jsx(Kp,{children:e.jsx(Gp,{children:e.jsx(Qp,{})})}),e.jsx(tu,{})]}),bn=a.createContext([]),wo=a.createContext(""),zp=a.createContext(()=>{});function $p(t){return a.useState("")}const Kp=({children:t})=>{const[n,s]=$p();return e.jsx(wo.Provider,{value:n,children:e.jsx(zp.Provider,{value:s,children:t})})},Gp=({children:t})=>{const s=a.useContext(S)?.nodes??[];return e.jsx(bn.Provider,{value:s,children:t})},Qp=()=>e.jsxs("div",{className:"validator-selection-list",children:[e.jsx(Yp,{}),e.jsx(Xp,{children:e.jsx(Zp,{})})]}),Yp=()=>null;const Xp=({children:t})=>{const n=a.useContext(bn);return a.useContext(wo),e.jsx(bn.Provider,{value:n,children:t})},Zp=()=>{const t=a.useContext(bn);return e.jsx("table",{className:"validator-list",children:e.jsx("tbody",{children:t.map((n,s)=>e.jsx(_.Provider,{value:n,children:e.jsx(eu,{})},s))})})},eu=()=>{const t=a.useContext(_),n=a.useContext(ee),s=a.useContext(ne),r=n instanceof Gt&&R(n.validatorAddress,t.address)===0,o=()=>{s.replace(new Gt(t.address))};return e.jsxs("tr",{"data-selected":r,onClick:o,children:[e.jsx("td",{className:"node-rank",onClick:o,children:e.jsx(We,{})}),e.jsx("td",{className:"node-name",onClick:o,children:e.jsx(Ve,{})}),e.jsx("td",{className:"node-selected",onClick:o,children:e.jsx(hc,{})})]})},tu=()=>e.jsx(nu,{children:e.jsx("div",{className:"selection-details",children:e.jsxs(su,{children:[e.jsx("div",{className:"node-summary-area",children:e.jsx(he,{})}),e.jsx(au,{}),e.jsx("div",{className:"flex"}),e.jsx(ru,{})]})})}),nu=({children:t})=>{const n=a.useContext(ee),s=a.useContext(S),r=!(n instanceof Gt)||!s?null:s.nodes.find(o=>R(o.address,n.validatorAddress)===0)??null;return r?e.jsx(_.Provider,{value:r,children:t}):t},su=({children:t})=>a.useContext(_).address.byteLength<=0?null:t,au=()=>e.jsxs("div",{className:"staking-modal-staking-overview-area",children:[e.jsx(ou,{}),e.jsx(cu,{}),e.jsx(iu,{}),e.jsx(lu,{})]}),ru=()=>{const t=a.useContext(ee),n=a.useContext(ne);return Pr(t instanceof Gt),e.jsx("div",{className:"validator-confirm-area",children:e.jsx(p,{onClick:()=>n.push(new Oe(t.validatorAddress)),children:e.jsx(c,{text:"Next"})})})},ou=()=>{const t=a.useContext(_);return e.jsxs(f,{children:[e.jsx(c,{text:"Total Stake"}),e.jsx(g,{money:h.ESP(t.stake)})]})},cu=()=>{const t=a.useContext(_);return e.jsxs(f,{children:[e.jsx(c,{text:"Commission"}),e.jsx(I,{percentage:t.commission.ratio})]})},iu=()=>{const t=a.useContext(_);return e.jsxs(f,{children:[e.jsx(c,{text:"Address"}),e.jsx(ke,{value:new be(t.address)})]})},lu=()=>e.jsxs(f,{children:[e.jsx(c,{text:"Website"}),e.jsx(c,{text:"-"})]});try{ja.displayName="ValidatorSelectionNeededContent",ja.__docgenInfo={description:"",displayName:"ValidatorSelectionNeededContent",props:{}}}catch{}const Na=()=>e.jsxs("div",{className:"staking-modal-staking-overview-area",children:[e.jsx(du,{}),e.jsx(pu,{}),e.jsx(uu,{}),e.jsx(xu,{})]}),du=()=>{const t=a.useContext(w);return e.jsxs(f,{children:[e.jsx("span",{children:e.jsx(c,{text:"Current Balance"})}),e.jsx("span",{children:e.jsx(g,{money:h.ESP(t)})})]})},pu=()=>{const t=a.useContext(w),s=a.useContext(Je)?.amount??0n;return e.jsxs(f,{children:[e.jsx("span",{children:e.jsx(c,{text:"New Balance"})}),e.jsx("span",{children:e.jsx(g,{money:h.ESP(t+s)})})]})},uu=()=>e.jsxs(f,{children:[e.jsx("span",{children:e.jsx(c,{text:"Tx Fee"})}),e.jsx("span",{children:e.jsx(c,{text:"-"})})]}),xu=()=>{const t=a.useContext(_);return e.jsxs(f,{children:[e.jsx("span",{children:e.jsx(c,{text:"Commission"})}),e.jsx("span",{children:e.jsx(I,{percentage:t.commission.ratio})})]})};try{Na.displayName="PendingClaimOverviewArea",Na.__docgenInfo={description:"",displayName:"PendingClaimOverviewArea",props:{}}}catch{}const Sa=()=>e.jsxs("div",{className:"staking-modal-initial-summary-and-interaction",children:[e.jsx(he,{}),e.jsx(je,{}),e.jsx(mu,{})]}),mu=()=>{const n=a.useContext(Je)?.amount??0n;return e.jsxs("div",{className:"staking-modal-esp-input-area",children:[e.jsx("label",{htmlFor:"staking-modal-esp-input",children:e.jsx(c,{text:"To Claim"})}),e.jsx("div",{className:"staking-modal-esp-focus-display",children:e.jsx(g,{money:h.ESP(n)})})]})};try{Sa.displayName="PendingClaimSummaryAndInteraction",Sa.__docgenInfo={description:"",displayName:"PendingClaimSummaryAndInteraction",props:{}}}catch{}const wa=()=>{const t=a.useContext(V);return e.jsxs(e.Fragment,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{children:[e.jsx(c,{text:"Claim"}),e.jsx(c,{text:" / "}),e.jsx(ke,{value:new be(t)})]}),e.jsx(ae,{})]}),e.jsxs(re,{children:[e.jsx(Sa,{}),e.jsx(Na,{}),e.jsx(hu,{})]})]})},hu=()=>{const t=a.useContext(Ne),n=a.useContext(_e),s=a.useContext(V),r=a.useContext(Je),o=u.encode(s),i=a.useContext(Nn),l=a.useContext(Y),d=a.useContext(se),m=a.useContext(jn),v=r?.amount??0n;if(t===null||n===null||v<=0n)return e.jsxs("div",{className:"staking-modal-unstaking-actions-area",children:[e.jsx("div",{children:"Â "}),e.jsx(p,{className:"btn-undelegate",disabled:!0,children:e.jsx(c,{text:"Claim Stake"})})]});const D=()=>m(op(t,n,o,l));return i.asyncState===N.waiting||i.data&&!(i.data instanceof No)?e.jsxs("div",{className:"staking-modal-unstaking-actions-area waiting",children:[e.jsx("div",{children:e.jsx(c,{text:"Withdrawing..."})}),e.jsx(p,{className:"btn-undelegate",disabled:!0,children:e.jsx(c,{text:"Claim Stake"})})]}):i.asyncState===N.done?i.hasError?e.jsxs("div",{className:"staking-modal-unstaking-actions-area error",children:[e.jsx("div",{children:e.jsx(c,{text:"Claim Stake Failed"})}),e.jsx(p,{className:"btn-undelegate",onClick:D,children:e.jsx(c,{text:"Retry"})})]}):e.jsxs("div",{className:"staking-modal-unstaking-actions-area succeeded",children:[e.jsx("div",{children:e.jsx(c,{text:"Stake Claimed Successfully"})}),e.jsx(p,{onClick:d,children:e.jsx(c,{text:"Close"})})]}):e.jsxs("div",{className:"staking-modal-unstaking-actions-area",children:[e.jsx("div",{children:"Â "}),e.jsx(p,{className:"btn-undelegate",onClick:D,children:e.jsx(c,{text:"Claim Stake"})})]})};try{wa.displayName="WithdrawClaimContent",wa.__docgenInfo={description:"",displayName:"WithdrawClaimContent",props:{}}}catch{}const ka=()=>e.jsxs("div",{className:"staking-modal-staking-overview-area",children:[e.jsx(_u,{}),e.jsx(Cu,{}),e.jsx(fu,{}),e.jsx(yu,{})]}),_u=()=>{const t=a.useContext(w);return e.jsxs(f,{children:[e.jsx("span",{children:e.jsx(c,{text:"Current Balance"})}),e.jsx("span",{children:e.jsx(g,{money:h.ESP(t)})})]})},Cu=()=>{const t=a.useContext(w),n=a.useContext(O)??0n;return e.jsxs(f,{children:[e.jsx("span",{children:e.jsx(c,{text:"New Balance"})}),e.jsx("span",{children:e.jsx(g,{money:h.ESP(t+n)})})]})},fu=()=>e.jsxs(f,{children:[e.jsx("span",{children:e.jsx(c,{text:"Tx Fee"})}),e.jsx("span",{children:e.jsx(c,{text:"-"})})]}),yu=()=>{const t=a.useContext(_);return e.jsxs(f,{children:[e.jsx("span",{children:e.jsx(c,{text:"Commission"})}),e.jsx("span",{children:e.jsx(I,{percentage:t.commission.ratio})})]})};try{ka.displayName="PendingExitOverviewArea",ka.__docgenInfo={description:"",displayName:"PendingExitOverviewArea",props:{}}}catch{}const ba=()=>e.jsxs("div",{className:"staking-modal-initial-summary-and-interaction",children:[e.jsx(he,{}),e.jsx(je,{}),e.jsx(gu,{})]}),gu=()=>{const t=a.useContext(O)??0n;return e.jsxs("div",{className:"staking-modal-esp-input-area",children:[e.jsx("label",{htmlFor:"staking-modal-esp-input",children:e.jsx(c,{text:"To Withdraw"})}),e.jsx("div",{className:"staking-modal-esp-focus-display",children:e.jsx(g,{money:h.ESP(t)})})]})};try{ba.displayName="PendingExitSummaryAndInteraction",ba.__docgenInfo={description:"",displayName:"PendingExitSummaryAndInteraction",props:{}}}catch{}const Aa=()=>{const t=a.useContext(V);return e.jsxs(e.Fragment,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{children:[e.jsx(c,{text:"Withdraw"}),e.jsx(c,{text:" / "}),e.jsx(ke,{value:new be(t)})]}),e.jsx(ae,{})]}),e.jsxs(re,{children:[e.jsx(ba,{}),e.jsx(ka,{}),e.jsx(vu,{})]})]})},vu=()=>{const t=a.useContext(Ne),n=a.useContext(_e),s=a.useContext(V),r=a.useContext(O)??0n,o=u.encode(s),i=a.useContext(yn),l=a.useContext(Y),d=a.useContext(se),m=a.useContext(fn);if(t===null||n===null||r<=0n)return e.jsxs("div",{className:"staking-modal-unstaking-actions-area",children:[e.jsx("div",{children:"Â "}),e.jsx(p,{className:"btn-undelegate",disabled:!0,children:e.jsx(c,{text:"Claim Exit"})})]});const v=()=>m(Kd(t,n,o,l));return i.asyncState===N.waiting||i.data&&!(i.data instanceof jo)?e.jsxs("div",{className:"staking-modal-unstaking-actions-area waiting",children:[e.jsx("div",{children:e.jsx(c,{text:"Withdrawing..."})}),e.jsx(p,{className:"btn-undelegate",disabled:!0,children:e.jsx(c,{text:"Claim Exit"})})]}):i.asyncState===N.done?i.hasError?e.jsxs("div",{className:"staking-modal-unstaking-actions-area error",children:[e.jsx("div",{children:e.jsx(c,{text:"Claim Exit Failed"})}),e.jsx(p,{className:"btn-undelegate",onClick:v,children:e.jsx(c,{text:"Retry"})})]}):e.jsxs("div",{className:"staking-modal-unstaking-actions-area succeeded",children:[e.jsx("div",{children:e.jsx(c,{text:"Exit Claimed Successfully"})}),e.jsx(p,{onClick:d,children:e.jsx(c,{text:"Close"})})]}):e.jsxs("div",{className:"staking-modal-unstaking-actions-area",children:[e.jsx("div",{children:"Â "}),e.jsx(p,{className:"btn-undelegate",onClick:v,children:e.jsx(c,{text:"Claim Exit"})})]})};try{Aa.displayName="WithdrawExitContent",Aa.__docgenInfo={description:"",displayName:"WithdrawExitContent",props:{}}}catch{}const Ia=()=>e.jsx(Ss,{className:"staking-modal",closedby:"none",children:e.jsx(Qs,{children:e.jsx(Ys,{children:e.jsx(ju,{})})})}),ju=()=>{const t=a.useContext(S),n=a.useContext(ee);if(n instanceof mo)return e.jsx(Cn,{children:e.jsx(Zs,{})});if(n instanceof Oe||n instanceof Qt||n instanceof ir||n instanceof dr||n instanceof lr){const s=t?.nodes.find(r=>R(r.address,n.validatorAddress)===0)??new Tn(n.validatorAddress,new Ir("",new ArrayBuffer(0)),0n,new Te(0));return e.jsx(_.Provider,{value:s,children:e.jsx(V.Provider,{value:n.validatorAddress,children:e.jsx(ia,{children:e.jsx(Nu,{children:e.jsx(Su,{})})})})})}return e.jsx(ja,{})},Nu=({children:t})=>e.jsx(na,{children:e.jsx(ea,{children:e.jsx(aa,{children:e.jsx(oa,{children:e.jsx(ca,{children:e.jsx(ra,{children:e.jsx(sa,{children:e.jsx(Cn,{children:t})})})})})})})}),Su=()=>{const t=a.useContext(ee),n=a.useContext(ne),s=a.useContext(O);return a.useEffect(()=>{if(t instanceof Oe&&!(s==null||s>0n))return n.replace(new Qt(t.validatorAddress)),()=>{}},[t,n,s]),t instanceof dr?e.jsx(Aa,{}):t instanceof lr?e.jsx(ta,{children:e.jsx(wa,{})}):t instanceof Qt?e.jsx(fa,{}):t instanceof ir?e.jsx(va,{}):(t instanceof Oe||Pr(!1),s===null?e.jsx(e.Fragment,{}):s<=0n?e.jsx(e.Fragment,{}):e.jsx(pa,{}))};try{Ia.displayName="StakingModal",Ia.__docgenInfo={description:"",displayName:"StakingModal",props:{}}}catch{}const Pa=()=>e.jsx(e.Fragment,{children:e.jsx(c,{text:"Claim In"})});try{Pa.displayName="ClaimInHeadCell",Pa.__docgenInfo={description:`ClaimInHeadCell is the header cell for the Claim In column in the
validator table.`,displayName:"ClaimInHeadCell",props:{}}}catch{}const An=()=>{const{sortBy:t}=a.useContext(ot);return e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"sortable",onClick:()=>t(b.rank),children:e.jsx(cn,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.validator),children:e.jsx(dn,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.totalStake),children:e.jsx(ln,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.fee),children:e.jsx(sn,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.missedSlots),children:e.jsx(rn,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.participationRate),children:e.jsx(on,{})}),e.jsx("th",{className:"sortable",onClick:()=>t(b.hotShotConsensus),children:e.jsx(an,{})}),e.jsx("th",{children:e.jsx(Pa,{})}),e.jsx("th",{children:e.jsx(nn,{})})]})})};try{An.displayName="DelegationTableHeader",An.__docgenInfo={description:`DelegationTableHeader is a component that renders
the header row of the delegation table with sortable columns.`,displayName:"DelegationTableHeader",props:{}}}catch{}const Ra=()=>e.jsx(me,{className:"consensus-chip inactive",children:e.jsx(c,{text:"Exited"})});try{Ra.displayName="ExitedChip",Ra.__docgenInfo={description:"",displayName:"ExitedChip",props:{}}}catch{}const Ea=()=>e.jsx(me,{className:"consensus-chip inactive",children:e.jsx(c,{text:"Exiting"})});try{Ea.displayName="ExitingChip",Ea.__docgenInfo={description:"",displayName:"ExitingChip",props:{}}}catch{}const Da=()=>e.jsx(me,{className:"consensus-chip inactive",children:e.jsx(c,{text:"Undelegated"})});try{Da.displayName="UndelegatedChip",Da.__docgenInfo={description:"",displayName:"UndelegatedChip",props:{}}}catch{}const Ta=()=>e.jsx(me,{className:"consensus-chip inactive",children:e.jsx(c,{text:"Undelegating"})});try{Ta.displayName="UndelegatingChip",Ta.__docgenInfo={description:"",displayName:"UndelegatingChip",props:{}}}catch{}const Oa=()=>{const t=a.useContext(_),n=a.useContext(J),s=a.useContext(qa),r=a.useContext(In),o=a.useContext(z),i=a.useContext(ue),l=a.useContext(xe),d=a.useContext(qt),m=a.useContext(te);if(!n||s.connectModalOpen)return e.jsx(e.Fragment,{children:e.jsx(p,{className:"action",onClick:s.openConnectModal,children:e.jsx(c,{text:"Delegate"})})});const v=u.encode(t.address),D=i.get(v)??null,pr=l.get(v)??null;return D?D.availableTime.valueOf()<r.valueOf()?e.jsx(Ra,{}):e.jsx(Ea,{}):pr?pr.availableTime.valueOf()<r.valueOf()?e.jsx(Da,{}):e.jsx(Ta,{}):d.has(v)?e.jsx(p,{className:"action",onClick:()=>{m(new Oe(t.address)),o.open()},children:e.jsx(c,{text:"Manage"})}):e.jsx(p,{className:"action",onClick:()=>{m(new Oe(t.address)),o.open()},children:e.jsx(c,{text:"Delegate"})})};try{Oa.displayName="ActionsCell",Oa.__docgenInfo={description:"",displayName:"ActionsCell",props:{}}}catch{}const Ba=()=>{const t=a.useContext(_),n=a.useContext(In),s=a.useContext(ue),r=a.useContext(xe),o=u.encode(t.address),i=s.get(o)??null,l=r.get(o)??null;if(i){const d=i.availableTime.valueOf()-n.valueOf();return d<=0?e.jsx("span",{className:"claimable",children:e.jsx(c,{text:"Claimable"})}):e.jsx(at,{durationInMilliseconds:d})}if(l){const d=l.availableTime.valueOf()-n.valueOf();return d<=0?e.jsx("span",{className:"claimable",children:e.jsx(c,{text:"Claimable"})}):e.jsx(at,{durationInMilliseconds:d})}return e.jsx(e.Fragment,{children:e.jsx(c,{text:"-"})})};try{Ba.displayName="ClaimInCell",Ba.__docgenInfo={description:`ClaimInCell displays information related to being able to withdraw claims
from a validator node.`,displayName:"ClaimInCell",props:{}}}catch{}const Va=()=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(We,{})}),e.jsx("td",{children:e.jsx(Ve,{})}),e.jsx("td",{children:e.jsx(ut,{})}),e.jsx("td",{children:e.jsx(it,{})}),e.jsx("td",{children:e.jsx(dt,{})}),e.jsx("td",{children:e.jsx(pt,{})}),e.jsx("td",{children:e.jsx(lt,{})}),e.jsx("td",{children:e.jsx(Ba,{})}),e.jsx("td",{children:e.jsx(Oa,{})})]});try{Va.displayName="NodeValidatorTableRow",Va.__docgenInfo={description:`NodeValidatorTableRow is a component that represents a single row
in the validator nodes table, displaying various details about the validator.`,displayName:"NodeValidatorTableRow",props:{}}}catch{}const Wa=()=>{const t=a.useContext(S);return t?e.jsxs("table",{className:"all-validators-table",children:[e.jsx(An,{}),e.jsx("tbody",{children:t.nodes.map((n,s)=>e.jsx(_.Provider,{value:n,children:e.jsx(Va,{})},s))})]}):e.jsx(e.Fragment,{})};try{Wa.displayName="DelegationTable",Wa.__docgenInfo={description:`DelegationTable is a component that renders
the table of validator nodes in the delegation UI.`,displayName:"DelegationTable",props:{}}}catch{}const Un=a.createContext(0),ko=a.createContext(()=>{}),wu=()=>e.jsxs("table",{className:"all-validators-table",children:[e.jsx(An,{}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsxs("td",{className:"no-data",colSpan:8,children:[e.jsx(c,{text:"Nothing brewing yet..."}),e.jsx("br",{}),e.jsx("br",{}),e.jsx(bo,{})]})})})]}),ku=()=>{const t=a.useContext(S);return a.useContext(Un)===1&&(t?.nodes.length??0)===0?e.jsx(wu,{}):e.jsx(Wa,{})},Ma=()=>e.jsx(Pu,{children:e.jsxs(Ns,{children:[e.jsx(Ia,{}),e.jsxs("section",{className:"delegation-ui-content edge-margin",children:[e.jsx(Os,{}),e.jsx(Rs,{}),e.jsx(Ls,{}),e.jsx(zs,{}),e.jsx(Iu,{}),e.jsx(Au,{children:e.jsx(ct,{children:e.jsx(ku,{})})})]})]})});function bu(t,n,s){if(!t)return null;switch(s){case 0:return t;case 1:return n?new ze(t.l1Block,t.nodes.filter(r=>!!n.nodes.find(o=>R(r.address,o.node)===0))):null}}const Au=({children:t})=>{const n=a.useContext(S),s=a.useContext(pe),r=a.useContext(Un);return e.jsx(S.Provider,{value:bu(n,s,r),children:t})},Iu=()=>{const t=a.useContext(Un),n=a.useContext(ko);return e.jsxs("div",{className:"delegation-ui-table-controls",children:[e.jsx(ws,{selected:t,onSelectionChange:s=>{n(s)},segments:[{value:0,label:e.jsx(c,{text:"All"})},{value:1,label:e.jsx(c,{text:"My Stakes"})}]}),e.jsx(bo,{})]})},Pu=({children:t})=>{const[n,s]=a.useState(0);return e.jsx(Un.Provider,{value:n,children:e.jsx(ko.Provider,{value:s,children:t})})},bo=()=>{const t=a.useContext(J),n=a.useContext(qa),s=a.useContext(z);return!t||n.connectModalOpen?e.jsxs(p,{onClick:n.openConnectModal,children:[e.jsx(gs,{}),e.jsx(c,{text:"Delegate"})]}):e.jsxs(p,{onClick:s.open,children:[e.jsx(gs,{}),e.jsx(c,{text:"Delegate"})]})};try{Ma.displayName="DelegationUIContent",Ma.__docgenInfo={description:`DelegationUIContent is the main content area for the Delegation UI page.

It defines the layout and structure of the content that is displayed within
the Delegation UI.

All of the content is displayed within a dedicated element to define the
area for styling purposes, and for content display.`,displayName:"DelegationUIContent",props:{}}}catch{}const Ru=()=>e.jsx(Eu,{children:e.jsxs("main",{className:"delegation-ui",children:[e.jsx(js,{}),e.jsx(Ma,{})]})}),Eu=({children:t})=>e.jsx(es,{children:e.jsx(ls,{children:e.jsx(Cs,{children:e.jsx(os,{children:e.jsx(Xn,{children:e.jsx(ds,{children:e.jsx(ts,{children:e.jsx(ms,{children:e.jsx(Zn,{children:e.jsx(Yn,{children:e.jsx(ss,{children:e.jsx(hs,{children:e.jsx(ns,{children:e.jsx(xs,{children:e.jsx(as,{children:e.jsx(us,{children:e.jsx(ps,{children:e.jsx(ys,{children:t})})})})})})})})})})})})})})})})})});try{delegationui.displayName="delegationui",delegationui.__docgenInfo={description:`DelegationUI is a component that represents the entire Delegation UI
self contained page.`,displayName:"delegationui",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Ja=({children:t})=>{const n=a.useContext(Ne),s=a.useContext(Q);return e.jsx(Q.Provider,{value:Du(s,n),children:t})};function Du(t,n){if(n instanceof Mo){const s=new Ou(t);return n.setTransactionCallback(s.wallet),s}return t}const Ua=new Ae([],[],[],0n,new Qe(0n,new ArrayBuffer,new Date(0)));class Tu{constructor(n={snapshots:new Map([[Ln,new Ae(Array.from(A(hr(Pe,Pe.length-2),s=>new Ee(u.decode(Ln),s.address,s.stake/10n))),[],Array.from(A(hr(Pe,Pe.length-2),s=>new G(u.decode(Ln),s.address,s.stake/10n,new Date(0)))),0n,Ua.l1Block)]])}){this.state=n}async snapshot(n){const s=u.encode(n);return this.state.snapshots.get(s)??Ua}async updates(){throw new P}l1Transaction(n){if(n instanceof Jo){this.reportStakeTableAction(n);return}if(n instanceof Uo){this.reportRewardClaimAction(n);return}}reportStakeTableAction(n){this.state=Vu(this.state,n)}reportRewardClaimAction(n){this.state=Gu(this.state,n)}}class Ou{constructor(n){this.service=n}wallet=new Tu;get l1Block(){return this.service.l1Block}get validatorsAll(){return this.service.validatorsAll}get validatorsActive(){return this.service.validatorsActive}setURL(){throw new P}}function Bu(t){return t instanceof Fa||t instanceof vt||t instanceof Ha||t instanceof jt?t.delegator:null}function Vu(t,n){if(n instanceof La)return{snapshots:new Map(A(t.snapshots,o=>Ku(o,n)))};let s=t.snapshots;const r=Bu(n);return r?(t.snapshots.has(r)||(s=Nt(t.snapshots,St([r,Ua]))),{snapshots:new Map(A(s,o=>Wu(o,n)))}):t}function Wu(t,n){const[s,r]=t;return[s,Mu(u.decode(s),r,n)]}function Mu(t,n,s){return new Ae(Ju(t,n.nodes,s),Lu(t,n.pendingUndelegations,s),Hu(t,n.pendingExits,s),zu(t,n.claimedRewards),$u(t,n.l1Block))}function Ju(t,n,s){if(!(s instanceof Fa||s instanceof vt||s instanceof jt))return n;const r=s.validator,o=u.decode(r),i=Rn(n,d=>R(d.node,o)===0);let l=n;return i||(l=Nt(n,St(new Ee(t,o,0n)))),Array.from(we(A(l,d=>Uu(t,o,d,s)),d=>d.amount>0n))}function Uu(t,n,s,r){return R(s.delegator,t)!==0||R(s.node,n)!==0?s:r instanceof Fa?new Ee(t,n,s.amount+r.value):r instanceof vt?new Ee(t,n,s.amount-r.value):r instanceof jt?new Ee(t,n,0n):s}function Lu(t,n,s){if(!(s instanceof vt||s instanceof Ha))return n;const r=s.validator,o=u.decode(r),i=Rn(n,d=>R(d.node,o)===0);let l=n;return i||(l=Nt(n,St(new G(t,o,0n,new Date(0))))),Array.from(we(A(l,d=>Fu(t,o,d,s)),d=>d.amount>0n))}function Fu(t,n,s,r){return R(s.delegator,t)!==0||R(s.node,n)!==0?s:r instanceof vt?new G(t,n,r.value,new Date(r.ts.valueOf()+Number(r.exitEscrowPeriod))):r instanceof Ha?new G(t,n,0n,new Date(0)):s}function Hu(t,n,s){if(!(s instanceof La||s instanceof jt))return n;let r=n;const o=s.validator,i=u.decode(o);return Rn(n,l=>R(l.node,i)===0)&&(r=Nt(n,St(new G(t,i,0n,new Date(0))))),Array.from(we(A(r,l=>qu(t,i,l,s)),l=>l.amount>0n))}function qu(t,n,s,r){return R(s.delegator,t)!==0||R(s.node,n)!==0?s:r instanceof La?new G(t,n,r.value,new Date(Number(r.exitTime))):r instanceof jt?new G(t,n,0n,new Date(0)):s}function zu(t,n){return n}function $u(t,n){return n}function Ku(t,n){const s=n.validator,r=u.decode(s),[o,i]=t,l=u.decode(o),d=Rn(i.nodes,m=>R(m.node,r)===0);return d?[o,new Ae(i.nodes,i.pendingUndelegations,Array.from(Nt(i.pendingExits,St(new G(l,r,d.amount,new Date(Number(n.exitTime)))))),i.claimedRewards,i.l1Block)]:t}function Gu(t,n){return{snapshots:new Map(A(t.snapshots,s=>Qu(s,n)))}}function Qu(t,n){if(!(n instanceof Lo))return t;const[s,r]=t;return s!==n.delegator?t:[s,new Ae(r.nodes,r.pendingUndelegations,r.pendingExits,r.claimedRewards+n.value,r.l1Block)]}try{Ja.displayName="L1ValidatorServiceMockInjection",Ja.__docgenInfo={description:"",displayName:"L1ValidatorServiceMockInjection",props:{}}}catch{}const Yu=({environment:t,stakeTableContractAddress:n,espTokenContractAddress:s,hotshotQueryServiceURL:r,nodeValidatorWebSocketURL:o,l1ValidatorServiceURL:i,...l})=>e.jsx(e.Fragment,{children:e.jsxs(Fo,{environment:t,stakeTableContractAddress:n,espTokenContractAddress:s,hotshotQueryServiceURL:r,nodeValidatorWebSocketURL:o,l1ValidatorServiceURL:i,children:[e.jsx(Ro,{}),e.jsx(Io,{children:e.jsx(Ko,{children:e.jsx(Qn,{children:e.jsx(Ja,{children:e.jsx(Ru,{...l})})})})})]})}),Ch={title:"Sites/Delegation UI/Page",component:Yu,parameters:{layout:"fullscreen"},args:{environment:Po.fakeData,stakeTableContractAddress:void 0,espTokenContractAddress:void 0,hotshotQueryServiceURL:void 0,nodeValidatorWebSocketURL:void 0,l1ValidatorServiceURL:void 0},argTypes:{...Eo,l1ValidatorServiceURL:{control:"text"}},globals:{background:"light",parameters:{backgrounds:{default:"light",options:{light:{name:"Light",value:"#f8fafcff"}}}}}},It={},Pt={args:Do},Rt={args:To},Et={args:{...Oo,l1ValidatorServiceURL:"https://staking.decaf.testnet.espresso.network/v0/"}},Dt={args:Bo},Tt={args:Vo},Ot={args:Wo};It.parameters={...It.parameters,docs:{...It.parameters?.docs,source:{originalSource:"{}",...It.parameters?.docs?.source}}};Pt.parameters={...Pt.parameters,docs:{...Pt.parameters?.docs,source:{originalSource:`{
  args: environmentArgsMilkWithContracts
}`,...Pt.parameters?.docs?.source}}};Rt.parameters={...Rt.parameters,docs:{...Rt.parameters?.docs,source:{originalSource:`{
  args: environmentArgsWaterWithContracts
}`,...Rt.parameters?.docs?.source}}};Et.parameters={...Et.parameters,docs:{...Et.parameters?.docs,source:{originalSource:`{
  args: {
    ...environmentArgsDecafWithContracts,
    l1ValidatorServiceURL: 'https://staking.decaf.testnet.espresso.network/v0/'
  }
}`,...Et.parameters?.docs?.source}}};Dt.parameters={...Dt.parameters,docs:{...Dt.parameters?.docs,source:{originalSource:`{
  args: environmentArgsMainnetWithContracts
}`,...Dt.parameters?.docs?.source}}};Tt.parameters={...Tt.parameters,docs:{...Tt.parameters?.docs,source:{originalSource:`{
  args: environmentArgsFakeDataWithContracts
}`,...Tt.parameters?.docs?.source}}};Ot.parameters={...Ot.parameters,docs:{...Ot.parameters?.docs,source:{originalSource:`{
  args: environmentArgsLocalDevNetWithContracts
}`,...Ot.parameters?.docs?.source}}};const fh=["Default","Milk","Water","Decaf","Mainnet","FakeData","LocalDevNet"];export{Et as Decaf,It as Default,Tt as FakeData,Ot as LocalDevNet,Dt as Mainnet,Pt as Milk,Rt as Water,fh as __namedExportsOrder,Ch as default};
