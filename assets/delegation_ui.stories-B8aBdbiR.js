import{R as c,j as o,r as Wo}from"./iframe-FzErJqN6.js";import{N as $t,P as Ko}from"./NowProvider-_E-9Clgm.js";import{E as Go,b as qo}from"./environment_banner-0jQl4275.js";import{k as Xo,l as zo,j as Yo,m as Qo,n as Jo,o as Zo,p as Wr,q as es,i as Zt}from"./controls-ByxYdRY3.js";import{a as ts}from"./storybook-BhjCpciu.js";import{G as tr,n as he}from"./en_US-RFN65H63-hEQ-TGDA.js";import{P as ns}from"./CappuccinoHotShotQueryServiceAPIContext-C5BFJJHJ.js";import{g as de,w as en,a as b,f as P,b as rs}from"./react.esm-D2hH6fTW.js";import{l as j,X as os,ad as E,f as Kr,i as Gr,j as qr,ag as ze,ah as Wt,C as ss,m as is,_ as as,ai as Kt,F as Gt,t as T,aj as ls,ak as cs,G as ds,T as us,q as ps,r as fs,al as hs,am as qt,J as vr,an as ms,ao as gs,ap as ys,aq as vs,ar as xs,as as bs,at as _s,au as Cs,av as ws,aw as Ss,o as Es,n as js,k as ks,Y as xr,W as Ye,D as Me,d as $,L as Ns,ax as Ts}from"./staking_modal_validator_confirmed_content-BkH-iRbx.js";import{m as k,r as Xt,n as Xr,j as N,e as D,q as Qe,c as br,o as Je,s as Ze}from"./functional-D84nw2eW.js";import{W as et,R as Is}from"./staking_modal-B7kd14Vh.js";import{n as Ps,D as As}from"./LoadingProvider-CBligMWO.js";import"./AsyncIterableResolver-TSuhdkt5.js";import{b as Ds}from"./ProvideAsyncStates--cbBPRk2.js";import"./TransactionDetailContent-Dvi339kk.js";import{P as Ms}from"./PromiseResolver-CUfAa1z7.js";import"./DataTable-DWpr4HaW.js";import{E as Us,L as Rs}from"./stake_table_contract_context-DxLn25JB.js";import{E as Os}from"./EspressoLogoAndTitle-DzWtfgLz.js";import{T as f}from"./Text-BU7JBOLk.js";import{W as Bs}from"./deserializer-DEbE4rrs.js";import{a as X}from"./higher_order-D1aPdQSR.js";import{S as zt}from"./SVGIconBase-yCORSxOm.js";import{h as M}from"./array_buffer-DuWTC5ee.js";import"./url-DwwBj-2c.js";import"./string-Bj9RBsFG.js";import{U as nr}from"./UnimplementedError-DRDLdWuq.js";import"./MissingElementError-Dm9GiuiL.js";import"./base64-Dx8wLaZf.js";import{W as Vs}from"./wallet_address-CpgxLnfk.js";import{T as zr,a as Ls}from"./text-D5oHP-2T.js";import{S as Fs}from"./SearchGlass-D5uxOSop.js";import{M as me}from"./MoneyText-CCTbcaV9.js";import{M as ge}from"./monetary_value-q68MMcLV.js";import{P as Se}from"./VariableByteSizeText-Da6Hm1jc.js";import{N as Hs}from"./NumberText-HNhVnN8v.js";import{C as $s}from"./DateTimeFormattersProvider-CZowblb9.js";import{R as rr,N as or,S as Ws}from"./staking_modal_content-CrW3ALoj.js";import"./blocks-DqaRurhN.js";import{n as ot}from"./nodes-sPTSRSIJ.js";import{M as Ks,a as tn,S as Gs,R as qs,V as sr,D as ir,U as tt,C as ar,b as nt,c as Xs}from"./fake_data-CMR5vjBe.js";import"./preload-helper-PPVm8Dsz.js";import"./typography-Di2_0slN.js";import"./espresso-BHcz9P4G.js";import"./explorer-xakI6t5b.js";import"./index-Bp3wDen4.js";import"./index-CpfLKNmN.js";import"./TransactionDetailLoader-nJTN1Tpv.js";import"./TaggedBase64-CL6rcPDn.js";import"./assert-BI051aL8.js";import"./PathResolverProvider-CU74cDgI.js";import"./block_summary-CBGYsBbN.js";import"./LabeledAnchorButton-DJcqJDEI.js";import"./AnchorButton-uVbr-_Iq.js";import"./LocaleProvider-DKgBZSpf.js";import"./PagePathProvider-CP4LF1jP.js";import"./NumberFormattersProvider-WL2WBrHm.js";import"./transaction_summary-_-RUzodv.js";import"./FetchError-ljfnF1aF.js";import"./NotFoundError-B7azoDNK.js";import"./client-C3Wqjtu9.js";import"./BlockPage-B9R-3BXf.js";import"./ErrorDisplay-_w3QzlrU.js";import"./Footer-2QCStTyI.js";import"./EspressoLogo-C17nJgaH.js";import"./ArrowRight-0hEAEfzQ.js";import"./Button-8D_PjYFt.js";import"./IconAnchorButton-CrYH2sGx.js";import"./IconButton-Y9gko0sw.js";import"./LabeledButton-B4Xn2yny.js";import"./Link-D6iTiXzC.js";import"./SocialMediaLinks-G1ilBnBX.js";import"./MediumIcon-C5oVlAVy.js";import"./XIcon-DwXQ1rPR.js";import"./Header-BEiWh41m.js";import"./NavBar-C5MzZHUY.js";import"./Close-Cl0yDB1K.js";import"./Menu-D1kc__cp.js";import"./Card-CxAhIdpa.js";import"./Heading1-DC99EGbR.js";/* empty css                */import"./LoadingShimmer-Jp93z9Z7.js";import"./LatestBlockSummary-CD5MMHT_.js";import"./SkeletonContent-Cqj7aVKa.js";import"./BlockSizeHistogram-DDqBv4M2.js";import"./label-_AWJOLq3.js";import"./CircularProgressIndicator-oLfnIsPk.js";import"./ContainerLoading-DaMZ2YzF.js";import"./SVGToolTip-DK2Zww0z.js";import"./SVGPathBuilder-4dyJLere.js";import"./AffineTransform-UCCpzMIM.js";import"./ByteSizeText-zZc0kQwz.js";import"./CopyHex-B5sdZsMs.js";import"./CopyButton-PEjw1Crq.js";import"./CheckCircleFilled-B65Yvqd6.js";import"./Copy-Dw9BDBZ5.js";/* empty css               */import"./DateTimeText-BUWL7bUB.js";import"./FullHexText-_vyHn9pV.js";import"./HexText-CJn3mfhH.js";import"./RelativeTimeSinceDateText-Bww6-P-5.js";import"./TaggedBase64Text-BwrT1FIO.js";import"./TimeText-Bo9Os8VH.js";import"./Heading2-DflGgZev.js";import"./Payments-Oblv13UF.js";import"./TwitterIcon-o4nbkoOk.js";import"./ChevronUp-BMgb842L.js";import"./SummaryTableLabeledValue-DNdZZH--.js";import"./SummaryValueLabeled-BxTKB0_0.js";import"./data-Cpeha0UW.js";import"./TableLabeledValue-Cb7v7loI.js";import"./BlockSummaryDataTable-CveVZ9XH.js";import"./HexDump-DnB1ygB6.js";import"./RollUpSimple-Bc6c2Fmh.js";import"./RollUpsSummaryDataTable-BLZOZ2H4.js";import"./TransactionSummaryDataTable-Bw449yJh.js";import"./BlocksPage-DPGdswyP.js";import"./NodesSummaryDataTable-O2XHWFpo.js";import"./sleep-CW-vxfof.js";import"./WorldMapDotsPopulationFullResolution-COikjFCC.js";import"./constants-CF89dB7H.js";import"./WorldMapDotsFullResolution-DQTTnhHj.js";import"./validator-CIqZZigT.js";import"./ExplorerPage-BLC_ZScJ.js";import"./SearchInput-eHIZPpOg.js";import"./Container-D5W4OKBp.js";import"./PieChart-B6aAz0fJ.js";import"./RollUpPage-WG4D0uV6.js";import"./RollUpsPage-B7d-u-85.js";import"./TransactionPage-C5SVF9to.js";import"./TransactionsForBlockPage-DgmX77Cx.js";import"./TransactionsPage-DVJJyvAK.js";import"./esp_input-LUFYlnTL.js";import"./nitro_batch_display-DOZGLh7s.js";function h(e,t,n){return e.namespaceURI&&e.namespaceURI!=="http://www.w3.org/1999/xhtml"||(t=Array.isArray(t)?t:[t],!t.includes(e.tagName.toLowerCase()))?!1:n?Object.entries(n).every(([r,s])=>e[r]===s):!0}function I(e){var t;if(zs(e)&&e.defaultView)return e.defaultView;if(!((t=e.ownerDocument)===null||t===void 0)&&t.defaultView)return e.ownerDocument.defaultView;throw new Error(`Could not determine window of node. Node was ${Ys(e)}`)}function zs(e){return e.nodeType===9}function Ys(e){return typeof e=="function"?`function ${e.name}`:e===null?"null":String(e)}function Yr(e,t){return new Promise((n,r)=>{const s=new t;s.onerror=r,s.onabort=r,s.onload=()=>{n(String(s.result))},s.readAsText(e)})}function lr(e,t){const n={...t,length:t.length,item:r=>n[r],[Symbol.iterator]:function*(){for(let s=0;s<n.length;s++)yield n[s]}};return n.constructor=e.FileList,e.FileList&&Object.setPrototypeOf(n,e.FileList.prototype),Object.freeze(n),n}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Qr{getAsFile(){return this.file}getAsString(t){typeof this.data=="string"&&t(this.data)}webkitGetAsEntry(){throw new Error("not implemented")}constructor(t,n){H(this,"kind",void 0),H(this,"type",void 0),H(this,"file",null),H(this,"data",void 0),typeof t=="string"?(this.kind="string",this.type=String(n),this.data=t):(this.kind="file",this.type=t.type,this.file=t)}}class Qs extends Array{add(...t){const n=new Qr(t[0],t[1]);return this.push(n),n}clear(){this.splice(0,this.length)}remove(t){this.splice(t,1)}}function st(e,t){const[n,r]=e.split("/"),s=!r||r==="*";return i=>t?i.type===(s?n:e):s?i.type.startsWith(`${n}/`):i.type===n}function Js(e){return new class{getData(n){var r;const s=(r=this.items.find(st(n,!0)))!==null&&r!==void 0?r:this.items.find(st(n,!1));let i="";return s?.getAsString(a=>{i=a}),i}setData(n,r){const s=this.items.findIndex(st(n,!0)),i=new Qr(r,n);s>=0?this.items.splice(s,1,i):this.items.push(i)}clearData(n){if(n){const r=this.items.findIndex(st(n,!0));r>=0&&this.items.remove(r)}else this.items.clear()}get types(){const n=[];return this.files.length&&n.push("Files"),this.items.forEach(r=>n.push(r.type)),Object.freeze(n),n}setDragImage(){}constructor(){H(this,"dropEffect","none"),H(this,"effectAllowed","uninitialized"),H(this,"items",new Qs),H(this,"files",lr(e,[]))}}}function cr(e,t=[]){const n=typeof e.DataTransfer>"u"?Js(e):new e.DataTransfer;return Object.defineProperty(n,"files",{get:()=>lr(e,t)}),n}async function Zs(e,t){return t.kind==="file"?t.getAsFile():new e.Blob([await new Promise(n=>t.getAsString(n))],{type:t.type})}function Jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zr(e,...t){const n=Object.fromEntries(t.map(r=>[typeof r=="string"?"text/plain":r.type,Promise.resolve(r)]));return typeof e.ClipboardItem<"u"?new e.ClipboardItem(n):new class{get types(){return Array.from(Object.keys(this.data))}async getType(s){const i=await this.data[s];if(!i)throw new Error(`${s} is not one of the available MIME types on this item.`);return i instanceof e.Blob?i:new e.Blob([i],{type:s})}constructor(s){Jr(this,"data",void 0),this.data=s}}(n)}const ye=Symbol("Manage ClipboardSub");function _r(e,t){return Object.assign(new class extends e.EventTarget{async read(){return Array.from(this.items)}async readText(){let r="";for(const s of this.items){const i=s.types.includes("text/plain")?"text/plain":s.types.find(a=>a.startsWith("text/"));i&&(r+=await s.getType(i).then(a=>Yr(a,e.FileReader)))}return r}async write(r){this.items=r}async writeText(r){this.items=[Zr(e,r)]}constructor(...r){super(...r),Jr(this,"items",[])}},{[ye]:t})}function dr(e){return!!e?.[ye]}function ei(e){if(dr(e.navigator.clipboard))return e.navigator.clipboard[ye];const t=Object.getOwnPropertyDescriptor(e.navigator,"clipboard");let n;const r={resetClipboardStub:()=>{n=_r(e,r)},detachClipboardStub:()=>{t?Object.defineProperty(e.navigator,"clipboard",t):Object.defineProperty(e.navigator,"clipboard",{value:void 0,configurable:!0})}};return n=_r(e,r),Object.defineProperty(e.navigator,"clipboard",{get:()=>n,configurable:!0}),n[ye]}function ti(e){dr(e.navigator.clipboard)&&e.navigator.clipboard[ye].resetClipboardStub()}function ni(e){dr(e.navigator.clipboard)&&e.navigator.clipboard[ye].detachClipboardStub()}async function ri(e){const t=e.defaultView,n=t?.navigator.clipboard,r=n&&await n.read();if(!r)throw new Error("The Clipboard API is unavailable.");const s=cr(t);for(const i of r)for(const a of i.types)s.setData(a,await i.getType(a).then(l=>Yr(l,t.FileReader)));return s}async function eo(e,t){const n=I(e),r=n.navigator.clipboard,s=[];for(let a=0;a<t.items.length;a++){const l=t.items[a],d=await Zs(n,l);s.push(Zr(n,d))}if(!(r&&await r.write(s).then(()=>!0,()=>!1)))throw new Error("The Clipboard API is unavailable.")}const Ct=globalThis;typeof Ct.afterEach=="function"&&Ct.afterEach(()=>ti(globalThis.window));typeof Ct.afterAll=="function"&&Ct.afterAll(()=>ni(globalThis.window));const to=["input:not([type=hidden]):not([disabled])","button:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contenteditable=""]','[contenteditable="true"]',"a[href]","[tabindex]:not([disabled])"].join(", ");function ur(e){return e.matches(to)}function oi(e){return new e.constructor(e.type,e)}function V(e){for(let n=e;n;n=n.parentElement)if(h(n,["button","input","select","textarea","optgroup","option"])){if(n.hasAttribute("disabled"))return!0}else if(h(n,"fieldset")){var t;if(n.hasAttribute("disabled")&&!(!((t=n.querySelector(":scope > legend"))===null||t===void 0)&&t.contains(e)))return!0}else if(n.tagName.includes("-")&&n.constructor.formAssociated&&n.hasAttribute("disabled"))return!0;return!1}function rt(e){const t=e.activeElement;return t?.shadowRoot?rt(t.shadowRoot):V(t)?e.ownerDocument?e.ownerDocument.body:e.body:t}function nn(e){var t;return(t=rt(e))!==null&&t!==void 0?t:e.body}function si(e,t){let n=e;do{if(t(n))return n;n=n.parentElement}while(n&&n!==e.ownerDocument.body)}function se(e){return e.hasAttribute("contenteditable")&&(e.getAttribute("contenteditable")=="true"||e.getAttribute("contenteditable")=="")}function Re(e){const t=ii(e);return t&&(t.closest('[contenteditable=""]')||t.closest('[contenteditable="true"]'))}function ii(e){return e.nodeType===1?e:e.parentElement}var no=(function(e){return e.button="button",e.color="color",e.file="file",e.image="image",e.reset="reset",e.submit="submit",e.checkbox="checkbox",e.radio="radio",e})(no||{});function ro(e){return h(e,"button")||h(e,"input")&&e.type in no}function ve(e){return so(e)&&!e.readOnly||se(e)}var oo=(function(e){return e.text="text",e.date="date",e["datetime-local"]="datetime-local",e.email="email",e.month="month",e.number="number",e.password="password",e.search="search",e.tel="tel",e.time="time",e.url="url",e.week="week",e})(oo||{});function so(e){return h(e,"textarea")||h(e,"input")&&e.type in oo}function U(e){return io(e)&&so(e)}function ai(e){return io(e)&&ro(e)}function io(e){return e.nodeType===1}function li(e){const t=e.ownerDocument.getSelection();if(t?.focusNode&&U(e)){const r=Re(t.focusNode);if(r){if(!t.isCollapsed){var n;const s=((n=r.firstChild)===null||n===void 0?void 0:n.nodeType)===3?r.firstChild:r;t.setBaseAndExtent(s,0,s,0)}}else t.setBaseAndExtent(e,0,e,0)}}function xe(e,t){return de().eventWrapper(e)}function W(e){const t=si(e,ur),n=rt(e.ownerDocument);(t??e.ownerDocument.body)!==n&&(xe(t?()=>t.focus():()=>n?.blur()),li(t??e.ownerDocument.body))}function ci(e){!ur(e)||!(rt(e.ownerDocument)===e)||xe(()=>e.blur())}const K={};K.click=(e,t,n)=>{const r=t.closest("button,input,label,select,textarea"),s=r&&h(r,"label")&&r.control;if(s&&s!==t)return()=>{ur(s)&&(W(s),n.dispatchEvent(s,oi(e)))};if(h(t,"input",{type:"file"}))return()=>{ci(t),t.dispatchEvent(new(I(t)).Event("fileDialog")),W(t)}};const be=Symbol("Displayed value in UI"),B=Symbol("Displayed selection in UI"),wt=Symbol("Initial value to compare on blur");function di(e){return typeof e=="object"&&be in e}function ui(e){return!!e&&typeof e=="object"&&B in e}function pi(e,t){e[wt]===void 0&&(e[wt]=e.value),e[be]=t,e.value=Object.assign(new String(t),{[be]:!0})}function R(e){return e[be]===void 0?e.value:String(e[be])}function pr(e){e[be]=void 0}function ao(e){e[wt]=void 0}function fi(e){return e[wt]}function hi(e,t){e[B]=t}function Ee(e,{focusOffset:t,anchorOffset:n=t},r="replace"){const s=R(e).length,i=m=>Math.max(0,Math.min(s,m)),a=r==="replace"||e[B]===void 0?i(n):e[B].anchorOffset,l=i(t),d=Math.min(a,l),u=Math.max(a,l);if(e[B]={anchorOffset:a,focusOffset:l},e.selectionStart===d&&e.selectionEnd===u)return;const p=Object.assign(new Number(d),{[B]:!0});try{e.setSelectionRange(p,u)}catch{}}function Oe(e){var t,n,r;const s=(r=e[B])!==null&&r!==void 0?r:{anchorOffset:(t=e.selectionStart)!==null&&t!==void 0?t:0,focusOffset:(n=e.selectionEnd)!==null&&n!==void 0?n:0};return{...s,startOffset:Math.min(s.anchorOffset,s.focusOffset),endOffset:Math.max(s.anchorOffset,s.focusOffset)}}function mi(e){return!!e[B]}function vt(e){e[B]=void 0}const St=globalThis.parseInt;function gi(e){const t=e.replace(/\D/g,"");if(t.length<2)return e;const n=St(t[0],10),r=St(t[1],10);if(n>=3||n===2&&r>=4){let s;return n>=3?s=1:s=2,Cr(t,s)}return e.length===2?e:Cr(t,2)}function Cr(e,t){const n=e.slice(0,t),r=Math.min(St(n,10),23),s=e.slice(t),i=St(s,10),a=Math.min(i,59);return`${r.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`}function lo(e,t){const n=e.cloneNode();return n.value=t,n.value===t}var co=(function(e){return e.email="email",e.password="password",e.search="search",e.telephone="telephone",e.text="text",e.url="url",e})(co||{});function yi(e){var t;const n=(t=e.getAttribute("maxlength"))!==null&&t!==void 0?t:"";return/^\d+$/.test(n)&&Number(n)>=0?Number(n):void 0}function vi(e){return h(e,"textarea")||h(e,"input")&&e.type in co}function uo(e,t,n,r){if(xt(e)&&t+n>=0&&t+n<=e.nodeValue.length)return{node:e,offset:t+n};const s=wr(e,t,n);if(s){if(xt(s))return{node:s,offset:n>0?Math.min(1,s.nodeValue.length):Math.max(s.nodeValue.length-1,0)};if(h(s,"br")){const i=wr(s,void 0,n);return i?xt(i)?{node:i,offset:n>0?0:i.nodeValue.length}:n<0&&h(i,"br")?{node:s.parentNode,offset:it(s)}:{node:i.parentNode,offset:it(i)+(n>0?0:1)}:n<0&&r==="deleteContentBackward"?{node:s.parentNode,offset:it(s)}:void 0}else return{node:s.parentNode,offset:it(s)+(n>0?1:0)}}}function wr(e,t,n){const r=Number(t)+(n<0?-1:0);return t!==void 0&&fr(e)&&r>=0&&r<e.children.length&&(e=e.children[r]),bi(e,n===1?"next":"previous",xi)}function xi(e){if(xt(e))return!0;if(fr(e)){if(h(e,["input","textarea"]))return e.type!=="hidden";if(h(e,"br"))return!0}return!1}function it(e){let t=0;for(;e.previousSibling;)t++,e=e.previousSibling;return t}function fr(e){return e.nodeType===1}function xt(e){return e.nodeType===3}function bi(e,t,n){for(;;){var r;const s=e[`${t}Sibling`];if(s){if(e=_i(s,t==="next"?"first":"last"),n(e))return e}else if(e.parentNode&&(!fr(e.parentNode)||!se(e.parentNode)&&e.parentNode!==((r=e.ownerDocument)===null||r===void 0?void 0:r.body)))e=e.parentNode;else break}}function _i(e,t){for(;e.hasChildNodes();)e=e[`${t}Child`];return e}const Be=Symbol("Track programmatic changes for React workaround");function Ci(e){return Object.getOwnPropertyNames(e).some(t=>t.startsWith("__react"))&&I(e).REACT_VERSION===17}function wi(e){Ci(e)&&(e[Be]={previousValue:String(e.value),tracked:[]})}function Si(e,t){var n,r;(r=e[Be])===null||r===void 0||(n=r.tracked)===null||n===void 0||n.push(t),e[Be]||(pr(e),Ee(e,{focusOffset:t.length}))}function Ei(e,t){var n;const r=e[Be];if(e[Be]=void 0,!(!(r==null||(n=r.tracked)===null||n===void 0)&&n.length))return;const s=r.tracked.length===2&&r.tracked[0]===r.previousValue&&r.tracked[1]===e.value;s||pr(e),mi(e)&&Ee(e,{focusOffset:s?t:e.value.length})}function po(e){const t=ji(e);if(t&&U(t))return{type:"input",selection:Oe(t)};const n=t?.ownerDocument.getSelection();return{type:Re(e)&&n?.anchorNode&&Re(n.anchorNode)?"contenteditable":"default",selection:n}}function ji(e){return e.nodeType===1?e:e.parentElement}function ki(e){const t=po(e);if(t.type==="input")return t.selection;if(t.type==="contenteditable"){var n;return(n=t.selection)===null||n===void 0?void 0:n.getRangeAt(0)}}function ie({focusNode:e,focusOffset:t,anchorNode:n=e,anchorOffset:r=t}){var s,i;if(po(e).type==="input")return Ee(e,{anchorOffset:r,focusOffset:t});(i=n.ownerDocument)===null||i===void 0||(s=i.getSelection())===null||s===void 0||s.setBaseAndExtent(n,r,e,t)}function fo(e){return h(e,"input")&&["date","time"].includes(e.type)}function _e(e,t,n,r="insertText"){const s=ki(t);s&&(!fo(t)&&!e.dispatchUIEvent(t,"beforeinput",{inputType:r,data:n})||("startContainer"in s?Ni(e,t,s,n,r):Ti(e,t,s,n,r)))}function Ni(e,t,n,r,s){let i=!1;if(!n.collapsed)i=!0,n.deleteContents();else if(["deleteContentBackward","deleteContentForward"].includes(s)){const a=uo(n.startContainer,n.startOffset,s==="deleteContentBackward"?-1:1,s);if(a){i=!0;const l=n.cloneRange();l.comparePoint(a.node,a.offset)<0?l.setStart(a.node,a.offset):l.setEnd(a.node,a.offset),l.deleteContents()}}if(r)if(n.endContainer.nodeType===3){const a=n.endOffset;n.endContainer.insertData(a,r),n.setStart(n.endContainer,a+r.length),n.setEnd(n.endContainer,a+r.length)}else{const a=t.ownerDocument.createTextNode(r);n.insertNode(a),n.setStart(a,r.length),n.setEnd(a,r.length)}(i||r)&&e.dispatchUIEvent(t,"input",{inputType:s})}function Ti(e,t,n,r,s){let i=r;if(vi(t)){const u=yi(t);if(u!==void 0&&r.length>0){const p=u-t.value.length;if(p>0)i=r.substring(0,p);else return}}const{newValue:a,newOffset:l,oldValue:d}=Ii(i,t,n,s);a===d&&l===n.startOffset&&l===n.endOffset||h(t,"input",{type:"number"})&&!Pi(a)||(pi(t,a),ie({focusNode:t,anchorOffset:l,focusOffset:l}),fo(t)?lo(t,a)&&(Sr(e,t,l,{}),e.dispatchUIEvent(t,"change"),ao(t)):Sr(e,t,l,{data:r,inputType:s}))}function Ii(e,t,{startOffset:n,endOffset:r},s){const i=R(t),a=Math.max(0,n===r&&s==="deleteContentBackward"?n-1:n),l=i.substring(0,a),d=Math.min(i.length,n===r&&s==="deleteContentForward"?n+1:r),u=i.substring(d,i.length);let p=`${l}${e}${u}`,m=a+e.length;if(h(t,"input",{type:"time"})){const g=gi(p);g!==""&&lo(t,g)&&(p=g,m=g.length)}return{oldValue:i,newValue:p,newOffset:m}}function Sr(e,t,n,r){e.dispatchUIEvent(t,"input",r),Ei(t,n)}function Pi(e){var t,n;const r=e.split("e",2);return!(/[^\d.\-e]/.test(e)||Number((t=e.match(/-/g))===null||t===void 0?void 0:t.length)>2||Number((n=e.match(/\./g))===null||n===void 0?void 0:n.length)>1||r[1]&&!/^-?\d*$/.test(r[1]))}K.cut=(e,t,n)=>()=>{ve(t)&&_e(n,t,"","deleteByCut")};function Ai(e){return e?se(e)?e.textContent:R(e):null}function Di(e){const t=I(e);for(let n=e;n?.ownerDocument;n=n.parentElement){const{display:r,visibility:s}=t.getComputedStyle(n);if(r==="none"||s==="hidden")return!1}return!0}function Mi(e,t){const n=e.ownerDocument,r=n.querySelectorAll(to),s=Array.from(r).filter(d=>d===e||!(Number(d.getAttribute("tabindex"))<0||V(d)));Number(e.getAttribute("tabindex"))>=0&&s.sort((d,u)=>{const p=Number(d.getAttribute("tabindex")),m=Number(u.getAttribute("tabindex"));return p===m?0:p===0?1:m===0?-1:p-m});const i={};let a=[n.body];const l=h(e,"input",{type:"radio"})?e.name:void 0;s.forEach(d=>{const u=d;if(h(u,"input",{type:"radio"})&&u.name){if(u===e){a.push(u);return}else if(u.name===l)return;if(u.checked){a=a.filter(p=>!h(p,"input",{type:"radio",name:u.name})),a.push(u),i[u.name]=u;return}if(typeof i[u.name]<"u")return}a.push(u)});for(let d=a.findIndex(u=>u===e);;)if(d+=t?-1:1,d===a.length?d=0:d===-1&&(d=a.length-1),a[d]===e||a[d]===n.body||Di(a[d]))return a[d]}function Er(e,t){if(U(e)){const n=Oe(e);ie({focusNode:e,focusOffset:n.startOffset===n.endOffset?n.focusOffset+t:t<0?n.startOffset:n.endOffset})}else{const n=e.ownerDocument.getSelection();if(!n?.focusNode)return;if(n.isCollapsed){const r=uo(n.focusNode,n.focusOffset,t);r&&ie({focusNode:r.node,focusOffset:r.offset})}else n[t<0?"collapseToStart":"collapseToEnd"]()}}function ho(e){if(U(e))return ie({focusNode:e,anchorOffset:0,focusOffset:R(e).length});var t;const n=(t=Re(e))!==null&&t!==void 0?t:e.ownerDocument.body;ie({focusNode:n,anchorOffset:0,focusOffset:n.childNodes.length})}function Ui(e){if(U(e))return Oe(e).startOffset===0&&Oe(e).endOffset===R(e).length;var t;const n=(t=Re(e))!==null&&t!==void 0?t:e.ownerDocument.body,r=e.ownerDocument.getSelection();return r?.anchorNode===n&&r.focusNode===n&&r.anchorOffset===0&&r.focusOffset===n.childNodes.length}function Pe(e,t,n){var r;if(U(e))return ie({focusNode:e,anchorOffset:t,focusOffset:n});if(se(e)&&((r=e.firstChild)===null||r===void 0?void 0:r.nodeType)===3)return ie({focusNode:e.firstChild,anchorOffset:t,focusOffset:n});throw new Error("Not implemented. The result of this interaction is unreliable.")}function at(e,t,n){const r=I(t),s=Array.from(t.ownerDocument.querySelectorAll(t.name?`input[type="radio"][name="${r.CSS.escape(t.name)}"]`:'input[type="radio"][name=""], input[type="radio"]:not([name])'));for(let i=s.findIndex(a=>a===t)+n;;i+=n){if(s[i]||(i=n>0?0:s.length-1),s[i]===t)return;if(!V(s[i])){W(s[i]),e.dispatchUIEvent(s[i],"click");return}}}K.keydown=(e,t,n)=>{var r,s;return(s=(r=jr[e.key])===null||r===void 0?void 0:r.call(jr,e,t,n))!==null&&s!==void 0?s:Ri(e,t,n)};const jr={ArrowDown:(e,t,n)=>{if(h(t,"input",{type:"radio"}))return()=>at(n,t,1)},ArrowLeft:(e,t,n)=>h(t,"input",{type:"radio"})?()=>at(n,t,-1):()=>Er(t,-1),ArrowRight:(e,t,n)=>h(t,"input",{type:"radio"})?()=>at(n,t,1):()=>Er(t,1),ArrowUp:(e,t,n)=>{if(h(t,"input",{type:"radio"}))return()=>at(n,t,-1)},Backspace:(e,t,n)=>{if(ve(t))return()=>{_e(n,t,"","deleteContentBackward")}},Delete:(e,t,n)=>{if(ve(t))return()=>{_e(n,t,"","deleteContentForward")}},End:(e,t)=>{if(h(t,["input","textarea"])||se(t))return()=>{var n,r;const s=(r=(n=Ai(t))===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0;Pe(t,s,s)}},Home:(e,t)=>{if(h(t,["input","textarea"])||se(t))return()=>{Pe(t,0,0)}},PageDown:(e,t)=>{if(h(t,["input"]))return()=>{const n=R(t).length;Pe(t,n,n)}},PageUp:(e,t)=>{if(h(t,["input"]))return()=>{Pe(t,0,0)}},Tab:(e,t,n)=>()=>{const r=Mi(t,n.system.keyboard.modifiers.Shift);W(r),U(r)&&Ee(r,{anchorOffset:0,focusOffset:r.value.length})}},Ri=(e,t,n)=>{if(e.code==="KeyA"&&n.system.keyboard.modifiers.Control)return()=>ho(t)};K.keypress=(e,t,n)=>{if(e.key==="Enter"){if(h(t,"button")||h(t,"input")&&Oi.includes(t.type)||h(t,"a")&&t.href)return()=>{n.dispatchUIEvent(t,"click")};if(h(t,"input")){const r=t.form,s=r?.querySelector('input[type="submit"], button:not([type]), button[type="submit"]');return s?()=>n.dispatchUIEvent(s,"click"):r&&Bi.includes(t.type)&&r.querySelectorAll("input").length===1?()=>n.dispatchUIEvent(r,"submit"):void 0}}if(ve(t)){const r=e.key==="Enter"?se(t)&&!n.system.keyboard.modifiers.Shift?"insertParagraph":"insertLineBreak":"insertText",s=e.key==="Enter"?`
`:e.key;return()=>_e(n,t,s,r)}};const Oi=["button","color","file","image","reset","submit"],Bi=["email","month","password","search","tel","text","url","week"];K.keyup=(e,t,n)=>{var r;return(r=kr[e.key])===null||r===void 0?void 0:r.call(kr,e,t,n)};const kr={" ":(e,t,n)=>{if(ro(t))return()=>n.dispatchUIEvent(t,"click")}};K.paste=(e,t,n)=>{if(ve(t))return()=>{var r;const s=(r=e.clipboardData)===null||r===void 0?void 0:r.getData("text");s&&_e(n,t,s,"insertFromPaste")}};const mo={auxclick:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},beforeinput:{EventType:"InputEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},blur:{EventType:"FocusEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},click:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},contextmenu:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},copy:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},change:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!1}},cut:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},dblclick:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},focus:{EventType:"FocusEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},focusin:{EventType:"FocusEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},focusout:{EventType:"FocusEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},keydown:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},keypress:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},keyup:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},paste:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},input:{EventType:"InputEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},mousedown:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseenter:{EventType:"MouseEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},mouseleave:{EventType:"MouseEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},mousemove:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseout:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseover:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseup:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerover:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerenter:{EventType:"PointerEvent",defaultInit:{bubbles:!1,cancelable:!1}},pointerdown:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointermove:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerup:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointercancel:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},pointerout:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerleave:{EventType:"PointerEvent",defaultInit:{bubbles:!1,cancelable:!1}},submit:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!0}}};function go(e){return mo[e].EventType}const Vi=["MouseEvent","PointerEvent"];function Li(e){return Vi.includes(go(e))}function Fi(e){return go(e)==="KeyboardEvent"}const Hi={ClipboardEvent:[Wi],Event:[],FocusEvent:[Ie,Ki],InputEvent:[Ie,Gi],MouseEvent:[Ie,rn,Nr],PointerEvent:[Ie,rn,Nr,Xi],KeyboardEvent:[Ie,rn,qi]};function yo(e,t,n){const r=I(t),{EventType:s,defaultInit:i}=mo[e],a=new($i(r))[s](e,i);return Hi[s].forEach(l=>l(a,n??{})),a}function $i(e){var t;const n=(t=e.Event)!==null&&t!==void 0?t:class{};var r;const s=(r=e.AnimationEvent)!==null&&r!==void 0?r:class extends n{};var i;const a=(i=e.ClipboardEvent)!==null&&i!==void 0?i:class extends n{};var l;const d=(l=e.PopStateEvent)!==null&&l!==void 0?l:class extends n{};var u;const p=(u=e.ProgressEvent)!==null&&u!==void 0?u:class extends n{};var m;const g=(m=e.TransitionEvent)!==null&&m!==void 0?m:class extends n{};var y;const x=(y=e.UIEvent)!==null&&y!==void 0?y:class extends n{};var L;const je=(L=e.CompositionEvent)!==null&&L!==void 0?L:class extends x{};var Y;const ke=(Y=e.FocusEvent)!==null&&Y!==void 0?Y:class extends x{};var Q;const Ne=(Q=e.InputEvent)!==null&&Q!==void 0?Q:class extends x{};var J;const Te=(J=e.KeyboardEvent)!==null&&J!==void 0?J:class extends x{};var Z;const ee=(Z=e.MouseEvent)!==null&&Z!==void 0?Z:class extends x{};var te;const Fo=(te=e.DragEvent)!==null&&te!==void 0?te:class extends ee{};var Qt;const Ho=(Qt=e.PointerEvent)!==null&&Qt!==void 0?Qt:class extends ee{};var Jt;const $o=(Jt=e.TouchEvent)!==null&&Jt!==void 0?Jt:class extends x{};return{Event:n,AnimationEvent:s,ClipboardEvent:a,PopStateEvent:d,ProgressEvent:p,TransitionEvent:g,UIEvent:x,CompositionEvent:je,FocusEvent:ke,InputEvent:Ne,KeyboardEvent:Te,MouseEvent:ee,DragEvent:Fo,PointerEvent:Ho,TouchEvent:$o}}function z(e,t){for(const[n,r]of Object.entries(t))Object.defineProperty(e,n,{get:()=>r??null})}function v(e){return Number(e??0)}function Wi(e,{clipboardData:t}){z(e,{clipboardData:t})}function Ki(e,{relatedTarget:t}){z(e,{relatedTarget:t})}function Gi(e,{data:t,inputType:n,isComposing:r}){z(e,{data:t,isComposing:!!r,inputType:String(n)})}function Ie(e,{view:t,detail:n}){z(e,{view:t,detail:v(n??0)})}function rn(e,{altKey:t,ctrlKey:n,metaKey:r,shiftKey:s,modifierAltGraph:i,modifierCapsLock:a,modifierFn:l,modifierFnLock:d,modifierNumLock:u,modifierScrollLock:p,modifierSymbol:m,modifierSymbolLock:g}){z(e,{altKey:!!t,ctrlKey:!!n,metaKey:!!r,shiftKey:!!s,getModifierState(y){return!!{Alt:t,AltGraph:i,CapsLock:a,Control:n,Fn:l,FnLock:d,Meta:r,NumLock:u,ScrollLock:p,Shift:s,Symbol:m,SymbolLock:g}[y]}})}function qi(e,{key:t,code:n,location:r,repeat:s,isComposing:i,charCode:a}){z(e,{key:String(t),code:String(n),location:v(r),repeat:!!s,isComposing:!!i,charCode:a})}function Nr(e,{x:t,y:n,screenX:r,screenY:s,clientX:i=t,clientY:a=n,button:l,buttons:d,relatedTarget:u,offsetX:p,offsetY:m,pageX:g,pageY:y}){z(e,{screenX:v(r),screenY:v(s),clientX:v(i),x:v(i),clientY:v(a),y:v(a),button:v(l),buttons:v(d),relatedTarget:u,offsetX:v(p),offsetY:v(m),pageX:v(g),pageY:v(y)})}function Xi(e,{pointerId:t,width:n,height:r,pressure:s,tangentialPressure:i,tiltX:a,tiltY:l,twist:d,pointerType:u,isPrimary:p}){z(e,{pointerId:v(t),width:v(n??1),height:v(r??1),pressure:v(s),tangentialPressure:v(i),tiltX:v(a),tiltY:v(l),twist:v(d),pointerType:String(u),isPrimary:!!p})}function zi(e,t,n,r=!1){(Li(t)||Fi(t))&&(n={...n,...this.system.getUIEventModifiers()});const s=yo(t,e,n);return vo.call(this,e,s,r)}function vo(e,t,n=!1){var r;const s=t.type,i=n?()=>{}:(r=K[s])===null||r===void 0?void 0:r.call(K,t,e,this);if(i){t.preventDefault();let a=!1;return Object.defineProperty(t,"defaultPrevented",{get:()=>a}),Object.defineProperty(t,"preventDefault",{value:()=>{a=t.cancelable}}),xe(()=>e.dispatchEvent(t)),a||i(),!a}return xe(()=>e.dispatchEvent(t))}function oe(e,t,n){const r=yo(t,e,n);xe(()=>e.dispatchEvent(r))}const Tr=Symbol("patched focus/blur methods");function xo(e){if(e.prototype[Tr])return;const{focus:t,blur:n}=e.prototype;Object.defineProperties(e.prototype,{focus:{configurable:!0,get:()=>s},blur:{configurable:!0,get:()=>i},[Tr]:{configurable:!0,get:()=>({focus:t,blur:n})}});let r;function s(a){if(this.ownerDocument.visibilityState!=="hidden")return t.call(this,a);const l=Ir(this.ownerDocument);if(l===this)return;const d=Symbol("focus call");r=d,l&&(n.call(l),oe(l,"blur",{relatedTarget:this}),oe(l,"focusout",{relatedTarget:r===d?this:null})),r===d&&(t.call(this,a),oe(this,"focus",{relatedTarget:l})),r===d&&oe(this,"focusin",{relatedTarget:l})}function i(){if(this.ownerDocument.visibilityState!=="hidden")return n.call(this);const a=Ir(this.ownerDocument);if(a!==this)return;r=Symbol("blur call"),n.call(this),oe(a,"blur",{relatedTarget:null}),oe(a,"focusout",{relatedTarget:null})}}function Ir(e){const t=rt(e);return t?.tagName==="BODY"?null:t}const on=Symbol("Interceptor for programmatical calls");function ue(e,t,n){const r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=Object.getOwnPropertyDescriptor(e,t),i=r?.set?"set":"value";if(typeof r?.[i]!="function"||r[i][on])throw new Error(`Element ${e.tagName} does not implement "${String(t)}".`);function a(...l){const{applyNative:d=!1,realArgs:u,then:p}=n.call(this,...l),m=(!d&&s||r)[i];i==="set"?m.call(this,u):m.call(this,...u),p?.()}a[on]=on,Object.defineProperty(e,t,{...s??r,[i]:a})}function Yi(e){ue(e,"value",function(n){const r=di(n);return r&&wi(this),{applyNative:!!r,realArgs:Qi(this,n),then:r?void 0:()=>Si(this,String(n))}})}function Qi(e,t){return h(e,"input",{type:"number"})&&String(t)!==""&&!Number.isNaN(Number(t))?String(Number(t)):String(t)}function Ji(e){ue(e,"setSelectionRange",function(n,...r){const s=ui(n);return{applyNative:!!s,realArgs:[Number(n),...r],then:()=>s?void 0:vt(e)}}),ue(e,"selectionStart",function(n){return{realArgs:n,then:()=>vt(e)}}),ue(e,"selectionEnd",function(n){return{realArgs:n,then:()=>vt(e)}}),ue(e,"select",function(){return{realArgs:[],then:()=>hi(e,{anchorOffset:0,focusOffset:R(e).length})}})}function Zi(e){ue(e,"setRangeText",function(...n){return{realArgs:n,then:()=>{pr(e),vt(e)}}})}const fe=Symbol("Node prepared with document state workarounds");function bo(e){e[fe]||(e.addEventListener("focus",t=>{const n=t.target;Pr(n)},{capture:!0,passive:!0}),e.activeElement&&Pr(e.activeElement),e.addEventListener("blur",t=>{const n=t.target,r=fi(n);r!==void 0&&(n.value!==r&&oe(n,"change"),ao(n))},{capture:!0,passive:!0}),e[fe]=fe)}function Pr(e){e[fe]||(h(e,["input","textarea"])&&(Yi(e),Ji(e),Zi(e)),e[fe]=fe)}function ea(e){return ta(e)?e:e.ownerDocument}function ta(e){return e.nodeType===9}var S=(function(e){return e[e.Trigger=2]="Trigger",e[e.Call=1]="Call",e})({});function Ae(e,t){e.levelRefs[t]={}}function lt(e,t){return e.levelRefs[t]}function Ce(e){const t=e.delay;if(typeof t=="number")return Promise.all([new Promise(n=>globalThis.setTimeout(()=>n(),t)),e.advanceTimers(t)])}var bt=(function(e){return e[e.EachTrigger=4]="EachTrigger",e[e.EachApiCall=2]="EachApiCall",e[e.EachTarget=1]="EachTarget",e[e.Never=0]="Never",e})({});function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=(function(e){return e[e.STANDARD=0]="STANDARD",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.NUMPAD=3]="NUMPAD",e})({});const na=["Alt","AltGraph","Control","Fn","Meta","Shift","Symbol"];function Ar(e){return na.includes(e)}const ra=["CapsLock","FnLock","NumLock","ScrollLock","SymbolLock"];function Dr(e){return ra.includes(e)}class oa{isKeyPressed(t){return this.pressed.has(String(t.code))}getPressedKeys(){return this.pressed.values().map(t=>t.keyDef)}async keydown(t,n){const r=String(n.key),s=String(n.code),i=nn(t.config.document);this.setKeydownTarget(i),this.pressed.add(s,n),Ar(r)&&(this.modifiers[r]=!0);const a=t.dispatchUIEvent(i,"keydown",{key:r,code:s});Dr(r)&&!this.modifiers[r]&&(this.modifiers[r]=!0,this.modifierLockStart[r]=!0),a&&this.pressed.setUnprevented(s),a&&this.hasKeyPress(r)&&t.dispatchUIEvent(nn(t.config.document),"keypress",{key:r,code:s,charCode:n.key==="Enter"?13:String(n.key).charCodeAt(0)})}async keyup(t,n){const r=String(n.key),s=String(n.code),i=this.pressed.isUnprevented(s);this.pressed.delete(s),Ar(r)&&!this.pressed.values().find(a=>a.keyDef.key===r)&&(this.modifiers[r]=!1),t.dispatchUIEvent(nn(t.config.document),"keyup",{key:r,code:s},!i),Dr(r)&&this.modifiers[r]&&(this.modifierLockStart[r]?this.modifierLockStart[r]=!1:this.modifiers[r]=!1)}setKeydownTarget(t){t!==this.lastKeydownTarget&&(this.carryChar=""),this.lastKeydownTarget=t}hasKeyPress(t){return(t.length===1||t==="Enter")&&!this.modifiers.Control&&!this.modifiers.Alt}constructor(t){ne(this,"system",void 0),ne(this,"modifiers",{Alt:!1,AltGraph:!1,CapsLock:!1,Control:!1,Fn:!1,FnLock:!1,Meta:!1,NumLock:!1,ScrollLock:!1,Shift:!1,Symbol:!1,SymbolLock:!1}),ne(this,"pressed",new class{add(n,r){var s,i,a;(a=(s=this.registry)[i=n])!==null&&a!==void 0||(s[i]={keyDef:r,unpreventedDefault:!1})}has(n){return!!this.registry[n]}setUnprevented(n){const r=this.registry[n];r&&(r.unpreventedDefault=!0)}isUnprevented(n){var r;return!!(!((r=this.registry[n])===null||r===void 0)&&r.unpreventedDefault)}delete(n){delete this.registry[n]}values(){return Object.values(this.registry)}constructor(){ne(this,"registry",{})}}),ne(this,"carryChar",""),ne(this,"lastKeydownTarget",void 0),ne(this,"modifierLockStart",{}),this.system=t}}const sa=[..."0123456789".split("").map(e=>({code:`Digit${e}`,key:e})),...")!@#$%^&*(".split("").map((e,t)=>({code:`Digit${t}`,key:e,shiftKey:!0})),..."abcdefghijklmnopqrstuvwxyz".split("").map(e=>({code:`Key${e.toUpperCase()}`,key:e})),..."ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").map(e=>({code:`Key${e}`,key:e,shiftKey:!0})),{code:"BracketLeft",key:"["},{code:"BracketLeft",key:"{",shiftKey:!0},{code:"BracketRight",key:"]"},{code:"BracketRight",key:"}",shiftKey:!0},{code:"Space",key:" "},{code:"AltLeft",key:"Alt",location:A.LEFT},{code:"AltRight",key:"Alt",location:A.RIGHT},{code:"ShiftLeft",key:"Shift",location:A.LEFT},{code:"ShiftRight",key:"Shift",location:A.RIGHT},{code:"ControlLeft",key:"Control",location:A.LEFT},{code:"ControlRight",key:"Control",location:A.RIGHT},{code:"MetaLeft",key:"Meta",location:A.LEFT},{code:"MetaRight",key:"Meta",location:A.RIGHT},{code:"OSLeft",key:"OS",location:A.LEFT},{code:"OSRight",key:"OS",location:A.RIGHT},{code:"ContextMenu",key:"ContextMenu"},{code:"Tab",key:"Tab"},{code:"CapsLock",key:"CapsLock"},{code:"Backspace",key:"Backspace"},{code:"Enter",key:"Enter"},{code:"Escape",key:"Escape"},{code:"ArrowUp",key:"ArrowUp"},{code:"ArrowDown",key:"ArrowDown"},{code:"ArrowLeft",key:"ArrowLeft"},{code:"ArrowRight",key:"ArrowRight"},{code:"Home",key:"Home"},{code:"End",key:"End"},{code:"Delete",key:"Delete"},{code:"PageUp",key:"PageUp"},{code:"PageDown",key:"PageDown"},{code:"Fn",key:"Fn"},{code:"Symbol",key:"Symbol"},{code:"AltRight",key:"AltGraph"}],ia=[{name:"MouseLeft",pointerType:"mouse",button:"primary"},{name:"MouseRight",pointerType:"mouse",button:"secondary"},{name:"MouseMiddle",pointerType:"mouse",button:"auxiliary"},{name:"TouchA",pointerType:"touch"},{name:"TouchB",pointerType:"touch"},{name:"TouchC",pointerType:"touch"}];function aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _o{getButtons(){let t=0;for(const n of Object.keys(this.pressed))t|=2**Number(n);return t}down(t){const n=an(t.button);if(n in this.pressed){this.pressed[n].push(t);return}return this.pressed[n]=[t],n}up(t){const n=an(t.button);if(n in this.pressed&&(this.pressed[n]=this.pressed[n].filter(r=>r.name!==t.name),this.pressed[n].length===0))return delete this.pressed[n],n}constructor(){aa(this,"pressed",{})}}const Mr={primary:0,secondary:1,auxiliary:2,back:3,X1:3,forward:4,X2:4};function an(e=0){return e in Mr?Mr[e]:Number(e)}const Ur={1:2,2:1};function ln(e){return e=an(e),e in Ur?Ur[e]:e}function la(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ca{get countPressed(){return this.pressedKeys.size}isPressed(t){return this.pressedKeys.has(t.name)}addPressed(t){return this.pressedKeys.add(t.name)}removePressed(t){return this.pressedKeys.delete(t.name)}constructor(){la(this,"pressedKeys",new Set)}}function Ue(e,t){const n=[];for(let i=e;i;i=i.parentElement)n.push(i);const r=[];for(let i=t;i;i=i.parentElement)r.push(i);let s=0;for(;!(s>=n.length||s>=r.length||n[n.length-1-s]!==r[r.length-1-s]);s++);return[n.slice(0,n.length-s),r.slice(0,r.length-s),r.slice(r.length-s)]}function cn({target:e,node:t,offset:n}){return U(e)?{node:e,offset:n??R(e).length}:t?{node:t,offset:n??(t.nodeType===3?t.nodeValue.length:t.childNodes.length)}:Co(e,n)}function Co(e,t,n=!0){let r=t===void 0?e.childNodes.length-1:0;const s=t===void 0?-1:1;for(;t===void 0?r>=(n?Math.max(e.childNodes.length-1,0):0):r<=e.childNodes.length;){if(t&&r===e.childNodes.length)throw new Error("The given offset is out of bounds.");const i=e.childNodes.item(r),a=String(i.textContent);if(a.length)if(t!==void 0&&a.length<t)t-=a.length;else{if(i.nodeType===1)return Co(i,t,!1);if(i.nodeType===3)return{node:i,offset:t??i.nodeValue.length}}r+=s}return{node:e,offset:e.childNodes.length}}function da({document:e,target:t,clickCount:n,node:r,offset:s}){if(ai(t))return;const i=U(t),a=String(i?R(t):t.textContent),[l,d]=r?[s,s]:ua(a,s,n);if(i)return Ee(t,{anchorOffset:l??a.length,focusOffset:d??a.length}),{node:t,start:l??0,end:d??a.length};{const{node:u,offset:p}=cn({target:t,node:r,offset:l}),{node:m,offset:g}=cn({target:t,node:r,offset:d}),y=t.ownerDocument.createRange();try{y.setStart(u,p),y.setEnd(m,g)}catch{throw new Error("The given offset is out of bounds.")}const x=e.getSelection();return x?.removeAllRanges(),x?.addRange(y.cloneRange()),y}}function ua(e,t,n){if(n%3===1||e.length===0)return[t,t];const r=t??e.length;return n%3===2?[r-e.substr(0,t).match(/(\w+|\s+|\W)?$/)[0].length,t===void 0?t:t+e.substr(t).match(/^(\w+|\s+|\W)?/)[0].length]:[r-e.substr(0,t).match(/[^\r\n]*$/)[0].length,t===void 0?t:t+e.substr(t).match(/^[^\r\n]*/)[0].length]}function pa(e,{document:t,target:n,node:r,offset:s}){const i=cn({target:n,node:r,offset:s});if("node"in e){if(i.node===e.node){const a=i.offset<e.start?e.end:e.start,l=i.offset>e.end||i.offset<e.start?i.offset:e.end;Ee(e.node,{anchorOffset:a,focusOffset:l})}}else{const a=e.cloneRange(),l=a.comparePoint(i.node,i.offset);l<0?a.setStart(i.node,i.offset):l>0&&a.setEnd(i.node,i.offset);const d=t.getSelection();d?.removeAllRanges(),d?.addRange(a.cloneRange())}}function wo(e,t){var n,r,s,i,a,l,d,u,p,m,g,y,x,L,je,Y,ke,Q,Ne,J,Te,Z,ee,te;return e.target!==t.target||((n=e.coords)===null||n===void 0?void 0:n.x)!==((r=t.coords)===null||r===void 0?void 0:r.x)||((s=e.coords)===null||s===void 0?void 0:s.y)!==((i=t.coords)===null||i===void 0?void 0:i.y)||((a=e.coords)===null||a===void 0?void 0:a.clientX)!==((l=t.coords)===null||l===void 0?void 0:l.clientX)||((d=e.coords)===null||d===void 0?void 0:d.clientY)!==((u=t.coords)===null||u===void 0?void 0:u.clientY)||((p=e.coords)===null||p===void 0?void 0:p.offsetX)!==((m=t.coords)===null||m===void 0?void 0:m.offsetX)||((g=e.coords)===null||g===void 0?void 0:g.offsetY)!==((y=t.coords)===null||y===void 0?void 0:y.offsetY)||((x=e.coords)===null||x===void 0?void 0:x.pageX)!==((L=t.coords)===null||L===void 0?void 0:L.pageX)||((je=e.coords)===null||je===void 0?void 0:je.pageY)!==((Y=t.coords)===null||Y===void 0?void 0:Y.pageY)||((ke=e.coords)===null||ke===void 0?void 0:ke.screenX)!==((Q=t.coords)===null||Q===void 0?void 0:Q.screenX)||((Ne=e.coords)===null||Ne===void 0?void 0:Ne.screenY)!==((J=t.coords)===null||J===void 0?void 0:J.screenY)||((Te=e.caret)===null||Te===void 0?void 0:Te.node)!==((Z=t.caret)===null||Z===void 0?void 0:Z.node)||((ee=e.caret)===null||ee===void 0?void 0:ee.offset)!==((te=t.caret)===null||te===void 0?void 0:te.offset)}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class fa{move(t,n,r){const s=this.position,i=this.getTarget(t);if(this.position=n,!wo(s,n))return;const a=this.getTarget(t),l=this.getEventInit("mousemove"),[d,u]=Ue(i,a);return{leave:()=>{i!==a&&(t.dispatchUIEvent(i,"mouseout",l),d.forEach(p=>t.dispatchUIEvent(p,"mouseleave",l)))},enter:()=>{i!==a&&(t.dispatchUIEvent(a,"mouseover",l),u.forEach(p=>t.dispatchUIEvent(p,"mouseenter",l)))},move:()=>{r||(t.dispatchUIEvent(a,"mousemove",l),this.modifySelecting(t))}}}down(t,n,r){const s=this.buttons.down(n);if(s===void 0)return;const i=this.getTarget(t);this.buttonDownTarget[s]=i;const a=this.getEventInit("mousedown",n.button),l=V(i);!r&&(l||t.dispatchUIEvent(i,"mousedown",a))&&(this.startSelecting(t,a.detail),W(i)),!l&&ln(n.button)===2&&t.dispatchUIEvent(i,"contextmenu",this.getEventInit("contextmenu",n.button))}up(t,n,r){const s=this.buttons.up(n);if(s===void 0)return;const i=this.getTarget(t);if(!V(i)){if(!r){const l=this.getEventInit("mouseup",n.button);t.dispatchUIEvent(i,"mouseup",l),this.endSelecting()}const a=Ue(this.buttonDownTarget[s],i)[2][0];if(a){const l=this.getEventInit("click",n.button);l.detail&&(t.dispatchUIEvent(a,l.button===0?"click":"auxclick",l),l.button===0&&l.detail===2&&t.dispatchUIEvent(a,"dblclick",{...this.getEventInit("dblclick",n.button),detail:l.detail}))}}}resetClickCount(){this.clickCount.reset()}getEventInit(t,n){const r={...this.position.coords};return r.button=ln(n),r.buttons=this.buttons.getButtons(),t==="mousedown"?r.detail=this.clickCount.getOnDown(r.button):t==="mouseup"?r.detail=this.clickCount.getOnUp(r.button):(t==="click"||t==="auxclick")&&(r.detail=this.clickCount.incOnClick(r.button)),r}getTarget(t){var n;return(n=this.position.target)!==null&&n!==void 0?n:t.config.document.body}startSelecting(t,n){var r,s;this.selecting=da({document:t.config.document,target:this.getTarget(t),node:(r=this.position.caret)===null||r===void 0?void 0:r.node,offset:(s=this.position.caret)===null||s===void 0?void 0:s.offset,clickCount:n})}modifySelecting(t){var n,r;this.selecting&&pa(this.selecting,{document:t.config.document,target:this.getTarget(t),node:(n=this.position.caret)===null||n===void 0?void 0:n.node,offset:(r=this.position.caret)===null||r===void 0?void 0:r.offset})}endSelecting(){this.selecting=void 0}constructor(){re(this,"position",{}),re(this,"buttons",new _o),re(this,"selecting",void 0),re(this,"buttonDownTarget",{}),re(this,"clickCount",new class{incOnClick(t){const n=this.down[t]===void 0?void 0:Number(this.down[t])+1;return this.count=this.count[t]===void 0?{}:{[t]:Number(this.count[t])+1},n}getOnDown(t){var n;this.down={[t]:(n=this.count[t])!==null&&n!==void 0?n:0};var r;return this.count={[t]:(r=this.count[t])!==null&&r!==void 0?r:0},Number(this.count[t])+1}getOnUp(t){return this.down[t]===void 0?void 0:Number(this.down[t])+1}reset(){this.count={}}constructor(){re(this,"down",{}),re(this,"count",{})}})}}function Et(e,t){var n;return((n=So(e,t))===null||n===void 0?void 0:n.pointerEvents)!=="none"}function ha(e){const t=I(e);for(let n=e,r=[];n?.ownerDocument;n=n.parentElement){r.push(n);const s=t.getComputedStyle(n).pointerEvents;if(s&&!["inherit","unset"].includes(s))return{pointerEvents:s,tree:r}}}const Rr=Symbol("Last check for pointer-events");function So(e,t){const n=t[Rr];if(!(e.config.pointerEventsCheck!==bt.Never&&(!n||Or(e.config.pointerEventsCheck,bt.EachApiCall)&&n[S.Call]!==lt(e,S.Call)||Or(e.config.pointerEventsCheck,bt.EachTrigger)&&n[S.Trigger]!==lt(e,S.Trigger))))return n?.result;const s=ha(t);return t[Rr]={[S.Call]:lt(e,S.Call),[S.Trigger]:lt(e,S.Trigger),result:s},s}function De(e,t){const n=So(e,t);if(n?.pointerEvents==="none")throw new Error([`Unable to perform pointer interaction as the element ${n.tree.length>1?"inherits":"has"} \`pointer-events: none\`:`,"",ma(n.tree)].join(`
`))}function ma(e){return e.reverse().map((t,n)=>["".padEnd(n),t.tagName,t.id&&`#${t.id}`,t.hasAttribute("data-testid")&&`(testId=${t.getAttribute("data-testid")})`,ga(t),e.length>1&&n===0&&"  <-- This element declared `pointer-events: none`",e.length>1&&n===e.length-1&&"  <-- Asserted pointer events here"].filter(Boolean).join("")).join(`
`)}function ga(e){var t;let n;if(e.hasAttribute("aria-label"))n=e.getAttribute("aria-label");else if(e.hasAttribute("aria-labelledby")){var r,s;n=(s=e.ownerDocument.getElementById(e.getAttribute("aria-labelledby")))===null||s===void 0||(r=s.textContent)===null||r===void 0?void 0:r.trim()}else if(h(e,["button","input","meter","output","progress","select","textarea"])&&(!((t=e.labels)===null||t===void 0)&&t.length))n=Array.from(e.labels).map(a=>{var l;return(l=a.textContent)===null||l===void 0?void 0:l.trim()}).join("|");else if(h(e,"button")){var i;n=(i=e.textContent)===null||i===void 0?void 0:i.trim()}return n=n?.replace(/\n/g,"  "),Number(n?.length)>30&&(n=`${n?.substring(0,29)}â€¦`),n?`(label=${n})`:""}function Or(e,t){return(e&t)>0}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ya{init(t){const n=this.getTarget(t),[,r]=Ue(null,n),s=this.getEventInit();return De(t,n),t.dispatchUIEvent(n,"pointerover",s),r.forEach(i=>t.dispatchUIEvent(i,"pointerenter",s)),this}move(t,n){const r=this.position,s=this.getTarget(t);if(this.position=n,!wo(r,n))return;const i=this.getTarget(t),a=this.getEventInit(-1),[l,d]=Ue(s,i);return{leave:()=>{Et(t,s)&&s!==i&&(t.dispatchUIEvent(s,"pointerout",a),l.forEach(u=>t.dispatchUIEvent(u,"pointerleave",a)))},enter:()=>{De(t,i),s!==i&&(t.dispatchUIEvent(i,"pointerover",a),d.forEach(u=>t.dispatchUIEvent(u,"pointerenter",a)))},move:()=>{t.dispatchUIEvent(i,"pointermove",a)}}}down(t,n=0){if(this.isDown)return;const r=this.getTarget(t);De(t,r),this.isDown=!0,this.isPrevented=!t.dispatchUIEvent(r,"pointerdown",this.getEventInit(n))}up(t,n=0){if(!this.isDown)return;const r=this.getTarget(t);De(t,r),this.isPrevented=!1,this.isDown=!1,t.dispatchUIEvent(r,"pointerup",this.getEventInit(n))}release(t){const n=this.getTarget(t),[r]=Ue(n,null),s=this.getEventInit();Et(t,n)&&(t.dispatchUIEvent(n,"pointerout",s),r.forEach(i=>t.dispatchUIEvent(i,"pointerleave",s))),this.isCancelled=!0}getTarget(t){var n;return(n=this.position.target)!==null&&n!==void 0?n:t.config.document.body}getEventInit(t){return{...this.position.coords,pointerId:this.pointerId,pointerType:this.pointerType,isPrimary:this.isPrimary,button:ln(t),buttons:this.buttons.getButtons()}}constructor({pointerId:t,pointerType:n,isPrimary:r},s){O(this,"pointerId",void 0),O(this,"pointerType",void 0),O(this,"isPrimary",void 0),O(this,"buttons",void 0),O(this,"isMultitouch",!1),O(this,"isCancelled",!1),O(this,"isDown",!1),O(this,"isPrevented",!1),O(this,"position",{}),this.pointerId=t,this.pointerType=n,this.isPrimary=r,this.isMultitouch=!r,this.buttons=s}}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class va{isKeyPressed(t){return this.devices.get(t.pointerType).isPressed(t)}async press(t,n,r){this.devices.get(n.pointerType).addPressed(n),this.buttons.down(n);const s=this.getPointerName(n),i=n.pointerType==="touch"?this.pointers.new(s,n.pointerType,this.buttons):this.pointers.get(s);i.position=r,i.pointerType!=="touch"&&(this.mouse.position=r),i.pointerType==="touch"&&i.init(t),i.down(t,n.button),i.pointerType!=="touch"&&this.mouse.down(t,n,i.isPrevented)}async move(t,n,r){const s=this.pointers.get(n),i=s.move(t,r),a=s.pointerType==="touch"?void 0:this.mouse.move(t,r,s.isPrevented);i?.leave(),a?.leave(),i?.enter(),a?.enter(),i?.move(),a?.move()}async release(t,n,r){const s=this.devices.get(n.pointerType);s.removePressed(n),this.buttons.up(n);const i=this.pointers.get(this.getPointerName(n)),a=i.isPrevented;if(i.position=r,i.pointerType!=="touch"&&(this.mouse.position=r),s.countPressed===0&&i.up(t,n.button),i.pointerType==="touch"&&i.release(t),i.pointerType==="touch"&&!i.isMultitouch){const l=this.mouse.move(t,r,a);l?.leave(),l?.enter(),l?.move(),this.mouse.down(t,n,a)}if(!i.isMultitouch){const l=this.mouse.move(t,r,a);l?.leave(),l?.enter(),l?.move(),this.mouse.up(t,n,a)}}getPointerName(t){return t.pointerType==="touch"?t.name:t.pointerType}getPreviousPosition(t){return this.pointers.has(t)?this.pointers.get(t).position:void 0}resetClickCount(){this.mouse.resetClickCount()}getMouseTarget(t){var n;return(n=this.mouse.position.target)!==null&&n!==void 0?n:t.config.document.body}setMousePosition(t){this.mouse.position=t,this.pointers.get("mouse").position=t}constructor(t){F(this,"system",void 0),F(this,"mouse",void 0),F(this,"buttons",void 0),F(this,"devices",new class{get(n){var r,s,i;return(i=(r=this.registry)[s=n])!==null&&i!==void 0?i:r[s]=new ca}constructor(){F(this,"registry",{})}}),F(this,"pointers",new class{new(n,r,s){const i=r!=="touch"||!Object.values(this.registry).some(a=>a.pointerType==="touch"&&!a.isCancelled);return i||Object.values(this.registry).forEach(a=>{a.pointerType===r&&!a.isCancelled&&(a.isMultitouch=!0)}),this.registry[n]=new ya({pointerId:this.nextId++,pointerType:r,isPrimary:i},s),this.registry[n]}get(n){if(!this.has(n))throw new Error(`Trying to access pointer "${n}" which does not exist.`);return this.registry[n]}has(n){return n in this.registry}constructor(){F(this,"registry",{}),F(this,"nextId",1)}}),this.system=t,this.buttons=new _o,this.mouse=new fa,this.pointers.new("mouse","mouse",this.buttons)}}function Br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Eo{getUIEventModifiers(){return{altKey:this.keyboard.modifiers.Alt,ctrlKey:this.keyboard.modifiers.Control,metaKey:this.keyboard.modifiers.Meta,shiftKey:this.keyboard.modifiers.Shift,modifierAltGraph:this.keyboard.modifiers.AltGraph,modifierCapsLock:this.keyboard.modifiers.CapsLock,modifierFn:this.keyboard.modifiers.Fn,modifierFnLock:this.keyboard.modifiers.FnLock,modifierNumLock:this.keyboard.modifiers.NumLock,modifierScrollLock:this.keyboard.modifiers.ScrollLock,modifierSymbol:this.keyboard.modifiers.Symbol,modifierSymbolLock:this.keyboard.modifiers.SymbolLock}}constructor(){Br(this,"keyboard",new oa(this)),Br(this,"pointer",new va(this))}}async function xa(e){const t=[];return this.config.skipHover||t.push({target:e}),t.push({keys:"[MouseLeft]",target:e}),this.pointer(t)}async function ba(e){return this.pointer([{target:e},"[MouseLeft][MouseLeft]"])}async function _a(e){return this.pointer([{target:e},"[MouseLeft][MouseLeft][MouseLeft]"])}async function Ca(e){return this.pointer({target:e})}async function wa(e){return De(this,this.system.pointer.getMouseTarget(this)),this.pointer({target:e.ownerDocument.body})}async function Sa({shift:e}={}){return this.keyboard(e===!0?"{Shift>}{Tab}{/Shift}":e===!1?"[/ShiftLeft][/ShiftRight]{Tab}":"{Tab}")}var hr=(function(e){return e["{"]="}",e["["]="]",e})(hr||{});function jo(e,t){let n=0;const r=e[n]in hr?e[n]:"";n+=r.length;const i=new RegExp(`^\\${r}{2}`).test(e)?"":r;return{type:i,...i===""?Ea(e,n,t):ja(e,n,i,t)}}function Ea(e,t,n){const r=e[t];return ko(r,e,t,n),t+=r.length,{consumedLength:t,descriptor:r,releasePrevious:!1,releaseSelf:!0,repeat:1}}function ja(e,t,n,r){var s,i;const a=e[t]==="/"?"/":"";t+=a.length;const l=n==="{"&&e[t]==="\\";t+=Number(l);const d=l?e[t]:(s=e.slice(t).match(n==="{"?/^\w+|^[^}>/]/:/^\w+/))===null||s===void 0?void 0:s[0];ko(d,e,t,r),t+=d.length;var u;const p=(u=(i=e.slice(t).match(/^>\d+/))===null||i===void 0?void 0:i[0])!==null&&u!==void 0?u:"";t+=p.length;const m=e[t]==="/"||!p&&e[t]===">"?e[t]:"";t+=m.length;const g=hr[n],y=e[t]===g?g:"";if(!y)throw new Error(No([!p&&"repeat modifier",!m&&"release modifier",`"${g}"`].filter(Boolean).join(" or "),e[t],e,r));return t+=y.length,{consumedLength:t,descriptor:d,releasePrevious:!!a,repeat:p?Math.max(Number(p.substr(1)),1):1,releaseSelf:ka(m,p)}}function ko(e,t,n,r){if(!e)throw new Error(No("key descriptor",t[n],t,r))}function ka(e,t){if(e)return e==="/";if(t)return!1}function No(e,t,n,r){return`Expected ${e} but found "${t??""}" in "${n}"
    See ${r==="pointer"?"https://testing-library.com/docs/user-event/pointer#pressing-a-button-or-touching-the-screen":"https://testing-library.com/docs/user-event/keyboard"}
    for more information about how userEvent parses your input.`}function Na(e,t){const n=[];do{const{type:s,descriptor:i,consumedLength:a,releasePrevious:l,releaseSelf:d=!0,repeat:u}=jo(t,"keyboard");var r;const p=(r=e.find(m=>{if(s==="["){var g;return((g=m.code)===null||g===void 0?void 0:g.toLowerCase())===i.toLowerCase()}else if(s==="{"){var y;return((y=m.key)===null||y===void 0?void 0:y.toLowerCase())===i.toLowerCase()}return m.key===i}))!==null&&r!==void 0?r:{key:"Unknown",code:"Unknown",[s==="["?"code":"key"]:i};n.push({keyDef:p,releasePrevious:l,releaseSelf:d,repeat:u}),t=t.slice(a)}while(t);return n}async function Ta(e){const t=Na(this.config.keyboardMap,e);for(let n=0;n<t.length;n++)await Ce(this.config),await Ia(this,t[n])}async function Ia(e,{keyDef:t,releasePrevious:n,releaseSelf:r,repeat:s}){const{system:i}=e;if(i.keyboard.isKeyPressed(t)&&await i.keyboard.keyup(e,t),!n){for(let a=1;a<=s;a++)await i.keyboard.keydown(e,t),a<s&&await Ce(e.config);r&&await i.keyboard.keyup(e,t)}}async function Pa(e){for(const t of e.system.keyboard.getPressedKeys())await e.system.keyboard.keyup(e,t)}function To(e){const t=U(e)?{"text/plain":Aa(e)}:{"text/plain":String(e.ownerDocument.getSelection())},n=cr(I(e));for(const r in t)t[r]&&n.setData(r,t[r]);return n}function Aa(e){const t=Oe(e);return R(e).substring(t.startOffset,t.endOffset)}async function Da(){const e=this.config.document;var t;const n=(t=e.activeElement)!==null&&t!==void 0?t:e.body,r=To(n);if(r.items.length!==0)return this.dispatchUIEvent(n,"copy",{clipboardData:r})&&this.config.writeToClipboard&&await eo(e,r),r}async function Ma(){const e=this.config.document;var t;const n=(t=e.activeElement)!==null&&t!==void 0?t:e.body,r=To(n);if(r.items.length!==0)return this.dispatchUIEvent(n,"cut",{clipboardData:r})&&this.config.writeToClipboard&&await eo(n.ownerDocument,r),r}async function Ua(e){const t=this.config.document;var n;const r=(n=t.activeElement)!==null&&n!==void 0?n:t.body;var s;const i=(s=typeof e=="string"?Ra(t,e):e)!==null&&s!==void 0?s:await ri(t).catch(()=>{throw new Error("`userEvent.paste()` without `clipboardData` requires the `ClipboardAPI` to be available.")});this.dispatchUIEvent(r,"paste",{clipboardData:i})}function Ra(e,t){const n=cr(I(e));return n.setData("text",t),n}function Vr(e,t){const n=[];do{const{descriptor:r,consumedLength:s,releasePrevious:i,releaseSelf:a=!0}=jo(t,"pointer"),l=e.find(d=>d.name===r);l&&n.push({keyDef:l,releasePrevious:i,releaseSelf:a}),t=t.slice(s)}while(t);return n}async function Oa(e){const{pointerMap:t}=this.config,n=[];(Array.isArray(e)?e:[e]).forEach(r=>{typeof r=="string"?n.push(...Vr(t,r)):"keys"in r?n.push(...Vr(t,r.keys).map(s=>({...r,...s}))):n.push(r)});for(let r=0;r<n.length;r++)await Ce(this.config),await Ba(this,n[r]);this.system.pointer.resetClickCount()}async function Ba(e,t){var n,r;const s="pointerName"in t&&t.pointerName?t.pointerName:"keyDef"in t?e.system.pointer.getPointerName(t.keyDef):"mouse",i=e.system.pointer.getPreviousPosition(s);var a,l,d,u;const p={target:(a=t.target)!==null&&a!==void 0?a:Va(e,i),coords:(l=t.coords)!==null&&l!==void 0?l:i?.coords,caret:{node:(d=t.node)!==null&&d!==void 0?d:Lr(t)||i==null||(n=i.caret)===null||n===void 0?void 0:n.node,offset:(u=t.offset)!==null&&u!==void 0?u:Lr(t)||i==null||(r=i.caret)===null||r===void 0?void 0:r.offset}};"keyDef"in t?(e.system.pointer.isKeyPressed(t.keyDef)&&(Ae(e,S.Trigger),await e.system.pointer.release(e,t.keyDef,p)),t.releasePrevious||(Ae(e,S.Trigger),await e.system.pointer.press(e,t.keyDef,p),t.releaseSelf&&(Ae(e,S.Trigger),await e.system.pointer.release(e,t.keyDef,p)))):(Ae(e,S.Trigger),await e.system.pointer.move(e,s,p))}function Lr(e){var t,n;return!!((n=(t=e.target)!==null&&t!==void 0?t:e.node)!==null&&n!==void 0?n:e.offset!==void 0)}function Va(e,t){if(!t)throw new Error("This pointer has no previous position. Provide a target property!");var n;return(n=t.target)!==null&&n!==void 0?n:e.config.document.body}async function La(e){if(!ve(e)||V(e))throw new Error("clear()` is only supported on editable elements.");if(W(e),e.ownerDocument.activeElement!==e)throw new Error("The element to be cleared could not be focused.");if(ho(e),!Ui(e))throw new Error("The element content to be cleared could not be selected.");_e(this,e,"","deleteContentBackward")}async function Fa(e,t){return Io.call(this,!0,e,t)}async function Ha(e,t){return Io.call(this,!1,e,t)}async function Io(e,t,n){if(!e&&!t.multiple)throw de().getElementError("Unable to deselect an option in a non-multiple select. Use selectOptions to change the selection instead.",t);const r=Array.isArray(n)?n:[n],s=Array.from(t.querySelectorAll('option, [role="option"]')),i=r.map(l=>{if(typeof l!="string"&&s.includes(l))return l;{const d=s.find(u=>u.value===l||u.innerHTML===l);if(d)return d;throw de().getElementError(`Value "${String(l)}" not found in options`,t)}}).filter(l=>!V(l));if(V(t)||!i.length)return;const a=l=>{l.selected=e,this.dispatchUIEvent(t,"input",{bubbles:!0,cancelable:!1,composed:!0}),this.dispatchUIEvent(t,"change")};if(h(t,"select"))if(t.multiple)for(const l of i){const d=this.config.pointerEventsCheck===0?!0:Et(this,l);d&&(this.dispatchUIEvent(l,"pointerover"),this.dispatchUIEvent(t,"pointerenter"),this.dispatchUIEvent(l,"mouseover"),this.dispatchUIEvent(t,"mouseenter"),this.dispatchUIEvent(l,"pointermove"),this.dispatchUIEvent(l,"mousemove"),this.dispatchUIEvent(l,"pointerdown"),this.dispatchUIEvent(l,"mousedown")),W(t),d&&(this.dispatchUIEvent(l,"pointerup"),this.dispatchUIEvent(l,"mouseup")),a(l),d&&this.dispatchUIEvent(l,"click"),await Ce(this.config)}else if(i.length===1){const l=this.config.pointerEventsCheck===0?!0:Et(this,t);l?await this.click(t):W(t),a(i[0]),l&&(this.dispatchUIEvent(t,"pointerover"),this.dispatchUIEvent(t,"pointerenter"),this.dispatchUIEvent(t,"mouseover"),this.dispatchUIEvent(t,"mouseenter"),this.dispatchUIEvent(t,"pointerup"),this.dispatchUIEvent(t,"mouseup"),this.dispatchUIEvent(t,"click")),await Ce(this.config)}else throw de().getElementError("Cannot select multiple options on a non-multiple select",t);else if(t.getAttribute("role")==="listbox")for(const l of i)await this.click(l),await this.unhover(l);else throw de().getElementError("Cannot select options on elements that are neither select nor listbox elements",t)}async function $a(e,t,{skipClick:n=this.config.skipClick,skipAutoClose:r=this.config.skipAutoClose,initialSelectionStart:s,initialSelectionEnd:i}={}){e.disabled||(n||await this.click(e),s!==void 0&&Pe(e,s,i??s),await this.keyboard(t),r||await Pa(this))}const Fr=Symbol("files and value properties are mocked");function sn(e,t,n){n?Object.defineProperty(e,t,n):delete e[t]}function Wa(e,t){var n;(n=e[Fr])===null||n===void 0||n.restore();const r=Object.getOwnPropertyDescriptor(e,"type"),s=Object.getOwnPropertyDescriptor(e,"value"),i=Object.getOwnPropertyDescriptor(e,"files");function a(){sn(e,"type",r),sn(e,"value",s),sn(e,"files",i)}e[Fr]={restore:a},Object.defineProperties(e,{files:{configurable:!0,get:()=>t},value:{configurable:!0,get:()=>t.length?`C:\\fakepath\\${t[0].name}`:"",set(l){if(l==="")a();else{var d;s==null||(d=s.set)===null||d===void 0||d.call(e,l)}}},type:{configurable:!0,get:()=>"file",set(l){l!=="file"&&(a(),e.type=l)}}})}async function Ka(e,t){const n=h(e,"label")?e.control:e;if(!n||!h(n,"input",{type:"file"}))throw new TypeError(`The ${n===e?"given":"associated"} ${n?.tagName} element does not accept file uploads`);if(V(e))return;const r=(Array.isArray(t)?t:[t]).filter(i=>!this.config.applyAccept||Ga(i,n.accept)).slice(0,n.multiple?void 0:1),s=()=>{var i;r.length===((i=n.files)===null||i===void 0?void 0:i.length)&&r.every((a,l)=>{var d;return a===((d=n.files)===null||d===void 0?void 0:d.item(l))})||(Wa(n,lr(I(e),r)),this.dispatchUIEvent(n,"input"),this.dispatchUIEvent(n,"change"))};n.addEventListener("fileDialog",s),await this.click(e),n.removeEventListener("fileDialog",s)}function ct(e){return e.toLowerCase().replace(/(\.|\/)jpg\b/g,"$1jpeg")}function Ga(e,t){if(!t)return!0;const n=["audio/*","image/*","video/*"];return ct(t).trim().split(/\s*,\s*/).some(r=>r.startsWith(".")?ct(e.name).endsWith(r):n.includes(r)?ct(e.type).startsWith(r.replace("*","")):ct(e.type)===r)}const Hr={click:xa,dblClick:ba,tripleClick:_a,hover:Ca,unhover:wa,tab:Sa,keyboard:Ta,copy:Da,cut:Ma,paste:Ua,pointer:Oa,clear:La,deselectOptions:Ha,selectOptions:Fa,type:$a,upload:Ka};function qa(e){return de().asyncWrapper(e)}const Po={applyAccept:!0,autoModify:!0,delay:0,document:globalThis.document,keyboardMap:sa,pointerMap:ia,pointerEventsCheck:bt.EachApiCall,skipAutoClose:!1,skipClick:!1,skipHover:!1,writeToClipboard:!1,advanceTimers:()=>Promise.resolve()},Xa={...Po,writeToClipboard:!0};function Ao(e={},t=Xa,n){const r=Ja(e,n,t);return{...t,...e,document:r}}function za(e={}){const t=Ao(e);bo(t.document),xo(I(t.document).HTMLElement);var n;const r=(n=t.document.defaultView)!==null&&n!==void 0?n:globalThis.window;return ei(r),mr(t).api}function C({keyboardState:e,pointerState:t,...n}={},r){const s=Ao(n,Po,r);bo(s.document),xo(I(s.document).HTMLElement);var i;const a=(i=t??e)!==null&&i!==void 0?i:new Eo;return{api:mr(s,a).api,system:a}}function Ya(e){return mr({...this.config,...e},this.system).api}function Qa(e,t){function n(...r){return Ae(e,S.Call),qa(()=>t.apply(e,r).then(async s=>(await Ce(e.config),s)))}return Object.defineProperty(n,"name",{get:()=>t.name}),n}function mr(e,t=new Eo){const n={};return Object.assign(n,{config:e,dispatchEvent:vo.bind(n),dispatchUIEvent:zi.bind(n),system:t,levelRefs:{},...Hr}),{instance:n,api:{...Object.fromEntries(Object.entries(Hr).map(([r,s])=>[r,Qa(n,s)])),setup:Ya.bind(n)}}}function Ja(e,t,n){var r,s;return(s=(r=e.document)!==null&&r!==void 0?r:t&&ea(t))!==null&&s!==void 0?s:n.document}function Za(e){return C().api.clear(e)}function el(e,t={}){return C(t,e).api.click(e)}function tl(e={}){return C(e).api.copy()}function nl(e={}){return C(e).api.cut()}function rl(e,t={}){return C(t).api.dblClick(e)}function ol(e,t,n={}){return C(n).api.deselectOptions(e,t)}function sl(e,t={}){return C(t).api.hover(e)}async function il(e,t={}){const{api:n,system:r}=C(t);return n.keyboard(e).then(()=>r)}async function al(e,t={}){const{api:n,system:r}=C(t);return n.pointer(e).then(()=>r)}function ll(e,t){return C(t).api.paste(e)}function cl(e,t,n={}){return C(n).api.selectOptions(e,t)}function dl(e,t={}){return C(t).api.tripleClick(e)}function ul(e,t,n={}){return C(n,e).api.type(e,t,n)}function pl(e,t={}){const{api:n,system:r}=C(t);return r.pointer.setMousePosition({target:e}),n.unhover(e)}function fl(e,t,n={}){return C(n).api.upload(e,t)}function hl(e={}){return C().api.tab(e)}const ml=Object.freeze(Object.defineProperty({__proto__:null,clear:Za,click:el,copy:tl,cut:nl,dblClick:rl,deselectOptions:ol,hover:sl,keyboard:il,paste:ll,pointer:al,selectOptions:cl,tab:hl,tripleClick:dl,type:ul,unhover:pl,upload:fl},Symbol.toStringTag,{value:"Module"})),_t={...ml,setup:za};async function gl(e,t,n){await t("Start",async()=>{}),await en(async()=>{await P(e,"",{selector:"dialog"}),await P(e,"Rank",{selector:"th"})},{timeout:1e4}),await t("Connect Account",async()=>{});const r=await b(async()=>P(e,"Connect Wallet",{selector:"button"}));await b(async()=>n.click(r)),await t("Sort By Rank",async()=>{});const s=await b(async()=>P(e,"Rank",{selector:"th"}));await b(async()=>n.click(s)),await b(async()=>n.click(s)),await t("Spawn New Delegation Modal",async()=>{});const i=await b(async()=>rs(e,"Delegate",{selector:"td > button"})),[a]=i;await b(async()=>n.click(a)),await t("Enter Delegation Amount",async()=>{});const l=await b(async()=>P(e,"",{selector:"input.staking-modal-esp-focus-display"}));await b(async()=>_t.click(l)),await b(async()=>_t.clear(l)),await b(async()=>_t.type(l,"100")),await t("Approve Allowance",async()=>{});const d=await b(async()=>P(e,"Approve",{selector:"button"})),u=await b(async()=>P(e,"Delegate",{selector:"button.btn-delegate"}));await b(async()=>n.click(d)),await en(async()=>{await P(e,"Confirm Delegation")},{timeout:24e3}),await t("Delegate Funds",async()=>{}),await b(async()=>n.click(u)),await en(async()=>{await P(e,"Delegation successful",{selector:".staking-modal-instructions-and-progress span"}),await P(e,"Close",{selector:"dialog button"})},{timeout:24e3}),await t("Close Modal",async()=>{});const p=await b(async()=>P(e,"Close",{selector:"dialog button"}));await b(async()=>n.click(p))}async function yl(e,t){const n=_t.setup();await t("New Delegation",async({canvasElement:r,step:s})=>{await gl(r,s,n)})}const jt=c.createContext(new Map),dn=({children:e})=>{const t=c.useContext(et),n=new Map(k(t?.nodes??Xt(),r=>[r.nodeText,r]));return o.jsx(jt.Provider,{value:n,children:e})};try{jt.displayName="CurrentDelegationsContext",jt.__docgenInfo={description:`CurrentDelegationsContext provides a React Context
for the current map of validators with whom we are currently delegated.`,displayName:"CurrentDelegationsContext",props:{}}}catch{}try{dn.displayName="DeriveCurrentDelegations",dn.__docgenInfo={description:`DeriveCurrentDelegations is a React Component that
derives the current mapping of all of the current wallet's delegations.`,displayName:"DeriveCurrentDelegations",props:{}}}catch{}const G=c.createContext(new Map),un=({children:e})=>{const t=c.useContext(et),n=new Map(k(t?.pendingExits??Xt(),r=>[r.nodeText,r]));return o.jsx(G.Provider,{value:n,children:e})};try{G.displayName="PendingExitsContext",G.__docgenInfo={description:`PendingExitsContext provides a React Context
for the current map of validators who have exited, and your pending amount`,displayName:"PendingExitsContext",props:{}}}catch{}try{un.displayName="DerivePendingExits",un.__docgenInfo={description:`DerivePendingExits is a React Component that
derives the current mapping of all of the pending exits for the
current wallet.`,displayName:"DerivePendingExits",props:{}}}catch{}const q=c.createContext(new Map),pn=({children:e})=>{const t=c.useContext(et),n=new Map(k(t?.pendingUndelegations??Xt(),r=>[r.nodeText,r]));return o.jsx(q.Provider,{value:n,children:e})};try{q.displayName="PendingUndelegationsContext",q.__docgenInfo={description:`PendingUndelegationsContext provides a React Context
for the current map of validators with whom we have undelegated already.`,displayName:"PendingUndelegationsContext",props:{}}}catch{}try{pn.displayName="DerivePendingUndelegations",pn.__docgenInfo={description:`DerivePendingUndelegations is a React Component that
derives the current mapping of all of the pending undelegations for the
current wallet.`,displayName:"DerivePendingUndelegations",props:{}}}catch{}const Ve=c.createContext(0n),fn=({children:e})=>o.jsx(vl,{children:e}),vl=({children:e})=>{const t=c.useContext(j),n=Xr((r,s)=>r+s.stake,0n,t?.nodes??Xt());return o.jsx(Ve.Provider,{value:n,children:e})};try{Ve.displayName="TotalStakeContext",Ve.__docgenInfo={description:`TotalStakeContext provides a React Context
for the total stake of all validators.`,displayName:"TotalStakeContext",props:{}}}catch{}try{fn.displayName="DeriveTotalStake",fn.__docgenInfo={description:`DeriveTotalStake is a component that Provides the TotalStakeContext
by calculating the total stake from the AllValidatorsContext.`,displayName:"DeriveTotalStake",props:{}}}catch{}const kt=c.createContext(null),$r=c.createContext(Ds.nothing()),hn=({children:e})=>o.jsx(mn,{children:e}),mn=({children:e})=>{c.useContext(os);const t=c.useContext(Us),n=t?t.totalSupply():Ps;return o.jsx(Ms,{promise:n,children:o.jsx(xl,{children:e})})},xl=({children:e})=>{const t=c.useContext(As)??null;return o.jsx(kt.Provider,{value:t,children:e})};try{kt.displayName="TotalSupplyContext",kt.__docgenInfo={description:`TotalSupplyContext provides a React Context
for the total supply of the ESP token.`,displayName:"TotalSupplyContext",props:{}}}catch{}try{$r.displayName="TotalSupplyAsyncSnapshotContext",$r.__docgenInfo={description:"",displayName:"TotalSupplyAsyncSnapshotContext",props:{}}}catch{}try{hn.displayName="ProvideTotalSupply",hn.__docgenInfo={description:`ProvideTotalSupply is a React component that fetches
the total supply of the ESP token from the blockchain
and provides it via TotalSupplyContext.`,displayName:"ProvideTotalSupply",props:{}}}catch{}try{mn.displayName="ProvideTotalSupplyFromContractCall",mn.__docgenInfo={description:`ProvideTotalSupplyFromAPICall is a React component that fetches
the total supply of the ESP token from the local ESPTokenContract
and provides it via TotalSupplyContext.`,displayName:"ProvideTotalSupplyFromContractCall",props:{}}}catch{}const bl=e=>c.createElement(zt,{...e,className:X(e.className,"stroked")},o.jsxs(o.Fragment,{children:[o.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),o.jsx("polyline",{points:"16 17 21 12 16 7"}),o.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}));try{logout.displayName="logout",logout.__docgenInfo={description:"LogOut represents a logout icon.",displayName:"logout",props:{}}}catch{}const gn=e=>c.createElement(zt,{...e,className:X(e.className,"stroked")},o.jsxs("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-plus",children:[o.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),o.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}));try{plus.displayName="plus",plus.__docgenInfo={description:"Plus represents a plus sign.",displayName:"plus",props:{}}}catch{}const yn=()=>{const e=c.useContext(tr),t=c.useContext(he);return t?o.jsxs("span",{children:[o.jsx("span",{className:"wallet-address-preview",children:o.jsx(Bs,{value:new Vs(M.decode(t))})}),"Â ",o.jsxs(E,{className:"connect-wallet connected-wallet",onClick:e.openAccountModal,children:[o.jsx(f,{text:"Disconnect"}),o.jsx(bl,{})]})]}):o.jsxs(E,{className:"connect-wallet",onClick:e.openConnectModal,children:[o.jsx(gn,{}),o.jsx(f,{text:"Connect Wallet"})]})};try{yn.displayName="ConnectWalletButton",yn.__docgenInfo={description:`ConnectWalletButton is a button that will open the RainbowKit Wallet Connect
Modal when pressed.`,displayName:"ConnectWalletButton",props:{}}}catch{}const vn=e=>o.jsxs("header",{className:"delegation",...e,children:[o.jsx(Os,{}),o.jsx(yn,{})]});try{vn.displayName="DelegationHeader",vn.__docgenInfo={description:"DelegationHeader is the header component for the Delegation UI page.",displayName:"DelegationHeader",props:{}}}catch{}function _l(e){const[t,n]=c.useState(e);return[t,n]}const Do=c.createContext(null),Mo=c.createContext(()=>{}),Uo=c.createContext(null);function xn(e){const[t,n]=_l(e.selected);return o.jsx(Uo.Provider,{value:t,children:o.jsx(Mo.Provider,{value:r=>{n(r),e.onSelectionChange(r)},children:o.jsx("div",{className:X(e.className,"btn-segmented"),children:e.segments.map((r,s)=>o.jsx(Do.Provider,{value:r,children:o.jsx(Cl,{})},s))})})})}const Cl=()=>{const e=c.useContext(Do),t=c.useContext(Uo),n=c.useContext(Mo);return e?o.jsx(E,{className:"btn-segment","data-selected":e.value===t,onClick:()=>{n(e.value)},children:e.label}):null};try{xn.displayName="SegmentedButton",xn.__docgenInfo={description:`SegmentedButton is a button group that allows the user to select one of
multiple segments. Each segment is represented by a button. The selected
segment is highlighted.`,displayName:"SegmentedButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"T"}},onSelectionChange:{defaultValue:null,description:"",name:"onSelectionChange",required:!0,type:{name:"(value: T) => void"}},segments:{defaultValue:null,description:"",name:"segments",required:!0,type:{name:"ButtonSegment<T>[]"}}}}}catch{}const bn=({value:e,disabled:t,onChange:n,...r})=>o.jsx("input",{type:"checkbox",className:"bswitch",checked:e,disabled:t,onChange:s=>{n&&n(s.target.checked)},...r});try{bn.displayName="BaseSwitch",bn.__docgenInfo={description:`BaseSwitch is a simple switch component that represents a boolean value.
It is implemented via a checkbox input element.`,displayName:"BaseSwitch",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((checked: boolean) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}const ae=e=>o.jsx("div",{className:"value",children:e.children});try{ae.displayName="CardContentValue",ae.__docgenInfo={description:"CardContentValue is a container for the main value displayed in a card.",displayName:"CardContentValue",props:{}}}catch{}const _n=e=>o.jsx("div",{className:X(e.className,"bcard"),children:e.children});try{_n.displayName="Card",_n.__docgenInfo={description:"Card component for displaying content in a card layout.",displayName:"Card",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const le=e=>o.jsx(_n,{className:X(e.className,"card-value"),children:e.children});try{le.displayName="CardValue",le.__docgenInfo={description:"",displayName:"CardValue",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Cn=()=>{const e=c.useContext(Kr);return o.jsxs(le,{className:"estimated-apr-card",children:[o.jsx("h2",{children:o.jsx(f,{text:"Available Balance"})}),o.jsx(ae,{children:o.jsx(me,{money:ge.ESP(e)})})]})};try{Cn.displayName="AvailableBalanceCard",Cn.__docgenInfo={description:`AvailableBalanceCard is a component that displays the Available Balance of
the active Wallet.`,displayName:"AvailableBalanceCard",props:{}}}catch{}const wn=()=>{const e=c.useContext(Gr),t=c.useContext(qr)??0n,n=(e?.lifetimeRewards??t)-t;return o.jsxs(le,{className:"claimable-rewards-card",children:[o.jsx("h2",{children:o.jsx(f,{text:"Claimable Rewards"})}),o.jsx(wl,{}),o.jsx(ae,{children:o.jsx(me,{money:ge.ESP(n)})})]})},wl=()=>{const e=c.useContext(Gr),t=c.useContext(qr)??0n,n=(e?.lifetimeRewards??t)-t,r=c.useContext(ze),s=c.useContext(Wt);return n<=0n?o.jsx(E,{className:"action",disabled:!0,children:o.jsx(f,{text:"Claim All"})}):o.jsx(E,{className:"action",onClick:()=>{s(new ss),r.open()},children:o.jsx(f,{text:"Claim All"})})};try{wn.displayName="ClaimableRewardsCard",wn.__docgenInfo={description:`ClaimableRewardsCard is a component that displays the Claimable Rewards
amount.

This is meant to represent the total amount of ESP that can be claimed as
rewards by the active wallet.`,displayName:"ClaimableRewardsCard",props:{}}}catch{}const Sn=()=>{const e=c.useContext(Kr);return o.jsxs(le,{className:"estimated-apr-card",children:[o.jsx("h2",{children:o.jsx(f,{text:"Total Balance"})}),o.jsx(ae,{children:o.jsx(me,{money:ge.ESP(e)})})]})};try{Sn.displayName="TotalBalanceCard",Sn.__docgenInfo={description:`TotalBalanceCard is a component that displays the Total Balance of the
active Wallet.

Total Balance is defined as the sum of the Available Balance and the
Staked Balance.

TODO: Should this include the pending Rewards as well?`,displayName:"TotalBalanceCard",props:{}}}catch{}const En=()=>{const e=c.useContext(et);if(!e)return o.jsxs(le,{className:"estimated-apr-card",children:[o.jsx("h2",{children:o.jsx(f,{text:"Total Staked"})}),o.jsx(ae,{children:o.jsx(me,{money:ge.ESP(0n)})})]});const t=Xr((n,r)=>n+r.amount,0n,e.nodes);return o.jsxs(le,{className:"estimated-apr-card",children:[o.jsx("h2",{children:o.jsx(f,{text:"Total Staked"})}),o.jsx(ae,{children:o.jsx(me,{money:ge.ESP(t)})})]})};try{En.displayName="TotalStakedCard",En.__docgenInfo={description:`TotalStakedCard is a component that displays the Total Staked amount.

This is meant to represent the total amount of ESP that has been staked by
the active wallet.`,displayName:"TotalStakedCard",props:{}}}catch{}const jn=()=>c.useContext(he)?o.jsxs("section",{className:"my-balance",children:[o.jsx("h2",{children:o.jsx(f,{text:"My Balance"})}),o.jsxs("div",{className:"my-balance-stats",children:[o.jsx(Sn,{}),o.jsx(Cn,{}),o.jsx(En,{}),o.jsx(wn,{})]})]}):null;try{jn.displayName="MyBalance",jn.__docgenInfo={description:"",displayName:"MyBalance",props:{}}}catch{}const we=({children:e})=>o.jsx("div",{className:"network-stat-value",children:e});try{we.displayName="NetworkStatValue",we.__docgenInfo={description:"",displayName:"NetworkStatValue",props:{}}}catch{}const kn=()=>{const e=c.useContext(Ve),t=c.useContext(kt);return o.jsxs(we,{children:[o.jsx("h2",{children:o.jsx(f,{text:"Currently Staked"})}),o.jsx(Se,{percentage:Number(e)/Number(t)})]})};try{kn.displayName="CurrentlyStaked",kn.__docgenInfo={description:"",displayName:"CurrentlyStaked",props:{}}}catch{}function Sl(e){return e!=null}function El(e){const t=e<0?-1:1,n=Math.floor(e/1e3),r=Math.floor(n/60);return[Math.floor(r/60),r%60,n%60].map(i=>i*t)}const Le=e=>{const t=Wo.useContext($s),[n,r,s]=El(e.durationInMilliseconds),i=[t.hours.format(n),t.minutes.format(r),t.seconds.format(s)].filter(Sl);return o.jsx(f,{text:i.join(" ")})};try{Le.displayName="TimeLeftText",Le.__docgenInfo={description:`TimeLeftText displays the duration specified in terms of the total number
of hours, minutes, and seconds that comprise the total milliseconds provided.`,displayName:"TimeLeftText",props:{durationInMilliseconds:{defaultValue:null,description:"",name:"durationInMilliseconds",required:!0,type:{name:"number"}}}}}catch{}const Nn=()=>{const e=c.useContext(is);if(e==null)return o.jsxs(we,{children:[o.jsxs("h2",{children:[o.jsx(f,{text:"Epoch"}),"Â ",o.jsx("span",{className:"accent",children:o.jsx(f,{text:"-"})}),"Â ",o.jsx(f,{text:"ends in"})]}),o.jsx(f,{text:"-"})]});const t=e.espressoBlock.epoch,n=e.espressoBlock.block,r=n/t,s=n%r,i=r-s,a=Number(i)*6*1e3;return o.jsxs(we,{children:[o.jsxs("h2",{children:[o.jsx(f,{text:"Epoch"}),"Â ",o.jsx("span",{className:"accent",children:o.jsx(Hs,{number:e?.espressoBlock.epoch??0n})}),"Â ",o.jsx(f,{text:"ends in"})]}),o.jsx(Le,{durationInMilliseconds:a})]})};try{Nn.displayName="EpochEndsIn",Nn.__docgenInfo={description:"",displayName:"EpochEndsIn",props:{}}}catch{}const Tn=()=>o.jsxs(we,{children:[o.jsx("h2",{children:o.jsx(f,{text:"Estimated APR"})}),o.jsx(Se,{percentage:.035})]});try{Tn.displayName="EstimatedAPR",Tn.__docgenInfo={description:`EstimatedAPRCard displays the estimated annual percentage rate (APR).
The APR is currently hardcoded to 3.5%.`,displayName:"EstimatedAPR",props:{}}}catch{}const In=()=>o.jsxs("div",{className:"network-stats",children:[o.jsx("h1",{children:o.jsx(f,{text:"ESP Delegation"})}),o.jsxs("div",{className:"network-stats-grid",children:[o.jsx(kn,{}),o.jsx(Tn,{}),o.jsx(Nn,{})]})]});try{In.displayName="NetworkStats",In.__docgenInfo={description:"NetworkStats component displays key statistics about the chain.",displayName:"NetworkStats",props:{}}}catch{}const Ro=e=>c.createElement(zt,{...e,className:X(e.className,"stroked")},o.jsxs("g",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-unlock",children:[o.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),o.jsx("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"})]}));try{unlock.displayName="unlock",unlock.__docgenInfo={description:"Unlock represents an open Lock.",displayName:"unlock",props:{}}}catch{}var pe=(e=>(e[e.collapsed=0]="collapsed",e[e.expanded=1]="expanded",e))(pe||{});const Fe=c.createContext(0),Nt=c.createContext(()=>{});function jl(e=0){const[t,n]=c.useState(e);return[t,n]}const Tt=({children:e})=>{const[t,n]=jl();return o.jsx(Fe.Provider,{value:t,children:o.jsx(Nt.Provider,{value:n,children:e})})};try{Fe.displayName="CollapseStateContext",Fe.__docgenInfo={description:`CollapseStateContext provides a React Context that represents the current
collapse state of a UI element.`,displayName:"CollapseStateContext",props:{}}}catch{}try{Nt.displayName="SetCollapseStateContext",Nt.__docgenInfo={description:`SetCollapseStateContext provides a React Context that represents the setter
function to update the current collapse state of a UI element.`,displayName:"SetCollapseStateContext",props:{}}}catch{}try{Tt.displayName="ProvideCollapseState",Tt.__docgenInfo={description:`ProvideCollapseState is a React Component that defines a collapse state,
and provides contexts for reading, and setting it.`,displayName:"ProvideCollapseState",props:{}}}catch{}const It=({children:e,className:t,...n})=>o.jsx("section",{className:X(t,"collapsable-section"),...n,children:o.jsx(Tt,{children:e})}),Pt=({children:e})=>o.jsxs("div",{className:"collapsable-header",children:[e,o.jsx(Nl,{})]});function kl(e){switch(e){case pe.collapsed:return pe.expanded;case pe.expanded:return pe.collapsed}}const Nl=()=>{const e=c.useContext(Fe),t=c.useContext(Nt);return o.jsx(E,{className:"collapse-toggle",onClick:()=>t(kl(e)),children:e?"Collapse":"Expand"})},At=({children:e})=>c.useContext(Fe)===pe.collapsed?null:e;try{It.displayName="CollapsableSection",It.__docgenInfo={description:"",displayName:"CollapsableSection",props:{}}}catch{}try{Pt.displayName="CollapsableHeader",Pt.__docgenInfo={description:"",displayName:"CollapsableHeader",props:{}}}catch{}try{At.displayName="CollapseGuard",At.__docgenInfo={description:"",displayName:"CollapseGuard",props:{}}}catch{}var _=(e=>(e[e.rank=0]="rank",e[e.validator=1]="validator",e[e.totalStake=2]="totalStake",e[e.fee=3]="fee",e[e.missedSlots=4]="missedSlots",e[e.participationRate=5]="participationRate",e[e.hotShotConsensus=6]="hotShotConsensus",e))(_||{}),Pn=(e=>(e[e.asc=0]="asc",e[e.desc=1]="desc",e))(Pn||{});const He=c.createContext({sortBy:()=>{}}),An=c.createContext({sortBy:2,sortDirection:1}),Dn=()=>{const[e,t]=c.useState({sortBy:2,sortDirection:1});return{tableState:e,tableControls:{sortBy:r=>{t(s=>{if(s.sortBy!==r)return{...s,sortBy:r};switch(s.sortDirection){case 0:return{...s,sortDirection:1};case 1:return{...s,sortDirection:0}}})}}}};function Tl(e,t){return e[1]-t[1]}function Il(e,t){return N(e[0].address,t[0].address)}function Pl(e,t){return Number(e[0].commission.valueOf()-t[0].commission.valueOf())}function Al(e,t){const n=e[2]?.leaderParticipation?.ratio??-1,r=t[2]?.leaderParticipation?.ratio??-1;return n-r}function Dl(e,t){const n=e[2]?.voterParticipation?.ratio??-1,r=t[2]?.voterParticipation?.ratio??-1;return n-r}function Ml(e,t){return+!!e[2]-+!!t[2]}function Ul(e,t){return Number(e[0].stake-t[0].stake)}function Rl(e){switch(e){case 0:return Tl;case 1:return Il;case 2:return Ul;case 3:return Pl;case 4:return Al;case 5:return Dl;case 6:return Ml;default:throw new nr}}function Ol(e){switch(e){case 0:return t=>t;case 1:return t=>(n,r)=>-t(n,r)}}function Bl(e,t,n,r){if(!e)return e;const{sortBy:s,sortDirection:i}=t,l=Ol(i)(Rl(s));return new Gt(e.l1Block,e.nodes.map(d=>{const u=d.addressText;return[d,n.get(u)??Number.MAX_SAFE_INTEGER,r.get(u)??null]}).sort(l).map(d=>d[0]))}const $e=e=>{const{tableState:t,tableControls:n}=Dn(),r=c.useContext(j),s=c.useContext(as),i=c.useContext(Kt),a=Bl(r,t,s,i);return o.jsx(j.Provider,{value:a,children:o.jsx(An.Provider,{value:t,children:o.jsx(He.Provider,{value:n,children:e.children})})})};try{_.displayName="CellType",_.__docgenInfo={description:`CellType enumerates the different types of columns that can be
sorted in the validator table.`,displayName:"CellType",props:{}}}catch{}try{Pn.displayName="SortDirection",Pn.__docgenInfo={description:"SortDirection enumerates the possible directions for sorting the table.",displayName:"SortDirection",props:{}}}catch{}try{He.displayName="TableSortControlsContext",He.__docgenInfo={description:"",displayName:"TableSortControlsContext",props:{}}}catch{}try{An.displayName="TableSortStateContext",An.__docgenInfo={description:"",displayName:"TableSortStateContext",props:{}}}catch{}try{Dn.displayName="useValidatorTableSortState",Dn.__docgenInfo={description:`useValidatorTableSortState is a custom hook that manages the sorting state
for the validator table, providing the current state and controls to modify
it.`,displayName:"useValidatorTableSortState",props:{}}}catch{}try{$e.displayName="ValidatorTableSortStateProvider",$e.__docgenInfo={description:`ValidatorTableSortStateProvider is a context provider that manages
the sorting state for the validator table and provides sorted validator
data to its children.`,displayName:"ValidatorTableSortStateProvider",props:{}}}catch{}const Dt=()=>o.jsx(o.Fragment,{});try{Dt.displayName="ActionsHeadCell",Dt.__docgenInfo={description:`ActionsHeadCell is the header cell for the actions to take in the
validator table.`,displayName:"ActionsHeadCell",props:{}}}catch{}const ce=e=>c.createElement(zt,{...e,viewBox:"0 0 12 12",className:X(e.className,"stroked")},o.jsxs(o.Fragment,{children:[o.jsx("path",{d:"M9.25 7.75049L6 11.0005L2.75 7.75049",strokeWidth:"1.5"}),o.jsx("path",{d:"M9.25 4.25049L6 1.00049L2.75 4.25049",strokeWidth:"1.5"})]}));try{verticalscroll.displayName="verticalscroll",verticalscroll.__docgenInfo={description:"VerticalScroll represents a vertical scroll icon.",displayName:"verticalscroll",props:{}}}catch{}const Mt=()=>o.jsxs(o.Fragment,{children:[o.jsx(f,{text:"Commission Rate"}),"Â ",o.jsx(ce,{})]});try{Mt.displayName="FeeHeadCell",Mt.__docgenInfo={description:"FeeHeadCell is the header cell for the Fee column in the validator table.",displayName:"FeeHeadCell",props:{}}}catch{}const Ut=()=>o.jsxs(o.Fragment,{children:[o.jsx(f,{text:"Consensus"}),"Â ",o.jsx(ce,{})]});try{Ut.displayName="HotShotConsensusHeadCell",Ut.__docgenInfo={description:`HotShotConsensusHeadCell is the header cell for the HotShot Consensus
column in the validator table.`,displayName:"HotShotConsensusHeadCell",props:{}}}catch{}const Rt=()=>o.jsxs(o.Fragment,{children:[o.jsx(f,{text:"Missed Slots"}),"Â ",o.jsx(ce,{})]});try{Rt.displayName="MissedSlotsHeadCell",Rt.__docgenInfo={description:`MissedSlotsHeadCell is the header cell for the Missed Slots column in the
validator table.`,displayName:"MissedSlotsHeadCell",props:{}}}catch{}const Ot=()=>o.jsxs(o.Fragment,{children:[o.jsx(f,{text:"Participation"}),"Â ",o.jsx(ce,{})]});try{Ot.displayName="ParticipationRateHeadCell",Ot.__docgenInfo={description:`ParticipationRateHeadCell is the header cell for the Participation Rate
column in the validator table.`,displayName:"ParticipationRateHeadCell",props:{}}}catch{}const Bt=()=>o.jsxs(o.Fragment,{children:[o.jsx(f,{text:"Rank"}),"Â ",o.jsx(ce,{})]});try{Bt.displayName="RankHeadCell",Bt.__docgenInfo={description:"RankHeadCell is the header cell for the Rank column in the validator table.",displayName:"RankHeadCell",props:{}}}catch{}const Vt=()=>o.jsxs(o.Fragment,{children:[o.jsx(f,{text:"Total Stake"}),"Â ",o.jsx(ce,{})]});try{Vt.displayName="TotalStakeHeadCell",Vt.__docgenInfo={description:`TotalStakeHeadCell is the header cell for the Total Stake column in the
validator table.`,displayName:"TotalStakeHeadCell",props:{}}}catch{}const Lt=()=>o.jsxs(o.Fragment,{children:[o.jsx(f,{text:"Validator"}),"Â ",o.jsx(ce,{})]});try{Lt.displayName="ValidatorHeadCell",Lt.__docgenInfo={description:`ValidatorHeadCell is the header cell for the Validator column in the
validator table.`,displayName:"ValidatorHeadCell",props:{}}}catch{}const Ft=()=>{const{sortBy:e}=c.useContext(He);return o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"sortable",onClick:()=>e(_.rank),children:o.jsx(Bt,{})}),o.jsx("th",{className:"sortable",onClick:()=>e(_.validator),children:o.jsx(Lt,{})}),o.jsx("th",{className:"sortable",onClick:()=>e(_.totalStake),children:o.jsx(Vt,{})}),o.jsx("th",{className:"sortable",onClick:()=>e(_.fee),children:o.jsx(Mt,{})}),o.jsx("th",{className:"sortable",onClick:()=>e(_.missedSlots),children:o.jsx(Rt,{})}),o.jsx("th",{className:"sortable",onClick:()=>e(_.participationRate),children:o.jsx(Ot,{})}),o.jsx("th",{className:"sortable",onClick:()=>e(_.hotShotConsensus),children:o.jsx(Ut,{})}),o.jsx("th",{children:o.jsx(Dt,{})})]})})};try{Ft.displayName="ClaimsDelegationTableHeader",Ft.__docgenInfo={description:`ClaimsDelegationTableHeader is a component that renders
the header row of the delegation table with sortable columns.`,displayName:"ClaimsDelegationTableHeader",props:{}}}catch{}const We=()=>{const e=c.useContext(T);return o.jsx(Se,{percentage:e.commission.valueOf()})};try{We.displayName="FeeCell",We.__docgenInfo={description:"FeeCell displays the commission fee of a validator as a percentage.",displayName:"FeeCell",props:{}}}catch{}const Ke=()=>{const e=c.useContext(T),t=c.useContext(Kt),n=e.addressText;return t.has(n)?o.jsx(ls,{}):o.jsx(cs,{})};try{Ke.displayName="HotShotConsensusCell",Ke.__docgenInfo={description:`HotShotConsensusCell displays whether a validator is part of the
HotShot consensus set using active/inactive consensus chips.`,displayName:"HotShotConsensusCell",props:{}}}catch{}const Ge=()=>{const e=c.useContext(T),n=c.useContext(Kt).get(e.addressText);return!n||n.leaderParticipation==null?o.jsx(f,{text:"-"}):o.jsx(Se,{percentage:1-n.leaderParticipation.ratio})};try{Ge.displayName="MissedSlotsCell",Ge.__docgenInfo={description:"MissedSlotsCell displays the percentage of missed slots for a validator.",displayName:"MissedSlotsCell",props:{}}}catch{}const qe=()=>{const e=c.useContext(T),n=c.useContext(Kt).get(e.addressText);return!n||n.voterParticipation==null?o.jsx(f,{text:"-"}):o.jsx(Se,{percentage:n.voterParticipation.ratio})};try{qe.displayName="ParticipationRateCell",qe.__docgenInfo={description:"ParticipationRateCell displays the voter participation rate for a validator.",displayName:"ParticipationRateCell",props:{}}}catch{}const Mn=()=>{const e=c.useContext(T),t=c.useContext(ze),n=c.useContext(Wt);return o.jsx(E,{className:"action",onClick:()=>{n(new ds(e.address)),t.open()},children:o.jsx(f,{text:"Withdraw"})})};try{Mn.displayName="PendingClaimActionsCell",Mn.__docgenInfo={description:"",displayName:"PendingClaimActionsCell",props:{}}}catch{}const Xe=()=>{const e=c.useContext(Ve),t=c.useContext(T),n=Number(t.stake)/Number(e);return o.jsxs(o.Fragment,{children:[o.jsx(me,{money:ge.ESP(t.stake)}),"Â ",o.jsxs("span",{className:"percentage-text",children:["(",o.jsx(Se,{percentage:n}),")"]})]})};try{Xe.displayName="TotalStakeCell",Xe.__docgenInfo={description:`TotalStakeCell displays the stake amount for a validator node, along with its
percentage of the total stake.`,displayName:"TotalStakeCell",props:{}}}catch{}const Un=()=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx(rr,{})}),o.jsx("td",{children:o.jsx(or,{})}),o.jsx("td",{children:o.jsx(Xe,{})}),o.jsx("td",{children:o.jsx(We,{})}),o.jsx("td",{children:o.jsx(Ge,{})}),o.jsx("td",{children:o.jsx(qe,{})}),o.jsx("td",{children:o.jsx(Ke,{})}),o.jsx("td",{children:o.jsx(Mn,{})})]});try{Un.displayName="PendingClaimsNodeValidatorTableRow",Un.__docgenInfo={description:`PendingClaimsNodeValidatorTableRow is a component that represents a single
row in the validator nodes table, displaying various details about the validator.`,displayName:"PendingClaimsNodeValidatorTableRow",props:{}}}catch{}const Rn=()=>{const e=c.useContext(j);return e?o.jsxs("table",{className:"all-validators-table pending-claims",children:[o.jsx(Ft,{}),o.jsx("tbody",{children:e.nodes.map((t,n)=>o.jsx(T.Provider,{value:t,children:o.jsx(Un,{})},n))})]}):o.jsx(o.Fragment,{})};try{Rn.displayName="PendingClaimsDelegationTable",Rn.__docgenInfo={description:`PendingClaimsDelegationTable is a component that renders
the table of validator nodes in the delegation UI for Pending Claims`,displayName:"PendingClaimsDelegationTable",props:{}}}catch{}const On=()=>o.jsx(Vl,{children:o.jsx(Tt,{children:o.jsx(Fl,{})})}),Vl=({children:e})=>c.useContext(q).size<=0?null:o.jsx(Ll,{children:e}),Ll=({children:e})=>{const t=c.useContext($t),n=c.useContext(q);return D(n.values(),s=>s.availableTime<=t).next().done?null:e},Fl=()=>o.jsxs(It,{className:"pending-claims",children:[o.jsx(Pt,{children:o.jsxs("h2",{children:[o.jsx(Ro,{}),o.jsx(f,{text:"Your recently unstaked your delegation.  You can claim back your delegation now."})]})}),o.jsx(At,{children:o.jsx($l,{})})]});function Hl(e,t){return e?new Gt(e.l1Block,Array.from(D(e.nodes,n=>t.has(n.addressText)))):null}const $l=()=>{const e=c.useContext(q),t=c.useContext(j);return o.jsx(j.Provider,{value:Hl(t,e),children:o.jsx($e,{children:o.jsx(Rn,{})})})};try{On.displayName="PendingClaims",On.__docgenInfo={description:"",displayName:"PendingClaims",props:{}}}catch{}const Bn=()=>{const e=c.useContext(T),t=c.useContext(ze),n=c.useContext(Wt);return o.jsx(E,{className:"action",onClick:()=>{n(new us(e.address)),t.open()},children:o.jsx(f,{text:"Withdraw"})})};try{Bn.displayName="PendingExitActionsCell",Bn.__docgenInfo={description:"",displayName:"PendingExitActionsCell",props:{}}}catch{}const Vn=()=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx(rr,{})}),o.jsx("td",{children:o.jsx(or,{})}),o.jsx("td",{children:o.jsx(Xe,{})}),o.jsx("td",{children:o.jsx(We,{})}),o.jsx("td",{children:o.jsx(Ge,{})}),o.jsx("td",{children:o.jsx(qe,{})}),o.jsx("td",{children:o.jsx(Ke,{})}),o.jsx("td",{children:o.jsx(Bn,{})})]});try{Vn.displayName="PendingExitsNodeValidatorTableRow",Vn.__docgenInfo={description:`PendingExitsNodeValidatorTableRow is a component that represents a single
row in the validator nodes table, displaying various details about the validator.`,displayName:"PendingExitsNodeValidatorTableRow",props:{}}}catch{}const Ln=()=>{const e=c.useContext(j);return e?o.jsxs("table",{className:"all-validators-table pending-claims",children:[o.jsx(Ft,{}),o.jsx("tbody",{children:e.nodes.map((t,n)=>o.jsx(T.Provider,{value:t,children:o.jsx(Vn,{})},n))})]}):o.jsx(o.Fragment,{})};try{Ln.displayName="PendingExitsDelegationTable",Ln.__docgenInfo={description:`PendingExitsDelegationTable is a component that renders
the table of validator nodes in the delegation UI for Pending Exits`,displayName:"PendingExitsDelegationTable",props:{}}}catch{}const Fn=()=>o.jsx(Wl,{children:o.jsx(Gl,{})}),Wl=({children:e})=>c.useContext(G).size<=0?null:o.jsx(Kl,{children:e}),Kl=({children:e})=>{const t=c.useContext($t),n=c.useContext(G);return D(n.values(),s=>s.availableTime<=t).next().done?null:e},Gl=()=>o.jsxs(It,{className:"pending-exits",children:[o.jsx(Pt,{children:o.jsxs("h2",{children:[o.jsx(Ro,{}),o.jsx(f,{text:"Validators you have delegated to have exited the Staking Table.  You can claim back your delegation now."})]})}),o.jsx(At,{children:o.jsx(Xl,{})})]});function ql(e,t){return e?new Gt(e.l1Block,Array.from(D(e.nodes,n=>t.has(n.addressText)))):null}const Xl=()=>{const e=c.useContext(G),t=c.useContext(j);return o.jsx(j.Provider,{value:ql(t,e),children:o.jsx($e,{children:o.jsx(Ln,{})})})};try{Fn.displayName="PendingExits",Fn.__docgenInfo={description:"",displayName:"PendingExits",props:{}}}catch{}const Hn=e=>o.jsx(ps,{className:"staking-modal",closedby:"none",open:e.open,children:o.jsx(fs,{children:o.jsx(hs,{children:o.jsx(Ws,{})})})});try{Hn.displayName="StakingModal",Hn.__docgenInfo={description:"",displayName:"StakingModal",props:{open:{defaultValue:null,description:"",name:"open",required:!1,type:{name:"boolean"}}}}}catch{}const $n=()=>o.jsx(o.Fragment,{children:o.jsx(f,{text:"Claim In"})});try{$n.displayName="ClaimInHeadCell",$n.__docgenInfo={description:`ClaimInHeadCell is the header cell for the Claim In column in the
validator table.`,displayName:"ClaimInHeadCell",props:{}}}catch{}const Ht=()=>{const{sortBy:e}=c.useContext(He);return o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"sortable",onClick:()=>e(_.rank),children:o.jsx(Bt,{})}),o.jsx("th",{className:"sortable",onClick:()=>e(_.validator),children:o.jsx(Lt,{})}),o.jsx("th",{className:"sortable",onClick:()=>e(_.totalStake),children:o.jsx(Vt,{})}),o.jsx("th",{className:"sortable",onClick:()=>e(_.fee),children:o.jsx(Mt,{})}),o.jsx("th",{className:"sortable",onClick:()=>e(_.missedSlots),children:o.jsx(Rt,{})}),o.jsx("th",{className:"sortable",onClick:()=>e(_.participationRate),children:o.jsx(Ot,{})}),o.jsx("th",{className:"sortable",onClick:()=>e(_.hotShotConsensus),children:o.jsx(Ut,{})}),o.jsx("th",{children:o.jsx($n,{})}),o.jsx("th",{children:o.jsx(Dt,{})})]})})};try{Ht.displayName="DelegationTableHeader",Ht.__docgenInfo={description:`DelegationTableHeader is a component that renders
the header row of the delegation table with sortable columns.`,displayName:"DelegationTableHeader",props:{}}}catch{}const Wn=()=>o.jsx(qt,{className:"consensus-chip inactive",children:o.jsx(f,{text:"Exited"})});try{Wn.displayName="ExitedChip",Wn.__docgenInfo={description:"",displayName:"ExitedChip",props:{}}}catch{}const Kn=()=>o.jsx(qt,{className:"consensus-chip inactive",children:o.jsx(f,{text:"Exiting"})});try{Kn.displayName="ExitingChip",Kn.__docgenInfo={description:"",displayName:"ExitingChip",props:{}}}catch{}const Gn=()=>o.jsx(qt,{className:"consensus-chip inactive",children:o.jsx(f,{text:"Undelegated"})});try{Gn.displayName="UndelegatedChip",Gn.__docgenInfo={description:"",displayName:"UndelegatedChip",props:{}}}catch{}const qn=()=>o.jsx(qt,{className:"consensus-chip inactive",children:o.jsx(f,{text:"Undelegating"})});try{qn.displayName="UndelegatingChip",qn.__docgenInfo={description:"",displayName:"UndelegatingChip",props:{}}}catch{}const Xn=()=>{const e=c.useContext(T),t=c.useContext(he),n=c.useContext(tr),r=c.useContext($t),s=c.useContext(ze),i=c.useContext(G),a=c.useContext(q),l=c.useContext(jt),d=c.useContext(Wt);if(!t||n.connectModalOpen)return o.jsx(o.Fragment,{children:o.jsx(E,{className:"action",onClick:n.openConnectModal,children:o.jsx(f,{text:"Delegate"})})});const u=e.addressText,p=i.get(u)??null,m=a.get(u)??null;return p?p.availableTime.valueOf()<r.valueOf()?o.jsx(Wn,{}):o.jsx(Kn,{}):m?m.availableTime.valueOf()<r.valueOf()?o.jsx(Gn,{}):o.jsx(qn,{}):l.has(u)?o.jsx(E,{className:"action",onClick:()=>{d(new vr(e.address)),s.open()},children:o.jsx(f,{text:"Manage"})}):o.jsx(E,{className:"action",onClick:()=>{d(new vr(e.address)),s.open()},children:o.jsx(f,{text:"Delegate"})})};try{Xn.displayName="ActionsCell",Xn.__docgenInfo={description:"",displayName:"ActionsCell",props:{}}}catch{}const zn=()=>{const e=c.useContext(T),t=c.useContext($t),n=c.useContext(G),r=c.useContext(q),s=e.addressText,i=n.get(s)??null,a=r.get(s)??null;if(i){const l=i.availableTime.valueOf()-t.valueOf();return l<=0?o.jsx("span",{className:"claimable",children:o.jsx(f,{text:"Claimable"})}):o.jsx(Le,{durationInMilliseconds:l})}if(a){const l=a.availableTime.valueOf()-t.valueOf();return l<=0?o.jsx("span",{className:"claimable",children:o.jsx(f,{text:"Claimable"})}):o.jsx(Le,{durationInMilliseconds:l})}return o.jsx(o.Fragment,{children:o.jsx(f,{text:"-"})})};try{zn.displayName="ClaimInCell",zn.__docgenInfo={description:`ClaimInCell displays information related to being able to withdraw claims
from a validator node.`,displayName:"ClaimInCell",props:{}}}catch{}const Yn=()=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx(rr,{})}),o.jsx("td",{children:o.jsx(or,{})}),o.jsx("td",{children:o.jsx(Xe,{})}),o.jsx("td",{children:o.jsx(We,{})}),o.jsx("td",{children:o.jsx(Ge,{})}),o.jsx("td",{children:o.jsx(qe,{})}),o.jsx("td",{children:o.jsx(Ke,{})}),o.jsx("td",{children:o.jsx(zn,{})}),o.jsx("td",{children:o.jsx(Xn,{})})]});try{Yn.displayName="NodeValidatorTableRow",Yn.__docgenInfo={description:`NodeValidatorTableRow is a component that represents a single row
in the validator nodes table, displaying various details about the validator.`,displayName:"NodeValidatorTableRow",props:{}}}catch{}const Qn=()=>{const e=c.useContext(j);return e?o.jsxs("table",{className:"all-validators-table",children:[o.jsx(Ht,{}),o.jsx("tbody",{children:e.nodes.map((t,n)=>o.jsx(T.Provider,{value:t,children:o.jsx(Yn,{})},n))})]}):o.jsx(o.Fragment,{})};try{Qn.displayName="DelegationTable",Qn.__docgenInfo={description:`DelegationTable is a component that renders
the table of validator nodes in the delegation UI.`,displayName:"DelegationTable",props:{}}}catch{}const Yt=c.createContext(0),Oo=c.createContext(()=>{}),zl=({children:e})=>{const[t,n]=c.useState(0);return o.jsx(Yt.Provider,{value:t,children:o.jsx(Oo.Provider,{value:n,children:e})})},gr=c.createContext(!1),Bo=c.createContext(()=>{}),Yl=({children:e})=>{const[t,n]=c.useState(!1);return o.jsx(gr.Provider,{value:t,children:o.jsx(Bo.Provider,{value:n,children:e})})},yr=c.createContext(new zr("")),Vo=c.createContext(()=>{}),Ql=({children:e})=>{const[t,n]=c.useState(new zr(""));return o.jsx(yr.Provider,{value:t,children:o.jsx(Vo.Provider,{value:n,children:e})})},Jl=()=>o.jsxs("table",{className:"all-validators-table",children:[o.jsx(Ht,{}),o.jsx("tbody",{children:o.jsx("tr",{children:o.jsxs("td",{className:"no-data",colSpan:8,children:[o.jsx(f,{text:"Nothing brewing yet..."}),o.jsx("br",{}),o.jsx("br",{}),o.jsx(Lo,{})]})})})]}),Zl=()=>{const e=c.useContext(j);return c.useContext(Yt)===1&&(e?.nodes.length??0)===0?o.jsx(Jl,{}):o.jsx(Qn,{})},Jn=()=>o.jsx(zl,{children:o.jsx(Yl,{children:o.jsx(Ql,{children:o.jsxs(ms,{children:[o.jsx(Hn,{}),o.jsxs("section",{className:"delegation-ui-content edge-margin",children:[o.jsx(In,{}),o.jsx(jn,{}),o.jsx(On,{}),o.jsx(Fn,{}),o.jsx(sc,{}),o.jsx(oc,{children:o.jsxs($e,{children:[o.jsx(Zl,{}),o.jsx("br",{})]})})]})]})})})});function ec(e,t){return e!==1?()=>!0:n=>t?!!Qe(t.nodes,r=>N(n.address,r.node)===0):!1}function tc(e,t){return e?n=>n.stake>=t:()=>!0}function nc(e){return e.text.trim()===""?()=>!0:t=>t.addressText.indexOf(e.text.toLowerCase())>=0}function rc(e,t,n,r,s){if(!e)return null;const i=Array.from(k(e.nodes,l=>l.stake)).toSorted(),a=i.length<100?i[0]-1n:i[i.length-100];return new Gt(e.l1Block,Array.from(D(D(D(e.nodes,tc(r,a)),ec(n,t)),nc(s))))}const oc=({children:e})=>{const t=c.useContext(j),n=c.useContext(et),r=c.useContext(Yt),s=c.useContext(yr),i=c.useContext(gr);return o.jsx(j.Provider,{value:rc(t,n,r,i,s),children:e})},sc=()=>o.jsxs("div",{className:"delegation-ui-table-controls",children:[o.jsxs("div",{children:[o.jsx(ic,{}),o.jsx(ac,{}),o.jsx(lc,{})]}),o.jsx(Lo,{})]}),ic=()=>{const e=c.useContext(yr),t=c.useContext(Vo);return o.jsxs("div",{className:"search-node-container",children:[o.jsx(Ls,{className:"search-node",value:e,onChange:(n,r)=>t(r),placeholder:"Search Validator"}),o.jsx(Fs,{})]})},ac=()=>{const e=c.useContext(Yt),t=c.useContext(Oo);return o.jsx(xn,{selected:e,onSelectionChange:n=>{t(n)},segments:[{value:0,label:o.jsx(f,{text:"All"})},{value:1,label:o.jsx(f,{text:"My Stakes"})}]})},lc=()=>{const e=c.useContext(gr),t=c.useContext(Bo);return o.jsxs("span",{className:"only-top-100-filter",children:[o.jsx("label",{htmlFor:"show-top-100",children:o.jsx(f,{text:"Only show top 100"})}),o.jsx(bn,{id:"show-top-100",value:e,onChange:t})]})},Lo=()=>{const e=c.useContext(he),t=c.useContext(tr),n=c.useContext(ze);return!e||t.connectModalOpen?o.jsxs(E,{onClick:t.openConnectModal,children:[o.jsx(gn,{}),o.jsx(f,{text:"Delegate"})]}):o.jsxs(E,{onClick:n.open,children:[o.jsx(gn,{}),o.jsx(f,{text:"Delegate"})]})};try{Jn.displayName="DelegationUIContent",Jn.__docgenInfo={description:`DelegationUIContent is the main content area for the Delegation UI page.

It defines the layout and structure of the content that is displayed within
the Delegation UI.

All of the content is displayed within a dedicated element to define the
area for styling purposes, and for content display.`,displayName:"DelegationUIContent",props:{}}}catch{}const cc=()=>o.jsx(dc,{children:o.jsxs("main",{className:"delegation-ui",children:[o.jsx(vn,{}),o.jsx(Jn,{})]})}),dc=({children:e})=>o.jsx(gs,{children:o.jsx(ys,{children:o.jsx(hn,{children:o.jsx(vs,{children:o.jsx(xs,{children:o.jsx(bs,{children:o.jsx(_s,{children:o.jsx(Cs,{children:o.jsx(ws,{children:o.jsx(Ss,{children:o.jsx(Is,{children:o.jsx(fn,{children:o.jsx(Es,{children:o.jsx(js,{children:o.jsx(dn,{children:o.jsx(pn,{children:o.jsx(un,{children:o.jsx(ks,{children:e})})})})})})})})})})})})})})})})})});try{delegationui.displayName="delegationui",delegationui.__docgenInfo={description:`DelegationUI is a component that represents the entire Delegation UI
self contained page.`,displayName:"delegationui",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Zn=({children:e})=>{const t=c.useContext(Rs),n=c.useContext(xr);return o.jsx(xr.Provider,{value:uc(n,t),children:e})};function uc(e,t){if(t instanceof Ks){const n=new fc(e);return t.setTransactionCallback(n.wallet),n}return e}const er=new Ye([],[],[],0n,new Ns(0n,new ArrayBuffer,new Date(0)));class pc{constructor(t={snapshots:new Map([[tn,new Ye(Array.from(k(br(ot,ot.length-2),n=>new Me(M.decode(tn),n.address,n.stake/10n))),[],Array.from(k(br(ot,ot.length-2),n=>new $(M.decode(tn),n.address,n.stake/10n,new Date(0)))),0n,er.l1Block)]])}){this.state=t}async snapshot(t){const n=M.encode(t);return this.state.snapshots.get(n)??er}async updates(){throw new nr}l1Transaction(t){if(t instanceof Gs){this.reportStakeTableAction(t);return}if(t instanceof qs){this.reportRewardClaimAction(t);return}}reportStakeTableAction(t){this.state=mc(this.state,t)}reportRewardClaimAction(t){this.state=kc(this.state,t)}}class fc{constructor(t){this.service=t}wallet=new pc;get l1Block(){return this.service.l1Block}get validatorsAll(){return this.service.validatorsAll}get validatorsActive(){return this.service.validatorsActive}setURL(){throw new nr}}function hc(e){return e instanceof ir||e instanceof tt||e instanceof ar||e instanceof nt?e.delegator:null}function mc(e,t){if(t instanceof sr)return{snapshots:new Map(k(e.snapshots,s=>jc(s,t)))};let n=e.snapshots;const r=hc(t);return r?(e.snapshots.has(r)||(n=Je(e.snapshots,Ze([r,er]))),{snapshots:new Map(k(n,s=>gc(s,t)))}):e}function gc(e,t){const[n,r]=e;return[n,yc(M.decode(n),r,t)]}function yc(e,t,n){return new Ye(vc(e,t.nodes,n),bc(e,t.pendingUndelegations,n),Cc(e,t.pendingExits,n),Sc(e,t.claimedRewards),Ec(e,t.l1Block))}function vc(e,t,n){if(!(n instanceof ir||n instanceof tt||n instanceof nt))return t;const r=n.validator,s=M.decode(r),i=Qe(t,l=>N(l.node,s)===0);let a=t;return i||(a=Je(t,Ze(new Me(e,s,0n)))),Array.from(D(k(a,l=>xc(e,s,l,n)),l=>l.amount>0n))}function xc(e,t,n,r){return N(n.delegator,e)!==0||N(n.node,t)!==0?n:r instanceof ir?new Me(e,t,n.amount+r.value):r instanceof tt?new Me(e,t,n.amount-r.value):r instanceof nt?new Me(e,t,0n):n}function bc(e,t,n){if(!(n instanceof tt||n instanceof ar))return t;const r=n.validator,s=M.decode(r),i=Qe(t,l=>N(l.node,s)===0);let a=t;return i||(a=Je(t,Ze(new $(e,s,0n,new Date(0))))),Array.from(D(k(a,l=>_c(e,s,l,n)),l=>l.amount>0n))}function _c(e,t,n,r){return N(n.delegator,e)!==0||N(n.node,t)!==0?n:r instanceof tt?new $(e,t,r.value,new Date(r.ts.valueOf()+Number(r.exitEscrowPeriod))):r instanceof ar?new $(e,t,0n,new Date(0)):n}function Cc(e,t,n){if(!(n instanceof sr||n instanceof nt))return t;let r=t;const s=n.validator,i=M.decode(s);return Qe(t,a=>N(a.node,i)===0)&&(r=Je(t,Ze(new $(e,i,0n,new Date(0))))),Array.from(D(k(r,a=>wc(e,i,a,n)),a=>a.amount>0n))}function wc(e,t,n,r){return N(n.delegator,e)!==0||N(n.node,t)!==0?n:r instanceof sr?new $(e,t,r.value,new Date(Number(r.exitTime))):r instanceof nt?new $(e,t,0n,new Date(0)):n}function Sc(e,t){return t}function Ec(e,t){return t}function jc(e,t){const n=t.validator,r=M.decode(n),[s,i]=e,a=M.decode(s),l=Qe(i.nodes,d=>N(d.node,r)===0);return l?[s,new Ye(i.nodes,i.pendingUndelegations,Array.from(Je(i.pendingExits,Ze(new $(a,r,l.amount,new Date(Number(t.exitTime)))))),i.claimedRewards,i.l1Block)]:e}function kc(e,t){return{snapshots:new Map(k(e.snapshots,n=>Nc(n,t)))}}function Nc(e,t){if(!(t instanceof Xs))return e;const[n,r]=e;return n!==t.delegator?e:[n,new Ye(r.nodes,r.pendingUndelegations,r.pendingExits,r.claimedRewards+t.value,r.l1Block)]}try{Zn.displayName="L1ValidatorServiceMockInjection",Zn.__docgenInfo={description:"",displayName:"L1ValidatorServiceMockInjection",props:{}}}catch{}const Tc=({environment:e,stakeTableContractAddress:t,espTokenContractAddress:n,hotshotQueryServiceURL:r,nodeValidatorWebSocketURL:s,l1ValidatorServiceURL:i,spoofAccountAddress:a,...l})=>o.jsx(o.Fragment,{children:o.jsxs(ts,{environment:e,stakeTableContractAddress:t,espTokenContractAddress:n,hotshotQueryServiceURL:Zt(r),nodeValidatorWebSocketURL:Zt(s),l1ValidatorServiceURL:Zt(i),children:[o.jsx(qo,{}),o.jsx(Ko,{children:o.jsx(Ic,{account:a,children:o.jsx(ns,{children:o.jsx(Ts,{children:o.jsx(Zn,{children:o.jsx(cc,{...l})})})})})})]})}),Ic=({account:e,children:t})=>{const n=c.useContext(he),r=e||n;return o.jsx(he.Provider,{value:r,children:t})},_p={title:"Sites/Delegation UI/Page",component:Tc,parameters:{layout:"fullscreen"},args:{environment:Go.fakeData,stakeTableContractAddress:void 0,espTokenContractAddress:void 0,rewardClaimContractAddress:void 0,hotshotQueryServiceURL:void 0,nodeValidatorWebSocketURL:void 0,l1ValidatorServiceURL:void 0,spoofAccountAddress:void 0},argTypes:{...zo,...Xo,spoofAccountAddress:{control:"text",description:"An optional account address to spoof as the connected wallet address in RainbowKit."}},globals:{background:"light",parameters:{backgrounds:{default:"light",options:{light:{name:"Light",value:"#f8fafcff"}}}}}},dt={},ut={args:Yo},pt={args:Qo},ft={args:{...Jo,l1ValidatorServiceURL:"https://staking.decaf.testnet.espresso.network/v0/staking/"}},ht={args:Zo},mt={args:Wr},gt={args:Wr,play:async({canvasElement:e,step:t})=>{await yl(e,t)}},yt={args:{...es,l1ValidatorServiceURL:"http://localhost:8080/v0/staking/"}};dt.parameters={...dt.parameters,docs:{...dt.parameters?.docs,source:{originalSource:"{}",...dt.parameters?.docs?.source}}};ut.parameters={...ut.parameters,docs:{...ut.parameters?.docs,source:{originalSource:`{
  args: environmentArgsMilkWithContracts
}`,...ut.parameters?.docs?.source}}};pt.parameters={...pt.parameters,docs:{...pt.parameters?.docs,source:{originalSource:`{
  args: environmentArgsWaterWithContracts
}`,...pt.parameters?.docs?.source}}};ft.parameters={...ft.parameters,docs:{...ft.parameters?.docs,source:{originalSource:`{
  args: {
    ...environmentArgsDecafWithContracts,
    l1ValidatorServiceURL: 'https://staking.decaf.testnet.espresso.network/v0/staking/'
  }
}`,...ft.parameters?.docs?.source}}};ht.parameters={...ht.parameters,docs:{...ht.parameters?.docs,source:{originalSource:`{
  args: environmentArgsMainnetWithContracts
}`,...ht.parameters?.docs?.source}}};mt.parameters={...mt.parameters,docs:{...mt.parameters?.docs,source:{originalSource:`{
  args: environmentArgsFakeDataWithContracts
}`,...mt.parameters?.docs?.source}}};gt.parameters={...gt.parameters,docs:{...gt.parameters?.docs,source:{originalSource:`{
  args: environmentArgsFakeDataWithContracts,
  play: async ({
    canvasElement,
    step
  }) => {
    await delegationUIInteractions(canvasElement, step);
  }
}`,...gt.parameters?.docs?.source}}};yt.parameters={...yt.parameters,docs:{...yt.parameters?.docs,source:{originalSource:`{
  args: {
    ...environmentArgsLocalDevNetWithContracts,
    l1ValidatorServiceURL: 'http://localhost:8080/v0/staking/'
  }
}`,...yt.parameters?.docs?.source}}};const Cp=["Default","Milk","Water","Decaf","Mainnet","FakeData","FakeDataInteractions","LocalDevNet"];export{ft as Decaf,dt as Default,mt as FakeData,gt as FakeDataInteractions,yt as LocalDevNet,ht as Mainnet,ut as Milk,pt as Water,Cp as __namedExportsOrder,_p as default};
