import{R as o,j as e}from"./iframe-B_UBkTbs.js";import{P as E}from"./NowProvider-Cmvro9JC.js";import{C as re,D as oe,F as se,G as ie,S as M}from"./en_US-RFN65H63-CX0hvJuS.js";import{d as j,e as H,a as b,R as D,f as le}from"./contexts-CuvyLAQc.js";import{O as K}from"./PathResolverProvider--Psz2VXI.js";import{E as V,b as L}from"./environment_banner-CXDcbm7H.js";import{j as ce,i as me,k as de,l as ue,m as pe,n as xe,o as he}from"./controls-D0Dfb3uz.js";import{P as F}from"./CappuccinoHotShotQueryServiceAPIContext-BA2B-W0R.js";import{c as ye,C as ge,W as fe,E as Ce,d as je,e as be,f as De,g as Se,h as ve,O as Ne,i as we,P as B,b as I}from"./NodesPage-B9uSdJp-.js";import{E as U}from"./ErrorDisplay-CIh5RCdh.js";import{a as _e}from"./higher_order-DgYhC1-i.js";import{C as ke}from"./Card-Bplc6Qy_.js";import{F as Te}from"./Footer-qXD4Hmfr.js";import{H as Ae}from"./Header-DgLFVEth.js";import{L as We}from"./TransactionDetailContent-COEVLWAG.js";import{b as Pe,E as Re,S as Ee,c as Me}from"./staking_modal-C1_kmI-c.js";import{E as Ke,L as Le,D as v}from"./LoadingProvider-DRkSo8Wr.js";import"./DateTimeFormattersProvider-FGdD03H8.js";import"./LocaleProvider-0J8ELAGn.js";import{O as Fe,P as Be}from"./PagePathProvider-BlRtpPfA.js";import"./NumberFormattersProvider-Bqe_gtsw.js";import{S as N,D as Ie,a as Oe,b as Ge,A as S,c as d}from"./DataTable-DObPCn15.js";import{I as w}from"./IconButton-DXT1SacT.js";import"./ByteSizeText-D8_yG-jC.js";import{P as q}from"./VariableByteSizeText-yvG3F04G.js";import"./CopyHex-Bl4-HLJS.js";import"./DateTimeText-Bbsw7ZiQ.js";import"./FullHexText-P0-GHCQv.js";import"./HexText-QYy1vQJd.js";import{M as He}from"./MoneyText-Dyj-gmnY.js";import"./NumberText-BmUK0MTT.js";import"./RelativeTimeText-CZ62dNGQ.js";import"./TaggedBase64Text-Dvo2EXLC.js";import{T as l}from"./Text-BU7JBOLk.js";import"./TimeText-Wyxs47px.js";import{C as Ve,W as Ue}from"./deserializer-B0wYMF9x.js";import{a as qe,L as ze,C as Qe}from"./Payments-cGMxzNbl.js";import{g as Ye,i as Je,h as z}from"./functional-CtVX7zWU.js";import{S as m}from"./SkeletonContent-BhIcyZaZ.js";import{M as Xe}from"./monetary_value-D_JlCdWi.js";import{W as Ze}from"./TransactionDetailLoader-BlWAFCEO.js";import"./BlockPage-BVdb0lrU.js";import"./BlocksPage-BhgIGNvL.js";import"./ExplorerPage-Dm90pjGb.js";import"./RollUpPage-DbmlcOU7.js";import"./RollUpsPage-DMP7b1Sx.js";import"./TransactionPage-B1w2KqKx.js";import"./TransactionsForBlockPage-XUitQEPh.js";import"./TransactionsPage-C0_hW5Xb.js";import{E as $e}from"./Link-B4jaL16R.js";import"./AnchorButton-BpicjUg5.js";import"./Button-D9UNP84v.js";import"./IconAnchorButton-DsFlPLte.js";import"./LabeledAnchorButton-CA1wC9sf.js";import{L as et}from"./LabeledButton-pHTvzEmk.js";import"./RollUpsSummaryDataTable-CQAiSuZf.js";import{C as tt}from"./CopyButton-_nqs0ufP.js";import"./espresso-ie86eysq.js";import"./explorer-nZEEN2yV.js";import"./AsyncIterableResolver-CJCJV8vT.js";import"./ProvideAsyncStates-Clw91Vmm.js";import"./PromiseBuilder-BPPnQvIA.js";import"./PromiseResolver-Cvk1eyw8.js";import"./Heading1-BN9Um2Nr.js";import"./Heading2-DoBRMSDv.js";import"./label-2Mfe7Pxx.js";import"./SummaryTableLabeledValue-B6bdtEYL.js";import"./SummaryValueLabeled-D7_zEqf4.js";import"./TableLabeledValue-BMyZDWPE.js";import"./NavBar-CPb9phPe.js";import"./SocialMediaLinks-Cg30Ti7J.js";import"./CircularProgressIndicator-D-iBNzph.js";import"./ContainerLoading-RzFPN2xR.js";import"./BlockSizeHistogram-CUzcjNep.js";import"./BlockSummaryDataTable-CyCtFItz.js";import"./HexDump-CqbJCaeA.js";import"./RollUpSimple-qkNMD9FY.js";import"./TransactionSummaryDataTable-CG1ZzfEd.js";import"./typography-CoEoGMVz.js";import"./TwitterIcon-D14V4R6w.js";import"./ArrowRight-BJr0_KWV.js";import"./CheckCircleFilled-5wQQPuTo.js";import"./ChevronUp-ERm60T88.js";import"./Close-NHKzl_g3.js";import"./Copy-B8t-Jw3-.js";import"./MediumIcon-YvrYl01g.js";import"./EspressoLogo-DJ9VjzRC.js";import"./EspressoLogoAndTitle-B_d2tJMe.js";import"./Menu-DhYyoict.js";import"./SearchGlass-C8bsQ0il.js";import"./SVGIconBase-BHUxzGpP.js";import"./XIcon-ColOuTgy.js";import{S as O}from"./StoryBookPathResolver-DHMEHmUm.js";import"./preload-helper-PPVm8Dsz.js";import"./index-Do9tf19L.js";import"./index-D0XH7Lbi.js";import"./UnimplementedError-DEXMe0kn.js";import"./string-DurhFPzJ.js";import"./assert-BI051aL8.js";import"./TaggedBase64-DTqtQPCE.js";import"./base64-CwylSrof.js";import"./array_buffer-ChxgVYUa.js";import"./url-Cp1wsmOC.js";import"./MissingElementError-C2wrrywP.js";import"./WebWorkerErrorResponse-DDmF8pSp.js";import"./generateFakeData-DW9myA_6.js";import"./sleep-CW-vxfof.js";import"./data-CeQBE4up.js";import"./FetchError-CshovAWm.js";import"./NotFoundError-BfMh7-IB.js";import"./PieChart-kyOlwR7q.js";import"./SVGPathBuilder-4dyJLere.js";import"./SVGToolTip-BfsHikRj.js";import"./WorldMapDotsPopulationFullResolution-BXKlmqpx.js";import"./constants-gKnz2Mt7.js";import"./AffineTransform-UCCpzMIM.js";import"./WorldMapDotsFullResolution-DnDINFvQ.js";import"./nitro_batch_display-Cgoofzh_.js";import"./Container-BALP0qhI.js";import"./esp_input-DXOQ_Uck.js";import"./text-0o0sOMsQ.js";import"./divider-Dr1DPPur.js";import"./write_contract-BAucqoem.js";/* empty css               */import"./SearchInput-CPeM0bkv.js";/* empty css                */var i=(t=>(t.publicKey="publicKey",t.name="name",t.address="address",t.companyName="companyName",t.companyWebSite="companyWebSite",t.location="location",t.stake="stake",t.uptime="uptime",t.commission="commission",t.actions="actions",t))(i||{});const at=()=>{const[t]=o.useContext(d);return t.name===null||t.name===""?e.jsx(l,{text:"-"}):e.jsx(l,{text:t.name})},nt=()=>{const[,,t]=o.useContext(d),a=t?.account.address??null;if(a===null)return e.jsx(l,{text:"-"});const n=new Ze(a);return e.jsx(Ve,{value:n,children:e.jsx(Ue,{value:n})})},rt=()=>{const[,,t]=o.useContext(d),a=t?.commission??null;return a===null?e.jsx(l,{text:"-"}):e.jsx(q,{percentage:a.valueOf()})},ot=()=>{const t=o.useContext(Y),[,,a]=o.useContext(d),n=a?.stake??null;if(t===null||n===null)return e.jsx(l,{text:"-"});const r=1e5,s=Number(n*BigInt(r)/t)/r;return e.jsxs(e.Fragment,{children:[e.jsx(He,{money:Xe.ESP(n)})," (",e.jsx(q,{percentage:s}),")"]})},st=()=>{const[t]=o.useContext(d);return t.companyDetails===null||t.companyDetails.name===null||t.companyDetails.name===""?e.jsx(l,{text:"-"}):e.jsx(l,{text:t.companyDetails.name})},it=()=>{const[t]=o.useContext(d);return t.companyDetails===null||t.companyDetails.website===null||t.companyDetails?.website===""?e.jsx(l,{text:"-"}):t.companyDetails.website?e.jsx($e,{href:t.companyDetails.website,target:"_blank",children:e.jsx(l,{text:t.companyDetails.website})}):e.jsx(l,{text:"-"})},lt=()=>{const[,,t]=o.useContext(d),a=o.useContext(Pe);return t===null||t.account.address===null?e.jsx(l,{text:"-"}):e.jsx(e.Fragment,{children:e.jsx(w,{title:"Stake",onClick:()=>{a.showModal(t.account.toString())},children:e.jsx(qe,{})})})},Q=t=>e.jsx(Ge,{columns:[{label:"Name",columnType:i.name,buildCell:t.components[0]},{label:"Address",columnType:i.address,buildCell:t.components[1]},{label:"Company",columnType:i.companyName,buildCell:t.components[2]},{label:"Website",columnType:i.companyWebSite,buildCell:t.components[3]},{label:"Commission",columnType:i.commission,buildCell:t.components[4],alignment:S.end},{label:"Total Stake",columnType:i.stake,buildCell:t.components[5],alignment:S.end},{label:"Stake",columnType:i.actions,buildCell:t.components[6],alignment:S.center}]}),_=t=>{const{numElements:a=20}=t;return e.jsx(v.Provider,{value:Array.from(Je(a)),children:e.jsx(Q,{components:[m,m,m,m,m,m,m]})})},k=()=>e.jsx(Q,{components:[at,nt,st,it,rt,ot,lt]});function G(t,a){const[n]=t,[r]=a;return z(n.publicKey.data,r.publicKey.data)}function ct(t,a){const[n]=t,[r]=a;return n.name===null&&r.name===null?0:n.name===null?1:r.name===null?-1:n.name.localeCompare(r.name)}function mt(t,a){const[n]=t,[r]=a;return n.companyDetails===null&&r.companyDetails===null?0:n.companyDetails===null?1:r.companyDetails===null?-1:n.companyDetails.name===null&&r.companyDetails.name===null?0:n.companyDetails.name===null?1:r.companyDetails.name===null?-1:n.companyDetails.name.localeCompare(r.companyDetails.name)}function dt(t,a){const[n]=t,[r]=a;return n.companyDetails===null&&r.companyDetails===null?0:n.companyDetails===null?1:r.companyDetails===null?-1:n.companyDetails.website===null&&r.companyDetails.website===null?0:n.companyDetails.website===null?1:r.companyDetails.website===null?-1:n.companyDetails.website.localeCompare(r.companyDetails.website)}function ut(t,a){const[,,n]=t,[,,r]=a,s=n?.account.address,c=r?.account.address;return!s&&!c?0:s?c?z(s,c):-1:1}function pt(t,a){const[,n]=t,[,r]=a,s=n?.stakeTableEntry.stakeAmount??0n,c=r?.stakeTableEntry.stakeAmount??0n;return Number(s-c)}function xt(t,a){const[,,n]=t,[,,r]=a,s=n?.commission.value??0,c=r?.commission.value??0;return Number(s-c)}function ht(t,a,n){return t.map(r=>[r,a.get(r.publicKey.toString())??null,n.get(r.publicKey.toString())??null])}function yt(t){switch(t){case i.publicKey:return G;case i.name:return ct;case i.companyName:return mt;case i.companyWebSite:return dt;case i.stake:return pt;case i.address:return ut;case i.commission:return xt;default:return G}}function gt(t,a){switch(a){case N.asc:return t;case N.desc:return(n,r)=>-t(n,r);default:return t}}function ft(t,a,n){const r=gt(yt(a),n);return t.sort(r)}const Y=o.createContext(0n),T=()=>{const[t,a]=o.useState({sortColumn:i.stake,sortDir:N.desc}),n=o.useContext(Ke),r=o.useContext(Le),s=o.useContext(v),c=o.useContext(ye),R=o.useContext(ge);if(n)return e.jsx(U,{});if((!s||s instanceof Array&&s.length<=0)&&r)return e.jsx(_,{});const X=Ye((ae,ne)=>ae+ne.stake,0n,R.values()),Z=ht(s,c,R),{sortColumn:$,sortDir:ee}=t,te=ft(Z,$,ee);return e.jsx(Y.Provider,{value:X,children:e.jsx(Ie.Provider,{value:t,children:e.jsx(Oe.Provider,{value:a,children:e.jsx(v.Provider,{value:te,children:e.jsx(k,{})})})})})};try{_.displayName="NodesSummaryDataTablePlaceholder",_.__docgenInfo={description:`NodesSummaryDataTablePlaceholder is a component that renders a placeholder
version of the Node Summary Data Table.`,displayName:"NodesSummaryDataTablePlaceholder",props:{numElements:{defaultValue:null,description:"",name:"numElements",required:!1,type:{name:"number"}}}}}catch{}try{k.displayName="NodesSummaryDataTablePopulated",k.__docgenInfo={description:`NodesSummaryDataTablePopulated is a component that renders the populated
version of the Node Summary Data Table.`,displayName:"NodesSummaryDataTablePopulated",props:{}}}catch{}try{T.displayName="ValidatorListDataTable",T.__docgenInfo={description:`ValidatorListDataTable handles the display of the Validator List.
Additionally, it handles the sorting of the data via the manipulation of the
headers of the table data.`,displayName:"ValidatorListDataTable",props:{}}}catch{}const Ct=()=>{const a=o.useContext(j)?.ensAvatar;return a?e.jsx("img",{className:"current-wallet-ens-avatar",title:"Your ENS Avatar",src:a,alt:"ENS Avatar"}):null},jt=()=>{const t=o.useContext(j);if(!t)return null;const a=t.ensName,n=t.address,r=t.displayName;return e.jsxs("span",{className:"inline",children:[e.jsx(l,{text:r}),e.jsx(tt,{content:a??n})]})},A=()=>{const t=o.useContext(j),a=o.useContext(H);return t?e.jsxs("div",{className:"current-wallet-display",children:[e.jsx(Ct,{}),e.jsx(jt,{}),e.jsx(w,{onClick:a.openAccountModal,children:e.jsx(ze,{})}),e.jsx(w,{onClick:a.openChainModal,children:e.jsx(Qe,{})})]}):null};try{A.displayName="CurrentWalletDisplay",A.__docgenInfo={description:`CurrentWalletDisplay is a React component that displays the currently
connected wallet.  This is useful for identifying the current wallet for the
interacting user.`,displayName:"CurrentWalletDisplay",props:{}}}catch{}const bt=()=>{const t=o.useContext(H);return e.jsx(et,{onClick:t.openConnectModal,children:e.jsx(l,{text:"Connect Wallet"})})},Dt=()=>e.jsx(A,{}),St=()=>o.useContext(b)?e.jsx(Dt,{}):e.jsx(bt,{}),vt=t=>e.jsx("header",{className:"only-wallet",...t,children:e.jsx(St,{})});try{onlywalletheading.displayName="onlywalletheading",onlywalletheading.__docgenInfo={description:`OnlyWalletHeading is a component that is a header that displays only the
current wallet information, or a button to connect a wallet if none is
connected.

This component is expected to be a header of only the wallet information
aligned to the right side of the page.`,displayName:"onlywalletheading",props:{}}}catch{}const W=({children:t})=>o.useContext(D)?t:null,P=({children:t})=>{const a=o.useContext(D),n=o.useContext(b);return!a||!n?null:t};try{W.displayName="RainbowKitMountedGuard",W.__docgenInfo={description:`RainbowKitMountedGuard is a React component that will only render its
children if the RainbowKit is mounted.

This is a useful guard to ensure that components relying on
RainbowKit's context are only rendered when RainbowKit is fully initialized.
This prevents potential issues with accessing context values before
RainbowKit is ready, such as when using the ConnectButton or other
RainbowKit components that depend on the mounted state.`,displayName:"RainbowKitMountedGuard",props:{}}}catch{}try{P.displayName="WalletConnectedGuard",P.__docgenInfo={description:`WalletConnectedGuard is a React component that will only render its
children if the user has a wallet connected.

This guard checks the RainbowKit context to determine if a wallet
address is available, indicating that a wallet is connected.
If no wallet is connected, it will not render the children components.
This is useful for protecting routes or components that should
only be accessible when a user has connected their wallet.`,displayName:"WalletConnectedGuard",props:{}}}catch{}const Nt=()=>e.jsxs(e.Fragment,{children:[e.jsx(re,{children:e.jsx(e.Fragment,{})}),e.jsx(We,{children:e.jsx(e.Fragment,{})}),e.jsx(oe,{children:e.jsx(e.Fragment,{})}),e.jsx(se,{children:e.jsx(e.Fragment,{})}),e.jsx(ie,{children:e.jsx(e.Fragment,{})}),e.jsx(De,{children:e.jsx(e.Fragment,{})}),e.jsx(Se,{children:e.jsx(e.Fragment,{})}),e.jsx(ve,{children:e.jsx(e.Fragment,{})}),e.jsx(Ne,{children:e.jsx(e.Fragment,{})}),e.jsx(we,{children:e.jsx(e.Fragment,{})})]}),wt=t=>{const a=o.useContext(D),r=!o.useContext(b)||!a?"delegation-grid edge-margin":"delegation-grid with-wallet edge-margin";return e.jsx("div",{...t,className:_e(t.className,r),children:t.children})},C=t=>e.jsx(fe,{children:e.jsx(Ce,{children:e.jsx(Fe,{page:Be.delegation,children:e.jsxs(Re,{children:[e.jsx(Ae,{}),e.jsx(W,{children:e.jsx(vt,{})}),e.jsx(je,{className:"edge-margin"}),e.jsx(U,{className:"edge-margin"}),e.jsx(Ee,{children:e.jsxs(wt,{...t,children:[e.jsx(Nt,{}),e.jsx(P,{children:e.jsx("div",{className:"wallet-stake",children:e.jsx(Me,{})})}),e.jsx(ke,{className:"nodes",children:e.jsx(be,{children:e.jsx(T,{})})})]})}),e.jsx(Te,{})]})})})});try{C.displayName="DelegationPage",C.__docgenInfo={description:"DelegationPage is a component that renders the Delegation page.",displayName:"DelegationPage",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const J="0x000000000000000000000000000000000000dead",_t={address:J,displayName:"0x0000...dead",hasPendingTransactions:!1},kt={hasIcon:!1,id:31337,name:"Local Geth DevNet"},Tt=({environment:t,stakeTableContractAddress:a,espTokenContractAddress:n,hotshotQueryServiceURL:r,nodeValidatorWebSocketURL:s,...c})=>(t===V.fakeData&&(e.Fragment,M,L,E,B,F,K,new O,I,j.Provider,D.Provider,b.Provider,le.Provider,{...c}),e.jsx(e.Fragment,{children:e.jsxs(M,{environment:t,stakeTableContractAddress:a,espTokenContractAddress:n,hotshotQueryServiceURL:r,nodeValidatorWebSocketURL:s,children:[e.jsx(L,{}),e.jsx(E,{children:e.jsx(B,{children:e.jsx(F,{children:e.jsx(K,{pathResolver:new O,children:e.jsx(I,{children:e.jsx(C,{...c})})})})})})]})})),Yn={title:"Pages/Delegation",component:Tt,parameters:{layout:"fullscreen"},args:{environment:V.fakeData,stakeTableContractAddress:void 0,espTokenContractAddress:void 0,hotshotQueryServiceURL:void 0,nodeValidatorWebSocketURL:void 0},argTypes:ce},u={},p={args:me},x={args:de},h={args:ue},y={args:pe},g={args:xe},f={args:he};u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:"{}",...u.parameters?.docs?.source}}};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`{
  args: environmentArgsMilkWithContracts
}`,...p.parameters?.docs?.source}}};x.parameters={...x.parameters,docs:{...x.parameters?.docs,source:{originalSource:`{
  args: environmentArgsWaterWithContracts
}`,...x.parameters?.docs?.source}}};h.parameters={...h.parameters,docs:{...h.parameters?.docs,source:{originalSource:`{
  args: environmentArgsDecafWithContracts
}`,...h.parameters?.docs?.source}}};y.parameters={...y.parameters,docs:{...y.parameters?.docs,source:{originalSource:`{
  args: environmentArgsMainnetWithContracts
}`,...y.parameters?.docs?.source}}};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:`{
  args: environmentArgsFakeDataWithContracts
}`,...g.parameters?.docs?.source}}};f.parameters={...f.parameters,docs:{...f.parameters?.docs,source:{originalSource:`{
  args: environmentArgsLocalDevNetWithContracts
}`,...f.parameters?.docs?.source}}};const Jn=["Default","Milk","Water","Decaf","Mainnet","FakeData","LocalDevNet"];export{h as Decaf,u as Default,g as FakeData,f as LocalDevNet,y as Mainnet,p as Milk,x as Water,Jn as __namedExportsOrder,Yn as default};
