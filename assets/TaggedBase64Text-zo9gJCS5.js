var B=Object.defineProperty;var m=(s,e,t)=>e in s?B(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var l=(s,e,t)=>(m(s,typeof e!="symbol"?e+"":e,t),t);import{a as E}from"./jsx-runtime-evMRDBC5.js";const x=new TextEncoder;function A(s){return x.encode(s)}const C=new TextDecoder;function v(s){return C.decode(s)}function*D(s){yield*A(s)}function*S(){for(let s=0;s<256;s++)yield 255}const u=-1,V=61;class f{constructor(e,t,i=V,c=!1){l(this,"encodeMap");l(this,"decodeMap");l(this,"padChar");l(this,"strict");this.encodeMap=e,this.decodeMap=t,this.padChar=i,this.strict=c}static withAlphabet(e){const t=e.length;if(t!==64)throw new TypeError(`alphabet needs to be 64 chars, got ${t}`);const i=Array.from(D(e)),c=Array.from(S());for(let d=0;d<t;d++)c[i[d]]=d;return new f(i,c)}withPadding(e){return new f(this.encodeMap,this.decodeMap,e,this.strict)}encode(e){if(e.byteLength===0)return new ArrayBuffer(0);let t=0,i=0;const c=Math.floor(e.byteLength/3)*3,d=Math.ceil(e.byteLength/3)*4,g=new ArrayBuffer(d),n=new DataView(e),a=new DataView(g);for(;i<c;){const p=n.getUint8(i+0)<<16|n.getUint8(i+1)<<8|n.getUint8(i+2);a.setUint8(t+0,this.encodeMap[p>>18&63]),a.setUint8(t+1,this.encodeMap[p>>12&63]),a.setUint8(t+2,this.encodeMap[p>>6&63]),a.setUint8(t+3,this.encodeMap[p&63]),i+=3,t+=4}const r=e.byteLength-i;if(r===0)return g;let h=n.getUint8(i+0)<<16;switch(r===2&&(h|=n.getUint8(i+1)<<8),a.setUint8(t+0,this.encodeMap[h>>18&63]),a.setUint8(t+1,this.encodeMap[h>>12&63]),r){case 2:return a.setUint8(t+2,this.encodeMap[h>>6&63]),this.padChar!==u?(a.setUint8(t+3,this.padChar),g.slice(0,t+4)):g.slice(0,t+3);case 1:if(this.padChar!==u)return a.setUint8(t+2,this.padChar),a.setUint8(t+3,this.padChar),g.slice(0,t+4);break}return g.slice(0,t+2)}decode(e){const t=e.byteLength;if(t===0)return new ArrayBuffer(0);const i=new DataView(e),c=new ArrayBuffer(Math.floor(t/4*3)),d=new DataView(c),g=new ArrayBuffer(4),n=new DataView(g);let a=0,r=0,h=0,p=!1;for(;r<t&&!p;){let y=3,w=4;for(let o=0;o<4;o++){if(r===t){if(o===0)return c;if(o===1||this.padChar!==u)throw new TypeError(`corrupted input error at ${r-o}`);y=o-1,w=o,p=!0;break}const U=i.getUint8(r);r++;const M=this.decodeMap[U];if(M!==255){n.setUint8(o,M);continue}if(U===10||U===13){o--;continue}if(U===this.padChar){switch(o){case 0:case 1:throw new Error("Incorrect padding");case 2:for(;r<t&&(i.getUint8(r)===10||i.getUint8(r)===13);)r++;if(r===t)throw new TypeError(`corrupt input error at ${t}`);if(i.getUint8(r)!==this.padChar)throw new Error(`corrupt input error at ${r-1}`);r++}for(;r<t&&(i.getUint8(r)===10||i.getUint8(r)===13);)r++;if(r<t)throw new TypeError(`corrupt input error at ${r}`);y=3,w=o,p=!0;break}throw new TypeError(`corrupt input error ${r-1}`)}const T=n.getUint8(0)<<18|n.getUint8(1)<<12|n.getUint8(2)<<6|n.getUint8(3);switch(n.setUint8(2,T>>0&255),n.setUint8(1,T>>8&255),n.setUint8(0,T>>16&255),w){case 4:d.setUint8(h+2,n.getUint8(2)),n.setUint8(2,0);case 3:if(d.setUint8(h+1,n.getUint8(1)),this.strict&&n.getUint8(2)!==0)throw new TypeError(`corrupt input error at ${r-1}`);n.setUint8(1,0);case 2:if(d.setUint8(h+0,n.getUint8(0)),this.strict&&(n.getUint8(1)!==0||n.getUint8(2)!==0))throw new TypeError(`corrupt input error at ${r-2}`)}h+=y,a+=w-1}return c.slice(0,a)}decodeString(e){return this.decode(A(e).buffer)}encodeToString(e){return v(this.encode(e))}}const L=f.withAlphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");L.withPadding(u);const $=f.withAlphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),P=$.withPadding(u),b=s=>{const e=P.encodeToString(s.value.data);return e.length<=16?e:E("span",{title:e,children:[e.substring(0,8),"...",e.substring(e.length-8,e.length)]})};try{b.displayName="TaggedBase64Text",b.__docgenInfo={description:`TaggedBase64Text is a simple Text component that renders a TaggedBase64 value
in it's own way.`,displayName:"TaggedBase64Text",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"TaggedBase64"}}}}}catch{}export{b as T,P as r};
