var E=Object.defineProperty;var A=(a,t,e)=>t in a?E(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var p=(a,t,e)=>(A(a,typeof t!="symbol"?t+"":t,e),e);import{a as x,j as v}from"./jsx-runtime-5BUNAZ9W.js";import{B as C}from"./inline-54z6-ie8.js";const $=new TextEncoder;function B(a){return $.encode(a)}const D=new TextDecoder;function V(a){return D.decode(a)}function*L(a){yield*B(a)}function*P(){for(let a=0;a<256;a++)yield 255}const l=-1,j=61;class f{constructor(t,e,n=j,s=!1){p(this,"encodeMap");p(this,"decodeMap");p(this,"padChar");p(this,"strict");this.encodeMap=t,this.decodeMap=e,this.padChar=n,this.strict=s}static withAlphabet(t){const e=t.length;if(e!==64)throw new TypeError(`alphabet needs to be 64 chars, got ${e}`);const n=Array.from(L(t)),s=Array.from(P());for(let d=0;d<e;d++)s[n[d]]=d;return new f(n,s)}withPadding(t){return new f(this.encodeMap,this.decodeMap,t,this.strict)}encode(t){if(t.byteLength===0)return new ArrayBuffer(0);let e=0,n=0;const s=Math.floor(t.byteLength/3)*3,d=Math.ceil(t.byteLength/3)*4,g=new ArrayBuffer(d),i=new DataView(t),o=new DataView(g);for(;n<s;){const u=i.getUint8(n+0)<<16|i.getUint8(n+1)<<8|i.getUint8(n+2);o.setUint8(e+0,this.encodeMap[u>>18&63]),o.setUint8(e+1,this.encodeMap[u>>12&63]),o.setUint8(e+2,this.encodeMap[u>>6&63]),o.setUint8(e+3,this.encodeMap[u&63]),n+=3,e+=4}const r=t.byteLength-n;if(r===0)return g;let h=i.getUint8(n+0)<<16;switch(r===2&&(h|=i.getUint8(n+1)<<8),o.setUint8(e+0,this.encodeMap[h>>18&63]),o.setUint8(e+1,this.encodeMap[h>>12&63]),r){case 2:return o.setUint8(e+2,this.encodeMap[h>>6&63]),this.padChar!==l?(o.setUint8(e+3,this.padChar),g.slice(0,e+4)):g.slice(0,e+3);case 1:if(this.padChar!==l)return o.setUint8(e+2,this.padChar),o.setUint8(e+3,this.padChar),g.slice(0,e+4);break}return g.slice(0,e+2)}decode(t){const e=t.byteLength;if(e===0)return new ArrayBuffer(0);const n=new DataView(t),s=new ArrayBuffer(Math.floor(e/4*3)),d=new DataView(s),g=new ArrayBuffer(4),i=new DataView(g);let o=0,r=0,h=0,u=!1;for(;r<e&&!u;){let y=3,w=4;for(let c=0;c<4;c++){if(r===e){if(c===0)return s;if(c===1||this.padChar!==l)throw new TypeError(`corrupted input error at ${r-c}`);y=c-1,w=c,u=!0;break}const U=n.getUint8(r);r++;const m=this.decodeMap[U];if(m!==255){i.setUint8(c,m);continue}if(U===10||U===13){c--;continue}if(U===this.padChar){switch(c){case 0:case 1:throw new Error("Incorrect padding");case 2:for(;r<e&&(n.getUint8(r)===10||n.getUint8(r)===13);)r++;if(r===e)throw new TypeError(`corrupt input error at ${e}`);if(n.getUint8(r)!==this.padChar)throw new Error(`corrupt input error at ${r-1}`);r++}for(;r<e&&(n.getUint8(r)===10||n.getUint8(r)===13);)r++;if(r<e)throw new TypeError(`corrupt input error at ${r}`);y=3,w=c,u=!0;break}throw new TypeError(`corrupt input error ${r-1}`)}const T=i.getUint8(0)<<18|i.getUint8(1)<<12|i.getUint8(2)<<6|i.getUint8(3);switch(i.setUint8(2,T>>0&255),i.setUint8(1,T>>8&255),i.setUint8(0,T>>16&255),w){case 4:d.setUint8(h+2,i.getUint8(2)),i.setUint8(2,0);case 3:if(d.setUint8(h+1,i.getUint8(1)),this.strict&&i.getUint8(2)!==0)throw new TypeError(`corrupt input error at ${r-1}`);i.setUint8(1,0);case 2:if(d.setUint8(h+0,i.getUint8(0)),this.strict&&(i.getUint8(1)!==0||i.getUint8(2)!==0))throw new TypeError(`corrupt input error at ${r-2}`)}h+=y,o+=w-1}return s.slice(0,o)}decodeString(t){return this.decode(B(t).buffer)}encodeToString(t){return V(this.encode(t))}}const k=f.withAlphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");k.withPadding(l);const N=f.withAlphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),b=N.withPadding(l);class M{constructor(t,e){p(this,"tag");p(this,"data");this.tag=t,this.data=e}static fromString(t){const e=t.indexOf("~");if(e<0)throw new TypeError("unable to find ~ within string");const n=t.substring(0,e),s=b.decodeString(t.substring(e+1));return new M(n,s)}static inflate(t){if(typeof t!="string")throw new TypeError(`expected a string, instead received ${typeof t}`);return M.fromString(t)}toString(){return`${this.tag}~${b.encodeToString(this.data)}`}valueOf(){return this.toString()}toJSON(){return this.toString()}}const S=a=>{const t=b.encodeToString(a.value.data);return t.length<=16?t:x("span",{className:"inline",children:[x("span",{title:t,children:[t.substring(0,8),"...",t.substring(t.length-8,t.length)]}),v(C,{onClick:e=>{e.stopPropagation(),e.preventDefault(),!(typeof window>"u"||!navigator||!navigator.clipboard)&&navigator.clipboard.writeText(a.value.toString())}})]})};try{S.displayName="TaggedBase64Text",S.__docgenInfo={description:`TaggedBase64Text is a simple Text component that renders a TaggedBase64 value
in it's own way.`,displayName:"TaggedBase64Text",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"TaggedBase64"}}}}}catch{}export{S as T,M as a,L as c,N as u};
