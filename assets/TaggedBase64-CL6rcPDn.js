import{b as E}from"./assert-BI051aL8.js";import{r as o}from"./base64-Dx8wLaZf.js";import{B as l,T as t,a as T,b as f,c as B,s as v,r as w,I as h}from"./string-Bj9RBsFG.js";const a="InvalidTaggedBase64EncodingError";class d extends l{constructor(e="invalid tagged base64 encoding"){super(e),Object.freeze(this)}toJSON(){return c.encode(this)}get code(){return a}}class m{convert(e){return f(e,"code","message"),B(e,a),new d(v.decode(e.message))}}class C extends T{}class S extends t{encoder=new C;decoder=new m}const c=new S;w(a,c);class n{tag;data;constructor(e,s){this.tag=e,this.data=s}static fromString(e){const s=e.indexOf("~");if(s<0)throw new d;const g=e.substring(0,s),i=o.decodeString(e.substring(s+1));return new n(g,i)}static inflate(e){return b.decode(e)}toString(){return`${this.tag}~${o.encodeToString(this.data)}`}valueOf(){return this.toString()}toJSON(){return this.toString()}}class u{convert(e){if(typeof e!="string")throw new h(typeof e,"string");return n.fromString(e)}}class I{convert(e){return E(e,n),e.toString()}}class x extends t{encoder=new I;decoder=new u}const b=new x;export{n as T,b as t};
