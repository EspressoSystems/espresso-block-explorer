import{R as s,j as a}from"./iframe-BHjaQoR_.js";import{E as P,L as E,D as d}from"./LoadingProvider-BK_eECZs.js";import"./DateTimeFormattersProvider-C490CWS5.js";import"./LocaleProvider-D_LBLk6t.js";import"./PagePathProvider-2NbmsHer.js";import"./NowProvider-C4x-vJBH.js";import"./NumberFormattersProvider-CUY8YoGJ.js";import"./PathResolverProvider-DqEQuimj.js";import{S as y,D as W,a as L,b as K,A as p,c as u}from"./DataTable-CRhc5ac4.js";import{E as B}from"./ErrorDisplay-DLEain6K.js";import{I}from"./IconButton-Csu78Vr0.js";import"./ByteSizeText-CtgavNV0.js";import{P as h}from"./VariableByteSizeText-CfimZ-im.js";import"./CopyHex-D7MLljFl.js";import"./DateTimeText-CqJ295jV.js";import"./FullHexText-DrrbCVEi.js";import"./HexText-TQzs933f.js";import{M}from"./MoneyText-DbWKIn0G.js";import"./NumberText-CvdAo0fc.js";import"./RelativeTimeSinceDateText-KOl05fRA.js";import"./TaggedBase64Text-BEixiiTN.js";import{T as i}from"./Text-BU7JBOLk.js";import"./TimeText-D87eF9gl.js";import{C as R,W as V}from"./deserializer-B79tyrbl.js";import{a as F}from"./Payments-BkZwi3e2.js";import{e as q,i as O,g as T}from"./functional-CJQfVQrn.js";import{S as m}from"./SkeletonContent-C1MGHMD0.js";import{M as z}from"./monetary_value-D_JlCdWi.js";import{W as G}from"./wallet_address-L-2eUJg_.js";import"./BlockPage-M8eh3xYw.js";import"./BlocksPage-7ecSQ_cS.js";import"./en_US-RFN65H63-Be2aSOci.js";import"./CappuccinoHotShotQueryServiceAPIContext-B-1ZpP2_.js";import{C as H,a as J}from"./NodesSummaryDataTable-mWQAiePu.js";import"./ExplorerPage-CR7S1gHP.js";import"./environment_banner-DJhkEnj9.js";import"./RollUpPage-9mu9-Sfe.js";import"./RollUpsPage-CIe9ETX6.js";import"./TransactionPage-Ir8zEXob.js";import"./TransactionsForBlockPage-DanGUvQW.js";import"./TransactionsPage-CwQJU0zk.js";import{E as Q}from"./Link-CrUZsl6z.js";import{S as U}from"./context-Hg6JBxoD.js";var r=(e=>(e.publicKey="publicKey",e.name="name",e.address="address",e.companyName="companyName",e.companyWebSite="companyWebSite",e.location="location",e.stake="stake",e.uptime="uptime",e.commission="commission",e.actions="actions",e))(r||{});const X=()=>{const[e]=s.useContext(u);return e.name===null||e.name===""?a.jsx(i,{text:"-"}):a.jsx(i,{text:e.name})},Y=()=>{const[,,e]=s.useContext(u),o=e?.account.address??null;if(o===null)return a.jsx(i,{text:"-"});const t=new G(o);return a.jsx(R,{value:t,children:a.jsx(V,{value:t})})},Z=()=>{const[,,e]=s.useContext(u),o=e?.commission??null;return o===null?a.jsx(i,{text:"-"}):a.jsx(h,{percentage:o.valueOf()})},$=()=>{const e=s.useContext(j),[,,o]=s.useContext(u),t=o?.stake??null;if(e===null||t===null)return a.jsx(i,{text:"-"});const n=1e5,l=Number(t*BigInt(n)/e)/n;return a.jsxs(a.Fragment,{children:[a.jsx(M,{money:z.ESP(t)})," (",a.jsx(h,{percentage:l}),")"]})},ee=()=>{const[e]=s.useContext(u);return e.companyDetails===null||e.companyDetails.name===null||e.companyDetails.name===""?a.jsx(i,{text:"-"}):a.jsx(i,{text:e.companyDetails.name})},te=()=>{const[e]=s.useContext(u);return e.companyDetails===null||e.companyDetails.website===null||e.companyDetails?.website===""?a.jsx(i,{text:"-"}):e.companyDetails.website?a.jsx(Q,{href:e.companyDetails.website,target:"_blank",children:a.jsx(i,{text:e.companyDetails.website})}):a.jsx(i,{text:"-"})},ne=()=>{const[,,e]=s.useContext(u),o=s.useContext(U);return e===null||e.account.address===null?a.jsx(i,{text:"-"}):a.jsx(a.Fragment,{children:a.jsx(I,{title:"Stake",onClick:()=>{o.showModal(e.account.toString())},children:a.jsx(F,{})})})},S=e=>a.jsx(K,{columns:[{label:"Name",columnType:r.name,buildCell:e.components[0]},{label:"Address",columnType:r.address,buildCell:e.components[1]},{label:"Company",columnType:r.companyName,buildCell:e.components[2]},{label:"Website",columnType:r.companyWebSite,buildCell:e.components[3]},{label:"Commission",columnType:r.commission,buildCell:e.components[4],alignment:p.end},{label:"Total Stake",columnType:r.stake,buildCell:e.components[5],alignment:p.end},{label:"Stake",columnType:r.actions,buildCell:e.components[6],alignment:p.center}]}),b=e=>{const{numElements:o=20}=e;return a.jsx(d.Provider,{value:Array.from(O(o)),children:a.jsx(S,{components:[m,m,m,m,m,m,m]})})},f=()=>a.jsx(S,{components:[X,Y,ee,te,Z,$,ne]});function D(e,o){const[t]=e,[n]=o;return T(t.publicKey.data,n.publicKey.data)}function ae(e,o){const[t]=e,[n]=o;return t.name===null&&n.name===null?0:t.name===null?1:n.name===null?-1:t.name.localeCompare(n.name)}function oe(e,o){const[t]=e,[n]=o;return t.companyDetails===null&&n.companyDetails===null?0:t.companyDetails===null?1:n.companyDetails===null?-1:t.companyDetails.name===null&&n.companyDetails.name===null?0:t.companyDetails.name===null?1:n.companyDetails.name===null?-1:t.companyDetails.name.localeCompare(n.companyDetails.name)}function re(e,o){const[t]=e,[n]=o;return t.companyDetails===null&&n.companyDetails===null?0:t.companyDetails===null?1:n.companyDetails===null?-1:t.companyDetails.website===null&&n.companyDetails.website===null?0:t.companyDetails.website===null?1:n.companyDetails.website===null?-1:t.companyDetails.website.localeCompare(n.companyDetails.website)}function se(e,o){const[,,t]=e,[,,n]=o,l=t?.account.address,c=n?.account.address;return!l&&!c?0:l?c?T(l,c):-1:1}function le(e,o){const[,t]=e,[,n]=o,l=t?.stakeTableEntry.stakeAmount??0n,c=n?.stakeTableEntry.stakeAmount??0n;return Number(l-c)}function ie(e,o){const[,,t]=e,[,,n]=o,l=t?.commission.value??0,c=n?.commission.value??0;return Number(l-c)}function ce(e,o,t){return e.map(n=>[n,o.get(n.publicKey.toString())??null,t.get(n.publicKey.toString())??null])}function me(e){switch(e){case r.publicKey:return D;case r.name:return ae;case r.companyName:return oe;case r.companyWebSite:return re;case r.stake:return le;case r.address:return se;case r.commission:return ie;default:return D}}function ue(e,o){switch(o){case y.asc:return e;case y.desc:return(t,n)=>-e(t,n);default:return e}}function pe(e,o,t){const n=ue(me(o),t);return e.sort(n)}const j=s.createContext(0n),C=()=>{const[e,o]=s.useState({sortColumn:r.stake,sortDir:y.desc}),t=s.useContext(P),n=s.useContext(E),l=s.useContext(d),c=s.useContext(H),x=s.useContext(J);if(t)return a.jsx(B,{});if((!l||l instanceof Array&&l.length<=0)&&n)return a.jsx(b,{});const g=q((v,A)=>v+A.stake,0n,x.values()),k=ce(l,c,x),{sortColumn:N,sortDir:w}=e,_=pe(k,N,w);return a.jsx(j.Provider,{value:g,children:a.jsx(W.Provider,{value:e,children:a.jsx(L.Provider,{value:o,children:a.jsx(d.Provider,{value:_,children:a.jsx(f,{})})})})})};try{b.displayName="NodesSummaryDataTablePlaceholder",b.__docgenInfo={description:`NodesSummaryDataTablePlaceholder is a component that renders a placeholder
version of the Node Summary Data Table.`,displayName:"NodesSummaryDataTablePlaceholder",props:{numElements:{defaultValue:null,description:"",name:"numElements",required:!1,type:{name:"number"}}}}}catch{}try{f.displayName="NodesSummaryDataTablePopulated",f.__docgenInfo={description:`NodesSummaryDataTablePopulated is a component that renders the populated
version of the Node Summary Data Table.`,displayName:"NodesSummaryDataTablePopulated",props:{}}}catch{}try{C.displayName="ValidatorListDataTable",C.__docgenInfo={description:`ValidatorListDataTable handles the display of the Validator List.
Additionally, it handles the sorting of the data via the manipulation of the
headers of the table data.`,displayName:"ValidatorListDataTable",props:{}}}catch{}export{C as V};
