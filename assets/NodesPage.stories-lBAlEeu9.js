var jo=Object.defineProperty;var Do=(t,e,o)=>e in t?jo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var s=(t,e,o)=>Do(t,typeof e!="symbol"?e+"":e,o);import{j as n}from"./jsx-runtime-BlAj40OV.js";import{P as Lo}from"./NowProvider-D4xjbY-7.js";import{O as Vo}from"./PathResolverProvider-Xv58eOQd.js";import{y as C,G as Eo,H as Ho,j as we,I as Z,J as Dt,h as Lt,g as Vt,K as Et,L as Ht,M as Ao,O as Wo,P as Mo,z as kt,A as qo}from"./CircularBuffer-BV9Jw316.js";import{U as w,C as Oo,D as g,u as _,c as I,d as j,F as At,m as Go,E as ve,L as O}from"./LoadingProvider-CzJMQTG6.js";import{T as l,I as x,a as h,N as Ko,e as Fo,f as zo,s as Wt,A as Uo,h as Jo,j as Qo,x as S,y as f,p as Mt}from"./string-CeEx6zFN.js";import"./base64-B2mB5PCd.js";import{t as qt}from"./TaggedBase64-2LmeqDVW.js";import"./array_buffer--l28O267.js";import{z as Zo,m as E,g as Ot,h as Yo,j as Gt,i as Xo}from"./functional-B4fslo0b.js";import"./monetary_value-Cx3JDvUv.js";import"./FetchError-D54b6GBB.js";import{P as Nt,a as $o,c as en,n as ke,g as tn,s as on}from"./generateFakeData-B4ZSCHuN.js";import"./NotFoundError-DaVPhKpy.js";import{n as Kt}from"./url-BmrhwqgJ.js";import{w as Ft,L as nn,e as rn,p as vt,f as sn}from"./constants-CTnWHyHs.js";import{r as zt,R as c}from"./index-Cs7sjTYM.js";import{A as k}from"./AsyncIterableResolver-CgU8Wx5C.js";import"./ProvideAsyncStates-chorLWKv.js";import{L as an,j as cn,k as ln}from"./TransactionDetailContent-BIQQX85L.js";import"./PromiseResolver-B0AdYfP5.js";import{S as Be,D as dn,a as un,c as G,b as pn}from"./DataTable-DgSSW7oJ.js";import{G as mn,H as hn,I as yn,J as Cn,x as V,f as Ut,D as fn,K as bn,M as Sn,O as gn,Q as xn,F as wn,S as kn}from"./StoryBookPathResolver-f_IDpHwo.js";import"./DateTimeFormattersProvider-D6Gp1Kbv.js";import"./LocaleProvider-B0_30C1H.js";import{O as Nn,P as vn}from"./NavDrawerStateProvider-HpepdHmi.js";import"./NumberFormattersProvider-DANbX_lC.js";import{N as Bn,a as Tn,W as Pn,P as Rn,D as _n,b as In}from"./WorldMapDotsPopulationResolver-rJbXWJSo.js";import{W as jn}from"./WorldMapDotsFullResolution-BKIh9bj8.js";import"./AffineTransform-DiV9SxhF.js";import{a as Jt}from"./higher_order-DnPEgWEz.js";import{a as J,C as B}from"./Card-0izmXN96.js";import{a as he,b as Ue}from"./PieChart-DPNDqK-K.js";import{H as Dn}from"./Heading2-DdOe_FXR.js";import{T as d}from"./Text-BU7JBOLk.js";import{F as Ln}from"./Footer-DtxsyFUR.js";import{H as Vn}from"./Header-DV0ijJPt.js";import{N as H}from"./NumberText-C4Z_0tU7.js";import"./ByteSizeText-Dv1cMyzR.js";import{P as En}from"./TransactionsPerSecondText-DhOVTE9v.js";import"./DateTimeText-H0_MZ3-7.js";import"./FullHexText-D7hvn_Cq.js";import"./HexText-B8ed61WB.js";import"./MoneyText-C0mhNXDV.js";import"./RelativeTimeText-DCz-EhHt.js";import{T as Hn}from"./TaggedBase64Text-CGXJT8bt.js";import"./TimeText-iZ8ovT8K.js";import{L as An}from"./Link-DkuKr0oH.js";import{B as Wn,c as Bt}from"./BlockSizeHistogram-Dm_9Fuli.js";import"./AnchorButton-QgyBwLin.js";import"./Button-Cc3XS5nv.js";import"./IconAnchorButton-CLyCnfGb.js";import"./IconButton-C8CRMxou.js";import"./LabeledAnchorButton-Ccf2RRuc.js";import"./LabeledButton-Bzsgrhnz.js";import"./Heading1-DEalHnHf.js";import"./SummaryTabledLabeledValue-Cwjroine.js";import{L as Mn,c as qn,d as On}from"./RollUpsSummaryDataTable-D7veMnYh.js";import"./TabledLabeledValue-6LvxwEmX.js";import"./NavBar-BFWD_4mN.js";import"./SocialMediaLinks-Bm4ZO-q5.js";import"./CircularProgressIndicator-CmmjYXfy.js";import"./ContainerLoading-bH1zzl06.js";import"./HexDump-v2ug8BO0.js";import"./RollUpSimple-Ce6Gx4TQ.js";import"./typography-BIj1kvXp.js";import"./InfoCircle-B88KNFXd.js";import"./ArrowRight-t3TwXnAd.js";import"./CheckCircle-YNmVoImJ.js";import"./ChevronUp-kyB5007e.js";import"./TwitterIcon-DgUjAjdP.js";import"./EspressoLogo-DwD84bVM.js";import"./EspressoLogoAndTitle-2fto-X4z.js";import"./Menu-fK84igno.js";import"./SVGIconBase-eCXHSPnQ.js";import"./SearchGlass-REp8lC9G.js";import"./sleep-CW-vxfof.js";import"./data-CgOROfg9.js";import"./_commonjsHelpers-BosuxZz1.js";import"./CopyButton-EFpwbuCy.js";import"./Copy-DeuPxRNR.js";/* empty css               */import"./SVGToolTip-VtYDiDwI.js";import"./SVGPathBuilder-XZx_HA2Y.js";/* empty css                */import"./index-Dk74W0Oi.js";class Gn{constructor(e){s(this,"publishQueue");s(this,"pollBlocked");s(this,"publishBlocked");s(this,"capacity");s(this,"closed",!1);this.publishQueue=C(Math.max(2,e),Ho.throwMissingElement,Eo.throw);const o=we();this.pollBlocked=o,this.publishBlocked=o,o.complete(),this.capacity=e-1}get isClosed(){return this.closed}close(){if(this.closed)throw new Z;this.closed=!0}async drain(){for(;this.publishQueue.length>0;)this.publishQueue.get()}async publish(e){if(this.closed)throw new Z;if(this.publishQueue.length>=this.capacity){if(this.publishBlocked.isCompleted){const o=we();this.publishBlocked=o,await o.promise}return await this.publishBlocked.promise,this.publish(e)}this.publishQueue.put(e),this.pollBlocked.isCompleted||this.pollBlocked.complete()}async poll(){if(this.publishQueue.length<=0){if(this.isClosed)throw new Z;if(this.pollBlocked.isCompleted){const o=we();this.pollBlocked=o}return await this.pollBlocked.promise,this.poll()}const e=this.publishQueue.get();return this.publishBlocked.isCompleted||this.publishBlocked.complete(),e}[Symbol.asyncIterator](){return new Kn(this)}}class Kn{constructor(e){s(this,"channel");this.channel=e}async next(){try{return{done:!1,value:await this.channel.poll()}}catch(e){if(e instanceof Z)return{done:!0,value:void 0};throw e}}}function m(t){return new Gn(t)}class Fn{constructor(e,o){this.sink=e,this.converter=o,this.sink=e,this.converter=o}async send(e){await this.sink.send(this.converter.convert(e))}}function Y(t,e){return new Fn(t,e)}class Je{}const X="ConnectionClosed";class K extends Je{toJSON(){return Qe.encode(this)}}class zn{convert(e){if(typeof e!="string")throw new x(typeof e,"string");if(e!==X)throw new x(e,X);return new K}}class Un{convert(){return X}}class Jn extends l{constructor(){super(...arguments);s(this,"encoder",new Un);s(this,"decoder",new zn)}}const Qe=new Jn;class N{}const $="BlocksSnapshot";class ye extends N{constructor(o){super();s(this,"blocks");this.blocks=o}toJSON(){return Ze.encode(this)}}class Qn{convert(e){h(e,$);const o=e[$];return new ye(Dt.decode(o))}}class Zn{convert(e){return{[$]:Dt.encode(e.blocks)}}}class Yn extends l{constructor(){super(...arguments);s(this,"encoder",new Zn);s(this,"decoder",new Qn)}}const Ze=new Yn,ee="HistogramSnapshot";class A extends N{constructor(o){super();s(this,"histograms");this.histograms=o}toJSON(){return Ye.encode(this)}}class Xn{convert(e){return h(e,ee),new A(Lt.decode(e[ee]))}}class $n{convert(e){return{[ee]:Lt.encode(e.histograms)}}}class er extends l{constructor(){super(...arguments);s(this,"encoder",new $n);s(this,"decoder",new Xn)}}const Ye=new er,te="LatestBlock";class P extends N{constructor(o){super();s(this,"latestBlock");this.latestBlock=o}toJSON(){return Xe.encode(this)}}class tr{convert(e){return h(e,te),new P(Vt.decode(e[te]))}}class or{convert(e){return{[te]:Vt.encode(e.latestBlock)}}}class nr extends l{constructor(){super(...arguments);s(this,"encoder",new or);s(this,"decoder",new tr)}}const Xe=new nr;class Qt{constructor(e,o){s(this,"coords");s(this,"country");this.coords=e,this.country=o}toJSON(){return Te.encode(this)}}class rr{convert(e){return{coords:Ft.encode(e.coords),country:Wt.encode(e.country)}}}class sr{convert(e){return h(e,"coords","country"),new Qt(Ft.decode(e.coords),Wt.decode(e.country))}}class ar extends l{constructor(){super(...arguments);s(this,"encoder",new rr);s(this,"decoder",new sr)}}const Te=new ar,Zt=new Ko(new Fo(Te),new zo(Te));class Yt{constructor(e,o,r,a,i,p,u,y){s(this,"publicKey");s(this,"name");s(this,"publicURL");s(this,"company");s(this,"location");s(this,"operatingSystem");s(this,"nodeType");s(this,"networkType");this.publicKey=e,this.name=o,this.publicURL=r,this.company=a,this.location=i,this.operatingSystem=p,this.nodeType=u,this.networkType=y}toJSON(){return W.encode(this)}}class cr{convert(e){return{public_key:qt.encode(e.publicKey),name:S.encode(e.name),public_url:Kt.encode(e.publicURL),company:S.encode(e.company),location:Zt.encode(e.location),operating_system:S.encode(e.operatingSystem),node_type:S.encode(e.nodeType),network_type:S.encode(e.networkType)}}}class ir{convert(e){return h(e,"public_key","name","public_url","company","location","operating_system","node_type","network_type"),new Yt(qt.decode(e.public_key),S.decode(e.name),Kt.decode(e.public_url),S.decode(e.company),Zt.decode(e.location),S.decode(e.operating_system),S.decode(e.node_type),S.decode(e.network_type))}}class lr extends l{constructor(){super(...arguments);s(this,"encoder",new cr);s(this,"decoder",new ir)}}const W=new lr,Xt=new Uo(new Jo(W),new Qo(W)),oe="LatestNodeIdentity";class $e extends N{constructor(o){super();s(this,"nodeIdentity");this.nodeIdentity=o}toJSON(){return et.encode(this)}}class dr{convert(e){return h(e,oe),new $e(W.decode(e[oe]))}}class ur{convert(e){return{[oe]:W.encode(e.nodeIdentity)}}}class pr extends l{constructor(){super(...arguments);s(this,"encoder",new ur);s(this,"decoder",new dr)}}const et=new pr,ne="LatestVoters";class Ce extends N{constructor(o){super();s(this,"latestVoter");this.latestVoter=o}toJSON(){return tt.encode(this)}}class mr{convert(e){return h(e,ne),new Ce(Et.decode(e[ne]))}}class hr{convert(e){return{[ne]:Et.encode(e.latestVoter)}}}class yr extends l{constructor(){super(...arguments);s(this,"encoder",new hr);s(this,"decoder",new mr)}}const tt=new yr,re="NodeIdentitySnapshot";class M extends N{constructor(o){super();s(this,"nodes");this.nodes=o}toJSON(){return ot.encode(this)}}class Cr{convert(e){h(e,re);const o=e[re];return new M(Xt.decode(o))}}class fr{convert(e){return{[re]:Xt.encode(e.nodes)}}}class br extends l{constructor(){super(...arguments);s(this,"encoder",new fr);s(this,"decoder",new Cr)}}const ot=new br,se="VotersSnapshot";class fe extends N{constructor(o){super();s(this,"voters");this.voters=o}toJSON(){return nt.encode(this)}}class Sr{convert(e){h(e,se);const o=e[se];return new fe(Ht.decode(o))}}class gr{convert(e){return{[se]:Ht.encode(e.voters)}}}class xr extends l{constructor(){super(...arguments);s(this,"encoder",new gr);s(this,"decoder",new Sr)}}const nt=new xr;class wr{convert(e){if(f(e,$))return Ze.decode(e);if(f(e,ee))return Ye.decode(e);if(f(e,te))return Xe.decode(e);if(f(e,oe))return et.decode(e);if(f(e,ne))return tt.decode(e);if(f(e,re))return ot.decode(e);if(f(e,se))return nt.decode(e);throw new w}}class kr{convert(e){if(e instanceof ye)return Ze.encode(e);if(e instanceof A)return Ye.encode(e);if(e instanceof P)return Xe.encode(e);if(e instanceof $e)return et.encode(e);if(e instanceof Ce)return tt.encode(e);if(e instanceof M)return ot.encode(e);if(e instanceof fe)return nt.encode(e);throw new w}}class Nr extends l{constructor(){super(...arguments);s(this,"encoder",new kr);s(this,"decoder",new wr)}}const $t=new Nr,ae="ConnectionConnecting";class F extends Je{toJSON(){return rt.encode(this)}}class vr{convert(e){if(typeof e!="string")throw new x(typeof e,"string");if(e!==ae)throw new x(e,ae);return new F}}class Br{convert(){return ae}}class Tr extends l{constructor(){super(...arguments);s(this,"encoder",new Br);s(this,"decoder",new vr)}}const rt=new Tr,ce="ConnectionOpened";class z extends Je{toJSON(){return st.encode(this)}}class Pr{convert(e){if(typeof e!="string")throw new x(typeof e,"string");if(e!==ce)throw new x(e,ce);return new z}}class Rr{convert(){return ce}}class _r extends l{constructor(){super(...arguments);s(this,"encoder",new Rr);s(this,"decoder",new Pr)}}const st=new _r;class Ir{convert(e){if(e===ce)return st.decode(e);if(e===X)return Qe.decode(e);if(e===ae)return rt.decode(e);throw new w}}class jr{convert(e){if(e instanceof z)return st.encode(e);if(e instanceof K)return Qe.encode(e);if(e instanceof F)return rt.encode(e);throw new w}}class Dr extends l{constructor(){super(...arguments);s(this,"encoder",new jr);s(this,"decoder",new Ir)}}const at=new Dr;class ct{}const ie="NodeValidatorResponse";class be extends ct{constructor(o){super();s(this,"response");this.response=o}toJson(){return it.encode(this)}}class Lr{convert(e){return{[ie]:$t.encode(e.response)}}}class Vr{convert(e){h(e,ie);const o=e[ie];return new be($t.decode(o))}}class Er extends l{constructor(){super(...arguments);s(this,"encoder",new Lr);s(this,"decoder",new Vr)}}const it=new Er;class D extends ct{constructor(o){super();s(this,"response");this.response=o}toJson(){return at.encode(this)}}const le="LifeCycleResponse";class Hr{convert(e){return{[le]:at.encode(e.response)}}}class Ar{convert(e){return h(e,le),new D(at.decode(e[le]))}}class Wr extends l{constructor(){super(...arguments);s(this,"encoder",new Hr);s(this,"decoder",new Ar)}}const eo=new Wr,de="ErrorResponse";class lt extends ct{constructor(o){super();s(this,"error");this.error=o}toJson(){return dt.encode(this)}}class Mr{convert(e){return{[de]:Mt.encode(e.error)}}}class qr{convert(e){return h(e,de),new lt(Mt.decode(e[de]))}}class Or extends l{constructor(){super(...arguments);s(this,"encoder",new Mr);s(this,"decoder",new qr)}}const dt=new Or;class Gr{convert(e){return new be(e)}}const Kr=new Gr;class Fr{convert(e){return new D(e)}}const zr=new Fr,q=zt.createContext(new D(new K)),ue=zt.createContext(Oo()),Pe=t=>{const e=c.useContext(ue);return n.jsx(k,{asyncIterable:e,children:n.jsx(Ur,{children:t.children})})},Ur=t=>{const e=c.useContext(g);return e===null?n.jsx(q.Provider,{value:new D(new K),children:t.children}):n.jsx(q.Provider,{value:e,children:t.children})};try{q.displayName="LifeCycleResponseContext",q.__docgenInfo={description:`LifeCycleResponseContext is a React Context that is used to store and make
available the current LifeCycleResponse.`,displayName:"LifeCycleResponseContext",props:{}}}catch{}try{ue.displayName="LifeCycleResponseStreamContext",ue.__docgenInfo={description:`LifeCycleResponseStreamContext is a React Context that is able to provide
a stream of LifeCycleResponses. These can be used to update the UI in order
to indicate the current state of the WebSocket connection.`,displayName:"LifeCycleResponseStreamContext",props:{}}}catch{}try{Pe.displayName="LifeCycleResponseStreamConsumer",Pe.__docgenInfo={description:`LifeCycleResponseStreamConsumer is a component that is able to consume the
LifeCycleResponseStreamContext, and provide the LifeCycleResponse to the
children of the component via the LifeCycleResponseContext context.`,displayName:"LifeCycleResponseStreamConsumer",props:{}}}catch{}const to=c.createContext(_()),Re=t=>{const e=c.useContext(to);return n.jsx(I,{children:n.jsx(k,{asyncIterable:e,children:n.jsx(j,{children:t.children})})})};try{Re.displayName="CountriesPieChartStreamConsumer",Re.__docgenInfo={description:"",displayName:"CountriesPieChartStreamConsumer",props:{}}}catch{}const oo=c.createContext(_()),_e=t=>{const e=c.useContext(oo);return n.jsx(I,{children:n.jsx(k,{asyncIterable:e,children:n.jsx(j,{children:t.children})})})};try{_e.displayName="NetworkTypesPieChartStreamConsumer",_e.__docgenInfo={description:"",displayName:"NetworkTypesPieChartStreamConsumer",props:{}}}catch{}const no=c.createContext(_()),Ie=t=>{const e=c.useContext(no);return n.jsx(I,{children:n.jsx(k,{asyncIterable:e,children:n.jsx(j,{children:t.children})})})};try{Ie.displayName="NodeTypesPieChartStreamConsumer",Ie.__docgenInfo={description:"",displayName:"NodeTypesPieChartStreamConsumer",props:{}}}catch{}var b=(t=>(t.publicKey="publicKey",t.name="name",t.address="address",t.companyName="companyName",t.companyWebSite="companyWebSite",t.location="location",t.stake="stake",t.uptime="uptime",t.voteParticipation="voteParticipation",t))(b||{});const ro=c.createContext(_()),so=c.createContext(_()),ao=c.createContext([]),je=t=>{const e=c.useContext(g);return n.jsx(ao.Provider,{value:e??[],children:t.children})},De=t=>{const e=c.useContext(so);return n.jsx(I,{children:n.jsx(k,{asyncIterable:e,children:n.jsx(je,{children:n.jsx(j,{children:t.children})})})})},Le=t=>{const e=c.useContext(ro);return n.jsx(I,{children:n.jsx(k,{asyncIterable:e,children:n.jsx(j,{children:t.children})})})};try{je.displayName="VotersParticipationStatesProvider",je.__docgenInfo={description:"",displayName:"VotersParticipationStatesProvider",props:{}}}catch{}try{De.displayName="VotersParticipationStatsConsumer",De.__docgenInfo={description:"",displayName:"VotersParticipationStatsConsumer",props:{}}}catch{}try{Le.displayName="NodeSummaryStreamConsumer",Le.__docgenInfo={description:"",displayName:"NodeSummaryStreamConsumer",props:{}}}catch{}const co=c.createContext(_()),Ve=t=>{const e=c.useContext(co);return n.jsx(I,{children:n.jsx(k,{asyncIterable:e,children:n.jsx(j,{children:t.children})})})};try{Ve.displayName="OperatingSystemPieChartStreamConsumer",Ve.__docgenInfo={description:"",displayName:"OperatingSystemPieChartStreamConsumer",props:{}}}catch{}class v{}const io="SubscribeNodeIdentity";class ut extends v{valueOf(){return io}}const lo="SubscribeLatestBlock";class pt extends v{valueOf(){return lo}}const uo="SubscribeVoters";class mt extends v{valueOf(){return uo}}const po="RequestNodeIdentitySnapshot";class ht extends v{valueOf(){return po}}const mo="RequestBlocksSnapshot";class yt extends v{valueOf(){return mo}}const ho="RequestHistogramSnapshot";class Ct extends v{valueOf(){return ho}}const yo="RequestVotersSnapshot";class ft extends v{valueOf(){return yo}}class Co{}const fo="Connect";class bt extends Co{valueOf(){return fo}}const bo="Close";class St extends Co{valueOf(){return bo}}class Jr{convert(e){return e.valueOf()}}class Qr{convert(e){if(typeof e!="string")throw new x(typeof e,"string");switch(e){case io:return new ut;case lo:return new pt;case uo:return new mt;case po:return new ht;case mo:return new yt;case ho:return new Ct;case yo:return new ft;default:throw new x(e,"CappuccinoNodeValidatorRequest")}}}class Zr extends l{constructor(){super(...arguments);s(this,"encoder",new Jr);s(this,"decoder",new Qr)}}const So=new Zr;class Yr{convert(e){return e.valueOf()}}class Xr{convert(e){if(typeof e!="string")throw new x(typeof e,"string");switch(e){case fo:return new bt;case bo:return new St;default:throw new x(e,"CappuccinoNodeValidatorRequest")}}}class $r extends l{constructor(){super(...arguments);s(this,"encoder",new Yr);s(this,"decoder",new Xr)}}const go=new $r;class xo{}const pe="LifeCycleRequest";class U extends xo{constructor(o){super();s(this,"request");this.request=o}toJson(){return gt.encode(this)}}class es{convert(e){return{[pe]:go.encode(e.request)}}}class ts{convert(e){return h(e,pe),new U(go.decode(e[pe]))}}class os extends l{constructor(){super(...arguments);s(this,"encoder",new es);s(this,"decoder",new ts)}}const gt=new os,me="NodeValidatorRequest";class Se extends xo{constructor(o){super();s(this,"request");this.request=o}toJson(){return xt.encode(this)}}class ns{convert(e){return{[me]:So.encode(e.request)}}}class rs{convert(e){return h(e,me),new Se(So.decode(e[me]))}}class ss extends l{constructor(){super(...arguments);s(this,"encoder",new ns);s(this,"decoder",new rs)}}const xt=new ss;class as{convert(e){return new U(e)}}const cs=new as;class is{convert(e){return new Se(e)}}const ls=new is;class ds{constructor(e){s(this,"channel");this.channel=e}async send(e){await this.channel.publish(e)}}function Tt(t){return new ds(t)}function Ne(t){return new qo(t.hash,t.height,t.time,t.numTransactions,t.proposer,t.proposer,t.size,t.fees)}function Pt(t){return new Yt(t.pubkey,t.name,null,t.company.name,new Qt(new nn(new rn(new vt(t.location.coords[0])),new sn(new vt(t.location.coords[1]))),t.location.country),t.operatingSystem,t.nodeType,t.networkType)}class us{constructor(e,o){s(this,"responseStream");s(this,"requestStream");s(this,"lifecycleResponseSink");s(this,"nodeValidatorResponseSink");s(this,"prng",new Nt($o()));s(this,"latestBlock",Ne(en()));s(this,"latestBlocks",C(50));s(this,"latestVoters",C(50));s(this,"histogramBlockTimeData",C(50));s(this,"histogramBlockSizeData",C(50));s(this,"histogramBlockTransactionData",C(50));s(this,"histogramBlockHeightData",C(50));s(this,"isConnected",!1);s(this,"isSubscribedToLatestBlock",!1);s(this,"isSubscribedToVoters",!1);this.requestStream=e,this.responseStream=o,this.lifecycleResponseSink=Y(Tt(o),zr),this.nodeValidatorResponseSink=Y(Tt(o),Kr)}get stream(){return this.responseStream}async send(e){await this.requestStream.publish(e)}generateVotersFromBlockDetail(e){const o=new Nt(e.time.valueOf()),r=ke.length,a=Math.ceil(r/16),i=new Uint16Array(o.fillBytes(a*2));return new Ao(Wo.lsb0,new Mo(16,0),r,Array.from(i))}async updateBlockDetails(e){const o=this.latestBlock,r=(e.time.valueOf()-o.time.valueOf())/1e3,a=this.generateVotersFromBlockDetail(e);this.latestBlock=e,this.latestBlocks.put(e),this.latestVoters.put(a),this.histogramBlockTimeData.put(r),this.histogramBlockSizeData.put(e.size),this.histogramBlockTransactionData.put(e.numTransactions),this.histogramBlockHeightData.put(e.height),this.isConnected&&(this.isSubscribedToLatestBlock&&await this.nodeValidatorResponseSink.send(new P(e)),this.isSubscribedToVoters&&this.nodeValidatorResponseSink.send(new Ce(a)))}async initializeState(){for await(const e of tn(this.prng))this.updateBlockDetails(Ne(e));await this.nodeValidatorResponseSink.send(new P(this.latestBlock)),await this.nodeValidatorResponseSink.send(new A(new kt(Array.from(this.histogramBlockTimeData.immutableIterable()),Array.from(this.histogramBlockSizeData.immutableIterable()),Array.from(this.histogramBlockTransactionData.immutableIterable()),Array.from(this.histogramBlockHeightData.immutableIterable())))),this.nodeValidatorResponseSink.send(new M(ke.map(Pt)))}async startProcessing(){await this.initializeState(),this.handleRequests(),this.streamBlocks()}async handleRequests(){for await(const e of this.requestStream)await this.handleRequest(e)}async streamBlocks(){const e=this.latestBlock;for await(const o of on(this.prng,e.time.valueOf(),e.height)){const r=Ne(o);this.updateBlockDetails(r)}}async handleRequest(e){if(e instanceof U){try{await this.handleLifeCycleRequest(e.request)}catch(o){console.error("failed to handle life cycle request",e,o)}return}if(e instanceof Se){try{await this.handleNodeValidatorRequest(e.request)}catch(o){console.error("failed to handle node validator request",e,o)}return}console.error("unrecognized request type",e)}async handleLifeCycleRequest(e){if(e instanceof bt){await this.handleConnect();return}if(e instanceof St){await this.handleClose();return}}async handleNodeValidatorRequest(e){if(e instanceof pt){await this.handleSubscribeLatestBlock();return}if(e instanceof ut){await this.handleSubscribeNodeIdentity();return}if(e instanceof mt){await this.handleSubscribeVoters();return}if(e instanceof yt){await this.handleRequestBlocksSnapshot();return}if(e instanceof Ct){await this.handleRequestHistogramSnapshot();return}if(e instanceof ht){await this.handleRequestNodeIdentitySnapshot();return}if(e instanceof ft){await this.handleRequestVotersSnapshot();return}}async handleConnect(){if(this.isConnected)throw new Error("already connected to WebSocket");this.isConnected=!0,await this.lifecycleResponseSink.send(new F),await this.lifecycleResponseSink.send(new z)}async handleClose(){if(!this.isConnected)throw new Error("not connected to WebSocket");this.isConnected=!1,this.isSubscribedToLatestBlock=!1,this.isSubscribedToVoters=!1,await this.lifecycleResponseSink.send(new K)}async assertIsConnected(){if(!this.isConnected)throw new Error("not connected to WebSocket")}async handleSubscribeLatestBlock(){await this.assertIsConnected(),this.isSubscribedToLatestBlock=!0}async handleSubscribeNodeIdentity(){await this.assertIsConnected()}async handleSubscribeVoters(){await this.assertIsConnected(),this.isSubscribedToVoters=!0}async handleRequestBlocksSnapshot(){await this.assertIsConnected(),await this.nodeValidatorResponseSink.send(new ye(Array.from(this.latestBlocks.immutableIterable())))}async handleRequestHistogramSnapshot(){await this.assertIsConnected(),await this.nodeValidatorResponseSink.send(new A(new kt(Array.from(this.histogramBlockTimeData.immutableIterable()),Array.from(this.histogramBlockSizeData.immutableIterable()),Array.from(this.histogramBlockTransactionData.immutableIterable()),Array.from(this.histogramBlockHeightData.immutableIterable()))))}async handleRequestNodeIdentitySnapshot(){await this.assertIsConnected(),await this.nodeValidatorResponseSink.send(new M(ke.map(Pt)))}async handleRequestVotersSnapshot(){await this.assertIsConnected(),await this.nodeValidatorResponseSink.send(new fe(Array.from(this.latestVoters.immutableIterable())))}}function ps(t){return new Worker(""+new URL("node_validator_web_worker_api.js-B2GppWjK.js",import.meta.url).href,{name:t==null?void 0:t.name})}class ms{convert(e){if(e instanceof Se)return xt.encode(e);if(e instanceof U)return gt.encode(e);throw new w}}class hs{convert(e){if(f(e,me))return xt.decode(e);if(f(e,pe))return gt.decode(e);throw new w}}class ys extends l{constructor(){super(...arguments);s(this,"encoder",new ms);s(this,"decoder",new hs)}}const Cs=new ys;class fs{convert(e){if(e instanceof be)return it.encode(e);if(e instanceof D)return eo.encode(e);if(e instanceof lt)return dt.encode(e);throw new w}}class bs{convert(e){if(f(e,ie))return it.decode(e);if(f(e,le))return eo.decode(e);if(f(e,de))return dt.decode(e);throw new w}}class Ss extends l{constructor(){super(...arguments);s(this,"encoder",new fs);s(this,"decoder",new bs)}}const gs=new Ss;class xs{constructor(e=m(1024),o=m(1024)){s(this,"requestChannel");s(this,"responseChannel");const r=new ps;this.requestChannel=e,this.responseChannel=o,r.addEventListener("message",this.handleMessage.bind(this)),r.addEventListener("messageerror",this.handleMessageError.bind(this)),r.addEventListener("error",this.handleError.bind(this)),ws(r,e)}get stream(){return this.responseChannel}async send(e){this.requestChannel.publish(e)}handleMessage(e){const o=gs.decode(e.data);this.responseChannel.publish(o)}handleMessageError(){}handleError(){}}async function ws(t,e){for await(const o of e)t.postMessage(Cs.encode(o))}const ks=c.createContext(Ns());function Ns(){return typeof window<"u"&&"Worker"in window||typeof self<"u"&&"Worker"in self?new xs:new us(m(1024),m(1024))}async function wt(t,e,o,r,a){await Promise.all([t.blockSizeHistogramStream.publish({blocks:Array.from(e.immutableIterable()),blockSize:Array.from(r.immutableIterable())}),t.blockTimeHistogramStream.publish({blocks:Array.from(e.immutableIterable()),blockTime:Array.from(o.immutableIterable())}),t.blockThroughputHistogramStream.publish({blocks:Array.from(e.immutableIterable()),blockThroughput:Array.from(a.immutableIterable())})])}function wo(t){var e,o;return{publicKey:t.publicKey,name:t.name,companyDetails:{name:t.company,website:null},location:{coords:(e=t.location)!=null&&e.coords?[t.location.coords.lat.valueOf(),t.location.coords.lng.valueOf()]:null,country:((o=t.location)==null?void 0:o.country)??null}}}function vs(t,e){return t.value-e.value}function ge(t,e){const o=new Map;for(const r of t){const a=e(r);a!==null&&o.set(a,(o.get(a)??0)+1)}return Array.from(o.entries()).map(([r,a])=>({label:r,value:a})).sort(vs)}function ko(t){return ge(t,e=>e.operatingSystem)}function No(t){return ge(t,e=>{var o;return((o=e.location)==null?void 0:o.country)??null})}function vo(t){return ge(t,e=>e.networkType)}function Bo(t){return ge(t,e=>e.nodeType)}function To(t,e){const o=Array.from(E(e,a=>Array.from(E(a,Number))));return t.map((a,i)=>{const u=E(o,xe=>xe[i])[Symbol.iterator](),[y,L]=Ot(([xe,_o],Io)=>[xe+1,_o+Io],[0,0],u);return{voteParticipation:L,totalVotes:y}})}function Po(t){const e=t[Symbol.iterator](),o=Ot((a,i)=>{const p=E(i.proposerID,u=>Yo(a.keys(),y=>Gt(y,u)===0)??u);for(const u of p)a.set(u,(a.get(u)??0)+1);return a},new Map,e),r=Array.from(o.entries()).sort((a,i)=>i[1]-a[1]);return Array.from(E(r,([a,i])=>({proposer:a,count:i})))}const T=50;function Bs(){const t=C(T+1),e=C(T+1),o=C(T+1),r=C(T+1),a=C(T+1),i=C(T+1);return{lastBlock:null,latestBlocks:t,blockHeightHistograms:e,blockTimeHistograms:o,blockSizeHistograms:r,blockThroughputHistograms:a,votersBitVecs:i,nodes:[]}}async function Ts(t,e,o){const r=t.lastBlock;t.lastBlock=o,t.latestBlocks.put(o.latestBlock),e.latestBlockStream.publish({height:o.latestBlock.height,time:o.latestBlock.time,size:o.latestBlock.size,transactions:o.latestBlock.numTransactions,proposer:o.latestBlock.proposerID}),t.blockHeightHistograms.put(o.latestBlock.height),t.blockSizeHistograms.put(o.latestBlock.size);const a=(o.latestBlock.time.valueOf()-((r==null?void 0:r.latestBlock.time.valueOf())??0))/1e3;t.blockTimeHistograms.put(a),t.blockThroughputHistograms.put(o.latestBlock.size/Math.max(1,a)),await wt(e,t.blockHeightHistograms,t.blockTimeHistograms,t.blockSizeHistograms,t.blockThroughputHistograms),e.latestBlockProducers.publish(Po(t.latestBlocks.immutableIterable()))}async function Ps(t,e,o){var a,i;for(const p of o.blocks){const u=((a=t.lastBlock)==null?void 0:a.latestBlock)??null;t.lastBlock=new P(p),t.latestBlocks.put(p),t.blockHeightHistograms.put(p.height),t.blockSizeHistograms.put(p.size);const y=(p.time.valueOf()-((u==null?void 0:u.time.valueOf())??0))/1e3;t.blockTimeHistograms.put(y),t.blockThroughputHistograms.put(p.size/Math.max(1,y))}await wt(e,t.blockHeightHistograms,t.blockTimeHistograms,t.blockSizeHistograms,t.blockThroughputHistograms);const r=((i=t.lastBlock)==null?void 0:i.latestBlock)??null;r!==null&&e.latestBlockStream.publish({height:r.height,time:r.time,size:r.size,transactions:r.numTransactions,proposer:r.proposerID}),e.latestBlockProducers.publish(Po(t.latestBlocks.immutableIterable()))}async function Rs(t,e,o){for(const r of o.histograms.blockHeights)t.blockHeightHistograms.put(r);for(const r of o.histograms.blockTime)t.blockTimeHistograms.put(r);for(const r of o.histograms.blockSize)t.blockSizeHistograms.put(r);for(const r of Zo(t.blockTimeHistograms.immutableIterable(),t.blockSizeHistograms.immutableIterable(),(a,i)=>(i??0)/Math.max(1,a??1)))t.blockThroughputHistograms.put(r);await wt(e,t.blockHeightHistograms,t.blockTimeHistograms,t.blockSizeHistograms,t.blockThroughputHistograms)}async function _s(t,e,o){t.nodes=o.nodes;const r=ko(t.nodes),a=No(t.nodes),i=vo(t.nodes),p=Bo(t.nodes),u=t.nodes.map(wo);await Promise.all([e.nodesSummary.publish(u),e.nodeCoordinates.publish(u),e.pieChartCountries.publish(a),e.pieChartNetworkTypes.publish(i),e.pieChartNodeTypes.publish(p),e.pieChartOperatingSystems.publish(r)])}async function Is(t,e,o){const r=t.nodes.findIndex(L=>L.publicKey.toString()===o.nodeIdentity.publicKey.toString());r<0?t.nodes.push(o.nodeIdentity):t.nodes[r]=o.nodeIdentity;const a=ko(t.nodes),i=No(t.nodes),p=vo(t.nodes),u=Bo(t.nodes),y=t.nodes.map(wo);await Promise.all([e.nodesSummary.publish(y),e.nodeCoordinates.publish(y),e.pieChartCountries.publish(i),e.pieChartNetworkTypes.publish(p),e.pieChartNodeTypes.publish(u),e.pieChartOperatingSystems.publish(a)])}async function js(t,e,o){for(const a of o.voters)t.votersBitVecs.put(a);const r=To(t.nodes,t.votersBitVecs.immutableIterable());await e.voters.publish(r)}async function Ds(t,e,o){t.votersBitVecs.put(o.latestVoter);const r=To(t.nodes,t.votersBitVecs.immutableIterable());await e.voters.publish(r)}async function Ls(t,e,o){if(o instanceof P)return Ts(t,e,o);if(o instanceof ye)return Ps(t,e,o);if(o instanceof A)return Rs(t,e,o);if(o instanceof M)return _s(t,e,o);if(o instanceof $e)return Is(t,e,o);if(o instanceof fe)return js(t,e,o);if(o instanceof Ce)return Ds(t,e,o)}async function Vs(t,e){const o=Bs();for await(const r of e.stream)r instanceof be&&(await Ls(o,t,r.response),await t.errors.publish(null)),r instanceof D&&await t.lifecycle.publish(r),r instanceof lt&&await t.errors.publish(r)}async function Es(t,e){await t.send(new bt),await e.send(new pt),await e.send(new ut),await e.send(new mt),await e.send(new ht),await e.send(new yt),await e.send(new Ct),await e.send(new ft)}function Hs(){return{latestBlockStream:m(4),blockTimeHistogramStream:m(4),blockSizeHistogramStream:m(4),blockThroughputHistogramStream:m(4),nodesSummary:m(4),nodeCoordinates:m(4),pieChartCountries:m(4),pieChartNetworkTypes:m(4),pieChartNodeTypes:m(4),pieChartOperatingSystems:m(4),voters:m(4),latestBlockProducers:m(4),errors:m(4),lifecycle:m(4)}}const Ee=t=>{const e=c.useContext(ks),o=Hs();return c.useEffect(()=>{const r=Y(e,ls),a=Y(e,cs);return Vs(o,e),Es(a,r),()=>{e.send(new U(new St))}}),n.jsx(mn.Provider,{value:o.latestBlockStream,children:n.jsx(an.Provider,{value:o.latestBlockProducers,children:n.jsx(hn.Provider,{value:o.blockTimeHistogramStream,children:n.jsx(yn.Provider,{value:o.blockSizeHistogramStream,children:n.jsx(Cn.Provider,{value:o.blockThroughputHistogramStream,children:n.jsx(ro.Provider,{value:o.nodesSummary,children:n.jsx(co.Provider,{value:o.pieChartOperatingSystems,children:n.jsx(oo.Provider,{value:o.pieChartNetworkTypes,children:n.jsx(no.Provider,{value:o.pieChartNodeTypes,children:n.jsx(to.Provider,{value:o.pieChartCountries,children:n.jsx(Bn.Provider,{value:o.nodeCoordinates,children:n.jsx(so.Provider,{value:o.voters,children:n.jsx(ue.Provider,{value:o.lifecycle,children:n.jsx(At.Provider,{value:Go(o.errors,async r=>(r==null?void 0:r.error)??null),children:t.children})})})})})})})})})})})})})})};try{Ee.displayName="ProvideCappuccinoNodeValidatorStreams",Ee.__docgenInfo={description:"",displayName:"ProvideCappuccinoNodeValidatorStreams",props:{}}}catch{}const He=t=>{const e=c.useContext(At);return n.jsx(k,{asyncIterable:e,children:n.jsx(As,{children:t.children})})},As=t=>{const e=c.useContext(g),o=c.useContext(ve);return n.jsx(ve.Provider,{value:o??e,children:t.children})};try{He.displayName="ErrorStreamConsumer",He.__docgenInfo={description:`ErrorStreamConsumer is a component that is used to consume errors off of
the ErrorStreamContext.  This component will resolve the error stream
and provide the resolved error to the children of this component.`,displayName:"ErrorStreamConsumer",props:{}}}catch{}const R=t=>n.jsx("div",{className:"pie-chart-section-title",children:n.jsx(Dn,{children:t.children})});try{R.displayName="PieChartSectionTitle",R.__docgenInfo={description:`PieChartSectionTitle is a component that represents the title of a section
of a pie chart. This component is useful for labeling sections of a pie
chart.`,displayName:"PieChartSectionTitle",props:{}}}catch{}const Ws={AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"Åland Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthélemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia, Plurinational State of",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo, Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Côte d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cabo Verde",CW:"Curaçao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czechia",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands (Malvinas)",FM:"Micronesia, Federated States of",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom of Great Britain and Northern Ireland",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran, Islamic Republic of",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"Korea, Democratic People's Republic of",KR:"Korea, Republic of",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Lao People's Democratic Republic",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova, Republic of",ME:"Montenegro",MF:"Saint Martin (French part)",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands, Kingdom of the",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine, State of",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Réunion",RO:"Romania",RS:"Serbia",RU:"Russian Federation",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena, Ascension and Tristan da Cunha",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten (Dutch part)",SY:"Syrian Arab Republic",SZ:"Eswatini",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Türkiye",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan, Province of China",TZ:"Tanzania, United Republic of",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States of America",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See",VC:"Saint Vincent and the Grenadines",VE:"Venezuela, Bolivarian Republic of",VG:"Virgin Islands (British)",VI:"Virgin Islands (U.S.)",VN:"Viet Nam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe"};function Ms(t){return Ws[t]??t}function qs(t){return{label:Ms(t.label),value:t.value}}const Ae=()=>{const t=c.useContext(O),e=c.useContext(g);return t?n.jsx(n.Fragment,{}):n.jsxs(n.Fragment,{children:[n.jsx(R,{children:n.jsx(d,{text:"Countries"})}),n.jsx(he,{values:e.map(qs)})]})};try{Ae.displayName="CountriesPieChart",Ae.__docgenInfo={description:"",displayName:"CountriesPieChart",props:{}}}catch{}const Os=t=>n.jsxs(n.Fragment,{children:[n.jsx(d,{text:t.label}),n.jsx(H,{number:t.value})]}),We=()=>{const t=c.useContext(O),e=c.useContext(g);return t?n.jsx(n.Fragment,{}):n.jsxs(Ue.Provider,{value:Os,children:[n.jsx(R,{children:n.jsx(d,{text:"Network Types"})}),n.jsx(he,{values:e})]})};try{We.displayName="NetworkTypesPieChart",We.__docgenInfo={description:"",displayName:"NetworkTypesPieChart",props:{}}}catch{}const Gs=t=>n.jsxs(n.Fragment,{children:[n.jsx(d,{text:t.label}),n.jsx(H,{number:t.value})]}),Me=()=>{const t=c.useContext(O),e=c.useContext(g);return t?n.jsx(n.Fragment,{}):n.jsxs(Ue.Provider,{value:Gs,children:[n.jsx(R,{children:n.jsx(d,{text:"Node Types"})}),n.jsx(he,{values:e})]})};try{Me.displayName="NodeTypesPieChart",Me.__docgenInfo={description:"",displayName:"NodeTypesPieChart",props:{}}}catch{}const Ks=()=>{const[t]=c.useContext(G);return t.name===null||t.name===""?n.jsx(d,{text:"-"}):n.jsx(d,{text:t.name})},Fs=()=>{const[t]=c.useContext(G);return n.jsx(fn,{value:t.publicKey,children:n.jsx(Hn,{value:t.publicKey})})},zs=()=>{const[t]=c.useContext(G);return t.companyDetails===null||t.companyDetails.name===null||t.companyDetails.name===""?n.jsx(d,{text:"-"}):n.jsx(d,{text:t.companyDetails.name})},Us=()=>{var e;const[t]=c.useContext(G);return t.companyDetails===null||t.companyDetails.website===null||((e=t.companyDetails)==null?void 0:e.website)===""?n.jsx(d,{text:"-"}):t.companyDetails.website?n.jsx(An,{href:t.companyDetails.website,target:"_blank",children:n.jsx(d,{text:t.companyDetails.website})}):n.jsx(d,{text:"-"})},Js=()=>{const[,t]=c.useContext(G);return t===null?n.jsx(d,{text:"?"}):t.totalVotes===0?n.jsx(H,{number:t.voteParticipation}):n.jsxs(n.Fragment,{children:[n.jsx(H,{number:t.voteParticipation})," (",n.jsx(En,{percentage:t.voteParticipation/t.totalVotes}),")"]})},Ro=t=>n.jsx(pn,{columns:[{label:"Public Key",columnType:b.publicKey,buildCell:t.components[0]},{label:"Name",columnType:b.name,buildCell:t.components[1]},{label:"Company",columnType:b.companyName,buildCell:t.components[2]},{label:"Website",columnType:b.companyWebSite,buildCell:t.components[3]},{label:"Vote Participation",columnType:b.voteParticipation,buildCell:t.components[4]}]}),qe=t=>{const{numElements:e=20}=t;return n.jsx(g.Provider,{value:Array.from(Xo(e)),children:n.jsx(Ro,{components:[V,V,V,V,V]})})},Oe=()=>n.jsx(Ro,{components:[Fs,Ks,zs,Us,Js]});function Rt(t,e){const[o]=t,[r]=e;return Gt(o.publicKey.data,r.publicKey.data)}function Qs(t,e){const[o]=t,[r]=e;return o.name===null&&r.name===null?0:o.name===null?1:r.name===null?-1:o.name.localeCompare(r.name)}function Zs(t,e){const[o]=t,[r]=e;return o.companyDetails===null&&r.companyDetails===null?0:o.companyDetails===null?1:r.companyDetails===null?-1:o.companyDetails.name===null&&r.companyDetails.name===null?0:o.companyDetails.name===null?1:r.companyDetails.name===null?-1:o.companyDetails.name.localeCompare(r.companyDetails.name)}function Ys(t,e){const[o]=t,[r]=e;return o.companyDetails===null&&r.companyDetails===null?0:o.companyDetails===null?1:r.companyDetails===null?-1:o.companyDetails.website===null&&r.companyDetails.website===null?0:o.companyDetails.website===null?1:r.companyDetails.website===null?-1:o.companyDetails.website.localeCompare(r.companyDetails.website)}function Xs(t,e){const[,o]=t,[,r]=e;return o.voteParticipation-r.voteParticipation}function $s(t,e){return t.map((o,r)=>[o,e[r]??{totalVotes:0,voteParticipation:0}])}function ea(t){switch(t){case b.publicKey:return Rt;case b.name:return Qs;case b.companyName:return Zs;case b.companyWebSite:return Ys;case b.voteParticipation:return Xs;default:return Rt}}function ta(t,e){switch(e){case Be.asc:return t;case Be.desc:return(o,r)=>-t(o,r);default:return t}}function oa(t,e,o){const r=ta(ea(e),o);return t.sort(r)}const Ge=()=>{const[t,e]=c.useState({sortColumn:b.publicKey,sortDir:Be.asc}),o=c.useContext(ve),r=c.useContext(O),a=c.useContext(g),i=c.useContext(ao);if(o)return n.jsx(Ut,{});if((!a||a instanceof Array&&a.length<=0)&&r)return n.jsx(qe,{});const p=$s(a,i),{sortColumn:u,sortDir:y}=t,L=oa(p,u,y);return n.jsx(dn.Provider,{value:t,children:n.jsx(un.Provider,{value:e,children:n.jsx(g.Provider,{value:L,children:n.jsx(Oe,{})})})})};try{qe.displayName="NodesSummaryDataTablePlaceholder",qe.__docgenInfo={description:`NodesSummaryDataTablePlaceholder is a component that renders a placeholder
version of the Node Summary Data Table.`,displayName:"NodesSummaryDataTablePlaceholder",props:{numElements:{defaultValue:null,description:"",name:"numElements",required:!1,type:{name:"number"}}}}}catch{}try{Oe.displayName="NodesSummaryDataTablePopulated",Oe.__docgenInfo={description:`NodesSummaryDataTablePopulated is a component that renders the populated
version of the Node Summary Data Table.`,displayName:"NodesSummaryDataTablePopulated",props:{}}}catch{}try{Ge.displayName="NodesSummaryDataTable",Ge.__docgenInfo={description:`NodeSummaryDataTable handles the display of the Node Summary Data Table.
Additionally, it handles the sorting of the data via the manipulation of the
headers of the table data.`,displayName:"NodesSummaryDataTable",props:{}}}catch{}const na=t=>n.jsxs(n.Fragment,{children:[n.jsx(d,{text:t.label}),n.jsx(H,{number:t.value})]}),Ke=()=>{const t=c.useContext(O),e=c.useContext(g);return t?n.jsx(n.Fragment,{}):n.jsxs(Ue.Provider,{value:na,children:[n.jsx(R,{children:n.jsx(d,{text:"Operating System"})}),n.jsx(he,{values:e})]})};try{Ke.displayName="OperatingSystemPieChart",Ke.__docgenInfo={description:"",displayName:"OperatingSystemPieChart",props:{}}}catch{}const Fe=t=>{const e=c.useContext(q),o=sa(e),r=ra(e);return n.jsx("div",{className:Jt(t.className,`web-socket-status ${r}`),children:o})};function ra(t){return t?t.response instanceof z?"web-socket-status--connected":t.response instanceof F?"web-socket-status--connecting":"web-socket-status--disconnected":"web-socket-status--disconnected"}function sa(t){return t?t.response instanceof z?n.jsx(d,{text:"WebSocket Connected"}):t.response instanceof F?n.jsx(d,{text:"WebSocket Connecting..."}):n.jsx(d,{text:"WebSocket Disconnected"}):n.jsx(d,{text:"WebSocket Disconnected"})}try{Fe.displayName="LifeCycleEventStatus",Fe.__docgenInfo={description:"LifeCycleEventStatus is a component that renders the LifeCycleEventStatus.",displayName:"LifeCycleEventStatus",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const ze=t=>n.jsx(Pe,{children:n.jsx(He,{children:n.jsxs(Nn,{page:vn.nodes,children:[n.jsx(Vn,{}),n.jsx(Fe,{className:"edge-margin"}),n.jsx(Ut,{className:"edge-margin"}),n.jsxs("div",{...t,className:Jt(t.className,"node-validator-grid edge-margin"),children:[n.jsx(bn,{children:n.jsx(Mn,{className:"latest-block"})}),n.jsx(cn,{children:n.jsx(ln,{className:"latest-block-producers"})}),n.jsx(J,{className:"block-time-histogram",children:n.jsx(Sn,{children:n.jsx(qn,{})})}),n.jsx(J,{className:"block-size-histogram",children:n.jsx(gn,{children:n.jsx(Wn,{})})}),n.jsx(J,{className:"throughput-histogram",children:n.jsx(xn,{children:n.jsx(On,{})})}),n.jsx(B,{className:"cdn",children:n.jsxs(Bt,{children:[n.jsxs("div",{children:[n.jsx("div",{children:n.jsx(d,{text:"CDN Status"})}),n.jsx("div",{children:n.jsx(d,{text:"Online"})})]}),n.jsx("div",{})]})}),n.jsxs(B,{className:"network-map",children:[n.jsxs(Bt,{children:[n.jsx(d,{text:"Network Map"}),n.jsx("div",{})]}),n.jsx(Tn,{children:n.jsx(Pn,{children:n.jsxs(Rn,{children:[n.jsx(jn,{}),n.jsx(_n,{children:n.jsx(In,{})})]})})})]}),n.jsx(B,{className:"countries",children:n.jsx(Re,{children:n.jsx(Ae,{})})}),n.jsx(B,{className:"network-types",children:n.jsx(_e,{children:n.jsx(We,{})})}),n.jsx(B,{className:"node-types",children:n.jsx(Ie,{children:n.jsx(Me,{})})}),n.jsx(B,{className:"operating-systems",children:n.jsx(Ve,{children:n.jsx(Ke,{})})}),n.jsx(J,{className:"nodes",children:n.jsx(De,{children:n.jsx(Le,{children:n.jsx(Ge,{})})})})]}),n.jsx(Ln,{})]})})});try{ze.displayName="NodesPage",ze.__docgenInfo={description:"NodesPage is a component that renders the Nodes page.",displayName:"NodesPage",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const aa=t=>n.jsxs(n.Fragment,{children:[n.jsx(wn,{}),n.jsx(Lo,{children:n.jsx(Vo,{pathResolver:new kn,children:n.jsx(Ee,{children:n.jsx(ze,{...t})})})})]}),Mc={title:"Pages/Nodes",component:aa,parameters:{layout:"fullscreen"}},Q={argTypes:{}};var _t,It,jt;Q.parameters={...Q.parameters,docs:{...(_t=Q.parameters)==null?void 0:_t.docs,source:{originalSource:`{
  argTypes: {}
}`,...(jt=(It=Q.parameters)==null?void 0:It.docs)==null?void 0:jt.source}}};const qc=["Nodes"];export{Q as Nodes,qc as __namedExportsOrder,Mc as default};
