import{R as s,j as e}from"./iframe-f2wUEmLV.js";import{j as h}from"./functional-D84nw2eW.js";import{T as P}from"./TaggedBase64-CL6rcPDn.js";import{t as o,_ as T,u as N,$ as w,a0 as A,a1 as R,a2 as b,a3 as I,a4 as M,a5 as L,a6 as S,a7 as W,a8 as E,a9 as B,aa as D,l as v,ab as F,V as x,M as l,ac as y,ad as G,J as _,ae as m,C as U,B as H,O as J,Q as O,T as Q,G as $,N as q,R as z,p as K,af as X,I as Y}from"./staking_modal_validator_confirmed_content-Tnz_mXCF.js";import{a as Z}from"./assert-BI051aL8.js";import{M as ee}from"./MoneyText-BfVqQ9Nl.js";import{P as te}from"./VariableByteSizeText-D7GxvIq0.js";import{T as i}from"./Text-BU7JBOLk.js";import{W as g}from"./deserializer-JNx53vsH.js";import{b as ae}from"./Payments-DmJH96s6.js";import"./TwitterIcon-DD5rPkD-.js";import"./ArrowRight-Dqagg5JO.js";import"./CheckCircleFilled-yzKlL67t.js";import"./ChevronUp-CuNOEU3-.js";import"./Close-nZRoo8Me.js";import"./Copy-D321I0JD.js";import"./MediumIcon-bX0XWGVV.js";import"./EspressoLogo-Bfwc2n0e.js";import"./EspressoLogoAndTitle-DE1B3KU_.js";import"./Menu-CsNbh3p6.js";import"./SearchGlass-uxnxQV4S.js";import"./SVGIconBase-fpyNT1Kj.js";import"./XIcon-Cqty-oAX.js";import{M as se}from"./monetary_value-q68MMcLV.js";import{W as k}from"./wallet_address-CpgxLnfk.js";import{N as re}from"./NumberText-Co9Msrjd.js";const u=()=>{const t=s.useContext(o);return e.jsx(g,{value:new k(t.address)})};try{u.displayName="NodeNameCell",u.__docgenInfo={description:`NameNodeCell displays the wallet address of a validator node. It is
actually intended to show the name, and an icon for the validator,
but it's currently unclear how we would source this information.`,displayName:"NodeNameCell",props:{}}}catch{}const C=()=>{const t=s.useContext(o),a=s.useContext(T),r=t.addressText,n=a.get(r);return e.jsx(re,{number:n??-1})};try{C.displayName="RankCell",C.__docgenInfo={description:`RankCell is a component that displays
the rank of the current validator node.`,displayName:"RankCell",props:{}}}catch{}const j=({children:t})=>e.jsx(N,{children:e.jsx(w,{children:e.jsx(A,{children:e.jsx(R,{children:e.jsx(b,{children:e.jsx(I,{children:e.jsx(M,{children:e.jsx(L,{children:e.jsx(S,{children:t})})})})})})})})});try{j.displayName="ProvideCurrentStakingInformation",j.__docgenInfo={description:"",displayName:"ProvideCurrentStakingInformation",props:{}}}catch{}const p=()=>e.jsxs(e.Fragment,{children:[e.jsxs(W,{children:[e.jsx(E,{children:e.jsx(i,{text:"Select a Validator"})}),e.jsx(B,{})]}),e.jsx(D,{children:e.jsx(oe,{})})]}),oe=()=>e.jsxs("div",{className:"validator-selection-split",children:[e.jsx(de,{children:e.jsx(le,{children:e.jsx(ce,{})})}),e.jsx(je,{})]}),c=s.createContext([]),V=s.createContext(""),ne=s.createContext(()=>{});function ie(t){return s.useState("")}const de=({children:t})=>{const[a,r]=ie();return e.jsx(V.Provider,{value:a,children:e.jsx(ne.Provider,{value:r,children:t})})},le=({children:t})=>{const r=s.useContext(v)?.nodes??[];return e.jsx(c.Provider,{value:r,children:t})},ce=()=>e.jsxs("div",{className:"validator-selection-list",children:[e.jsx(xe,{}),e.jsx(me,{children:e.jsx(ue,{})})]}),xe=()=>null;const me=({children:t})=>{const a=s.useContext(c);return s.useContext(V),e.jsx(c.Provider,{value:a,children:t})},ue=()=>{const t=s.useContext(c);return e.jsx("table",{className:"validator-list",children:e.jsx("tbody",{children:t.map((a,r)=>e.jsx(o.Provider,{value:a,children:e.jsx(Ce,{})},r))})})},Ce=()=>{const t=s.useContext(o),a=s.useContext(x),r=s.useContext(y),n=a instanceof l&&h(a.validatorAddress,t.address)===0,d=()=>{r.replace(new l(t.address))};return e.jsxs("tr",{"data-selected":n,onClick:d,children:[e.jsx("td",{className:"node-rank",onClick:d,children:e.jsx(C,{})}),e.jsx("td",{className:"node-name",onClick:d,children:e.jsx(u,{})}),e.jsx("td",{className:"node-selected",onClick:d,children:e.jsx(ae,{})})]})},je=()=>e.jsx(pe,{children:e.jsx("div",{className:"selection-details",children:e.jsxs(he,{children:[e.jsx("div",{className:"node-summary-area",children:e.jsx(F,{})}),e.jsx(ve,{}),e.jsx("div",{className:"flex"}),e.jsx(fe,{})]})})}),pe=({children:t})=>{const a=s.useContext(x),r=s.useContext(v),n=!(a instanceof l)||!r?null:r.nodes.find(d=>h(d.address,a.validatorAddress)===0)??null;return n?e.jsx(o.Provider,{value:n,children:t}):t},he=({children:t})=>s.useContext(o).address.byteLength<=0?null:t,ve=()=>e.jsxs("div",{className:"staking-modal-staking-overview-area",children:[e.jsx(Ne,{}),e.jsx(Se,{}),e.jsx(ye,{}),e.jsx(_e,{})]}),fe=()=>{const t=s.useContext(x),a=s.useContext(y);return Z(t instanceof l),e.jsx("div",{className:"validator-confirm-area",children:e.jsx(G,{onClick:()=>a.push(new _(t.validatorAddress)),children:e.jsx(i,{text:"Next"})})})},Ne=()=>{const t=s.useContext(o);return e.jsxs(m,{children:[e.jsx(i,{text:"Total Stake"}),e.jsx(ee,{money:se.ESP(t.stake)})]})},Se=()=>{const t=s.useContext(o);return e.jsxs(m,{children:[e.jsx(i,{text:"Commission"}),e.jsx(te,{percentage:t.commission.ratio})]})},ye=()=>{const t=s.useContext(o);return e.jsxs(m,{children:[e.jsx(i,{text:"Address"}),e.jsx(g,{value:new k(t.address)})]})},_e=()=>e.jsxs(m,{children:[e.jsx(i,{text:"Website"}),e.jsx(i,{text:"-"})]});try{p.displayName="ValidatorSelectionNeededContent",p.__docgenInfo={description:"",displayName:"ValidatorSelectionNeededContent",props:{}}}catch{}const f=()=>{const t=s.useContext(v),a=s.useContext(x);if(a instanceof U)return e.jsx(N,{children:e.jsx(S,{children:e.jsx(H,{})})});if(a instanceof _||a instanceof J||a instanceof O||a instanceof Q||a instanceof $){const r=t?.nodes.find(n=>h(n.address,a.validatorAddress)===0)??new q(a.validatorAddress,new P("",new ArrayBuffer(0)),0n,new z(0));return e.jsx(o.Provider,{value:r,children:e.jsx(K.Provider,{value:a.validatorAddress,children:e.jsx(X,{children:e.jsx(j,{children:e.jsx(Y,{})})})})})}return e.jsx(p,{})};try{f.displayName="StakingModalContent",f.__docgenInfo={description:"",displayName:"StakingModalContent",props:{}}}catch{}export{u as N,C as R,f as S};
